<div class="purchase-invoice">
  <app-navigator [title]="title"></app-navigator>
    <div class="container-fluid">
      <div class="flex align-items-end flex-wrap gap-4 m-0 p-0">
        <div class="mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label"> {{ "account name" | translate }}</label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="data.filter.search_accountId"
              name="accountName"
              (change)="RefreshData()"
            >
              <ng-option *ngFor="let user of load_accountIds" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

          <div class="flex justify-content-center gap-3 mb-md-3">
            <button class="btn btn-primary" (click)="data.filter.enable = !data.filter.enable;CheckDate(null)" [translate]="'name'"
            [translateParams]="{
                      ar: 'فلترة بالوقت',
                      en: 'Time Filter'
                    }"></button>
            <div class="form-group col-form-label p-0 timeInput" *ngIf="data.filter.enable">
              <input placeholder="{{ 'Chose Date' | translate }}" [(ngModel)]="data.filter.date" type="text" (ngModelChange)="CheckDate($event)"
                class="form-control" [bsConfig]="{rangeInputFormat : 'DD/MM/YYYY'}" bsDaterangepicker #dpr="bsDaterangepicker" />
            </div>
          </div>

          <div class="mb-0 mb-md-3">
            <div class="form-group">
              <label class="col-form-label"> {{ "Invoice status" | translate }}</label>
              <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="data.filter.search_invoicestatus"
              (change)="RefreshData()"
            >
              <ng-option
                *ngFor="let ex of invoicestatus"
                [value]="ex.id"
                [translate]="'name'"
                [translateParams]="{ ar: ex.name?.ar, en: ex.name?.en }"
              >
              </ng-option>
            </ng-select>

          </div>
        </div>

        <div class="mb-0 mb-md-3">
          <label for="search" class="col-form-label"
            >{{ "search" | translate }}:
          </label>
        <input type="text" class="form-control" autocomplete="off"id="search" (keyup)="applyFilter($event)"/>
        </div>

        <div class="mb-0 mb-md-3">
          <button type="button" class="flex gap-1 btn btn-outline-secondary"(click)="exportData()">
            {{ "exportExcel" | translate }}
          </button>
        </div>
      </div>
      <!-- table -->
      <div class="overflow-auto mt-4">
        <table
          mat-table
          [dataSource]="projectsDataSource"
          matSort
          class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
        >

        <ng-container matColumnDef="invoiceRetId">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "return number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.invoiceRetId }}
          </td>
        </ng-container>
        <ng-container matColumnDef="itsHistory">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "its history" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.date }}
          </td>
        </ng-container>
        <ng-container matColumnDef="invoiceNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "invoice number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.invoiceNumber }}
          </td>
        </ng-container>
        <ng-container matColumnDef="PaymentType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Payment type" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.payTypeName }}
          </td>
        </ng-container>
        <ng-container matColumnDef="RegistrationNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Registration number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.journalNumber }}
          </td>
        </ng-container>
        <ng-container matColumnDef="Statement">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Statement" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.notes }}
          </td>
        </ng-container>
        <ng-container matColumnDef="theAmount">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "the amount" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.invoiceValue }}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="Tax">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Tax" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.taxAmount }}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="Total">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Total" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.totalValue }}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="theCondition">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "the condition" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.radName }}
          </td>
        </ng-container>

          <ng-container matColumnDef="operations">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "operations" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
                  <div class="child-btns">
                    <span class="dtr-data">

                        <!-- "     القيد العكسي " "-->
                        <button *ngIf="element.rad == false"
                          type="button"
                          class=" btn btn-outline-warning btn-sm waves-effect mx-1"
                          data-toggle="tooltip"
                          data-placement="top"
                          title="القيد العكسي "
                          data-original-title=" القيد العكسي "
                          (click)="getInvoiceRow(element);open(ReverseConstraintModal)"
                        >
                          <i class="fa-solid fa-rotate"></i>
                      </button>

                      <!-- عرض القيد العكسي  -->
                      <button
                      type="button" *ngIf="(element.rad != false)"
                      class="btn btn-outline-warning btn-sm waves-effect mx-1"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=" عرض القيد العكسي"
                      data-original-title=" عرض القيد العكسي"
                      (click)="open(accountingentryModal, element, 'accountingentryModal')"
                    >
                      <i class="fa-brands fa-stripe-s"></i>
                    </button>

                    <!--طباعة  -->
                    <button *ngIf="(element.rad != false)"
                    (click)="GetInvoicePrint(element,2);open(printDivModal)"
                    type="button"
                    class="btn btn-outline-success btn-sm waves-effect mx-1"
                    data-toggle="tooltip"
                    data-placement="top"
                    title=" طباعة "
                    data-original-title="طباعة "
                    >
                    <i class="fa-solid fa-print"></i>
                    </button>
                    </span>
                  </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="projectDisplayedColumns"></tr>

          <tr
            mat-row
            *matRowDef="let row; columns: projectDisplayedColumns"
            class=" "
          ></tr>
        </table>
      </div>
      <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>
    </div>


  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4" id="reportaccountingentryModal" [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }" style=" position: absolute;">
    <!--Header-->
    <div
      class="report-header"
      style="
        display: flex;
        align-items: center;
        gap: 100px;
        padding: 3px 0px;
        margin-bottom: 20px;
      "
    >
    <div class="headerNe-right-side">
      <img
      src="{{environmentPho}}"
        alt="logo"
        style="height: 200px; width: 200px; max-width: 200px; object-fit: fill"
      />
    </div>

      <div class="headerNe-lefy-side" style="width: 100%">
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
        {{OrganizationData?.nameAr}}
        </h1>
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
        {{OrganizationData?.nameEn}}
        </h1>
        <h1
          style="
            margin-bottom: 0;
            font-size: 34px;
            color: #0c8191;
            margin-bottom: 0;
            margin-top: 30px;
            font-weight: 500;
            display: flex;
            justify-content: center;
          "
        >{{ "View_accounting_entry" | translate }}</h1>
      </div>
    </div>
    <!--/Header-->

    <div style="margin-bottom: 10px">
      <p>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: 'التاريخ: ',
            en: 'Date: '
          }"
        ></span>
        <span> {{datePrintJournals | date}} </span>
      </p>
    </div>

    <table class="border border-gray-500" style="width: 100%;text-align: center;">
      <thead>
        <tr>
          <th class="w-1/9 px-1 border py-2">{{ "date" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "Bond number" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "Bond type" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">
            {{ "Registration number" | translate }}
          </th>
          <th class="w-1/9 px-1 border py-2">{{ "account code" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "account name" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "Statement" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "debtor" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "Creditor" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of AllJournalEntries">
          <td class="w-1/9 border px-1 py-2">{{ entry.transactionDate }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.invoiceNumber }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.typeName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.journalNo }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountCode }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.notes }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.depit }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-1 py-2">{{ entry.credit }}<app-sar-icon></app-sar-icon></td>
        </tr>
        <tr>
          <td class="w-1/9 border px-1 py-2">{{ "total" | translate }}</td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2 bg-green-500">{{ totaldepit }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-1 py-2 bg-red-500">{{ totalcredit }}<app-sar-icon></app-sar-icon></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<!-- ReverseConstraintModal  -->
<ng-template #ReverseConstraintModal let-modal>
  <div class="text-center p-3">
    {{ "delete_RefundAmount" | translate }}
  </div>

  <div class="flex justify-center p-3">
    <button (click)="MakeJournal();modal?.dismiss();"
      class="btn text-white me-2"
      style="background-color: var(--base-color)"
    >
      {{ "confirem" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- runningTasksModal -->
<ng-template #runningTasksModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "Show_reverse_entry" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <table class="table-fixed border border-gray-500">
      <thead>
        <tr>
          <th class="w-1/9 px-4 py-2">{{ "date" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "Bond number" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "Bond type" | translate }}</th>
          <th class="w-1/9 px-4 py-2">
            {{ "Registration number" | translate }}
          </th>
          <th class="w-1/9 px-4 py-2">{{ "account code" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "account name" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "Statement" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "debtor" | translate }}</th>
          <th class="w-1/9 px-4 py-2">{{ "Creditor" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of accountingEntries">
          <td class="w-1/9 border px-4 py-2">{{ entry.date }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.bondNumber }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.bondType }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.registrationNumber }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.accountCode }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.accountName }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.statement }}</td>
          <td class="w-1/9 border px-4 py-2">{{ entry.debtor }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-4 py-2">{{ entry.creditor }}<app-sar-icon></app-sar-icon></td>
        </tr>
        <tr>
          <td class="w-1/9 border px-4 py-2">{{ "total" | translate }}</td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2"></td>
          <td class="w-1/9 border px-4 py-2 bg-green-500">{{ totalDebtor }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-4 py-2 bg-red-500">{{ totalCreditor }}<app-sar-icon></app-sar-icon></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex justify-end p-3">
    <button
      class="btn text-white me-2"
      style="background-color: var(--base-color)"
    >
      {{ "Print" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- عرض القيد المحاسبي  -->
<!-- accountingentryModal -->
<ng-template #accountingentryModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "View_accounting_entry" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <table class="border border-gray-500" style="width: 100%;text-align: center;">
      <thead>
        <tr>
          <th class="w-1/9 px-1 py-2">{{ "date" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Bond number" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Bond type" | translate }}</th>
          <th class="w-1/9 px-1 py-2">
            {{ "Registration number" | translate }}
          </th>
          <th class="w-1/9 px-1 py-2">{{ "account code" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "account name" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Statement" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "debtor" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Creditor" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of AllJournalEntries">
          <td class="w-1/9 border px-1 py-2">{{ entry.transactionDate }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.invoiceNumber }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.typeName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.journalNo }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountCode }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.notes }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.depit }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-1 py-2">{{ entry.credit }}<app-sar-icon></app-sar-icon></td>
        </tr>
        <tr>
          <td class="w-1/9 border px-1 py-2">{{ "total" | translate }}</td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2 bg-green-500">{{ totaldepit }}<app-sar-icon></app-sar-icon></td>
          <td class="w-1/9 border px-1 py-2 bg-red-500">{{ totalcredit }}<app-sar-icon></app-sar-icon></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex justify-end p-3">
    <button
      class="btn text-white me-2"
      style="background-color: var(--base-color)"(click)="PrintJournalsVyInvIdRetPurchase()"
    >
      {{ "Print" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #printDivModal let-modal>
  <div class="modal-body">
    <div
      id="divHtml_a"
      class="divHtml"
      style="width: 100% !important; margin: 0px auto !important;"
    >
    <div>
      <img *ngIf="CustomData.headerurl"
        src="{{CustomData.headerurl}}"
        alt="headerurl"
        style="height: 60px;width: 100%;max-width: 100%;object-fit: fill;"/>
    </div>
      <div class="invoiceNe-wrapper" style="direction: rtl !important">
        <!--Header-->
        <div class="invoiceNe-header">
          <div class="headerNe-right-side">
            <img *ngIf="CustomData.OrgImg"
              src="{{CustomData.OrgImg}}"
              alt="logo"
              style="height: 80px;width: 140px;max-width: 200px;object-fit: fill;"
            />
          </div>
          <div class="headerNe-lefy-side" style="width: 100%">
            <p>{{InvPrintData?.org_VD?.nameAr}}</p>
            <p>{{InvPrintData?.org_VD?.nameEn}}</p>
            <div class="line" style="position: relative; padding: 5px 0px 10px">
              <span
                style="position: absolute;right: 0; width: 100%;height: 2px;
                  background-color: #e5e5e5;z-index: 1;"
              ></span>
              <span
                style="position: absolute;right: 0;width: 70%;height: 2px;background-color: #ec1c24;z-index: 2;"
              ></span>
            </div>
            <h1 style="margin-bottom: 0">مردود فاتورة مشتريات</h1>
          </div>
        </div>
        <!--/Header-->

        <!--invoiceNe-content-->
        <div class="invoiceNe-content">
          <div class="firstNe-table-main-heading" style="display: flex">
            <div class="firstNe-table" style="margin-left: 5px; width: 50%">
              <table
                class="tableI"
                style=" margin-bottom: 5px; vertical-align: middle;text-align: center;">
                <thead>
                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم الفاتورة
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.invoiceNumber}}
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Invoice No
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      تاريخ الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                        {{InvPrintData?.invoicesVM_VD?.date}}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Invoice Date
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      تاريخ التوريد
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.date}}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px; color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Date of supply
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="firstNe-table" style="margin-right: 5px; width: 50%">
              <table
                of
                supplyable
                class="tableI"
                style="margin-bottom: 5px;vertical-align: middle;text-align: center;">
                <thead>
                  <tr>
                    <th
                      style="background-color: #faebd7;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      فاتورة ضريبية
                    </th>
                    <th
                      style="
                        background-color: #faebd7;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.payTypeName}}
                    </th>
                    <th
                      style="
                        background-color: #faebd7;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Tax Invoice
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم المشروع
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.projectNo}}
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px; letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Project No
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم العقد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.contractNo??"بدون"}}
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Contract No
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>

          <!--Details-->
          <div class="invoiceNe-details" style="margin-bottom: 0px; display: flex">
            <!--second table-->
            <div class="secondNe-table" style="margin-left: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #dceefd !important;font-size: 15px;letter-spacing: 0.0px;font-weight: 700;
                  padding: 1px 10px;">
                <span>بيانات المورد </span>
                <span>Seller</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;" >
                    الاسم
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.suppliersVM_VD?.nameAr}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    العنوان
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.suppliersVM_VD?.compAddress}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;" >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;" >
                    رقم المبنى
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.suppliersVM_VD?.buildingNumber}}
                  </th>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;">
                    Building No
                  </th>
                </tr>
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.streetName}}
                </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.neighborhood}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.cityName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.country}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الرمز البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.postalCodeFinal}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Postal Code
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر. الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.externalPhone}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Additional No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الرقم الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.taxNo}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT Number
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    معرف اخر
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.suppliersVM_VD?.commercialRegister}}
                  </th>
                  <th style="
                  padding: 0px;
                  font-size: 12px;
                  letter-spacing: 0.0px;
                  border: 1px solid #f0f7fe;
                ">
                    Athoer SellerID
                  </th>
                </tr>
              </table>
            </div>
            <!--second table-->
            <!--third table-->
            <div class="thirdNe-table" style="margin-right: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #faebd7 !important;
                  font-size: 15px;
                  letter-spacing: 0.0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات العميل </span>
                <span>Customer</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    الاسم
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.org_VD?.nameAr}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px; letter-spacing: 0.0px;border: 1px solid #f0f7fe;" >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                    العنوان
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.address
                      :InvPrintData?.branch_VD?.address}}
                  </th>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                    رقم المبنى
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.buildingNumber
                    :InvPrintData?.branch_VD?.buildingNumber}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Building No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.streetName
                    :InvPrintData?.branch_VD?.streetName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.neighborhood
                    :InvPrintData?.branch_VD?.neighborhood}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.cityName
                    :InvPrintData?.branch_VD?.cityName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.country
                    :InvPrintData?.branch_VD?.country}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الرمز البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.postalCodeFinal
                    :InvPrintData?.branch_VD?.postalCodeFinal}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Postal Code
                  </th>
                </tr>

                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر. الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.externalPhone
                    :InvPrintData?.branch_VD?.externalPhone}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Additional No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  الرقم الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.taxCode
                    :InvPrintData?.branch_VD?.taxCode}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  VAT Number
                  </th>
                </tr>
                <tr></tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    اسم الفرع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{InvPrintData?.branch_VD?.isPrintInvoice==true?InvPrintData?.branch_VD?.nameAr
                      :"--"}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Branch Name
                  </th>
                </tr>
              </table>
            </div>
            <!--third table-->
          </div>

          <!--totalNe-invoice-->
          <div class="totalNe-invoice" style="margin-bottom: 0px">
            <table
              style="
                max-width: 100%;
                vertical-align: middle;
                text-align: center;
              "
            >
              <thead>
                <tr>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    م <br />
                    .No
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    اسم الخدمة <br />
                    Item Name
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الوحدة <br />
                    Unit
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الكمية <br />
                    .Qty
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    السعر <br />
                    Price
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الخصم <br />
                    Discount
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    نسبة الخصم <br />
                    discount percent
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي<br />
                    Net
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    ض.ق.المضافة <br />
                    VAT
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي + الضريبة <br />
                    Net + VAT
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of InvPrintData?.voucherDetailsVM_VD; let i = index">
                  <td>{{i+1}}</td>
                  <td>{{item.categoryName}}</td>
                  <td>{{item.categoryTypeName}}</td>
                  <td>{{item.qty}}</td>
                  <td>{{GetAccualValue(item)}}<app-sar-icon></app-sar-icon></td>
                  <td>{{item.discountValue_Det}}<app-sar-icon></app-sar-icon></td>
                  <td>{{item.discountPercentage_Det}}</td>
                  <td>{{GetDiff(item)}}<app-sar-icon></app-sar-icon></td>
                  <td>{{item.taxAmount}}<app-sar-icon></app-sar-icon></td>
                  <td>{{item.totalAmount}}<app-sar-icon></app-sar-icon></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!--totalNe-invoice-->
          <!--invoice value-->
          <div
            class="invoiceNe-value"
            style="display: block !important; margin-bottom: 3px"
          >
            <div class="invoiceNe-divided">
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span> الإجمالي : </span>
                  <span>{{CustomData.Total}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الخصم : </span>
                  <span>{{CustomData.DiscPer}} %    {{CustomData.Disc}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الإجمالي بعد الخصم : </span>
                  <span>{{CustomData.TotalAfterDisc}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الصافي : </span>
                  <span>{{CustomData.netVal}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> ضريبة القيمة المضافة (15%) : </span>
                  <span>{{(InvPrintData?.invoicesVM_VD.taxAmount??0)}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>إجمايل المبلغ المطلوب سداده: </span>
                  <span
                  >{{ InvPrintData?.invoicesVM_VD.totalValue ?? 0 }}</span><app-sar-icon></app-sar-icon>
                  <span style="margin-right: 6%;">({{ InvPrintData?.valueNumString }})</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2dvh;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>الملاحظات:</span>
                  <span>{{InvPrintData?.invoicesVM_VD.notes}}</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                    font-size: 15px !important;
                  "
                >
                  <span>وسائل الدفع:</span>
                  <span></span>
                </p>
              </div>
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span>المدفوع :</span>
                  <span>{{(InvPrintData?.invoicesVM_VD.paidValue??0)}}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span>المتبقي :</span>
                  <span>{{(InvPrintData?.invoicesVM_VD.totalValue??0)-(InvPrintData?.invoicesVM_VD.paidValue??0)}}</span>
                  <app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-top: 120%;color:red" *ngIf="CustomData?.PrintType!=1">
                  <span>{{CustomData?.PrintTypeName}}</span>
                </p>
              </div>

            </div>
          </div>

          <!--invoice -bank-account-->
          <!--invoiceNe-footer-->
          <div
            class="invoiceNe-footer"
            style="
              display: flex !important;
              justify-content: space-between;
              align-items: start;
            "
          >
            <div>
              <img *ngIf="CustomData.Account1Img"
                src="{{CustomData.Account1Img}}"
                alt=""
                style=" display: block !important;width: 100px;
                  height: 70px; object-fit: fill; margin-bottom: 5px;"/>
              <img *ngIf="CustomData.Account2Img"
                src="{{CustomData.Account2Img}}"
                alt=""
                style="display: block !important;width: 100px;
                  height: 70px;object-fit: fill;"/>
            </div>

            <div>
              <h4>{{CustomData.Account1Bank}}</h4>
              <h4>{{CustomData.Account2Bank}}</h4>
              <h4>{{InvPrintData?.invoicesVM_VD.addUser}}</h4>
            </div>

            <div class="qrNe-code">
              <img #conditionimg
                src="{{InvPrintData?.qrCodeString_VD}}"
                alt="QRCode"
                style="height: 140px; width: 180px"
              />
            </div>
          </div>

          <!--invoiceNe-footer-->
          <!--Details-->
        </div>
        <!--invoiceNe-content-->
        <div>
          <img *ngIf="CustomData.footerurl"
            src="{{CustomData.footerurl}}"
            alt="footerurl"
            style="height: 60px;width: 100%;max-width: 100%;object-fit: fill;"/>
          </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('divHtml_a')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

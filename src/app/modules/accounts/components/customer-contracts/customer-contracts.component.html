<div class="customer-contracts">
  <app-navigator [title]="title"></app-navigator>

  <div class="head flex gap-2 flex-wrap items-end justify-between">
    <div class="btns mb-3 w-100">
      <!-- all inputs  -->
      <div class="flex flex-wrap gap-4 align-items-end mb-3">

        <div class="form-group">
          <label class="col-form-label">
            {{ "research" | translate }}</label
          >

          <input
            autocomplete="off"
            type="text "
            class="w-full p-2 inputType"
            name="user"
            placeholder="{{ 'research' | translate }}"
            [(ngModel)]="dataContract.filter.search_Contract"
            (keyup)="applyFilter($event) "
          />
        </div>

        <div class="flex justify-content-center gap-3">
          <button class="btn btn-primary" (click)="dataContract.filter.enable = !dataContract.filter.enable" [translate]="'name'"
          [translateParams]="{
                    ar: 'فلترة بالوقت',
                    en: 'Time Filter'
                  }"></button>
        <div class="form-group col-md-8 timeInput" *ngIf="dataContract.filter.enable">
          <input placeholder="{{ 'Chose Date' | translate }}" [(ngModel)]="dataContract.filter.date" type="text" (ngModelChange)="CheckDate($event)"
            class="form-control" [bsConfig]="{rangeInputFormat : 'DD/MM/YYYY'}" bsDaterangepicker #dpr="bsDaterangepicker" />
        </div>
        </div>

        <!-- <div class="form-group">
          <label class="col-form-label">
            {{ "project manager" | translate }}</label
          >
          <ng-select
            class="w-full p-0"
            placeholder="{{ 'Chose' | translate }}"
            [(ngModel)]="dataContract.filter.search_ProjectManagerId"
            name="project manager"
            (change)="SearchContractData();"
          >
            <ng-option *ngFor="let user of LoadManagersSearch" [value]="user.id">{{
              user.name
            }}</ng-option>
          </ng-select>
        </div> -->
        <div class="form-check form-switch me-3">
          <label
            class="form-check-label"
            for="flexSwitchCheckDefault"
            style="width: max-content"
          >
            {{ "ShowAllContracts" | translate }}
          </label>
          <input
            class="form-check-input"
            type="checkbox"
            role="switch"
            id="flexSwitchCheckDefault"
            [(ngModel)]="dataContract.filter.AllContracts"
            (change)="ShowAllContracts();"
          />
        </div>
      </div>


      <!-- all buttons  -->
      <div class="row flex flex-wrap">
        <!-- <button
          type="button"
          class="flex gap-1 btn bg-base text-white mb-3 col-md-2"
          (click)="open(contractChoseModal, null, 'contracts')"
        >
          {{ "ContractsSaudi" | translate }}
        </button> -->

        <button
          type="button"
          class="btn btn-outline-secondary mb-3 col-md-2"
          routerLink="/customers/search"
        >
          {{ "New customer" | translate }}
        </button>

        <button
          type="button"
          class="btn btn-outline-success mb-3 col-md-2"
          routerLink="/accounts/Service_prices"
        >
          {{ "Service prices" | translate }}
        </button>

        <button
          type="button"
          class="btn bg-base text-white mb-3 col-md-2"
          (click)="OpenContract('newContract');">
          {{ "contractPayments" | translate }}
        </button>

        <button
          type="button"
          class="btn bg-base text-white mb-3 col-md-2"
          (click)="OpenContract('Installments');">
          {{ "ContractInstallments" | translate }}
        </button>

        <button
        (click)="GetAllContractsPrint();open(printDivContractsAll);"
        type="button" class="btn btn-secondary mb-3 col-md-2">
          {{ "Print" | translate }}
        </button>
        <button
          type="button"
          class="btn bg-base text-white mb-3 col-md-2"
          (click)="open(draftFormsModal,null,'draftFormsModal')"
        >
          {{ "draftForms" | translate }}
        </button>
      </div>
    </div>

    <!-- table -->
    <div class="overflow-auto mt-4 w-full">
      <table
        mat-table
        [dataSource]="ContractsDataSource"
        matSort
        class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
      >
        <ng-container matColumnDef="contractNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "contract number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.contractNo }}
          </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Date of contract" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.date }}
          </td>
        </ng-container>

        <ng-container matColumnDef="totalValue">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "totalAfterTax" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.totalValue }}
          </td>
        </ng-container>

        <ng-container matColumnDef="customerName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "customer name" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.customerName }}
          </td>
        </ng-container>

        <!-- <ng-container matColumnDef="projectDescription">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Project name/description" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.projectDescription }}
          </td>
        </ng-container> -->

        <!-- <ng-container matColumnDef="projectNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Project Number" | translate }}</span>
          </th>
          <td
            class="{{ColorProject(element)}}"
            mat-cell
            *matCellDef="let element"
          >
            {{ element.projectNo }}
          </td>
        </ng-container> -->

        <ng-container matColumnDef="totalPaidPayment">
          <th
            class="bg-green-100"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            <span class="text-green-900">{{ "Paid Amount" | translate }}</span>
          </th>
          <td
            class="bg-green-100 text-green-950 text-center"
            mat-cell
            *matCellDef="let element"
          >
            {{ element.totalPaidPayment }}
          </td>
        </ng-container>

        <ng-container matColumnDef="totalRemainingPayment">
          <th
            class="bg-red-100"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            <span class="text-red-900">{{
              "Remaining Amount" | translate
            }}</span>
          </th>
          <td
            class="bg-red-100 text-red-950 text-center"
            mat-cell
            *matCellDef="let element"
          >
            {{ element.totalRemainingPayment }}
          </td>
        </ng-container>

        <ng-container matColumnDef="operations">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "operations" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            <div dropdown>
              <button type="button " id="button-basic" dropdownToggle
              style="display: block; width: 100%">
                <i class="fa-solid fa-ellipsis-vertical"></i>
              </button>

              <div
                id="dropdown-basic"
                *dropdownMenu
                aria-labelledby="dropdownBasic1"
                class="child flex align-items-center justify-center"
              >
                <div class="child-btns">
                  <span class="dtr-data">
                    <!--الغاء العقد  -->
                    <button
                      type="button"
                      class="AddNewTaskbtn btn btn-outline-danger btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=" الغاء العقد "
                      data-original-title="الغاء العقد "
                      (click)="open(deleteModal,element,'deleteModal')"
                    >
                      <i class="fa-solid fa-xmark"></i>
                    </button>
                    <!--تفاصيل الدفعات  -->
                    <button
                      type="button"
                      class="AddNewTaskbtn btn btn-outline-warning btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=" تفاصيل الدفعات "
                      data-original-title="تفاصيل الدفعات "
                      (click)="
                        open(PaymentsDetailsModal, element, 'PaymentsDetails')
                      "
                    >
                      <i class="fa-solid fa-circle-info"></i>
                    </button>
                    <!--مسودات العقد   -->
                    <button *ngIf="element.type==1 || element.type==2"
                      type="button"
                      class="AddNewTaskbtn btn btn-outline-warning btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=" مسودات العقد  "
                      data-original-title="مسودات العقد  "
                      (click)="EditDarftsOpen2(element);"
                    >
                      <i class="fa-solid fa-file-contract"></i>
                    </button>
                    <!--مسودات العقد   -->
                    <button *ngIf="element.type==1 || element.type==2"
                      type="button"
                      class="AddNewTaskbtn btn btn-outline-warning btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=" تحمل مسودة العقد "
                      data-original-title=" تحميل المسودة "
                      (click)="DownloadDraft(element);"
                    >
                      <i class="fa-solid fa-download"></i>
                    </button>
                    <!-- رفع العقد المختوم -->
                    <button
                      type="button"
                      id="68"
                      class="AddNewTaskbtn btn btn-outline-danger btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="  رفع العقد المختوم"
                      data-original-title=" رفع العقد المختوم"
                      (click)="
                        open(UploadModal, element, 'uploadcontract')
                      "
                    >
                      <i class="fa-solid fa-ban"></i>
                    </button>
                    <!-- "عرض العقد المختوم" -->
                    <button *ngIf="element.attachmentUrl"
                    (click)="downloadFileUrl(element.attachmentUrl)"
                      type="button"
                      class="EditProjectPhasesTasks btn btn-outline-success btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="عرض العقد المختوم"
                      data-original-title="عرض العقد المختوم"
                    >
                      <i class="fa-solid fa-print"></i>
                    </button>
                    <button *ngIf="element.attachmentUrlExtra"
                    (click)="downloadFileUrlExtra(element.attachmentUrlExtra)"
                    type="button"
                    class="EditProjectPhasesTasks btn btn-outline-success btn-sm waves-effect"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="    عرض الملحق"
                    data-original-title="  عرض الملحق"
                  >
                    <i class="fa-solid fa-print"></i>
                  </button>
                    <!-- ="   تعديل القيمة" -->
                    <button
                      type="button"
                      class="EditProjectPhasesTasks btn btn-outline-warning btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="   تعديل القيمة"
                      data-original-title="   تعديل القيمة"
                      (click)="open(ContractValueModal, element, 'ContractValueEdit')"
                    >
                      <i class="fa-regular fa-pen-to-square"></i>
                    </button>
                    <!-- e="    ارفاق ملحق " -->
                    <button *ngIf="element.updateUser!=0"
                      type="button"
                      class="project-workers btn btn-outline-success btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="    ارفاق ملحق "
                      data-original-title="    ارفاق ملحق "
                      (click)="open(UploadModal, element, 'uploadfile')"
                    >
                      <i class="fa-solid fa-plus"></i>
                    </button>
                     <!-- ="  طباعة العقد" -->
                    <!-- <button *ngIf="element.type==1 || element.type==2"
                      type="button"
                      class="current-tasks btn btn-outline-success btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="  طباعة العقد"
                      data-original-title="  طباعة العقد"
                      (click)="GetDofAsaatContractsPrint(element);open(printDivContracts_DofAsaatModal);"
                    >
                      <i class="fa-solid fa-print"></i>
                    </button> -->
                    <!--   طباعة عقد الهيئة السعودية الهندسية  -->
                    <!-- <button *ngIf="element.type==3 || element.type==4 || element.type==5"
                      type="button"
                      class="EditProjectPhasesTasks btn btn-outline-success btn-sm waves-effect"
                      data-toggle="tooltip"
                      data-placement="top"
                      title="   طباعة عقد الهيئة السعودية الهندسية"
                      data-original-title="   طباعة عقد الهيئة السعودية الهندسية"
                      (click)="Get3ContractsPrint(element);(element.type==3 && open(printDivContracts_SupModal));(element.type==4 && open(printDivContracts_ConModal));(element.type==5 && open(printDivContracts_DesModal));"
                    >
                      <i class="fa-solid fa-print"></i>
                    </button> -->
                  </span>
                </div>
              </div>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="projectDisplayedColumns"></tr>

        <tr mat-row *matRowDef="let row; columns: projectDisplayedColumns"
        [ngClass]="{'highlight': selectedRowIndex == row.contractId}"
        (click)="highlight(row);"></tr>
      </table>
    </div>
    <mat-paginator [pageSizeOptions]="[10, 25,100,ContractsDataSource.data.length]"> </mat-paginator>
  </div>

  <!-- #### -->

  <!-- draftFormsModal  -->
  <ng-template #draftFormsModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0">
        <span class="text-2xl">{{ "LinkDraftProject" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal?.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="modal-body">
      <div class="row align-items-center">
        <div class="col-12 mb-0 mb-md-3 me-3">
          <p class="w-auto alert alert-danger">{{ "NoteDraft" | translate }}</p>
          <div class="upload">
            <file-upload [control]="control">
              <ng-template
                let-isFileDragDropAvailable="isFileDragDropAvailable"
                #placeholder
              >
                <div *ngIf="control.size === 0">
                  <div class="icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      height="1em"
                      viewBox="0 0 640 512"
                    >
                      <path
                        d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                      />
                    </svg>
                  </div>
                </div>
              </ng-template>

              <ng-template
                let-i="index"
                let-file="file"
                let-control="control"
                #item
              >
                <div class="overlay">
                  <span
                    class="delete-button"
                    (click)="control.removeFile(file)"
                  >
                    <svg viewBox="0 0 448 512">
                      <path
                        d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                      ></path>
                    </svg>
                  </span>
                  <img *ngIf="control.valid" [src]="uploadedFile | async" />
                </div>
              </ng-template>
            </file-upload>
          </div>
          <div class="flex justify-start p-3">
            <button (click)="UploadNewDraft();"
              class="btn text-white me-2"
              style="background-color: var(--base-color)"
            >
              {{ "رفع مسودة جديدة" | translate }}
            </button>
          </div>
        </div>
        <div class="col-xxl-6 col-md-5 mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Contract draft" | translate }}</label
            >
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              ngModel
              name="Draft_Template"
              [(ngModel)]="Drafts_Template.Draft_TemplateValueSelect"
              [ngModelOptions]="{ standalone: true }"
            >
              <ng-option *ngFor="let item of LoadAllDraft_Template" [value]="item.id">{{
                item.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <!-- <div class="col-xxl-6 col-md-5 mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Project Type" | translate }}</label
            >
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              ngModel
              name="Draft_Template"
              [(ngModel)]="Drafts_Template.ProjectTypeValueSelect"
              [ngModelOptions]="{ standalone: true }"
            >
              <ng-option *ngFor="let item of ProjectTypeList_Template" [value]="item.id">{{
                item.name
              }}</ng-option>
            </ng-select>
          </div>
        </div> -->
      </div>
    </div>

    <div class="flex justify-end p-3">
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "close" | translate }}
      </button>

      <!-- <button (click)="Connect_pro_draft();"
        class="btn text-white me-2"
        style="background-color: var(--base-color)"
      >
        {{ "LinkDraftProject" | translate }}
      </button> -->
    </div>
  </ng-template>

  <!-- deleteModal -->
  <ng-template #deleteModal let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'هل تريد حذف هذا العنصر ؟',
          en: 'Do you want to delete this item?'
        }"
      ></p>
      <div class="flex gap-2 justify-center">
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "close" | translate }}
        </button>

        <button
          type="button"
          mat-raised-button
          color="warn"
          (click)="confirmCancelContract(); modal.dismiss()"
        >
          {{ "confirem" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
    <!-- deleteDraftModal -->
    <ng-template #deleteDraftModal let-modal>
      <div class="modal-body text-center">
        <p
          [translate]="'name'"
          [translateParams]="{
            ar: 'هل تريد حذف هذا العنصر ؟',
            en: 'Do you want to delete this item?'
          }"
        ></p>
        <div class="flex gap-2 justify-center">
          <button
            type="button"
            (click)="modal.dismiss()"
            mat-raised-button
            color="basic"
          >
            {{ "close" | translate }}
          </button>

          <button
            type="button"
            mat-raised-button
            color="warn"
            (click)="confirmDeleteDraft_template(); modal.dismiss()"
          >
            {{ "confirem" | translate }}
          </button>
        </div>
      </div>
    </ng-template>

  <!-- PaymentsDetailsModal  -->
  <ng-template #PaymentsDetailsModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0">
        <span class="text-2xl">{{ "clientPayments" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal?.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="modal-body">
      <ng-container>
        <form class="" #PaymentsDetails="ngForm">
          <div class="row align-items-end mb-4 mx-3">
            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <div class="form-group">
                <label
                  for="contract number"
                  class="text-right col-form-label block"
                >
                  {{ "contract number" | translate }}
                </label>
                <input
                  required
                  placeholder="{{ 'contract number' | translate }}"
                  class="form-control"
                  type="text"
                  [(ngModel)]="paymentsDetails.ContractNo"
                  [ngModelOptions]="{standalone: true}"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <div class="form-group">
                <label
                  for="Customer Name"
                  class="text-right col-form-label block"
                >
                  {{ "Customer Name" | translate }}
                </label>
                <input
                  required
                  placeholder="{{ 'Customer Name' | translate }}"
                  class="form-control"
                  type="text"
                  [(ngModel)]="paymentsDetails.CustomerName"
                  [ngModelOptions]="{standalone: true}"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <div class="form-group">
                <label
                  for="Project Number"
                  class="text-right col-form-label block"
                >
                  {{ "Project Number" | translate }}
                </label>
                <input
                  required
                  placeholder="{{ 'Project Number' | translate }}"
                  class="form-control"
                  type="text"
                  [(ngModel)]="paymentsDetails.ProjectNo"
                  [ngModelOptions]="{standalone: true}"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <div class="form-group">
                <label
                  for="Paid Amount"
                  class="text-right col-form-label block"
                >
                  {{ "Paid Amount" | translate }}
                </label>
                <input
                  required
                  placeholder="{{ 'Paid Amount' | translate }}"
                  class="form-control bg-green"
                  type="text"
                  [(ngModel)]="paymentsDetails.PaidAmount"
                  [ngModelOptions]="{standalone: true}"
                  autocomplete="off"
                  disabled

                />
              </div>
            </div>

            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <div class="form-group">
                <label
                  for="Remaining Amount"
                  class="text-right col-form-label block"
                >
                  {{ "Remaining Amount" | translate }}
                </label>
                <input
                  required
                  placeholder="{{ 'Remaining Amount' | translate }}"
                  class="form-control bg-red"
                  type="text"
                  [(ngModel)]="paymentsDetails.RemainingAmount"
                  [ngModelOptions]="{standalone: true}"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
              <p class="w-auto text-success fw-bold" style="text-align: center;">
                {{ paymentsDetails.TaxLbl }}
              </p>
            </div>

          </div>
          <div class="flex justify-between align-items-center statusCell mb-0">
            <button
            type="button"
            class="flex gap-1 btn btn-success mb-3 col-md-2"
            (click)="AddPayment();open(AddPaymentsModal)"
          >
            {{ "AddPayments" | translate }}
            <i class="fa-solid fa-plus"></i>
          </button>
          <span class="delay bg-gray p-2">مدة المشروع</span>
          <span class="delay bg-gray text-danger p-2">{{ paymentsDetails?.timeStr }}</span>

            <p class="flex flex-column gap-2 mb-0">
              <span>{{ "From" | translate }}</span>
              <span>{{ paymentsDetails?.projectDate }}</span>
            </p>
            <div class="progress" style="min-width: 300px; height: 40px" *ngIf="paymentsDetails?.percentage>100">
              <div
                class="progress-bar bg-danger"
                role="progressbar"
                style="width:100%"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              >
              متأخر
              </div>
            </div>
            <div class="progress" style="min-width: 300px; height: 40px" *ngIf="paymentsDetails?.percentage<=100">
              <div
                class="progress-bar bg-success"
                role="progressbar"
                [style]="'width: '+ paymentsDetails?.percentage +'%'"
                attr.aria-valuenow="{{paymentsDetails?.percentage}}"
                aria-valuemin="0"
                aria-valuemax="100"
              >
              {{paymentsDetails?.percentage}}%
              </div>
            </div>
            <p class="flex flex-column gap-2 mb-0">
              <span>{{ "To" | translate }}</span>
              <span>{{ paymentsDetails?.projectExpireDate }}</span>
            </p>
          </div>



          <div class="row mb-3">
            <div class="editable shadow mb-4" style="overflow: auto">
              <table
                class="table table-responsive table-striped table-bordered text-center"
                style="
                  vertical-align: middle;
                  font-size: 14px;
                  min-width: max-content;
                "
              >
                <thead
                  class="bg-base text-white"
                  style="line-height: 30px; font-size: 13px"
                >
                  <tr>
                    <th>{{ "batch number" | translate }}</th>
                    <th>{{ "date" | translate }}</th>
                    <th>{{ "the amount" | translate }}</th>
                    <th>{{ "Tax" | translate }}</th>
                    <th>{{ "amountAfterTax" | translate }}</th>
                    <th>{{ "PaymentStatus" | translate }}</th>
                    <th>{{ "Options" | translate }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="let item of paymentsDetails?.CustomerPayments; let i = index"
                    style="line-height: 5px"
                  >
                    <td>{{ item.paymentNo }}</td>

                    <td>
                      <input
                        type="text"
                        name="paymentDate{{ item.paymentId }}"
                        [(ngModel)]="item.paymentDate"
                        [ngModelOptions]="{standalone: true}"
                        readonly
                      />
                    </td>

                    <td>
                      <input
                        type="text"
                        name="amount{{ item.paymentId }}"
                        [(ngModel)]="item.amount"
                        [ngModelOptions]="{standalone: true}"
                        readonly
                      />
                    </td>

                    <td>
                      <input
                        type="text"
                        name="taxAmount{{ item.paymentId }}"
                        [(ngModel)]="item.taxAmount"
                        [ngModelOptions]="{standalone: true}"
                        readonly
                      />
                    </td>

                    <td>
                      <input
                        type="text"
                        name="totalAmount{{ item.paymentId }}"
                        [(ngModel)]="item.totalAmount"
                        [ngModelOptions]="{standalone: true}"
                        readonly
                      />
                    </td>

                    <td>
                      <button *ngIf="item.isPaid==false"
                      [disabled]="!TaxCodeCheck"
                        style="background-color: green !important"
                        class="btn text-white"
                        (click)="open(NewInvoiceModal, item, 'addInvoiceProject')">
                        <i>{{"إصدار فاتورة"}}</i>
                      </button>
                      <button *ngIf="item.isPaid==true && item.isCanceled!=true"
                      style="background-color: #a12222  !important"
                        class="btn text-white">
                        <i><span> تم إصدار فاتورة </span> <span style="color:#0af186;font-weight: bold;">{{item.invoiceNumber}}</span></i>
                      </button>
                      <button *ngIf="item.isPaid==true && item.isCanceled==true"
                      style="background-color:#292929 !important;"
                        class="btn text-white">
                        <i>  <span> تم إصدار فاتورة </span><span style="color:#0af186;font-weight: bold;">{{item.invoiceNumber}}</span> <span> ولكن تم الغاؤها </span> </i>
                      </button>
                    </td>

                    <td class="d-flex justify-content-between">
                      <button *ngIf="userG?.userPrivileges.includes(131502) && item.isPaid==false"
                        class="p-2 bg-yellow-100 hover:bg-yellow-500 rounded-lg duration-300 hover:text-white w-10"
                        (click)="open(AddPaymentsModal,item,'EditPaymentModal')">
                        <i class="fa-regular fa-pen-to-square"></i>
                      </button>
                      <button *ngIf="userG?.userPrivileges.includes(131503) && item.isPaid==false"
                      (click)="open(deletePaymentModal,item,'deletePaymentModal')"
                        class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10">
                        <i class="fa-solid fa-trash-can"></i>
                      </button>

                      <!-- "    طباعة" -->
                      <button *ngIf="item.isPaid!=false"
                      (click)="GetInvoicePrint(item,1);open(printDivModal)"
                        type="button"
                        class="EditProjectPhasesTasks btn btn-outline-success btn-sm waves-effect"
                        data-toggle="tooltip"
                        data-placement="top"
                        title="    طباعة"
                        data-original-title="  طباعة"
                      >
                        <i class="fa-solid fa-print"></i>
                      </button>

                      <!-- "طباعة مبسطة" -->
                      <button *ngIf="item.isPaid!=false && item.amount<=1000"
                      (click)="PrintVoucher(item)"
                        type="button"
                        class="EditProjectPhasesTasks btn btn-outline-success btn-sm waves-effect"
                        data-toggle="tooltip"
                        data-placement="top"
                        title="طباعة مبسطة"
                        data-original-title="طباعة مبسطة"
                      >
                        <i class="fa-solid fa-print"></i>
                      </button>
                      <a
                        *ngIf="item.fileUrl"
                        class="svg-icon svg-icon-3 text-dark svg-icon-dark"
                        [href]="pathurl + item.fileUrl"
                        target="_blank"
                        >
                        <i class="fa-solid fa-eye"></i>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>


          <p style="text-align: center;color: red;font-weight: bold;" class="p-1 bg-red-100">في حال تم عمل مردود لفاتورة دفعة
            او إلغاؤها سيقوم النظام بإرجاع مبلغ الفاتورة الملغاه الي
           المبلغ المتبقي وسيكون متاح إصدار دفعة جديدة لذلك المبلغ</p>
        </form>

        <!-- footer -->
      </ng-container>

      <div class="d-flex justify-content-end">
        <div class="pt-3 m-3">
          <button (click)="modal?.dismiss()" class="btn btn-secondary">
            {{ "close" | translate }}
          </button>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- AddPaymentsModal  -->
  <ng-template #AddPaymentsModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0" *ngIf="!(PaymentObj.PaymentId>0)">
        <span class="text-2xl">{{ "AddNewBatch" | translate }}</span>
      </h4>
      <h4 class="m-0" *ngIf="PaymentObj.PaymentId>0">
        <span class="text-2xl">{{ "تعديل دفعة" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal?.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="modal-body">
      <ng-container>
        <div class="row align-items-end mb-4 mx-3">
          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label
                for="batch number"
                class="text-right col-form-label block"
              >
                {{ "batch number" | translate }}
              </label>
              <input
                placeholder="{{ 'batch number' | translate }}"
                class="form-control"
                type="text"
                [(ngModel)]="PaymentObj.PaymentNotxt"
                [ngModelOptions]="{standalone: true}"
                autocomplete="off"
                readonly
              />
            </div>
          </div>

          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label for="date" class="text-right col-form-label block">
                {{ "date" | translate }}
              </label>
              <input
                placeholder="{{ 'Chose' | translate }}"
                name="date"
                readonly
                type="text"
                class="form-control"
                bsDatepicker
                #dpr="bsDatepicker"
                [bsConfig]="{dateInputFormat: 'DD/MM/YYYY'}"
                [(ngModel)]="PaymentObj.PaymentDatetxt"
                [ngModelOptions]="{standalone: true}"
                (ngModelChange)="ChangePayGre($event)"
                autocomplete="off"
              />
            </div>
          </div>

          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label
                for="Corresponding"
                class="text-right col-form-label block"
              >
                {{ "Corresponding" | translate }}
              </label>
              <hijri-gregorian-datepicker
              [(selectedDate)]="PaymentObj.PaymentDateHijritxt"
              [hijriLabel]="'Hijri'"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
              autocomplete="off"
              (selectedDateChange)="ChangePayDateHijri($event)"
            >
            </hijri-gregorian-datepicker>

            </div>
          </div>

          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label for="the amount" class="text-right col-form-label block">
                {{ "the amount" | translate }}
              </label>
              <input
                placeholder="{{ 'the amount' | translate }}"
                class="form-control"
                type="number"
                [(ngModel)]="PaymentObj.PayAmounttxt"
                [ngModelOptions]="{standalone: true}"
                (keyup)="PayAmounttxtChange($event)"
                autocomplete="off"

              />
            </div>
          </div>

          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label
                for="installmentTax"
                class="text-right col-form-label block"
              >
                {{ "installmentTax" | translate }}
              </label>
              <input
                placeholder="{{ 'installmentTax' | translate }}"
                class="form-control"
                type="number"
                [(ngModel)]="PaymentObj.TotalPayTaxTxt"
                [ngModelOptions]="{standalone: true}"
                autocomplete="off"
                readonly
              />
            </div>
          </div>

          <div class="col-md-4 col-sm-5 mb-0 mb-sm-3">
            <div class="form-group">
              <label
                for="finalAmount"
                class="text-right col-form-label block"
              >
                {{ "finalAmount" | translate }}
              </label>
              <input
                placeholder="{{ 'finalAmount' | translate }}"
                class="form-control"
                type="number"
                [(ngModel)]="PaymentObj.TotalPayAmountTxt"
                [ngModelOptions]="{standalone: true}"
                autocomplete="off"
                readonly
              />
            </div>
          </div>

          <div class="col-md-6 col-sm-7 mb-0 mb-sm-3">
            <div class="form-group">
              <label
                for="finalAmountWriting"
                class="text-right col-form-label block"
              >
                {{ "finalAmountWriting" | translate }}
              </label>
              <input
                placeholder="{{ 'finalAmountWriting' | translate }}"
                class="form-control"
                type="text"
                [(ngModel)]="PaymentObj.TextPayAmountTxt"
                [ngModelOptions]="{standalone: true}"
                autocomplete="off"
                readonly
              />
            </div>
          </div>
          <div class="col-md-6 col-sm-5 mb-0 mb-sm-3" *ngIf="paymentsDetails.ServiceCount>1">
            <div class="form-group">
              <label  for="ServicesValue" class="col-form-label block">
                {{ "اختر خدمة الدفعة" | translate }}</label
              >
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                name="ServicesValue"
                [(ngModel)]="PaymentObj.ServicesValue"
                [ngModelOptions]="{standalone: true}"
                [clearable]="true"

              >
                <ng-option
                  *ngFor="let user of PaymentObj.ServicesOptionSelect"
                  [value]="user.id"
                  >{{ user.name }}</ng-option
                >
              </ng-select>
            </div>
          </div>

        </div>
        <!-- footer -->
      </ng-container>
      <div class="d-flex justify-content-end">
        <div class="pt-3">
          <button (click)="modal?.dismiss()" class="btn btn-secondary">
            {{ "close" | translate }}
          </button>
        </div>
        <div class="pt-3 mx-3">
          <button
          [disabled]="disableButtonSave_Payment"
          (click)="open(SavePaymentConfirmModal, null, 'SavePaymentConfirmModal',null,modal);"
           class="btn bg-base text-white">
            {{ "save" | translate }}
          </button>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- contractChoseModal -->
  <ng-template #contractChoseModal let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'عقود الهيئة السعودية للمهندسين ',
          en: 'Contracts of the Saudi Council of Engineers'
        }"
      ></p>

      <div class="flex items-center justify-center w-100 my-3 gap-8">
        <button
          type="button"
          class="btn bg-base text-white"
          [translate]="'name'"
          [translateParams]="{
            ar: 'عقد استشاري',
            en: 'Consultant contract'
          }"
          (click)="modal.dismiss();OpenContract_Des('ConsultantContract')"
        ></button>
        <button
          type="button"
          class="btn bg-base text-white"
          [translate]="'name'"
          [translateParams]="{
            ar: 'عقد إشراف',
            en: 'supervision contract'
          }"
          (click)="modal.dismiss();OpenContract_Des('supervisionContract')"
        ></button>
        <button
          type="button"
          class="btn bg-base text-white"
          [translate]="'name'"
          [translateParams]="{
            ar: 'عقد تصميم',
            en: 'design contract'
          }"
          (click)="modal.dismiss();OpenContract_Des('designContract')"
        ></button>
      </div>

      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "close" | translate }}
        </button>
      </div>
    </div>
  </ng-template>

  <!-- UploadModal -->
  <ng-template #UploadModal let-modal>
    <div class="modal-body text-center">
      <p
        *ngIf="publictypeOfupload == 1"
        [translate]="'name'"
        [translateParams]="{
          ar: 'رفع العقد المختوم',
          en: 'Lifting the sealed contract'
        }"
      ></p>

      <p
        *ngIf="publictypeOfupload == 2"
        [translate]="'name'"
        [translateParams]="{
          ar: 'ارفاق ملف',
          en: 'Attach a file'
        }"
      ></p>

      <div class="flex items-center justify-center w-100 my-3 gap-8">
        <div class="upload w-100">
          <file-upload [control]="control" style="min-height: 300px">
            <ng-template
              let-isFileDragDropAvailable="isFileDragDropAvailable"
              #placeholder
            >
              <div *ngIf="control.size === 0">
                <div class="icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    height="1em"
                    viewBox="0 0 640 512"
                  >
                    <path
                      d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                    />
                  </svg>
                </div>

                <div
                  class="upload-text"
                  style="width: max-content; padding: 0px 20px"
                >
                  {{ "chooseFile" | translate }}
                </div>
              </div>
            </ng-template>

            <ng-template
              let-i="index"
              let-file="file"
              let-control="control"
              #item
            >
              <div class="overlay">
                <span class="delete-button" (click)="control.removeFile(file)">
                  <svg viewBox="0 0 448 512">
                    <path
                      d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                    ></path>
                  </svg>
                </span>
                <img *ngIf="control.valid" [src]="uploadedFile | async" />
              </div>
            </ng-template>
          </file-upload>
        </div>
      </div>

      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "close" | translate }}
        </button>

        <button (click)="UploadFileContract(modal)"
          type="button"
          mat-raised-button
          color="basic"
          class="bg-base text-white"
        >
          {{ "save" | translate }}
        </button>
      </div>
    </div>
  </ng-template>

  <!-- ContractValueModal  -->
  <ng-template #ContractValueModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0">
        <span class="text-2xl">{{ "ModifyContractValue" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal?.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="modal-body">
      <ng-container>
        <form class="" #ContractValue="ngForm">
          <!-- ++++ -->
          <div class="row mb-3">
            <h3 class="flex items-center justify-start fw-bold">
              <button
                type="button "
                class="add-btn mx-2"
                (click)="addServiceContractEdit()"
              >
                <i class="fa fa-plus"></i>
              </button>
            </h3>
            <div class="editable shadow mb-4">
              <table
                class="table table-responsive table-striped table-bordered text-center"
                style="vertical-align: middle; font-size: 14px"
              >
                <thead
                  class="bg-base text-white"
                  style="line-height: 30px; font-size: 13px"
                >
                <tr>
                  <th>{{ "ServiceNo" | translate }}</th>
                  <th style="width: 30% !important;">{{ "ServiceName" | translate }}</th>
                  <th>{{ "Unit" | translate }}</th>
                  <th>{{ "Quantity" | translate }}</th>
                  <th>{{ "price" | translate }}</th>
                  <th>{{ "VATTax" | translate }}</th>
                  <th>{{ "netTax" | translate }}</th>
                  <th>{{ "action" | translate }}</th>
                </tr>
                </thead>
                <tbody>
                  <tr
                  *ngFor="let item of ContractEditServices; let i = index"
                  style="line-height: 5px"
                >
                  <td>{{ item.idRow }}</td>
                  <td (click)="open(servicesListModal_Contract, null, 'servicesList_Contract', item.idRow)">
                    <input
                      type="text"
                      name="os-name{{ item.idRow }}"
                      [(ngModel)]="item.accountJournaltxt"
                      ngModel
                      readonly
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-unit{{ item.idRow  }}"
                      [(ngModel)]="item.UnitConst"
                      readonly
                    />
                  </td>

                  <td>
                    <input
                      type="text"
                      name="os-amount{{ item.idRow  }}"
                      [(ngModel)]="item.QtyConst"
                      (keyup)="CalculateTotal_ContractEdit()"
                    />
                  </td>

                  <td>
                    <div class="flex">
                      <input
                      type="number"
                      name="os-price{{ item.idRow  }}"
                      [(ngModel)]="item.Amounttxt"
                      (keyup)="CalculateTotal_ContractEdit()"
                    />
                    <span *ngIf="item.Amounttxt" style="align-self: center;">ر.س</span>
                    </div>
                  </td>

                  <td>
                    <div class="flex">
                      <input
                      type="number"
                      name="os-vatTax{{ item.idRow  }}"
                      [(ngModel)]="item.taxAmounttxt"
                      readonly
                    />
                    <span *ngIf="item.taxAmounttxt" style="align-self: center;">ر.س</span>
                    </div>
                  </td>
                  <td>
                    <div class="flex">
                      <input
                      type="number"
                      name="os-taxes{{ item.idRow  }}"
                      [(ngModel)]="item.TotalAmounttxt"
                      readonly
                    />
                    <span *ngIf="item.TotalAmounttxt" style="align-self: center;">ر.س</span>
                    </div>
                  </td>
                  <td class="flex">
                    <button
                      title=""
                      class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                      style="margin-inline-end: 6px"
                      (click)="open(serviceDetailsModal, item, 'serviceDetails')"
                    >
                      <i class="fa-solid fa-info"></i>
                    </button>
                    <button
                      class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10"
                      (click)="deleteServiceContractEdit(item.idRow)"
                    >
                      <i class="fa-solid fa-trash-can"></i>
                    </button>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="boxContainer w-80 py-3 px-3">
            <div class="row">
              <div class="col-md-2">
                <label for="tax type" class=" " for="tax type">
                  {{ "tax type" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <ng-select
                  class="w-100"
                  placeholder="{{ 'Chose' | translate }}"
                  name="include_tax"
                  [(ngModel)]="modalDetailsContractEdit.taxtype"
                  [ngModelOptions]="{standalone: true}"
                  (change)="CalculateTotal_ContractEdit()"
                  [clearable]="false"
                >
                  <ng-option [value]="2">{{
                    "Excluding tax" | translate
                  }}</ng-option>
                  <ng-option [value]="3">{{
                    "Taxes included" | translate
                  }}</ng-option>
                </ng-select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="col-md-2">
                  <label
                    for="Total amount"
                    class="text-gren"
                    for="Total amount"
                  >
                    {{ "Total amount" | translate }}
                  </label>
                </div>
                <div class="col-md-10">
                  <input
                    id="Total amount"
                    class="form-control text-center"
                    type="number"
                    [(ngModel)]="modalDetailsContractEdit.total_amount"
                    [ngModelOptions]="{standalone: true}"
                    readonly
                  />
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="col-md-2">
                  <label
                    for="total in writing"
                    class="text-orange"
                    for="total in writing"
                  >
                    {{ "total in writing" | translate }}
                  </label>
                </div>
                <div class="col-md-10">
                  <input
                    id="total in writing"
                    class="form-control text-center"
                    type="text"
                    [(ngModel)]="modalDetailsContractEdit.total_amount_text"
                    [ngModelOptions]="{standalone: true}"
                    readonly
                  />
                </div>
              </div>
            </div>
          </div>
        </form>

        <!-- footer -->
      </ng-container>

      <div class="d-flex justify-content-end">
        <div class="pt-3 mx-3">
          <button (click)="EditContractValue(modal)"
            class="btn text-white"
            style="background-color: var(--base-color)"
          >
            {{ "save" | translate }}
          </button>
        </div>

        <div class="pt-3">
          <button (click)="modal?.dismiss()" class="btn btn-secondary">
            {{ "close" | translate }}
          </button>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- التفاصيل المقدمة للخدمة-->
  <!-- DetailsServiceModal -->
  <ng-template #DetailsServiceModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0">
        <span>{{ "serviceDetails" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div>
      <div class="header d-flex justify-content-center">
        <h2 class="text-center w-fit p-3 bg-blue-300 mt-3">
          {{ "ExtractingEnergy" | translate }}
        </h2>
      </div>
      <div class="body w-fit me-3">
        <i class="fa-solid fa-check" style="color: #10e090"></i>
        <span class="bg-blue-100 p-2 mx-2"> undefined </span>
      </div>
    </div>

    <div class="flex justify-end p-3">
      <button class="btn me-2 bg-base text-white" (click)="modal?.dismiss()">
        {{ "close" | translate }}
      </button>
    </div>
  </ng-template>


  <!-- DraftsContractModal -->
  <ng-template #DraftsContractModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
    <h4
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
    ar: 'عقد  ',
    en: ' contract '
    }"
  ></h4>


      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal?.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="modal-body text-center">
      <div class="content">
        <mat-stepper #stepper linear>
          <mat-step>
            <ng-template matStepLabel>{{
              "Contract draft" | translate
            }}</ng-template>
            <div class="step-content">
              <button (click)="ShowAllDrafts();  " class="btn bg-base text-white" style="display: block;">
              {{ "أرشيف المسودات" }}
            </button>
              <div class="periority my-5" style="overflow-y: scroll;max-height: 500px;">
                <mat-radio-group aria-label="Select an option" name="status"
                [(ngModel)]="CheckedValue"
                [ngModelOptions]="{standalone: true}"
                  *ngFor="let item of DraftsListObj">
                  <div class="flex flex-wrap gap-8 items-center my-1">
                    <mat-radio-button [value]="item.draftId" class="text-base">{{
                      item.draftName
                    }}</mat-radio-button>

                    <div class="operations flex gap-2">
                      <button (click)="Connect_appendFile_Draft(item)"
                        class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                      >
                        <i class="fa fa-download"></i>
                      </button>
                      <button (click)="open(deleteDraftModal,item,'Drafts')"
                        class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10"
                      >
                        <i class="fa-solid fa-trash-can"></i>
                      </button>
                    </div>
                  </div>
                </mat-radio-group>
              </div>
            </div>
          </mat-step>
        </mat-stepper>
      </div>
      <div class="flex gap-2 justify-end mt-3">
        <button
        type="button"
        (click)="SaveDraftDetails(modal)"
        mat-raised-button
        color="primary"
      >
      {{ "حفظ واغلاق" | translate }}
    </button>
        <button
          type="button" class="btn me-2 bg-base text-white"
          (click)="modal.dismiss()"
          mat-raised-button
        >
          {{ "close" | translate }}
        </button>
      </div>
    </div>
  </ng-template>



<!-- servicesListModal -->
<ng-template #servicesListModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body">
    <mat-form-field class="w-full">
      <mat-label>{{ "search" | translate }}</mat-label>
      <input matInput (keyup)="applyFilterServiceList($event)" #input />
    </mat-form-field>

    <div class="table">
      <table
        mat-table
        [dataSource]="serviceListDataSource"
        class="mat-elevation-z8 table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px;min-width: fit-content;"
      >
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>
            {{ "ServiceName" | translate }}
          </th>
          <td mat-cell *matCellDef="let element">{{ element.servicesName }}</td>
        </ng-container>

        <!-- price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>{{ "price" | translate }}</th>
          <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="servicesListdisplayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="
            let row;
            let i = index;
            columns: servicesListdisplayedColumns
          "
          (dblclick)="setServiceRowValue(row); modal.dismiss()"
        ></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            {{ "noResult" | translate }} "{{ input.value }}"
          </td>
        </tr>
      </table>
      <mat-paginator #paginatorServices [pageSizeOptions]="[10, 25,100,serviceListDataSource.data.length]"> </mat-paginator>
    </div>

    <div class="text-end mt-2">
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- serviceDetails -->
<ng-template #serviceDetailsModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body">
    <div
    cdkDropList
    [cdkDropListData]="serviceDetails"
    class="example-list"
    (cdkDropListDropped)="drop($event)">
      <div *ngFor="let item of serviceDetails ;" class="example-box" cdkDrag>
        <div class="col-md-11" style="font-size: 20px;">
        <i *ngIf="(item?.SureService??0)!=1 && OfferPopupAddorEdit==0"
        class="fa fa-xmark text-danger"></i>
        <i *ngIf="(item?.SureService??0)==1 && OfferPopupAddorEdit==0"
        class="fa fa-check text-success"></i>
        <i *ngIf="OfferPopupAddorEdit==1"
        class="fa fa-check text-success"></i>
        <span class="text-base mx-2">{{ item?.name }}</span>
      </div>
      <div class="serviceBtns"*ngIf="OfferPopupAddorEdit==0" >
        <button *ngIf="(item?.SureService??0)!=1"
        (click)="MarkServiceDetails(item)"
          type="button"
          class="btn btn-outline-success">
          {{ "Insert" | translate }}
        </button>
        <button *ngIf="(item?.SureService??0)==1"
        (click)="UnMarkServiceDetails(item)"
        type="button" class="btn btn-outline-danger">
          {{ "delete" | translate }}
        </button>
      </div>
    </div>
</div>
    <div
      class="flex gap-2 pt-3 border-t border-neutral-300 col-span-1 md:col-span-2 mt-2"
    >
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template>

  <!-- addInstallment -->
  <ng-template #addInstallmentModal let-modal>
    <div
      style="background-color: var(--base-color)"
      class="modal-header text-white flex justify-between items-center"
    >
      <h4 class="m-0">
        <span class="text-2xl">{{ "AddInstallments" | translate }}</span>
      </h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss()"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="modal-body">
      <form #form="ngForm">
        <div class="row">
          <div class="col-md-6 col-lg-3 mb-3">
            <div class="form-group">
              <label
                for="ContractAmount"
                class="text-right col-form-label block"
              >
                {{ "Contract amount" | translate }}
              </label>
              <input
                ngModel
                class="form-control"
                type="number"
                id="ContractAmount"
                name="ContractAmount"
              />
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-3">
            <div class="form-group">
              <label class="text-right col-form-label block">
                {{ "The beginning of the installments" | translate }}
              </label>
              <div class="form-group timeInput">
                <input
                  ngModel
                  name="installmentsStartDate"
                  type="text"
                  class="form-control"
                  bsDatepicker
                />
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-3">
            <div class="form-group">
              <label class="text-right col-form-label block">
                {{ "Start of installments (Hijri)" | translate }}
              </label>
              <div class="form-group">
                <hijri-gregorian-datepicker
                  [(selectedDate)]="selectedDate"
                  [hijriLabel]="'Hijri'"
                  [selectedDateType]="selectedDateType"
                  [dir]="'dir' | translate"
                >
                </hijri-gregorian-datepicker>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 mb-3">
            <div class="form-group">
              <label for="payment" class="text-right col-form-label block">
                {{ "Down payment value" | translate }}
              </label>
              <input
                ngModel
                class="form-control"
                type="number"
                id="payment"
                name="payment"
              />
            </div>
          </div>

          <div class="periority mt-4 mb-2">
            <label for="payment" class="text-right col-form-label block">
              {{ "Basis for payment" | translate }}
            </label>

            <mat-radio-group
              class="flex gap-4"
              aria-label="Select an option"
              name="status"
            >
              <mat-radio-button value="1" class="text-warning">{{
                "Georgie" | translate
              }}</mat-radio-button>
              <mat-radio-button value="2" class="text-success">{{
                "Hijri" | translate
              }}</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="periority mt-4 mb-2">
            <label for="payment" class="text-right col-form-label block">
              {{ "Method of Payment" | translate }}
            </label>

            <mat-radio-group
              class="flex gap-4"
              aria-label="Select an option"
              name="status"
            >
              <mat-radio-button value="1" class="text-warning">{{
                "Monthly" | translate
              }}</mat-radio-button>
              <mat-radio-button value="2" class="text-success">{{
                "by duration" | translate
              }}</mat-radio-button>
              <mat-radio-button value="3" class="text-danger">{{
                "period with the month" | translate
              }}</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="periority mt-4 mb-2">
            <label for="payment" class="text-right col-form-label block">
              {{ "Installment calculation method" | translate }}
            </label>

            <mat-radio-group
              class="flex gap-4"
              aria-label="Select an option"
              name="status"
            >
              <mat-radio-button value="1" class="text-warning">{{
                "Depending on the number of installments" | translate
              }}</mat-radio-button>
              <mat-radio-button value="2" class="text-success">{{
                "Depending on the premium value" | translate
              }}</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="col-md-6 col-lg-4 mb-3">
            <div class="form-group">
              <label
                for="monthlyInstallment"
                class="text-right col-form-label block"
              >
                {{ "monthly installment" | translate }}
              </label>
              <input
                ngModel
                class="form-control"
                type="number"
                id="monthlyInstallment"
                name="monthlyInstallment"
              />
            </div>
          </div>

          <div class="col-md-6 col-lg-4 mb-3">
            <div class="form-group">
              <label
                for="numberOfInstallments"
                class="text-right col-form-label block"
              >
                {{ "number of installments" | translate }}
              </label>
              <input
                ngModel
                class="form-control"
                type="number"
                id="numberOfInstallments"
                name="numberOfInstallments"
              />
            </div>
          </div>

          <div class="col-md-6 col-lg-4 mb-3">
            <div class="form-group">
              <label
                for="latestInstallment"
                class="text-right col-form-label block"
              >
                {{ "latest installment" | translate }}
              </label>
              <input
                ngModel
                class="form-control"
                type="number"
                id="latestInstallment"
                name="latestInstallment"
              />
            </div>
          </div>
        </div>
      </form>
      <div class="flex gap-2 pt-3 border-t border-neutral-300 justify-end">
        <button
          (click)="addInstallments(form.value); modal?.dismiss()"
          class="btn bg-base text-white"
        >
          {{ "confirem" | translate }}
        </button>

        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "Back" | translate }}
        </button>
      </div>
    </div>
  </ng-template>

</div>

<!-- servicesListModal_Contract -->
<ng-template #servicesListModal_Contract let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body" style="overflow-y: scroll;max-height: 600px;">
    <mat-form-field class="w-full">
      <mat-label>{{ "search" | translate }}</mat-label>
      <input matInput (keyup)="applyFilterServiceList_ContractEdit($event)" #input />
    </mat-form-field>

    <div class="table">
      <table
        mat-table
        [dataSource]="serviceListDataSource_ContractEdit"
        class="mat-elevation-z8 table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px;min-width: fit-content;"
      >
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>
            {{ "ServiceName" | translate }}
          </th>
          <td mat-cell *matCellDef="let element">{{ element.servicesName }}</td>
        </ng-container>

        <!-- price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>{{ "price" | translate }}</th>
          <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="servicesListdisplayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="
            let row;
            let i = index;
            columns: servicesListdisplayedColumns
          "
          (dblclick)="setServiceRowValue_ContractEdit(row); modal.dismiss()"
        ></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            {{ "noResult" | translate }} "{{ input.value }}"
          </td>
        </tr>
      </table>
    </div>

    <div class="text-end mt-2">
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template>


<!-- contractCustomerModal -->
<ng-template #contractCustomerModal let-modal>
  <div
  style="background-color: var(--base-color)"
  class="modal-header text-white flex justify-between items-center"
  >
  <h4
    *ngIf="contractAddObj?.ContractType == 3"
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
      ar: 'عقد أستشارات هندسية',
      en: 'Engineering consultancy contract'
    }"
  ></h4>
  <h4
    *ngIf="contractAddObj?.ContractType == 4"
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
      ar: 'عقد إشراف ',
      en: 'supervision contract'
    }"
  ></h4>

  <h4
    *ngIf="contractAddObj?.ContractType == 5"
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
      ar: 'عقد تصميم',
      en: 'design contract'
    }"
  ></h4>

  <button
    type="button"
    class="text-2xl text-white m-0"
    (click)="modal?.dismiss()"
  >
    <i class="fa-solid fa-xmark"></i>
  </button>
  </div>

  <div class="modal-body">
    <app-customer-contracts-add
      [contractAdd]="contractAddObj"
    ></app-customer-contracts-add>
  </div>
  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>
<!-- contractCustomerMainModal -->
<ng-template #contractCustomerMainModal let-modal>
  <div
  style="background-color: var(--base-color)"
  class="modal-header text-white flex justify-between items-center"
  >

  <h4
    *ngIf="contractAddObj?.ContractType == 1"
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
    ar: 'عقد جديد دفعات',
    en: 'New contract payments'
    }"
  ></h4>
  <h4
    *ngIf="contractAddObj?.ContractType == 2"
    class="m-0"
    [translate]="'name'"
    [translateParams]="{
    ar: 'عقد جديد معالج أقساط ',
    en: 'New Contract Wizard Installments'
    }"
    ></h4>


  <button
    type="button"
    class="text-2xl text-white m-0"
    (click)="modal?.dismiss()"
  >
    <i class="fa-solid fa-xmark"></i>
  </button>
  </div>

  <div class="modal-body">
    <app-customer-contracts-add-main
      [contractAdd]="contractAddObj"
    ></app-customer-contracts-add-main>
  </div>
  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- deletePaymentModal -->
<ng-template #deletePaymentModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="confirmDeleteCustomerPayment(); modal.dismiss()"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- NewInvoiceModal  -->
<ng-template #NewInvoiceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0" >
      <span *ngIf="modalInvoice.popuptype==2"  class="text-2xl">{{ "NewsSalesInvoice" | translate }}</span>
      <span *ngIf="modalInvoice.popuptype!=2" class="text-2xl">{{ "NewInvoice" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <ng-container>
        <div class="row align-items-end mb-2 mx-3">
          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <label for="date" class="text-right col-form-label block">
                {{ "date" | translate }}
              </label>
              <input
                placeholder="{{ 'Chose' | translate }}"
                name="date"
                type="text"
                class="form-control"
                bsDatepicker
                #dpr="bsDatepicker"
                autocomplete="off"
                [bsConfig]="{dateInputFormat: 'DD/MM/YYYY'}"
                (ngModelChange)="ChangeInvoiceGre($event)"
                [(ngModel)]="modalInvoice.Date"
                [ngModelOptions]="{standalone: true}"
                [disabled]="modalInvoice.AddOrView!=1"
              />
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <label for="customerEn" class="text-right col-form-label block">
                {{ "invoice number" | translate }}
              </label>
              <input
                required
                placeholder="{{ 'invoice number' | translate }}"
                class="form-control"
                type="text"
                disabled
                autocomplete="off"
                [(ngModel)]="modalInvoice.InvoiceNumber"
                [ngModelOptions]="{standalone: true}"

              />
            </div>
          </div>


          <div class="col-sm-6 col-md-3 col-lg-2 mb-0" style="display: none;">
            <div class="form-group">
              <input
                required
                placeholder="{{ 'SR' | translate }}"
                class="form-control"
                type="text"
                disabled
                autocomplete="off"
                [(ngModel)]="modalInvoice.Currency"
                [ngModelOptions]="{standalone: true}"
              />
            </div>
          </div>
          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <input
              required
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.JournalNumber"
              [ngModelOptions]="{standalone: true}"
            />
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <input
                placeholder="{{ '' | translate }}"
                required
                class="form-control"
                type="text"
                disabled
                autocomplete="off"
                [(ngModel)]="modalInvoice.OrganizationsAddress"
                [ngModelOptions]="{standalone: true}"
              />
            </div>
          </div>

          <div class="col-sm-10 col-md-6 col-lg-4 mb-0">
            <div class="form-group">
              <ng-select
                class="w-full p-0"
                style="min-width: max-content;display: inline;"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="modalInvoice.CostCenterId"
                [ngModelOptions]="{ standalone: true }"
                name="CostCenterId"
              >
                <ng-option *ngFor="let user of load_CostCenter" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>
          <!-- 2 line-->

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group hijri-gregorianReciept">
              <label
                for="Corresponding"
                class="text-right col-form-label block"
              >
                {{ "Corresponding" | translate }}
              </label>
              <hijri-gregorian-datepicker
              [(selectedDate)]="modalInvoice.HijriDate"
              [hijriLabel]="'Hijri'"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
              autocomplete="off"
              [disabled]="modalInvoice.AddOrView!=1"
              (selectedDateChange)="ChangeInvoiceDateHijri($event)"
            >
            </hijri-gregorian-datepicker>
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <label for="Paytype" class="text-right col-form-label block">
                {{ "Type" | translate }}
              </label>
              <ng-select
                class="w-full p-0"
                style="min-width: max-content;display: inline;"
                placeholder="{{ 'Chose' | translate }}"
                name="Paytype"
                [clearable]="false"
                (change)="PayTypeChange()"
                [(ngModel)]="modalInvoice.PayType"
                [ngModelOptions]="{standalone: true}"
              >
              <ng-option
              *ngFor="let type of Paytype"
              [value]="type.id"
              [translate]="'name'"
              [translateParams]="{ ar: type.name?.ar, en: type.name?.en }"
            >
            </ng-option>
              </ng-select>
            </div>
          </div>

          <div class="col-sm-8 col-md-6 col-lg-6 mb-0">
            <div class="form-group">
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="modalInvoice.ToAccountId"
                [ngModelOptions]="{ standalone: true }"
                (change)="accountIdChange()"
                name="ToAccountId"
              >
                <ng-option *ngFor="let user of load_Accounts" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
            <div class="form-group">
              <input
                placeholder="{{ 'thePhone' | translate }}"
                required
                class="form-control"
                type="text"
                [(ngModel)]="modalInvoice.OrganizationsMobile"
                [ngModelOptions]="{standalone: true}"
                disabled
              />
            </div>
          </div>


          <!-- 3 line -->

          <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
            <div class="form-group">
              <label for="customerId" class="text-right col-form-label block">
                {{ "Client" | translate }}
              </label>
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                id="customerId" disabled
                name="customerId"
                (change)="customerIdChange()"
                [(ngModel)]="modalInvoice.customerId"
                [ngModelOptions]="{standalone: true}"
              >
                <ng-option *ngFor="let user of load_Customer" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0" *ngIf="modalInvoice.popuptype!=2 && invoicepop!=2">
            <div class="form-group">
              <label for="ProjectId" class="text-right col-form-label block">
                {{ "Project" | translate }}
              </label>
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                id="ProjectId"
                name="ProjectId"
                (change)="ProjectIdChange()"
                [(ngModel)]="modalInvoice.ProjectId"
                [ngModelOptions]="{standalone: true}"
                [disabled]="modalInvoice.AddOrView!=1"
              >
                <ng-option *ngFor="let user of load_Projects" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0" *ngIf="invoicepop==2 || invoicepop==3">
            <div class="form-group">
              <input
                placeholder="{{ 'Project' | translate }}"
                required
                class="form-control"
                type="text"
                [(ngModel)]="paymentsDetails.ProjectNo"
                [ngModelOptions]="{standalone: true}"
                disabled
              />
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-2 mb-0" *ngIf="modalInvoice.popuptype==2  && (invoicepop!=2 && invoicepop!=3)">
            <div class="d-flex">
              <input type="checkbox" name="AllCustomer" id="AllCustomer"
              id="AllCustomerCheck" disabled
              name="AllCustomerCheck"
              [(ngModel)]="modalInvoice.AllCustomerCheck"
              [ngModelOptions]="{standalone: true}"
              (change)="AllCustomerCheckChange()"/>
              <label for="AllCustomerCheck" class="mx-2">{{
                "AllCustomer" | translate
              }}</label>
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
            <div class="form-group">
              <label for="CustomerTax" class="text-right col-form-label block">
                {{ "Tax Number" | translate }}
              </label>
              <input
                required
                placeholder="{{ '' | translate }}"
                class="form-control"
                type="text"
                id="CustomerTax"
                name="CustomerTax"
                disabled
                [(ngModel)]="modalInvoice.CustomerTax"
                [ngModelOptions]="{standalone: true}"
              />
            </div>
          </div>
          <div class="col-sm-6 col-md-3 col-lg-3 mb-0" style="display: none;">
            <div class="form-group">
              <label for="CustomerAddress" class="text-right col-form-label block">
                {{ "Address" | translate }}
              </label>
              <input
                required
                placeholder="{{ '' | translate }}"
                class="form-control"
                id="CustomerAddress"
                name="CustomerAddress"
                type="text"
                disabled
                [(ngModel)]="modalInvoice.CustomerAddress"
                [ngModelOptions]="{standalone: true}"
              />
            </div>
          </div>

          <div class="col-sm-8 col-md-4 col-lg-3 mb-0 text-end" style="display:none">
            <div class="form-check form-switch position-relative">
              <label
                class="form-check-label priceOffer"
                for="flexSwitchCheckDefault"
                style="width: max-content"
              >
                {{ "OfferPriceActiveNew" | translate }}
              </label>
              <input
                style="inset-inline-start: 0"
                class="form-check-input px-3 priceOfferInput position-absolute left-100"
                (change)="(showPrice = !showPrice);offerpriceChange();"
                type="checkbox"
                role="switch"
                id="flexSwitchCheckDefault"
                [(ngModel)]="modalInvoice.OfferPriceNoCheck"
                [ngModelOptions]="{standalone: true}"
                [disabled]="modalInvoice.AddOrView!=1"
              />
            </div>
          </div>

          <div class="col-sm-4 col-md-2 col-lg-1 mb-0" style="padding: 0 !important;" *ngIf="showPrice && load_OfferPrices.length>0">
            <div class="form-group">
              <label for="OfferPriceNo" class="text-right col-form-label block">
                {{ "OfferPrice" | translate }}
              </label>
              <ng-select style="min-width: 79px !important;"
                class="w-full p-0"
                style="min-width: max-content"
                id="OfferPriceNo"
                name="OfferPriceNo"
                placeholder="{{ 'Chose' | translate }}"
                (change)="offerpriceChange();"
                [(ngModel)]="modalInvoice.OfferPriceNo"
                [ngModelOptions]="{standalone: true}"
                [disabled]="modalInvoice.AddOrView!=1"
              >
                <ng-option *ngFor="let user of load_OfferPrices" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>
          <div class="col-sm-4 col-md-2 col-lg-1 mb-3" *ngIf="!showPrice">
            <span style="color: red;"> {{ "shifta" | translate }}</span>
          </div>
          <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
            <div class="form-group">
              <label for="StorehouseId" class="text-right col-form-label block">
                {{ "Storehouse" | translate }}</label
              >
              <div class="flex">
                <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="modalInvoice.storehouseId"
                [ngModelOptions]="{ standalone: true }"
                [disabled]="modalInvoice.AddOrView != 1"
                name="storehouseId"
                >
                  <ng-option *ngFor="let user of Storehouse" [value]="user.id">{{
                    user.name
                  }}</ng-option>
                </ng-select>
                <button
                  type="button"
                  [disabled]="modalInvoice.AddOrView != 1"
                  class="btn bg-base text-white"
                  style="padding: 5px 10px"
                  (click)="open(StorehouseModal)"
                >
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <h3 class="flex items-center justify-start fw-bold" >
            <button *ngIf="InvoiceCount"
              type="button "
              class="add-btn mx-2"
              (click)="addInvoiceRow()"
            >
              <i class="fa fa-plus"></i>
            </button>
            <button
            (click)="open(addSerivceModal, null, 'addSerivceModal')"
            type="button"
            class="btn btn-outline-primary"
            >
            {{ "addServices" | translate }}
            </button>
          </h3>
          <div class="editable shadow mb-2 block customTable" style="overflow: auto">
            <table
              class="table table-responsive table-striped table-bordered text-center"
              style="
                vertical-align: middle;
                font-size: 14px;
                min-width: max-content;
              "
            >
              <thead
                class="bg-base text-white"
                style="line-height: 30px; font-size: 13px"
              >
                <tr>
                  <th>{{ "ServiceNo" | translate }}</th>
                  <th style="width: 30% !important;">{{ "ServiceName" | translate }}</th>
                  <th>{{ "Unit" | translate }}</th>
                  <th>{{ "Quantity" | translate }}</th>
                  <th>{{ "price" | translate }}</th>
                  <th>{{ "Discount" | translate }}</th>
                  <th>{{ "discountPercentage" | translate }}</th>
                  <th>{{ "totalBeforeTax" | translate }}</th>
                  <th>{{ "VATTax" | translate }}</th>
                  <th>{{ "Net_taxes" | translate }}</th>
                  <th>{{ "delete" | translate }}</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let item of InvoiceDetailsRows; let i = index"
                  style="line-height: 5px"
                >
                  <td>{{ item.idRow }}</td>
                  <td (click)="invoicepop==2 && open(servicesListModal, null, 'servicesList', item.idRow)">
                    <input
                      type="text"
                      name="os-name{{ item.idRow }}"
                      [(ngModel)]="item.accountJournaltxt"
                      readonly
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-Unit{{ item.idRow }}"
                      [(ngModel)]="item.UnitConst"
                      disabled
                    />
                  </td>
                  <td>
                    <input
                      type="number"
                      min="0"
                      name="os-Qty{{ item.idRow }}"
                      [(ngModel)]="item.QtyConst"
                      [disabled]="modalInvoice.AddOrView!=1"
                      (keyup)="CalculateTotal2(1)"
                      />
                  </td>
                  <td>
                    <input
                      type="number"
                      min="0"
                      name="os-Amount{{ item.idRow }}"
                      [(ngModel)]="item.Amounttxt"
                      [disabled]="modalInvoice.AddOrView!=1"
                      (keyup)="CalculateTotal2(1)"
                    />
                  </td>
                  <td>
                    <input
                      type="number"
                      min="0"
                      name="os-DiscountValue{{ item.idRow }}"
                      [(ngModel)]="item.DiscountValueConst"
                      [disabled]="modalInvoice.AddOrView!=1"
                      (keyup)="CalculateTotal2(1)"
                    />
                  </td>
                  <td>
                    <input
                      type="number"
                      min="0"
                      name="os-DiscountPercentage{{ item.idRow }}"
                      [(ngModel)]="item.DiscountPercentageConst"
                      [disabled]="modalInvoice.AddOrView!=1"
                      (keyup)="CalculateTotal2(2)"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-AmountBefore{{ item.idRow }}"
                      [(ngModel)]="item.AmountBeforeTaxtxt"
                      [disabled]="modalInvoice.AddOrView!=1"
                      readonly
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-taxAmount{{ item.idRow }}"
                      [(ngModel)]="item.taxAmounttxt"
                      [disabled]="modalInvoice.AddOrView!=1"
                      readonly
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-TotalAmount{{ item.idRow }}"
                      [(ngModel)]="item.TotalAmounttxt"
                      [disabled]="modalInvoice.AddOrView!=1"
                      readonly
                    />
                  </td>

                  <td class="flex">
                    <button
                    title=""
                    class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                    style="margin-inline-end: 6px"
                    (click)="open(serviceDetailsModal_Invoice, item, 'serviceDetails_Invoice')"
                  >
                    <i class="fa-solid fa-info"></i>
                  </button>
                    <button *ngIf="modalInvoice.AddOrView==1" (click)="RemoveServicesparent_invoice(item);deleteInvoiceRow(item.idRow)"
                      class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10"
                    >
                      <i class="fa-solid fa-trash-can"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="box w-100 p-3">
                <div>
                  <label for="include_tax">{{ "tax type" | translate }}</label>
                  <ng-select
                    class="w-100"
                    placeholder="{{ 'Chose' | translate }}"
                    name="include_tax"
                    [(ngModel)]="modalInvoice.taxtype"
                    [ngModelOptions]="{standalone: true}"
                    [clearable]="false"
                    (change)="taxtypeChange()"
                    disabled="disabled"
                  >
                    <ng-option [value]="2">{{
                      "Excluding tax" | translate
                    }}</ng-option>
                    <ng-option [value]="3">{{
                      "Taxes included" | translate
                    }}</ng-option>
                  </ng-select>
                </div>

                <div>
                  <label for="paid" class="text-right col-form-label block">
                    {{ "paid" | translate }}
                  </label>
                  <input
                    id="paid"
                    required
                    class="form-control bg-green"
                    type="text"
                    [(ngModel)]="modalInvoice.PaidValue"
                    [ngModelOptions]="{standalone: true}"
                    [disabled]="modalInvoice.AddOrView!=1"
                    [readOnly]="modalInvoice.PayType==8"
                    (keyup)="checkRemainder()"

                  />
                </div>

                <div>
                  <label for="remaining">{{ "remaining" | translate }}</label>
                  <input
                    type="text"
                    id="remaining"
                    name="remaining"
                    class="form-control bg-red"
                    [(ngModel)]="modalInvoice.remainder"
                    [ngModelOptions]="{standalone: true}"
                    disabled

                  />
                </div>
              </div>

              <div class="d-flex me-3">
                <input type="checkbox" name="printBankAccount" id="printBankAccount"[(ngModel)]="modalInvoice.printBankAccount"
                [ngModelOptions]="{standalone: true}"[disabled]="modalInvoice.AddOrView!=1"/>
                <label for="date" class="mx-2">{{
                  "hideAccount" | translate
                }}</label>
              </div>

              <div class="form-group row me-3">
                <label for="Statement" class="col-sm-2 col-form-label">{{
                  "Statement" | translate
                }}</label>
                <div class="col-sm-10">
                  <input
                    type="text"
                    id="Statement"
                    name="Statement"
                    class="form-control"
                    placeholder="{{ 'Statement' | translate }}"
                    [(ngModel)]="modalInvoice.InvoiceNotes"
                    [ngModelOptions]="{standalone: true}"
                    autocomplete="off"
                  />
                </div>
              </div>

              <div class="form-group row  me-3">
                <label for="theNotes" class="col-sm-2 col-form-label">{{
                  "theNotes" | translate
                }}</label>
                <div class="col-sm-10">
                  <input
                    type="text"
                    id="theNotes"
                    name="theNotes"
                    class="form-control"
                    placeholder="{{ 'theNotes' | translate }}"
                    [(ngModel)]="modalInvoice.Notes"
                    [ngModelOptions]="{standalone: true}"
                    autocomplete="off"
                  />
                </div>
              </div>
              <div class="form-group row me-3">
                <label for="attachments" class="col-sm-2 col-form-label">{{
                  "attachments" | translate
                }}</label>
                <div class="col-sm-10">
                  <file-upload
                  class="w-full"
                  style="min-height: 40px"
                  [(ngModel)]="uploadedFiles"
                  name="files"
                ></file-upload>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="box w-100 px-1 py-2 mx-3">
                <div>
                  <label
                    for="totalAmount"
                    class="text-right col-form-label block"
                  >
                    {{ "totalAmount" | translate }}
                  </label>
                  <input
                    id="totalAmount"
                    required
                    class="form-control"
                    type="text"
                    [(ngModel)]="modalInvoice.totalAmount"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>
                <div>
                  <label
                    for="TotalDiscount"
                    class="text-right col-form-label block"
                  >
                    {{ "TotalDiscount" | translate }}
                  </label>
                  <input
                    id="TotalDiscount"
                    required
                    class="form-control"
                    type="text"
                    [(ngModel)]="modalInvoice.discounMoneytVal"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label
                    for="netAmount"
                    class="text-right col-form-label block"
                  >
                    {{ "netAmount" | translate }}
                  </label>
                  <input
                    id="netAmount"
                    required
                    class="form-control"
                    type="text"
                    [(ngModel)]="modalInvoice.totalWithDiscount"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label for="AllTotal" class="text-right col-form-label block">
                    {{ "AllTotal" | translate }}
                  </label>
                  <input
                    id="AllTotal"
                    required
                    class="form-control"
                    type="text"
                    [(ngModel)]="modalInvoice.total_"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label for="netBill">{{ "netBill" | translate }}</label>
                  <input
                    type="text"
                    id="netBill"
                    name="netBill"
                    class="form-control"
                    [(ngModel)]="modalInvoice.VoucherValue"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label
                    for="TotalTaxes"
                    class="text-right col-form-label block"
                  >
                    {{ "TotalTaxes" | translate }}
                  </label>
                  <input
                    id="TotalTaxes"
                    required
                    class="form-control bg-yellow"
                    type="text"
                    [(ngModel)]="modalInvoice.taxAmountLbl"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label for="CreditNoteTotal">{{
                    "CreditNoteTotal" | translate
                  }}</label>
                  <input
                    type="text"
                    id="CreditNoteTotal"
                    name="CreditNoteTotal"
                    class="form-control"
                    [(ngModel)]="modalInvoice.CreditNotiLbl"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div style="display:none">
                  <label for="TotalDebtorNotice">{{
                    "TotalDebtorNotice" | translate
                  }}</label>
                  <input
                    type="text"
                    id="TotalDebtorNotice"
                    name="TotalDebtorNotice"
                    class="form-control"
                    [(ngModel)]="modalInvoice.DepitNotiLbl"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>

                <div>
                  <label
                    for="Net_taxes"
                    class="text-right col-form-label block"
                  >
                    {{ "Net_taxes" | translate }}
                  </label>
                  <input
                    id="Net_taxes"
                    required
                    class="form-control bg-black"
                    type="text"
                    [(ngModel)]="modalInvoice.TotalVoucherValueLbl"
                    [ngModelOptions]="{standalone: true}"
                    disabled
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      <!-- footer -->
    </ng-container>

    <div class="d-flex justify-content-end" *ngIf="modalInvoice.AddOrView==1">
      <div class="pt-1 m-1" *ngIf="invoicepop==2">
        <button
        [disabled]="disableButtonSave_Invoice"
        (click)="modalInvoice.WhichClick=2;open(SaveInvoiceConfirmModal, null, 'SaveInvoiceConfirmModal',null,modal);"
        class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "Save_CarryOver" | translate }}
        </button>
      </div>

      <div class="pt-1 m-1" *ngIf="invoicepop==2">
        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "close" | translate }}
        </button>
      </div>
      <div class="pt-1 m-1" *ngIf="invoicepop!=2">
        <button (click)="continuou(modal)" class="btn btn-secondary">
          {{ "continuou" | translate }}
        </button>
      </div>

      <div class="pt-1 m-1" *ngIf="invoicepop==2">
        <button
        [disabled]="disableButtonSave_Invoice"
          (click)="modalInvoice.WhichClick=1;open(SaveInvoiceConfirmModal, null, 'SaveInvoiceConfirmModal',null,modal);"
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "save" | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-template>

<!-- Print -->

<ng-template #printDivModal let-modal>
  <div class="modal-body">
    <div
      id="divHtml_a"
      class="divHtml"
      style="width: 100% !important; margin: 0px auto !important;"
    >
    <div>
      <img *ngIf="CustomData.headerurl"
        src="{{CustomData.headerurl}}"
        alt="headerurl"
        style="height: 60px;width: 100%;max-width: 100%;object-fit: fill;"/>
    </div>
      <div class="invoiceNe-wrapper" style="direction: rtl !important">
        <!--Header-->
        <div class="invoiceNe-header">
          <div class="headerNe-right-side">
            <img *ngIf="CustomData.OrgImg"
              src="{{CustomData.OrgImg}}"
              alt="logo"
              style="height: 80px;width: 140px;max-width: 200px;object-fit: fill;"
            />
          </div>
          <div class="headerNe-lefy-side" style="width: 100%">
            <p>{{InvPrintData?.org_VD?.nameAr}}</p>
            <p>{{InvPrintData?.org_VD?.nameEn}}</p>
            <div class="line" style="position: relative; padding: 1px 0px 1px">
              <span
                style="position: absolute;right: 0; width: 100%;height: 2px;
                  background-color: #e5e5e5;z-index: 1;"
              ></span>
              <span
                style="position: absolute;right: 0;width: 70%;height: 2px;background-color: #ec1c24;z-index: 2;"
              ></span>
            </div>
            <h1 style="margin-bottom: 0">فاتورة ضريبية</h1>
          </div>
        </div>
        <!--/Header-->

        <!--invoiceNe-content-->
        <div class="invoiceNe-content">
          <div class="firstNe-table-main-heading" style="display: flex">
            <div class="firstNe-table" style="margin-left: 5px; width: 50%">
              <table
                class="tableI"
                style=" margin-bottom: 5px; vertical-align: middle;text-align: center;">
                <thead>
                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم الفاتورة
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.invoiceNumber}}
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Invoice No
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      تاريخ الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                        {{InvPrintData?.invoicesVM_VD?.date}}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Invoice Date
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      تاريخ التوريد
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.date}}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px; color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Date of supply
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="firstNe-table" style="margin-right: 5px; width: 50%">
              <table
                of
                supplyable
                class="tableI"
                style="margin-bottom: 5px;vertical-align: middle;text-align: center;">
                <thead>
                  <tr>
                    <th
                      style="background-color: #faebd7;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      فاتورة ضريبية
                    </th>
                    <th
                      style="
                        background-color: #faebd7;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.payTypeName}}
                    </th>
                    <th
                      style="
                        background-color: #faebd7;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Tax Invoice
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;font-size: 12px;
                        letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم المشروع
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      {{InvPrintData?.invoicesVM_VD?.projectNo}}
                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px; letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Project No
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      رقم العقد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                        {{ CustomData.ContractNo }}

                    </th>
                    <th
                      style="background-color: #dceefd;padding: 2px;color: #53627e;
                        font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                      Contract No
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>

          <!--Details-->
          <div class="invoiceNe-details" style="margin-bottom: 0px; display: flex">
            <!--second table-->
            <div class="secondNe-table" style="margin-left: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #dceefd !important;font-size: 15px;letter-spacing: 0.0px;font-weight: 700;
                  padding: 1px 10px;">
                <span>بيانات المورد </span>
                <span>Seller</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    الاسم
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.branch_VD?.isPrintInvoice==true?InvPrintData?.branch_VD?.nameAr
                      :InvPrintData?.org_VD?.nameAr}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px; letter-spacing: 0.0px;border: 1px solid #f0f7fe;" >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                    العنوان
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.address
                      :InvPrintData?.branch_VD?.address}}
                  </th>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;"
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.buildingNumber
                    :InvPrintData?.branch_VD?.buildingNumber}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.streetName
                    :InvPrintData?.branch_VD?.streetName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.neighborhood
                    :InvPrintData?.branch_VD?.neighborhood}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.cityName
                    :InvPrintData?.branch_VD?.cityName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.country
                    :InvPrintData?.branch_VD?.country}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.postalCodeFinal
                    :InvPrintData?.branch_VD?.postalCodeFinal}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>

                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                   ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.externalPhone
                    :InvPrintData?.branch_VD?.externalPhone}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit. No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.orgIsRequired_VD==true?InvPrintData?.org_VD?.taxCode
                    :InvPrintData?.branch_VD?.taxCode}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  VAT
                  </th>
                </tr>
                <tr></tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الفرع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{InvPrintData?.branch_VD?.isPrintInvoice==true?InvPrintData?.branch_VD?.nameAr
                      :"--"}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Branch
                  </th>
                </tr>
              </table>
            </div>
            <!--second table-->
            <!--third table-->
            <div class="thirdNe-table" style="margin-right: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #faebd7 !important;
                  font-size: 15px;
                  letter-spacing: 0.0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات العميل </span>
                <span>Customer</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;" >
                    الاسم
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.customerVM_VD?.customerNameAr}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    العنوان
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.customerVM_VD?.customerAddress}}
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;" >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;" >
                    ر.المبنى
                  </th>
                  <th
                    style="padding: 0px;font-size: 12px;letter-spacing: 0.0px;border: 1px solid #f0f7fe;">
                    {{InvPrintData?.customerVM_VD?.buildingNumber}}
                  </th>
                  <th
                    style=" padding: 0px;font-size: 12px;letter-spacing: 0.0px; border: 1px solid #f0f7fe;">
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="padding: 0px;font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.streetName}}
                </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.neighborhood}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.cityName}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.country}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.postalCodeFinal}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.externalPhone}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.commercialRegInvoice}}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    معرف اخر
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0.0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                  {{InvPrintData?.customerVM_VD?.commercialRegister}}
                  </th>
                  <th style="
                  padding: 0px;
                  font-size: 12px;
                  letter-spacing: 0.0px;
                  border: 1px solid #f0f7fe;
                ">
                    A.SellerID
                  </th>
                </tr>
              </table>
            </div>
            <!--third table-->
          </div>

          <!--totalNe-invoice-->
          <div class="totalNe-invoice" style="margin-bottom: 0px">
            <table
              style="
                max-width: 100%;
                vertical-align: middle;
                text-align: center;
              "
            >
              <thead>
                <tr>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    م <br />
                    .No
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    اسم الخدمة <br />
                    Item Name
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الوحدة <br />
                    Unit
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الكمية <br />
                    .Qty
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    السعر <br />
                    Price
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الخصم <br />
                    Discount
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    نسبة الخصم <br />
                    discount percent
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الصافي<br />
                    Net
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    ض.ق.المضافة <br />
                    VAT
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الصافي + الضريبة <br />
                    Net + VAT
                  </th>
                </tr>
              </thead>
              <tbody style="line-height: 1.2em;">
                <tr *ngFor="let item of InvPrintData?.voucherDetailsVM_VD; let i = index">
                  <td>{{i+1}}</td>
                  <td><span style="font-size: 13px;font-weight: 700;">{{item.servicesPriceName}}</span>
                    <ul *ngFor="let det of item?.servicesPricesOffer; let i = index"
                    style="list-style: none;padding: 0px;margin-inline-start: 10px;text-align: right;
                      margin-top: 3px;line-height: 16px;font-size: 12px;">
                  <hr style="margin: 6px;"/>
                    <li> <span style="font-size: 12px;font-weight: 800;">-</span> {{det.name}}</li>
                  </ul></td>
                  <!-- <td>{{item.servicesPriceName}}</td> -->
                  <td>{{item.serviceTypeName}}</td>
                  <td>{{item.qty}}</td>
                  <td>{{GetAccualValue(item)}}</td>
                  <td>{{item.discountValue_Det}}</td>
                  <td>{{item.discountPercentage_Det}}</td>
                  <td>{{GetDiff(item)}}</td>
                  <td>{{item.taxAmount}}</td>
                  <td>{{item.totalAmount}}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!--totalNe-invoice-->
          <!--invoice value-->
          <div
            class="invoiceNe-value"
            style="display: block !important; margin-bottom: 3px"
          >
            <div class="invoiceNe-divided">
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span> الإجمالي : </span>
                  <span>{{CustomData.Total}}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الخصم : </span>
                  <span>{{CustomData.DiscPer}} %    {{CustomData.Disc}}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الإجمالي بعد الخصم : </span>
                  <span>{{CustomData.TotalAfterDisc}}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الصافي : </span>
                  <span>{{CustomData.netVal}}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> ضريبة القيمة المضافة (15%) : </span>
                  <span>{{(InvPrintData?.invoicesVM_VD.taxAmount??0)}}</span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1px;
                    min-width: 637px;
                    max-width: 637px;
                  "
                >
                  <span>إجمايل المبلغ المطلوب سداده: </span>
                  <span
                    >{{ InvPrintData?.invoicesVM_VD.totalValue ?? 0 }}</span>
                    <span style="margin-right: 6%;">({{ InvPrintData?.valueNumString }})</span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1dvh;
                    min-width: 637px;
                    max-width: 637px;
                  "
                >
                  <span>الملاحظات:</span>
                  <span>{{InvPrintData?.invoicesVM_VD.notes}}</span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1px;
                    min-width: 637px;
                    max-width: 637px;
                    font-size: 15px !important;
                  "
                >
                  <span>وسائل الدفع:</span>
                  <span></span>
                </p>
              </div>
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span>المدفوع :</span>
                  <span>{{(InvPrintData?.invoicesVM_VD.paidValue??0)}}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span>المتبقي :</span>
                  <span>{{(InvPrintData?.invoicesVM_VD.totalValue??0)-(InvPrintData?.invoicesVM_VD.paidValue??0)}}</span>
                </p>
                <p style="margin-top: 120%;color:red" *ngIf="CustomData?.PrintType!=1">
                  <span>{{CustomData?.PrintTypeName}}</span>
                </p>
              </div>

            </div>
          </div>

          <!--invoice -bank-account-->
          <!--invoiceNe-footer-->
          <div
            class="invoiceNe-footer"
            style="
              display: flex !important;
              justify-content: space-between;
              align-items: start;
            "
          >
            <div>
              <img *ngIf="CustomData.Account1Img"
                src="{{CustomData.Account1Img}}"
                alt=""
                style=" display: block !important;width: 100px;
                  height: 70px; object-fit: fill; margin-bottom: 5px;"/>
              <img *ngIf="CustomData.Account2Img"
                src="{{CustomData.Account2Img}}"
                alt=""
                style="display: block !important;width: 100px;
                  height: 70px;object-fit: fill;"/>
            </div>

            <div>
              <h4>{{CustomData.Account1Bank}}</h4>
              <h4>{{CustomData.Account2Bank}}</h4>
              <h4 *ngIf="InvPrintData?.invoicesVM_VD.appearUser==1">{{InvPrintData?.invoicesVM_VD.addUser}}</h4>
            </div>

            <div class="qrNe-code">
              <img #conditionimg
                src="{{InvPrintData?.qrCodeString_VD}}"
                alt="QRCode"
                style="height: 140px; width: 180px"
              />
            </div>
          </div>

          <!--invoiceNe-footer-->
          <!--Details-->
        </div>
        <!--invoiceNe-content-->
        <div>
          <img *ngIf="CustomData.footerurl"
            src="{{CustomData.footerurl}}"
            alt="footerurl"
            style="height: 60px;width: 100%;max-width: 100%;object-fit: fill;"/>
          </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('divHtml_a')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>


<ng-template #printDivContracts_SupModal let-modal>
  <div class="modal-body">
    <div id="report3Contract" [ngStyle]="{ direction: 'rtl' }">

      <div class="grid-container" style="background: cadetblue;">
        <div class="grid-item">
                <img *ngIf="CustomDataContract.OrgImg"
                src="{{CustomDataContract.OrgImg}}"
                  alt="logo"
                  style="width: 270px;height: 110px;background: #fff;border-bottom-left-radius: 40px;"
                />
            <h1 style="margin: 0;font-size: 22px;color:#fff;">{{Contract3PrintData?.org_VD.nameAr}}</h1>
            <h5 style="margin: 0;color:#fff;"> {{Contract3PrintData?.objBranch.nameAr}}</h5>
        </div>
        <div class="grid-item text-center">
          <h1 class="text-center" style="font-size:26px;">العقد الاساسي للخدمات الهندسية</h1>
          <h5 class="text-center">خدمات الاشراف</h5>
        </div>
    </div>

      <div style="margin-bottom: 10px">
        <p>
          <span>تم ابرام هذا العقد في يوم {{Contract3PrintData?.contract.date}} الموافق {{Contract3PrintData?.contract.hijriDate}} بين وبواسطة كل من: </span>
        </p>
      </div>
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الأول</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> ترخيص هندسي برقم {{Contract3PrintData?.contract.engineering_License}} صادر بتاريخ {{Contract3PrintData?.contract.engineering_LicenseDate}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.emp.employeeName}} بصفتة {{Contract3PrintData?.emp.jobName}} </span></p>
      <p><span>ويشار اليه في هذا العقد (بالاستشاري)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الثان</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.customer.customerNameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.customer.customerTypeName}}</span></p>
      <p><span> هوية وطنية سجل تجاري رقم {{Contract3PrintData?.customer.customerNationalId}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.customer.customerNameAr}} بصفتة المالك </span></p>
      <p><span>ويشار اليه في هذا العقد (بالمالك)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;text-align: center;">
        <span>التمهيد</span>
      </p>

      <p><span>حيث ان المالك علي وشك إبرام عقد (عقد المقاولة الرئيسي) مع (المقاول) لتنفيذ (المشروع)؛ وبصدد تعيين مكتب هندسي للتقديم خدمات اشراف على التنفيذ.</span></p>
      <p><span>وحيث ان استشاري الاشراف ممارس للنشاط في مجال تخصصه الهندسي المعتمد ولدية الامكانيات والقدرات الفنية والخبرات اللازمة لتقديم (الخدمة الهندسية)المطلوبة من قبل المالك فيما يختص بالمشروع.</span></p>
      <p><span>ولما كان العرض المقدم من استشاري الاشراف لتقديم الخدمات الهندسية قد اقترن بقبول المالك. فقد اتفق الطرفان-وهما بكامل الاهلية المعتبر تشرعا ونظاماعلي الاتي:</span></p>
      <p><span>اولا: التمهيد أعلاه يعتبر جزءا لا <span>يتجزا</span> من هذا العقد. بحيث يجب تفسيره وتطبيقه على هذا الاساس</span></p>
      <p><span>
              ثانيا: الكلمات والعبارات المحددة
              بين قوسين في التمهيد أعلاه يكون لها ذات التعريفات والمعاني المقابلة لها في بند
              التعريفات رقم (1) بالشروط العامة للعقد
      </span> </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>ثالثا العقد </span>
      </p>

      <p><span>1)يتألف هذا العقد من الوثائق التالية:</span></p>
      <p> <span>1-1هذه الوثيقة (العقد الاساسي للخدمات الهندسية -خدمات الاشراف).</span></p>
      <p><span>1-2الشروط الخاصة للعقد.</span></p>
      <p><span>1-3الشروط العامة للعقد.</span></p>
      <p><span>ملاحق العقد من (4-1).</span></p>
      <p><span>1-5 خطاب قبول العرض الموجة من المالك لإستشاري الاشراف بتاريخ {{Contract3PrintData?.contract.appr_LetterDate_Des}}</span></p>
      <p><span>
              1-6
              العرض المقدم للمالك من استشاري الاشراف بخصوص الخدمات الاستشارية بتاريخ {{Contract3PrintData?.contract.engServ_OfferDate_Des}}
          </span>
      </p>
      <p><span>1-7 اي وثائق اخري</span></p>
      <p>
          <span>
              2)
              تشكل الوثائق أعلاه وحدة متكاملة. وتعد كل منها جزءا لا يتجزأ من من هذا العقد
              بحيث تفسر وتتم بعضها البعض وفي حال وجود اي تناقض بين اي من
          </span>
      </p>
      <p>
          <span>
              هذه الوثائق. فإن الوثيقة المتقدمة تفوق
              على الوثيقة التي تليها في الترتيب
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>رابعا: الغرض من العقد</span></p>

      <p>
          <span>
              1)
              يلتزم استشاري الاشراف بتقديم الخدمات الهندسية المحددة في الملحق رقم (1) المرفق بهذا
              العقد. وذلك مقابل الاتعاب المهنية المتفق عليها في هذا العقد
          </span>
      </p>

      <p>
          <span>
              2)
              يشمل التزام الاستشاري فيما يختص بتنفيذ الخدمات الاستشارية توفير وتقديم كافة
              الموارد والمعدات والادوات والكادر الهندسي والفني والاداري والاعمال
          </span>
      </p>





      <p>
          <span>
              الإضافية والتعديلات التي يطلبها المالك
              ووسائل النقل والمواصلات واي اعمال اخري يحتاجها تنفيذ مهامه او من دونها لا يمكن
              تنفيذ المهام على الوجه الاكمل
          </span>
      </p>

      <p><span>وفقا لشروط هذا العقد</span></p>





      <p>
          <span>
              3)
              يلتزم استشاري الاشراف في تقديمة للخدمات الاستشارية بموجب هذا العقد. ويتقيد بالآتي:
          </span>
      </p>

      <p>
          <span>
              3-1
              توفير فريق العمل بصورة دائمة ومستمرة وفقا للجدول الوارد في الملحق رقم (2)
              المرفق بهذا العقد
          </span>
      </p>

      <p>
          <span>
              3-2
              اللوائح والانظمة والتعليمات النافذة ومتطلبات الجهات المختص فيما يتعلق بالمشروع
          </span>
      </p>

      <p>
          <span>
              3-3
              الواجبات المهنية ودرجة العناية والحرص اللازمين بحسب الاعراف الهندسية والانظمة والمواثيق والاخلاقيات ذات الصلة بتخصصه المهني فيما يختص
              بأدائه لمهامه والتزاماته التعاقدية
          </span>
      </p>

      <p>
          <span>
              3-4
              حدود السلطات والصلاحيات المقررة صراحة او ضمنا بموجب هذا العقد وفقا للملحق رقم (4) المرفق به. ووفقا للتوجيهات والتفويضات الخطية الصادرة
              من المالك
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>خامسا: مدة العقد</span></p>

      <p>
          <span>
              1)
              يبدا سريان هذا العقد من تاريخ توقيع الطرفان عليه ويظل ساريا لمدة {{Contract3PrintData?.contract.contPeriod_Des}}  ويجوز باتفاق الطرفين الخطي تمديد مدة العقد بذات الشروط الواردة
          </span>
      </p>

      <p>
          <span>
              2)
              خلال (7) ايام من تاريخ بدء سريان هذا العقد. يخطر المالك استشاري الاشراف بتاريخ بدء العمل
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              سادسا: الاتعاب المهنية وطريقة
              السداد
          </span>
      </p>

      <p>
          <span>
              1)
              يلتزم المالك في مقابل تنفيذه للخدمات الهندسية. بان يدفع للاستشاري الاتعاب المهنية ووفقا لتفاصيل الفاتورة المحددة في الملحق رقم (3) المرفق بهذا.
          </span>
      </p>

      <p>
          <span>
              2)
              يقدم استشاري الاشراف فاتورة دورية للمالك أو من يمثله بأتعابه المهنية وفقا لتواريخ الاستحقاق المحددة وطبقا لنموذج فاتورة الاتعاب المهنية الدورية
              المتفق عليها في الملحق رقم (3) المرفق بهذا العقد.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>سابعا: العمل والتكاليف الاضافية</span></p>


      <p>
          <span>
              لا يحق لاستشاري الاشراف القيام باي
              عمل يترتب علية اعباء مالية علي المالك او يتطلب منه دفع اتعاب مهنية اضافية الا
              بعد موافقة المالك الخطية المسبقة
          </span>
      </p>

      <p>
          <span>
              علي ذلك واعتماده لفاتورة الاتعاب
              المهنية الإضافية وفقا لنموذج فاتورة الاتعاب المهنية الاضافية المتفق عليها في
              الملحق رقم (3) المرفق بهذا العقد.
          </span>
      </p>




      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              ثامنا: نسخة الفاتورة المعدة لغرض
              التنفيذ
          </span>
      </p>



      <p>
          <span>
              1
              تخضع فواتير الاتعاب المهنية الصادرة بموجب البند (سادسا) اعلاه. وكذلك فواتير
              الاتعاب والتكاليف الاضافية الصادرة بموجب البند سابعا اعلاه. لأحكام
          </span>
      </p>

      <p>
          <span>
              نظام التنفيذ ولائحته التنفيذية يلتزم
              الطرفان بما تتضمن كل فاتورة تصدر بموجب البندين المذكورين نسخة لغرض التنفيذ
          </span>
      </p>

      <p>
          <span>
              2)
              يقر الطرفان بان كل فاتورة دورية يقدمها استشاري الاشراف للمالك بموجب الفقرة (2) من
              البند سادسا اعلاه حجة على ما تحويه من قيمة اتعاب مهنية مستحقة
          </span>
      </p>



      <p>
          <span>
              للاستشاري بتاريخ الاستحقاق المدون
              في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد قضاء (30) ثلاثون يوما
              من تاريخ استلام المالك للمطالبة
          </span>
      </p>

      <p><span>الدورية المتعلقة بها</span></p>





      <p>
          <span>
              -
              سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
          </span>
      </p>





      <p>
          <span>
              يقر الطرفان بان كل فاتورة اتعاب وتكاليف
              اضافية معتمدة من المالك بموجب البند (سابعا) أعلاه حجة على ما تحويه من قيمة
              اتعاب وتكاليف اضافية مستحقة
          </span>
      </p>

      <p>
          <span>
              للاستشاري بتاريخ الاستحقاق المدون
              في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد انقضاء (30) ثلاثون
              يوما من التاريخ المحدد بالفاتورة
          </span>
      </p>

      <p>
          <span>
              للانتهاء من تنفي الاعمال الاضافية
              المتعلقة بها - سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>تاسعا: التقاضي</span></p>





      <p>
          <span>
              1)
              تختص محكمة التنفيذ بتنفيذ فواتير الاتعاب المعدة لغرض التنفيذ وفقا للبند (ثامنا)
              أعلاه، وكذلك بالفصل في أي نزاع يتعلق بفواتير الاتعاب المذكورة وفقا
          </span>
      </p>

      <p><span>لأحكام نظام التنفيذ ولائحته التنفيذية.</span></p>

      <p>
          <span>
              2)
              دون المساس لما ورد في الفقرة (1) اعلاه في هذا البند؛ اي نزاع ينشا بين الطرفين
              فيما يتعلق بهذا العقد يحب حلة بالطرق الودية وفي حال إمضاء (30)
          </span>
      </p>

      <p>
          <span>
              ثلاثون يوما من تاريخ طرح الخلاف للحل الودي
              من قبل اي من الطرفين دون الوصول الي حل مرضي لكليهما؛ يحق للطرف ذو المصلحة
              اللجوء الي
          </span>
      </p>

      <p>
          <span>
              المحكمة المختصة للفصل قي الخلاف وفقا لأحكام
              النظام.
          </span>
      </p>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>عاشرا: نسخ العقد</span></p>

      <p>
          <span>
              حرر هذا العقد من نسختين باللغة العربية؛
              وبيد كل طرف نسخة للعمل بموجبها
          </span>
      </p>

      <p>
          <span>
              واشهادا على مضمونة فقد جري التوقيع
              على هذا العقد في اليوم والتاريخ المبينين بمستهلة.
          </span>
      </p>


      <div class="grid-container">
          <div class="grid-item text-center">
              <h4 style="font-size: 19px;font-weight: bold;">الطرف الاول</h4>
              <p>الاسم {{Contract3PrintData?.org_VD.nameAr}}<br>التوقيع</p>
              <p>.....................</p>
          </div>
          <div class="grid-item text-center">
              <h4 style="font-size: 19px;font-weight: bold;">الطرف الثاني</h4>
              <p>الاسم {{Contract3PrintData?.customer.customerNameAr}}<br>التوقيع</p>
              <p>.....................</p>
          </div>
      </div>


      <h4 class="text-center"><span>الشروط الخاصة للعقد</span></h4>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              1)
              بيانات المشروع
          </span>
      </p>



      <p>
          <span>
              1-1
              اسم المشروع {{Contract3PrintData?.project.projectDescription}}
          </span>
      </p>





      <p>
          <span>
              1-2
              موقع المشروع {{Contract3PrintData?.project.cityName}}
          </span>
      </p>


      <p>
          <span>
              3-1
              الوصف الموجز لطبيعة المشروع {{Contract3PrintData?.contract.projBriefDesc_Des}}
          </span>
      </p>

      <p>
          <span>
              2)
              عقد المقاولة الرئيسي
          </span>
      </p>
      <p>
          <span>
              2-1)
               اسم المقاول {{Contract3PrintData?.contract.contractorName_Des}}
          </span>
      </p>
      <p>
          <span>
              2-2)
              تاريخ ابرام العقد {{Contract3PrintData?.contract.contDate_Des}}
          </span>
      </p>
      <p>
          <span>
              2-3)
              مدة العقد {{Contract3PrintData?.contract.contPeriod_Des}} يوم
          </span>
      </p>

      <p>
          <span>
              2-4)
              يقر استشاري الاشراف باطلاعه على عقد المقاولة الرئيسي واستلامة نسخة منه للعمل بموجبها
          </span>
      </p>
      <p>
          <span>
              3)
              ممثل الاستشاري: {{Contract3PrintData?.emp.employeeNameAr}}
          </span>
      </p>

      <p>
          <span>
              3)
              ممثل المالك:  {{Contract3PrintData?.customer.customerNameAr}}
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              4)
              الاخطارات والمراسلات
          </span>
      </p>

      <p>
          <span>
              4-1
              وسائل الاتصال المعتمدة بين الطرفين لغرض الاخطارات والمراسلات المطلوبة بموجب
              العقد او ما يتعلق به تقتصر على الاتي:
          </span>
      </p>

      <p>
          <span>
              أ - البريد الالكتروني: ويعتبر
              البريد الالكتروني مرتبا لأثاره النظامية من لحظة إرساله.
          </span>
      </p>

      <p>
          <span>
              ب - البريد العادي: ويعتبر البريد
              العادي مرتبا اثارة النظامية بعد 24 ساعة من تاريخ إيداعه بصندوق بريد المرسل الية
          </span>
      </p>

      <p>
          <span>
              ج - المناولة باليد: حتى ترتب
              اثارها النظامية. يشترط توقيع المرسل الية على نسخة من الاخطار بالاستلام
          </span>
      </p>

      <p><span>د- الاتصال عبر الجوال.</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              4-2
              عناوين الاتصال
          </span>
      </p>

      <p>
          <span>
              أ - استشاري الاشراف: توجه المراسلات
              والاخطارات لممثل الاستشاري؛ على العناوين التالية:
          </span>
      </p>

      <p><span>في حال البريد الالكتروني:</span></p>

      <p><span>في حال البريد العادي:</span></p>

      <p><span>في حال المناولة باليد:</span></p>

      <p><span>في حال الاتصال عبر الجوال:</span></p>

      <p>
          <span>
              ب- المالك توجه المراسلات
              والاخطارات لممثل المالك؛ على العناوين التالية:
          </span>
      </p>

      <p><span>في حال البريد الالكتروني:</span></p>

      <p><span>في حال البريد العادي:</span></p>

      <p><span>في حال المناولة باليد:</span></p>

      <p><span>في حال الاتصال عبر الجوال:</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              5)
              اللغة
          </span>
      </p>

      <p>
          <span>
              اللغة التي يستخدمها الطرفان في
              المراسلات والاخطارات بموجب هذا العقد هي (....اللغة العربية...)
          </span>
      </p>
      <br />
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              6)
              تاريخ بدء العمل
          </span>
      </p>

      <p>
          <span>
              التاريخ المحدد بموجب الاخطار الخطي
              الصادر من المالك وفقا للفقرة (2) من البند (خامسا) من وثيقة العقد الاساسي
              للخدمات الهندسية.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              7)
              الحد من المسؤولية
          </span>
      </p>

      <p>
          <span>
              أقصى تعويض يدفعه استشاري الاشراف
              للمالك لا يتجاوز مبلغ   {{Contract3PrintData?.contract.maxPay_Des}} ريال
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              8)
              التامين ضد الاخطاء المهنية
          </span>
      </p>


      <p>
          <span>
              يلتزم استشاري الاشراف بالتامين ضد
              الاخطاء المهنية على ان تشمل التغطية التأمينية قيمة أقصى تعويض يمكن ان يدفعه
              استشاري الاشراف بموجب شروط
          </span>
      </p>

      <p><span>العقد</span></p>



      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              9)
              ايقاف العمل بالعقد
          </span>
      </p>



      <p>
          <span>
              يحق للمالك ايقاف العمل بموجب هذا
              العقد متي تم ايقاف العمل بموجب عقد المقاولة الرئيسي؛ شريطة ان يخطر المالك
              استشاري الاشراف خطيا بايقاف
          </span>
      </p>

      <p>
          <span>
              العمل وتحديد مدة الايقاف في
              الاخطار المذكور
          </span>
      </p>



      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              10)
              سرية المعلومات
          </span>
      </p>


      <p>
          <span>
              10-1
              يلتزم الطرفين بعدم الكشف عن اي معلومات سرية دون موافقة خطية رسمية مسبقة من
              الطرف الاخر الا في حال كون المعلومات متاحة للعامة؛ أو
          </span>
      </p>

      <p>
          <span>
              كونها معروفة مسبقا من الطرف الاخر
              ، او يجب الافصاح عنها بموجب نظام او أمر قضائي
          </span>
      </p>



      <p>
          <span>
              10-2
              يتحلل اي طرف من طرفي العقد من التزامه فيما يختص بسرية المعلومات بعد انقضاء (....
              ثلاث....) سنوات من تاريخ انتهاء العلاقة التعاقدية.
          </span>
      </p>

      <p>
          <span>
              10-3
              الالتزام بسرية المعلومات يشمل بالاضافة للاستشاري؛ ممثل الاستشاري وافراد فريق العمل ؛ وعلي الاستشاري اتخاذ كافة الاجراءات التي تضمن
              التزام ممثل الاستشاري وفريق العمل بشرط الالتزام بسرية المعلومات.
          </span>
      </p>

      <p>
          <span>
              10-4
              مالم يتم الاتفاق في وثيقة العقد على مدة اطول؛ فان شرط الالتزام بسرية المعلومات يسري لمدة ثلاث سنوات بعد تاريخ انتهاء العلاقة التعاقدية بين
              الاستشاري والمالك الناشئة بموجب هذا العقد.
              .
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              11)
              القانون الواجب التطبيق على العقد
          </span>
      </p>

      <p>
          <span>
              يخضع هذا العقد للأنظمة واللوائح
              السارية في المملكة العربية السعودية
          </span>
      </p>



      <p><span>الشروط العامة للعقد</span></p>





      <p><span>1) التعريفات</span></p>

      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
                المشروع: </span>يقصد به المشروع المشار
              الية في البند رقم (1) من الشروط الخاصة بالعقد
          </span>
      </p>





      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              ممثل استشاري الاشراف: </span> يقصد به الشخص المشار الية في البند
              رقم (2) بالشروط الخاصة للعقد؛ او الشخص البديل الذي يعينة الاستشاري من وقت لأخر
          </span>
      </p>

      <p>
          <span>
              بموجب اخطار خطي موجة
              للمالك طبقا للبند رقم (4) من الشروط الخاصة للعقد. وفي حال عدم توجيه الاستشاري
              اخطار خطي
          </span>
      </p>

      <p>
          <span>
              للمالك بتحديد صلاحيات
              وسلطات ممثل الاستشاري؛ فان ممثل الاستشاري يتمتع بصلاحيات وسلطات كاملة كما
              لو كان الاستشاري نفسه
          </span>
      </p>



      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              ممثل المالك: </span>يقصد به الشخص المشار الية في البند
              رقم (3) من الشروط الخاصة للعقد او الشخص البديل الذي يعينه المالك من وقت لأخر
              بموجب
          </span>
      </p>





      <p>
          <span>
              اخطار خطي يوجهه
              للاستشاري طبقا للبند رقم (5) من الشروط الخاصة للعقد وفي حال عدم تو ة المالك
              اخطار خطي للاستشاري بتحديد
          </span>
      </p>

      <p>
          <span>
              صلاحيات وسلطات ممثل المالك؛ فان
              ممثل ا‏لمالك يتمتع بصلاحيات وسلطات كاملة كما لوكان المالك نفسه
          </span>
      </p>





      <p>
          <span>
              <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
                المالك:</span> يقصد به الطرف الثاني لهذا
              العقد او الشخص الذي يخلفه في ملكية المشروع سواء كان خلفا خاصا او عاما
          </span>
      </p>





      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              تاريخ بدء العمل: </span>يقصد به تاريخ بدء
              العمل في البند رقم (٧) من الشروط الخاصة للعقد، وفي حال عدم تحديد التاريخ
              المذكور فإن تاريخ بدء العمل يعتبر اليوم السابع من تاريخ توقيع الطرفين علي العقد
          </span>
      </p>


      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              الخدمات الهندسية: </span>
              يقصد بها خدمات الاشراف علي تنفيذ المشروع والمتفق عليها بموجب وثيقة العقد الاساسي للخدمات الهندسية.
          </span>
      </p>



      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              عقد المقاولة الرئيسي: </span> يقصد به
              العقد الذي يبرمه المالك مع المقاول لتنفيذ المشروع.
          </span>
      </p>

      <p><span>
        <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">

          المقاول: </span>يقصد به المقاول الرئيسي الذي يقوم بتنفيذ المشروع وفقا لعقد المقاولة الرئيسي.</span></p>


      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">

                عقد التصميم: </span>
              يقصد به العقد الذي يبرمه المالك مع مكتب هندسي للإشراف على تنفيذ المشروع
          </span>
      </p>


      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
                المعلومات السرية: </span> أي معلومات يفصح
              عنها اي من الطرفين للأخر بموجب هذا العقد، اي كانت طبيعتها او نوعها او وسائط
              تخزينها سواء كانت شفهية او
          </span>
      </p>

      <p>
          <span>
              او خطية وإلكترونية، والتي يؤشر
              عليها عند الافصاح عنها بانها سرية
          </span>
      </p>





      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
                القوة القاهرة: </span>يقصد بها اي حث عام
              في تأثيره، غير متوقع عند ابرام هذا العقد، خارج عن السيطرة ويترتب علية استحالة
              تنفيذ التزامات اي من
          </span>
      </p>

      <p>
          <span>
              الطرفين الناشئة بموجب هذا العقد،
              او تنفيذها بمشقة شديدة مثل الحرب المقاطعة الاقتصادية، اعمال الشغب، اضراب العمال
              عن
          </span>
      </p>

      <p>
          <span>
              العمل، الفيضان، السيول؛ القرارات الحكومية
              وما شابة ذلك.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              2)
              تمثيل المالك
          </span>
      </p>


      <p>
          <span>
              2-1
              يمثل الاستشاري المالك في كافة العقود التي يكون المالك طرفا فيها فيما يختص بتصميم المشروع او تنفيذه او الإشراف على تنفيذه على وجه الخصوص
              يمثل الاستشاري المالك في عقد المقاولة الرئيسي وعقد التصميم وعقد الاشراف.
          </span>
      </p>



      <p>
          <span>
              2-2
              يرشح الاستشاري للمالك استشاري التصميم ومقاول التنفيذ واستشاري الاشراف على تنفيذ المشروع، ويقود فريق التفاوض الخاص بالمالك في اي
              مفاوضات يقوم بها بشن اي عقد يبرمه المالك بخصوص المشروع، ويقدم اي ك المشورة اللازمة فيما يختص بإبرام العقود المذكورة.
          </span>
      </p>



      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              3)
              تضارب المصلحة
          </span>
      </p>



      <p>
          <span>
              3-1
              يلتزم الاستشاري في ادائه لالتزاماته بموجب هذا العقد يلتزم الاستشاري لالتزاماته بموجب هذا العقد يلتزم الاستشاري بالقيام بكل ما من شأنه تحقيق
              مصلحة الملك والامتناع عن كل ما من شانه الاضرار بالمالك.
          </span>
      </p>



      <p>
          <span>
              3-2
              اي عقود تتعلق بالمشروع سواء كانت عقود رئيسية او من الباطن، ويكون للاستشاري مصلحة في اي منها؛ فعلي الاستشاري ان يفصح للمالك عن تلك
              المصلحة ويمتنع فورا عن المضي في اجراءات التفاوض او المصادقة على تلك العقود مالم يوافق لت خطيا وصراحة على ذلك.
          </span>
      </p>

      <p>
          <span>
              3-3
              لا يحق لاستشاري الاشراف او اي من اعضاء فريق العمل انشاء علاقات خاصة مع المقاول او اي من مقاولي الباطن على نحو يضر بالمشروع اوالمالك.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              4)
              التزامات استشاري الاشراف
          </span>
      </p>

      <p>
          <span>
              4-1
              يوفر استشاري الاشراف فريق العمل وفق التخصصات والعدد المتفق عليها ويحتفظ بالفريق المذكور طول مدة سريان هذا العقد وعلى استشاري الاشراف
              التقيد بالتخصصات المهنية وفقا للاعتماد المهني وتراخيص ممارسة المهنة وعدم استخدام اي شخص ضمن فريق العمل لا تتوفر فيه المعايير المهنية المطلوبة.
          </span>
      </p>


      <p>
          <span>
              4-2
              كافة الموارد والخدمات التي يعتمدها استشاري الاشراف يجب أن تكون مطابقة للمواصفات الفنية. وكذلك كافة الموردين الذين يعتمدهم استشاري الاشراف
              لتوريد المواد والخدمات؛ يجب استيفائهم للمؤهلات المطلوبة للاعتماد وفقا لمعايير التنافس التجاري الشريف من دون محاباة او حرص لتحقيق مصالح شخصية.
          </span>
      </p>



      <p>
          <span>
              4-3
              فحص وتدقيق كافة الأعمال المنجزة من المقاول ومقاولي الباطن والتأكد من مطابقتها للشروط والمواصفات الفنية المطلوبة.
          </span>
      </p>


      <p>
          <span>
              4-4
              التنسيق بين اعمال المقاولين المختلفة بما يضمن استمرار العمل في المشروع والتوظيف الامثل للمعدات والوقت.
          </span>
      </p>

      <p>
          <span>
              4-5
              التحقق من كافة الضمانات المقدمة من المصنعين للمواد والاجهزة والانظمة الخاصة بالمشروع وتوفير قطع الغيار بحسب الشروط التعاقدية.
          </span>
      </p>

      <p>
          <span>
              4-6
              التحقق من كافة مخططات الورشة التنفيذية ومخططات كما نفذ.
          </span>
      </p>

      <p>
          <span>
              4-7
              الاهتمام بالجانب المستندي في كافة التعاملات مع المقاولين ومقاولي الباطن مما يضمن حفظ حقوق المالك وعدم ضياعها.
          </span>
      </p>


      <p>
          <span>
              4-8
              استبدال اي عضو من اعضاء فريق العمل يطلب المالك استبداله وتوفير البديل وفقا للمؤهلات والتخصص المطلوب.
          </span>
      </p>

      <p>
          <span>
              4-9
              التحقق من استيفاء معايير السلامة ومتطلبات انظمة البينة بما يجنب المالك من التعرض لاي مسائلات او غرامات.
          </span>
      </p>

      <p>
          <span>
              4-10
              تدقيق كافة المخططات التصميمية الخاصة بالمشروع والتحقق من استيفائها لكافة المعايير الهندسية والفنية.
          </span>
      </p>


      <p>
          <span>
              4-11
              دراسة كافة الوثائق والمستندات وفحص اي اعمال يكون مطلوبا من المالك الموافقة او المصادقة عليها وتزويد المالك بالراي الفني خلال المدة
              الزمنية المحددة في شروط العقود المتعلقة بذلك.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              5)
              المسئولية والضمان
          </span>
      </p>


      <p>
          <span>
              5-1
              يكون استشاري الاشراف مسؤول مسؤولية كاملة عن كافة الاعمال التي يتم تنفيذها تحت إشرافه؛ كما يكون مسؤول مسؤولية تبعيه عن كافة تصرفات
              وأعمال فريق العمل؛ ويتحمل كافة الاضرار التي تترتب على الاخطاء الصادرة منه ومن منسوبيه من اعضاء فريق العمل.
          </span>
      </p>


      <p>
          <span>
              5-2
              يلتزم استشاري الاشراف ببذل العناية والحرص المعقولين في أدانه لأعماله الاشرافية.
          </span>
      </p>

      <p>
          <span>
              5-3
              لا يتحمل استشاري الاشراف أي مسؤولية عن الاضرار غير المباشرة أو الاضرار الاحتمالية. أو الاضرار المتوقعة وفي كل الاحوال تقتصر مسؤوليته
              فيما يختص بأخطائه المهنية وأخطاء فريق العمل - على الحد الأقصى من مبلغ التعويض المتفق عليه في وثيقة العقد الأساسية.
          </span>
      </p>


      <p>
          <span>
              5-4
              تقتصر مسؤولية الاستشاري فيما يختص بالأخطاء المهنية على الحد الأقصى من مبلغ التعويض المتفق علية في وثيقة العقد الاساسي؛ ان وجد.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              6)
              انهاء العقد
          </span>
      </p>


      <p>
          <span>
              6-1
              لا يحق لاي طرف انهاء العقد بإرادته المنفردة دون سبب مشروع، ويجوز باتفاق الطرفين انهاء العقد في اي وقت على ان تتضمن اتفاقية الانهاء ما
              يستحق لكل طرف حتى تاريخ انهاء العقد.
          </span>
      </p>


      <p>
          <span>
              6-2
              لا يحق لاستشاري الاشراف انهاء العقد؛ الا في حال فشل المالك في الوفاء باي من التزاماته المنصوص عليها في العقد؛ شريطة اخطار استشاري الاشراف للمالك بسبب
              الاخلاء وانقضاء المدة المحددة في الاخطار لتصحيح الوضع من دون ان يقوم المالك بالتصحيح؛ وفي كل الأحوال لا تقل المدة المحددة للتصحيح عن (14)
              اربعة عشر يوما.
          </span>
      </p>



      <p>
          <span>
              6-3
              للطرف المتضرر في انهاء العقد كامل الحق في المطالبة بالتعويض اللازم؛ متي كان للتعويض المطلوب مقتضي.
          </span>
      </p>



      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              7)
              القوة القاهرة
          </span>
      </p>


      <p>
          <span>
              7-1
              يتم ايقاف العمل بهذا العقد في حال وقوع اي حدث منشئ للقوة القاهرة، ويظل الايقاف مستمرا طوال مدة سريان الحدث المنشئ للقوة القاهرة.
          </span>
      </p>

      <p>
          <span>
              7-2
              في كل الأحوال، يحق لاي من الطرفين انهاء هذا العقد بموجب اخطار خطي في حال استمرار الحدث المنشئ للقوة القاهرة لمدة تزيد عن تسعين يوما.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              8)
              التنازل عن العقد
          </span>
      </p>

      <p>
          <span>
              8-1
              لا يجوز لاستشاري الاشراف التنازل عن العقد او التعاقد من الباطن مع اي جهة اخري لتنفيذ اي من الخدمات الاستشارية دون الموافقة الخطية المسبقة من المالك.
          </span>
      </p>


      <p>
          <span>
              8-2
              في حال موافقة المالك علي تعاقد الاستشاري من الباطن مع اي جهة لتنفيذ اي من الخدمات الاستشارية يظل الاستشاري مسئول بالتضامن مع المتعاقد مع
              الباطن عن تنفيذ الخدمات الاستشارية.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>
              9)
              تأمين الاخطاء المهنية
          </span>
      </p>

      <p>
          <span>
              يلتزم استشاري الاشراف بالتأمين على الاخطاء المهنية له ولأعضاء فريق العمل ضد كافة الاخطار ذات الصلة بموضوع هذا العقد؛ على أن تكون
              حدود التغطية التأمينية شاملة لأقصي مبلغ يضمن استشاري الاشراف سداده بموجب هذا العقد.
          </span>
      </p>


      <h4 class="text-center"><span>ملحق رقم (1)</span></h4>



      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>نطاق الخدمات الاستشارية</span></p>

      <p><span>يقدم الاستشاري للمالك الخدمات الاستشارية التالية:</span></p>


      <p><span>(1) يقوم استشاري الاشراف بتمثيل المالك تمثيلا كاملا في كل ما يتعلق به من احكام في عقد المقاولة الرئيسي.</span></p>
      <p><span>(2) دراسة عقود مقاولي الباطن والموافقة عليها.</span></p>
      <p><span>(3) التنسيق بين المقاولين.</span></p>
      <p><span>(4) مراجعة الجداول الزمنية للتنفيذ والموافقة عليها.</span></p>
      <p><span>(5) تدقيق مخططات الورشة التنفيذية والمصادقة عليها.</span></p>
      <p><span>(6) إصدار أوامر العمل.</span></p>
      <p><span>(7) فحص الاعمال المنجزة.</span></p>
      <p><span>(8) مراجعة المستخلصات الدورية المقدمة من المقاول.</span></p>
      <p><span>(9) اعتماد الموردين.</span></p>
      <p><span>(10) اعتماد المواد التي يتم توريدها للمشروع.</span></p>
      <p><span>(11) التأكد من تطبيق شروط السلامة والانظمة الخاصة بالبيئة.</span></p>
      <p><span>(12) التأكد من الالتزام بالأنظمة واللوائح والتعليمات المتعلقة بالتنفيذ.</span></p>
      <p><span>(13) التأكد من استخراج التراخيص اللازمة فيما يتعلق بالتنفيذ.</span></p>
      <p><span>(14) حفظ الوثائق والمستندات والمخططات المتعلقة بالمشروع.</span></p>
      <p><span>(15) التحقق من تقديم المقاولين والموردين للضمانات المطلوبة ومطابقتها للشروط والالتزامات.</span></p>
      <p><span>(16) التحقق من الضمانات البنكية المقدمة وفقا لعقد المقاولة وتمديدها بحسب مقتضى الحاجة لذلك.</span></p>
      <p><span>(17) التحقق من توفير قطع الغيار واستيفاء إجراءات الصيانة بحسب متطلبات عقود المقاولة.</span></p>
      <p><span>(18) التحقق من أي نواقص في التنفيذ واستكمالها.</span></p>
      <p><span>(19) كافة ما يلزم المالك التحقق منه بحسب الانظمة وشروط عقود المقاولة.</span></p>
      <p><span>(20) التحقق من قدرات مقاولي الباطن واستيفائهم لشروط التصنيف اللازمة للقيام بالأعمال محل التعاقد من الباطن.</span></p>
      <p><span>(21) التحقق من توجيه كافة الاخطارات الخطية اللازمة بحسب عقود المقاولة.</span></p>
      <p><span>(22) استيفاء غرامات التأخير.</span></p>
      <p><span>(23) الاستغلال الامثل للمواد والمعدات من قبل المقاولين.</span></p>
      <p><span>(24) أي مهام أخرى بحسب طبيعة المشروع.</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>نطاق الخدمات الاستشارية</span></p>
      <p><span>يقدم الاستشاري للمالك الخدمات الاستشارية التالية:</span></p>
      <p><span>أ - تمثيل المالك في كل العقود التي يكون المالك طرفا فيها.</span></p>
      <p><span>ب - قيادة فريق التفاوض الخاص ب المالك عند التفاوض على أي عقود تخص المشروع.</span></p>
      <p><span>ج - ترشيح استشاري التصميم والاشراف ومقاولي تنفيذ المشروع؛ والتأكد من استيفائهم لمتطلبات التصنيف والترخيص اللازمة في مجال تخصصهم</span></p>
      <p><span>د- دراسة عقود الباطن وتقديم الراي بخصوصها للمالك للموافقة عليها او رفضها.</span></p>
      <p><span>هـ- التحقق من وتدقيق كافة المخططات التصميمية الخاصة بالمشروع واستيفائها للمعايير الهندسية والفنية.</span></p>
      <p><span>و- تقديم الراي للمالك بشأن كل ما يتطلب موافقة المالك أو مصادقته من أعمال أو خدمات أو أوراق تخص المشروع</span></p>
      <p><span>ز- التحقق من كافة الضمانات البنكية وضمانات جودة التصنيع فيما يختص بالمواد والاجهزة والمعدات والتوريدات الأخرى الخاصة بالمشروع واستفائها لشروط العقود المقدمة بموجبها.</span></p>
      <p><span>ح- التحقق من استيفاء متطلبات الجهات المختصة والمتطلبات النظامية الأخرى فيما يختص بالمشروع من حيث التنفيذ ومن حيث السلامة والتأثير على البينة.</span></p>
      <p><span>ط- التحقق من بوليصيات التامين المقدمة وفقا للعقود ذات الصلة بالمشروع ومن استيفائها لشروط العقود الصادرة بموجبها.</span></p>
      <p><span>ي- أي التزامات اخري بحسب طبيعة المشروع.</span></p>

      <h4 class="text-center"><span>ملحق رقم (2)</span></h4>

      <h5 class="text-center"><span>فريق العمل والبرنامج التنفيذي</span></h5>


      <p><span>اولا: فريق العمل</span></p>


      <p>
          <span>
              يؤدي الاستشاري التزاماته التعاقدية
              بواسطة فريق العمل التالي:
          </span>
      </p>


      <table class="table totals text-center py-3">
          <tbody>
              <tr>
                  <td>م</td>
                  <td>فئات فريق العمل</td>
                  <td>التخصص</td>
                  <td>العدد</td>
                  <td>ملاحظات</td>
              </tr>
              <tr>
                  <td rowspan="4">1</td>
                  <td rowspan="4">مهندس</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num1_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note1_Des}}</td>
              </tr>
              <tr>
                  <td>ميكانيكا</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num2_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note2_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num3_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note3_Des}}</td>
              </tr>
              <tr>
                  <td rowspan="4">2</td>
                  <td rowspan="4">فني</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num4_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note4_Des}}</td>
              </tr>
              <tr>
                  <td>تبريد</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num5_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note5_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num6_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note6_Des}}</td>
              </tr>
              <tr>
                  <td>3</td>
                  <td>اداري</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num7_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note7_Des}}</td>
              </tr>
              <tr>
                  <td>4</td>
                  <td>مشرف</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num8_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note8_Des}}</td>
              </tr>
              <tr>
                  <td>5</td>
                  <td>محاسب</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num9_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note9_Des}}</td>
              </tr>
              <tr>
                  <td>6</td>
                  <td>عمالة</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num10_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note10_Des}}</td>
              </tr>
          </tbody>
      </table>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>ثانيا: البرنامج التنفيذي</span></p>

      <p>
          <span>
              يقدم الاستشاري الخدمات الهندسية
              محل التعاقد خلال مدة {{Contract3PrintData?.contract.contPeriod_Des}}  من تاريخ بدء العمل وفق البرنامج الزمني التالي:
          </span>
      </p>


      <p>
          <span>
              2-1
              البرنامج الزمني المتفق علية بين الطرفين على النحو التالي:
          </span>
      </p>

      <table class="table totals text-center">
          <tbody>
              <tr>
                  <td>المرحلة</td>
                  <td>الوصف</td>
                  <td>بداية الفترة</td>
                  <td>نهاية الفترة</td>
              </tr>
              <tr *ngFor="let item of Contract3PrintData?.contractphases; let i = index">
                <td>{{item.stage}}</td>
                <td>{{item.stageDescreption}}</td>
                <td>{{item.stagestartdate}}</td>
                <td>{{item.stageenddate}}</td>
            </tr>
          </tbody>
      </table>

      <p>
          <span>
              2-2
              في حال عدم وجود برنامج زمني اتفاقي، يقدم استشاري التصميم الخدمة الهندسية وفقا
              للمدد الزمنية المحددة في الشروط العامة للعقد.
          </span>
      </p>



      <h4 class="text-center"><span>ملحق رقم (3)</span></h4>





      <h5 class="text-center"><span>الاتعاب وطريقة السداد</span></h5>




      <p>
          <span>
              3-1
              الاتعاب الاجمالية للاستشاري مبلغ وقدرة {{Contract3PrintData?.contract.cons_TotalFees_Des}} ريال
          </span>
      </p>

      <p>
          <span>
              3-2
              يتم سداد الاتعاب المهنية والمهنية الاضافية على نحو دوري وتحدد مواعيد الاستحقاق
              الدورية.
          </span>
      </p>

      <p>
          <span>
              3-3
              يجب ان تشمل فواتير الاتعاب بحد ادني على التفاصيل التالية
          </span>
      </p>

      <p>
          <span>
              -
              قسمة الاتعاب
          </span>
      </p>

      <p>
          <span>
              -
              مدة الاستحقاق
          </span>
      </p>

      <p>
          <span>
              -
              معد الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مدقق الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مستلم الفاتورة
          </span>
      </p>

      <p>
          <span>
              3-4
              تحديد تفاصيل الفاتورة للأتعاب الاضافية بحيث تشمل بحد ادني على التفاصيل التالية:
          </span>
      </p>

      <p>
          <span>
              -
              قيمة الاتعاب والتكاليف الاضافية المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              نوع الاعمال وزمن تنفيذها
          </span>
      </p>

      <p>
          <span>
              - نوع
              التكاليف المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              تاريخ الاستحقاق
          </span>
      </p>





      <p><span>تحديد نسخة لغرض التنفيذ</span></p>





      <h4 class="text-center"><span>ملحق رقم (4)</span></h4>

      <h5 class="text-center"><span>صلاحيات وسلطات الاستشاري</span></h5>



      <p>
          <span>
              -
              تحديد اي سلطات او صلاحيات يمارسها الاستشاري.
          </span>
      </p>

      <p>
          <span>
              -
              تحديد اي صلاحيات او سلطات يحظر على الاستشاري القيام بها
          </span>
      </p>

    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('report3Contract')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

<ng-template #printDivContracts_DesModal let-modal>
  <div class="modal-body">
    <div id="report3Contract" [ngStyle]="{ direction: 'rtl' }">

      <div class="grid-container" style="background: cadetblue;">
        <div class="grid-item">
                <img *ngIf="CustomDataContract.OrgImg"
                src="{{CustomDataContract.OrgImg}}"
                  alt="logo"
                  style="width: 270px;height: 110px;background: #fff;border-bottom-left-radius: 40px;"
                />
            <h1 style="margin: 0;font-size: 22px;color:#fff;">{{Contract3PrintData?.org_VD.nameAr}}</h1>
            <h5 style="margin: 0;color:#fff;"> {{Contract3PrintData?.objBranch.nameAr}}</h5>
        </div>
        <div class="grid-item text-center">
          <h1 class="text-center" style="font-size:26px;">العقد الاساسي للخدمات الهندسية</h1>
          <h5 class="text-center">خدمات التصميم</h5>
        </div>
    </div>

      <div style="margin-bottom: 10px">
        <p>
          <span>تم ابرام هذا العقد في يوم {{Contract3PrintData?.contract.date}} الموافق {{Contract3PrintData?.contract.hijriDate}} بين وبواسطة كل من: </span>
        </p>
      </div>
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الأول</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> ترخيص هندسي برقم {{Contract3PrintData?.contract.engineering_License}} صادر بتاريخ {{Contract3PrintData?.contract.engineering_LicenseDate}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.emp.employeeName}} بصفتة {{Contract3PrintData?.emp.jobName}} </span></p>
      <p><span>ويشار اليه في هذا العقد (بالاستشاري)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الثان</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.customer.customerNameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.customer.customerTypeName}}</span></p>
      <p><span> هوية وطنية سجل تجاري رقم {{Contract3PrintData?.customer.customerNationalId}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.customer.customerNameAr}} بصفتة المالك </span></p>
      <p><span>ويشار اليه في هذا العقد (بالمالك)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;text-align: center;">
        <span>التمهيد</span>
      </p>


      <p>
          <span>
              وحيث ان استشاري التصميم ممارس للنشاط
              في مجال تخصصه الهندسي المعتمد ولدية الامكانيات والقدرات الفنية والخبرات اللازمة
              لتقديم (الخدمة الهندسية)
          </span>
      </p>
      <p>
          <span>
              المطلوبة من قبل المالك فيما يختص
              بالمشروع
          </span>
      </p>
      <p>
          <span>
              ولما كان العرض المقدم من استشاري
              التصميم لتقديم الخدمات الهندسية قد اقترن بقبول المالك. فقد اتفق الطرفان-وهما
              بكامل الاهلية المعتبرة شرعا ونظاما علي
          </span>
      </p>

      <p><span>الاتي:</span></p>
      <p><span>اولا: التمهيد أعلاه يعتبر جزءا لا <span>يتجزا</span> من هذا العقد. بحيث يجب تفسيره وتطبيقه على هذا الاساس</span></p>

      <p>
          <span>
              ثانيا: الكلمات والعبارات المحددة
              بين قوسين في التمهيد أعلاه يكون لها ذات التعريفات والمعاني المقابلة لها في بند
              التعريفات رقم (1) بالشروط العامة للعقد
          </span>
      </p>
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>ثالثا العقد</span></p>
      <p>
          <span>
              1)
              يتألف هذا العقد من الوثائق التالية:
          </span>
      </p>
      <p>
          <span>
              1-1
              هذه الوثيقة (العقد الاساسي للخدمات الهندسية -خدمات التصميم).
          </span>
      </p>
      <p>
          <span>
              1-2
              الشروط الخاصة للعقد.
          </span>
      </p>
      <p>
          <span>
              1-3
              الشروط العامة للعقد.
          </span>
      </p>
      <p><span>ملاحق العقد من (4-1).</span></p>
      <p>
          <span>
              1-5
              خطاب قبول العرض الموجة من المالك الاستشاري بتاريخ {{Contract3PrintData?.contract.appr_LetterDate_Des}}
          </span>
      </p>
      <p>
          <span>
              1-6
              العرض المقدم للمالك من الاستشاري بخصوص الخدمات الاستشارية بتاريخ {{Contract3PrintData?.contract.engServ_OfferDate_Des}}
          </span>
      </p>
      <p>
          <span>
              1-7
              اي وثائق اخري
          </span>
      </p>

      <p>
          <span>
              2)
              تشكل الوثائق أعلاه وحدة متكاملة. وتعد كل منها جزءا لا يتجزأ من من هذا العقد
              بحيث تفسر وتتم بعضها البعض وفي حال وجود اي تناقض بين اي من
          </span>
      </p>

      <p>
          <span>
              هذه الوثائق. فإن الوثيقة المتقدمة تفوق
              على الوثيقة التي تليها في الترتيب
          </span>
      </p>
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>رابعا: الغرض من العقد</span></p>

      <p>
          <span>
              1)
              يلتزم الاستشاري بتقديم الخدمات الاستشارية المحددة في الملحق رقم (1) المرفق بهذا
              العقد. وذلك مقابل الاتعاب المهنية المتفق عليها في هذا العقد
          </span>
      </p>

      <p>
          <span>
              2)
              يشمل التزام الاستشاري فيما يختص بتنفيذ الخدمات الاستشارية توفير وتقديم كافة
              الموارد والمعدات والادوات والكادر الهندسي والفني والاداري والاعمال
          </span>
      </p>
      <p>
          <span>
              الإضافية والتعديلات التي يطلبها المالك
              ووسائل النقل والمواصلات واي اعمال اخري يحتاجها تنفيذ مهامه او من دونها لا يمكن
              تنفيذ المهام على الوجه الاكمل
          </span>
      </p>

      <p><span>وفقا لشروط هذا العقد</span></p>
      <p>
          <span>
              3)
              يلتزم الاستشاري في تقديمة للخدمات الاستشارية بموجب هذا العقد. ويتقيد بالآتي:
          </span>
      </p>

      <p>
          <span>
              3-1
              توفير فريق العمل بصورة دائمة ومستمرة وفقا للجدول الوارد في الملحق رقم (2)
              المرفق بهذا العقد
          </span>
      </p>

      <p>
          <span>
              3-2
              البرنامج التنفيذي المحدد في الملحق رقم (2) المرفق بهذا العقد
          </span>
      </p>

      <p>
          <span>
              3-3
              الانظمة واللوائح والتعليمات النافذة ومتطلبات الجهات المختصة
          </span>
      </p>

      <p>
          <span>
              3-4
              الشروط والاحكام المنصوص عليها في هذا العقد
          </span>
      </p>

      <p>
          <span>
              3-5
              تقرير التربة لموقع المشروع
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              خامسا: الاتعاب المهنية وطريقة
              السداد
          </span>
      </p>

      <p>
          <span>
              1)
              في مقابل تنفيذه للخدمات الهندسية. بان يدفع للاستشاري الاتعاب المهنية ووفقا
              لتفاصيل الفاتورة المحددة في الملحة رقم (3) المرفق بهذا العقد.
          </span>
      </p>

      <p>
          <span>
              2)اي
              اتعاب اضافية مقابل التعديلات التي يطلبها المالك؛ يتم الاتفاق على قيمتها في امر التغيير.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>سادسا: مدة العقد</span></p>

      <p>
          <span>
              1)
              مدة هذا العقد {{Contract3PrintData?.contract.contPeriod_Des}}  ببداء سريانها من تاريخ توقيع الطرفان على هذا العقد
          </span>
      </p>

      <p>
          <span>
              2)تاريخ
              بدء العمل: يحدد تاريخ بدء العمل وفقا للبرنامج المحدد في الملحق رقم (2) المرفق
              بهذا العقد
          </span>
      </p>

      <p>
          <span>
              3)
              تاريخ انتهاء العمل: يحدد تاريخ انتهاء العمل وفقا للبرنامج المحدد في الملحق رقم
              (2) المرفق بهذا العقد
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              سابعا: نسخة الفاتورة المعدة لغرض
              التنفيذ
          </span>
      </p>

      <p>
          <span>
              1
              تخضع فواتير الاتعاب المهنية الصادرة بموجب البند (سابعا) اعلاه. وكذلك فواتير
              الاتعاب والتكاليف الاضافية الصادرة بموجب البند سابعا اعلاه. لأحكام
          </span>
      </p>

      <p>
          <span>
              نظام التنفيذ ولائحته التنفيذية يلتزم
              الطرفان بما تتضمن كل فاتورة تصدر بموجب البندين المذكورين نسخة لغرض التنفيذ
          </span>
      </p>

      <p>
          <span>
              2)
              يقر الطرفان بان كل فاتورة دورية يقدمها الاستشاري للمالك بموجب الفقرة (2) من
              البند سادسا اعلاه حجة على ما تحويه من قيمة اتعاب مهنية مستحقة
          </span>
      </p>
      <p>
          <span>
              للاستشاري بتاريخ الاستحقاق المدون
              في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد قضاء (30) ثلاثون يوما
              من تاريخ استلام المالك للمطالة
          </span>
      </p>

      <p><span>الدورية المتعلقة بها</span></p>
      <p>
          <span>
              -
              سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
          </span>
      </p>

      <p>
          <span>
              يقر الطرفان بان كل فاتورة اتعاب وتكاليف
              اضافية معتمدة من المالك بموجب البند (سابعا) أعلاه حجة على ما تحويه من قيمة
              اتعاب وتكاليف اضافية مستحقة
          </span>
      </p>

      <p>
          <span>
              للاستشاري بتاريخ الاستحقاق المدون
              في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد انقضاء (30) ثلاثون
              يوما من التاريخ المحدد بالفاتورة
          </span>
      </p>

      <p>
          <span>
              للانتهاء من تنفي الاعمال الاضافية
              المتعلقة بها - سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>ثامنا: العمل الاضافي</span></p>
      <p>
          <span>
              لا يحق لاستشاري التصميم القيام باي
              عمل يترتب علية اعباء مالية علي المالك او يتطلب منه دفع اتعاب مهنية اضافية الا
              بعد موافقة المالك الخطية المسبقة
          </span>
      </p>

      <p>
          <span>
              علي ذلك واعتماده لفاتورة الاتعاب
              المهنية الإضافية وفقا لنموذج فاتورة الاتعاب المهنية الاضافية المتفق عليها في
              الملحق رقم (3) المرفق بهذا العقد.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>تاسعا: التقاضي</span></p>
      <p>
          <span>
              1)
              تختص محكمة التنفيذ بتنفيذ فواتير الاتعاب المعدة لغرض التنفيذ وفقا للبند (ثامنا)
              أعلاه، وكذلك بالفصل في أي نزاع يتعلق بفواتير الاتعاب المذكورة وفقا
          </span>
      </p>

      <p><span>لأحكام نظام التنفيذ ولائحته التنفيذية.</span></p>

      <p>
          <span>
              2)
              دون المساس لما ورد في الفقرة (1) اعلاه في هذا البند؛ اي نزاع ينشا بين الطرفين
              فيما يتعلق بهذا العقد يحب حلة بالطرق الودية وفي حال إمضاء (30)
          </span>
      </p>

      <p>
          <span>
              ثلاثون يوما من تاريخ طرح الخلاف للحل الودي
              من قبل اي من الطرفين دون الوصول الي حل مرضي لكليهما؛ يحق للطرف ذو المصلحة
              اللجوء الي
          </span>
      </p>

      <p>
          <span>
              المحكمة المختصة للفصل قي الخلاف وفقا لأحكام
              النظام.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>عاشرا: نسخ العقد</span></p>

      <p>
          <span>
              حرر هذا العقد من نسختين باللغة العربية؛
              وبيد كل طرف نسخة للعمل بموجبها
          </span>
      </p>

      <p>
          <span>
              واشهادا على مضمونة فقد جري التوقيع
              على هذا العقد في اليوم والتاريخ المبينين بمستهلة.
          </span>
      </p>

      <div class="grid-container">
          <div class="grid-item text-center">
              <h4 style="font-size: 19px;font-weight: bold;">الطرف الاول</h4>
              <p>الاسم {{Contract3PrintData?.org_VD.nameAr}}<br>التوقيع</p>
              <p>.....................</p>
          </div>
          <div class="grid-item text-center">
              <h4 style="font-size: 19px;font-weight: bold;">الطرف الثاني</h4>
              <p>الاسم {{Contract3PrintData?.customer.customerNameAr}}<br>التوقيع</p>
              <p>.....................</p>
          </div>
      </div>


      <h4 class="text-center"><span>الشروط الخاصة للعقد</span></h4>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              1)
              بيانات المشروع
          </span>
      </p>

      <p>
          <span>
              1-1
              اسم المشروع {{Contract3PrintData?.project.projectDescription}}
          </span>
      </p>

      <p>
          <span>
              1-2
              موقع المشروع {{Contract3PrintData?.project.cityName}}
          </span>
      </p>

      <p>
          <span>
              3-1
              الوصف الموجز لطبيعة المشروع {{Contract3PrintData?.contract.ProjBriefDesc_Des}}
          </span>
      </p>

      <p>
          <span>
              2)
              ممثل الاستشاري: {{Contract3PrintData?.emp.employeeNameAr}}
          </span>
      </p>

      <p>
          <span>
              3)
              ممثل المالك: {{Contract3PrintData?.customer.customerNameAr}}
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              4)
              الاخطارات والمراسلات
          </span>
      </p>

      <p>
          <span>
              4-1
              وسائل الاتصال المعتمدة بين الطرفين لغرض الاخطارات والمراسلات المطلوبة بموجب
              العقد او ما يتعلق به تقتصر على الاتي:
          </span>
      </p>

      <p>
          <span>
              أ - البريد الالكتروني: ويعتبر
              البريد الالكتروني مرتبا لأثاره النظامية من لحظة إرساله.
          </span>
      </p>

      <p>
          <span>
              ب - البريد العادي: ويعتبر البريد
              العادي مرتبا اثارة النظامية بعد 24 ساعة من تاريخ إيداعه بصندوق بريد المرسل الية
          </span>
      </p>

      <p>
          <span>
              ج - المناولة باليد: حتى ترتب
              اثارها النظامية. يشترط توقيع المرسل الية على نسخة من الاخطار بالاستلام
          </span>
      </p>

      <p><span>د- الاتصال عبر الجوال.</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              4-2
              عناوين الاتصال
          </span>
      </p>

      <p>
          <span>
              أ - الاستشاري: توجه المراسلات
              والاخطارات لممثل الاستشاري؛ على العناوين التالية:
          </span>
      </p>

      <p><span>في حال البريد الالكتروني:</span></p>

      <p><span>في حال البريد العادي:</span></p>

      <p><span>في حال المناولة باليد:</span></p>

      <p><span>في حال الاتصال عبر الجوال:</span></p>

      <p>
          <span>
              ب- المالك توجه المراسلات
              والاخطارات لممثل المالك؛ على العناوين التالية:
          </span>
      </p>

      <p><span>في حال البريد الالكتروني:</span></p>

      <p><span>في حال البريد العادي:</span></p>

      <p><span>في حال المناولة باليد:</span></p>

      <p><span>في حال الاتصال عبر الجوال:</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              5)
              اللغة
          </span>
      </p>

      <p>
          <span>
              اللغة التي يستخدمها الطرفان في
              المراسلات والاخطارات بموجب هذا العقد هي (....اللغة العربية...)
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              6)
              تاريخ بدء العمل
          </span>
      </p>

      <p>
          <span>
              التاريخ المحدد بموجب الاخطار الخطي
              الصادر من المالك وفقا للفقرة (2) من البند (خامسا) من وثيقة العقد الاساسي
              للخدمات الهندسية.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              7)
              تاريخ انتهاء العمل
          </span>
      </p>

      <p>
          <span>
              التاريخ المحدد بموجب الاخطار الخطي
              الصادر من المالك وفقا للفقرة (2) من البند (خامسا) من وثيقة العقد الاساسي
              للخدمات الهندسية.
          </span>
      </p>




      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              8)
              الحد من المسؤولية
          </span>
      </p>

      <p>
          <span>
              أقصى تعويض يدفعه استشاري الاشراف
              للمالك لا يتجاوز مبلغ 10000ريال
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              8)
              التامين ضد الاخطاء المهنية
          </span>
      </p>

      <p>
          <span>
              يلتزم استشاري التصميم بالتامين ضد
              الاخطاء المهنية على ان تشمل التغطية التأمينية قيمة أقصى تعويض يمكن ان يدفعه
              استشاري الاشراف بموجب شروط
          </span>
      </p>

      <p><span>العقد</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              9)
              ايقاف العمل بالعقد
          </span>
      </p>
      <p>
          <span>
              يحق للمالك ايقاف العمل بموجب هذا
              العقد متي تم ايقاف العمل بموجب عقد المقاولة الرئيسي؛ شريطة ان يخطر المالك
              استشاري الاشراف خطيا بايقاف
          </span>
      </p>

      <p>
          <span>
              العمل وتحديد مدة الايقاف في
              الاخطار المذكور
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              10)
              سرية المعلومات
          </span>
      </p>
      <p>
          <span>
              10-1
              يلتزم الطرفين بعدم الكشف عن اي معلومات سرية دون موافقة خطية رسمية مسبقة من
              الطرف الاخر الا في حال كون المعلومات متاحة للعامة؛ أو
          </span>
      </p>

      <p>
          <span>
              كونها معروفة مسبقا من الطرف الاخر
              ، او يجب الافصاح عنها بموجب نظام او أمر قضائي
          </span>
      </p>

      <p>
          <span>
              10-2
              يتحلل اي طرف من طرفي العقد من التزامه فيما يختص بسرية المعلومات بعد انقضاء (....
              ثلاث....) سنوات من تاريخ انتهاء العلاقة التعاقدية.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              11)
              القانون الواجب التطبيق على العقد
          </span>
      </p>

      <p>
          <span>
              يخضع هذا العقد للأنظمة واللوائح
              السارية في المملكة العربية السعودية
          </span>
      </p>

      <p><span>الشروط العامة للعقد</span></p>

      <p><span>1) التعريفات</span></p>

      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              المشروع: </span>يقصد به المشروع المشار
              الية في البند رقم (1) من الشروط الخاصة بالعقد
          </span>
      </p>

      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              ممثل استشاري التصميم: </span> يقصد به الشخص المشار الية في البند
              رقم (2) بالشروط الخاصة للعقد؛ او الشخص البديل الذي يعينة استشاري التصميم من وقت لأخر
          </span>
      </p>

      <p>
          <span>
              بموجب اخطار خطي موجة
              للمالك طبقا للبند رقم (4) من الشروط الخاصة للعقد. وفي حال عدم توجيه استشاري
              التصميم اخطار خطي
          </span>
      </p>

      <p>
          <span>
              للمالك بتحديد صلاحيات
              وسلطات ممثل الاستشاري؛ فان ممثل استشاري التصميم يتمتع بصلاحيات وسلطات كاملة كما
              لو كان الاستشاري نفسه
          </span>
      </p>



      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              ممثل المالك: </span>يقصد به الشخص المشار الية في البند
              رقم (3) من الشروط الخاصة للعقد او الشخص البديل الذي يعينه المالك من وقت لأخر
              بموجب
          </span>
      </p>

      <p>
          <span>
              اخطار خطي يوجهه
              للاستشاري طبقا للبند رقم (5) من الشروط الخاصة للعقد وفي حال عدم تو ة المالك
              اخطار خطي للاستشاري بتحديد
          </span>
      </p>

      <p>
          <span>
              صلاحيات وسلطات ممثل المالك؛ فان
              ممثل ا‏لمالك يتمتع بصلاحيات وسلطات كاملة كما لوكان المالك نفسه
          </span>
      </p>





      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              المالك:</span> يقصد به الطرف الثاني لهذا
              العقد او الشخص الذي يخلفه في ملكية المشروع سواء كان خلفا خاصا او عاما
          </span>
      </p>
      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              تاريخ بدء العمل: </span>يقصد به تاريخ بدء
              العمل في البند رقم (٧) من الشروط الخاصة للعقد، وفي حال عدم تحديد التاريخ
              المذكور فإن تاريخ بدء العمل يعتبر اليوم السابع من تاريخ توقيع الطرفين علي العقد
          </span>
      </p>



      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              تاريخ انتهاء العمل: </span> يقصد به تاريخ انتهاء
              العمل في البند رقم (7) من الشروط الخاصة للعقد؛ وفي حال عدم تحديد التاريخ المذكور؛
              فان تاريخ انتهاء العمل يعتبر تاريخ انتهاء مدة العقد
          </span>
      </p>
      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              حقوق الملكية الفكرية: </span>يقصد بها أيا
              من وكل حقوق الملكية الفكرية بمختلف فروعها؛ بما يشمل دون حصر براءة الاختراع؛
              العلامة التجارية الشعار التجاري،
          </span>
      </p>

      <p>
          <span>
              حقوق الملكية الاسم التجاري؛
              النموذج الصناعي الاسرار التجارية حق المؤلف برامج الكمبيوتر، قاعدة البيانات،
              الحق الادبي، المواصفات، الرسومات، المخططات
          </span>
      </p>
      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              الخدمات الهندسية: </span> يقصد بها الخدمات
              الهندسية المحددة في وثيقة العقد الاساسي.
          </span>
      </p>
      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              امر التغيير: </span> يقصد به الطلب الخطي
              الصادر من المالك إجراء تغيير في التصميم مقابل أتعاب إضافية يتفق عليها
          </span>
      </p>

      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              المعلومات السرية: </span> أي معلومات يفصح
              عنها اي من الطرفين للأخر بموجب هذا العقد، اي كانت طبيعتها او نوعها او وسائط
              تخزينها سواء كانت شفهية او
          </span>
      </p>

      <p>
          <span>
              او خطية وإلكترونية، والتي يؤشر
              عليها عند الافصاح عنها بانها سرية
          </span>
      </p>

      <p>
          <span>
            <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
              القوة القاهرة: </span>يقصد بها اي حث عام
              في تأثيره، غير متوقع عند ابرام هذا العقد، خارج عن السيطرة ويترتب علية استحالة
              تنفيذ التزامات اي من
          </span>
      </p>

      <p>
          <span>
              الطرفين الناشئة بموجب هذا العقد،
              او تنفيذها بمشقة شديدة مثل الحرب المقاطعة الاقتصادية، اعمال الشغب، اضراب العمال
              عن
          </span>
      </p>

      <p>
          <span>
              العمل، الفيضان، السيول؛ القرارات الحكومية
              وما شابة ذلك.
          </span>
      </p>


      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              2)حقوق
              الملكية الفكرية
          </span>
      </p>

      <p>
          <span>
              2-1
              كافة الحقوق الفكرية الناشئة بناء على الخدمات الهندسية التي يقدمها استشاري
              التصميم للمالك بموجب هذا العقد تعود ملكيتها لاستشاري التصميم؛ ويمنح
          </span>
      </p>

      <p>
          <span>
              استشاري التصميم المالك ترخيصا من
              دون اي مقابل لاستخدام حقوق الملكية الفكرية المذكورة في اي غرض يتعلق بالمشروع في
              اي مكان سواء كأن داخل
          </span>
      </p>

      <p><span>او خارج المملكة العربية السعودية</span></p>

      <p>
          <span>
              2-2
              اي انتهاك لحقوق الملكية الفكرية الخاصة بالغير، سواء كان انتهاكا فعليا او مجرد
              ادعاء دون سند او دليل متي كان ناشئا بسبب الخدمات الهندسية المقدمة
          </span>
      </p>

      <p>
          <span>
              من قبل استشاري التصميم بموجب هذا
              العقد فان استشاري التصميم وحده يتحمل كامل المسؤولية عنه، وعن تبعاته أيا كانت
              ويلتزم استشاري التصميم بتعويض
          </span>
      </p>

      <p>
          <span>
              المالك عن اي نفقات او تكاليف او
              منصرفات او خسائر او اضرار يتعرض لها نتيجة اي دعوي او مطالبة او مسئولية او التزام يتحمله
              بسب الانتهاك المذكور
          </span>
      </p>

      <p><span>او فيما يتعلق به.</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              3)
              التأخير
          </span>
      </p>

      <p>
          <span>
              3-1
              أي مدة يستغرقها المالك في ممارسة حقه بشأن الموافقة او المصادقة بما يتجاوز المدة
              الزمنية المحددة في البرنامج الزمني للموافقة او المصادقة علي
          </span>
      </p>

      <p>
          <span>
              اي من الخدمات الهندسية تعتبر مدة
              تأخير وتضاف لمدة العقد
          </span>
      </p>

      <p>
          <span>
              3-2
              اي مدة تستغرق في الاجراءات الحصول على موافقة من اي الجهات المختصة وفقا لشروط
              هذا العقد وبحسب متطلبات الانظمة السارية تعتبر مدة تأخير
          </span>
      </p>

      <p><span>وتضاف لمدة العقد</span></p>

      <p>
          <span>
              3-3
              اي تأخير من قبل استشاري التصميم في تقديم اي من الخدمات الهندسية وفقا للبرنامج
              المتفق علية يتحمل استشاري التصميم نتيجته وذلك بان يدفع غرامة
          </span>
      </p>

      <p>
          <span>
              تأخير بمعدل تكلفة اليوم لكل يوم تأخير
              وبحد أقصى لا يتجاوز نسبة 10 % من اجمالي قيمة الاتعاب.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              4)
              المسؤولية والضمان
          </span>
      </p>

      <p>
          <span>
              4-1
              يضمن استشاري التصميم التصميمات التي يقدمها للمالك وفقا لهذا العقد ويتحمل المسؤولية
              الكاملة عن اي اضرار ناشئة بسبب اي اخطاء في التصميم
          </span>
      </p>





      <p>
          <span>
              4-2
              اي تكاليف اضافية تزيد قيمتها على نسبة 5 96 من اجمالي قيمة المشروع وتكون ناتجة
              بسبب اي اخطاء حسابية تتعلق بجداول كميات المواد او مقاسات
          </span>
      </p>

      <p>
          <span>
              المشروع يتحملها استشاري التصميم مناصفة
              مع ذلك.
          </span>
      </p>





      <p>
          <span>
              4-3
              في كل الاحوال لا يتحمل استشاري التصميم أي مسؤولية عن الاضرار غير المباشرة؛ أو
              الاضرار الاحتمالية؛ أو الاضرار المتوقعة
          </span>
      </p>





      <p>
          <span>
              4-4
              تقتصر مسؤولية استشاري التصميم؛ فيما يختص بضمان الخدمات الهندسية؛ على الحد
              الاقصى لمبلغ التعويض المتفق علية في العقد الاساسي للخدمات
          </span>
      </p>

      <p><span>هندسة</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              5)
              التزامات المالك
          </span>
      </p>

      <p>
          <span>
              5-1
              يلتزم المالك بتأمين خدمات الغير اللازمة لقيام استشاري التصميم بتنفيذ الخدمات الهندسية
              وكذلك بتزويد استشاري التصميم بالوثائق اللازمة لتمكين
          </span>
      </p>

      <p>
          <span>
              استشاري التصميم من الوفاء
              بالتزاماته
          </span>
      </p>

      <p>
          <span>
              5-2
              اصدار الموافقات والمصادقات المطلوبة فيما يخص با من الخدمات الهندسية ضمن المهلة
              الزمنية المحددة بحسب شروط العقد
          </span>
      </p>

      <p>
          <span>
              5-3
              سداد أتعاب استشاري التصميم وفق التفاصيل المحددة في الملحق رقم (3) بهذا العقد.
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              6)
              التزامات استشاري التصميم
          </span>
      </p>





      <p>
          <span>
              6-1
              فور حصوله على إفادة المالك باحتياجاته ومتطلباته في التصميم يقوم استشاري التصميم
              بدراسة المتطلبات والاحتياجات وتقديم فكرة التصميم الاولية
          </span>
      </p>

      <p>
          <span>
              للمالك خلال مدة (14) اربعة عشر
              يوما من تاريخ بدء العمل لمناقشتها وتحديد اتجاهات المالك الاولية في التصميم
          </span>
      </p>





      <p>
          <span>
              6-2
              للمالك الحق في اجراء ثلاث تعديلات بحد أقصى على فكرة التصميم الاولية قبل
              الموافقة عليها بشرط ان تتم الموافقة خلال مدة اقصاها (21) واحد
          </span>
      </p>

      <p>
          <span>
              وعشرون يوما من تاريخ تقديم استشاري
              التصميم فكرة التصميم الاولية للمالك.
          </span>
      </p>





      <p>
          <span>
              6-3
              يقوم استشاري التصميم بتطوير الفكرة الاولية للتصميم بإعداد مخططات التصميم الابتدائية
              خلال مدة اقصاها (14) اربعة عشر يوما من تاريخ موافقة
          </span>
      </p>

      <p><span>المالك علي فكرة التصميم الأولية</span></p>





      <p>
          <span>
              6-4
              يقوم استشاري التصميم بتطوير المخططات التصميمية الاولية بإعداد مخططات التصميم
              التفصيلية النهائية خلال مدة اقصاها (60) ستين يوما من تاريخ
          </span>
      </p>

      <p>
          <span>
              موافقة الجهة المختصة على مخططات
              التصميم الابتدائية.
          </span>
      </p>





      <p>
          <span>
              6-5
              يزود استشاري التصميم المالك بأصل مخططات التصميم النهائية المعتمدة من الجهة
              المختصة بالإضافة إلى عدد النسخ التي يطلبها المالك بعد سدادة
          </span>
      </p>





      <p>
          <span>
              6-6
              تسري المدد الزمنية المشار إليها في هذا البند في حال عدم اتفاق الطرفين على
              برنامج زمني للتنفيذ. وتحسب مدة التأخير بناء على المدد المذكورة اعلاه.
          </span>
      </p>





      <p>
          <span>
              6-7
              يتقيد استشاري الت تقديمه للخدمات الهندسية؛ بالمجالات المهنية المعتمدة بموجب
              ترخيصه وأن يستعين في تقديم الخدمات بالكادر الهندسي
          </span>
      </p>

      <p><span>المعتمد في المجال الخدمات الهندسية</span></p>





      <p>
          <span>
              6-8
              يلتزم استشاري التصميم في تقديمه للخدمات الهندسية بالقيام بالعمل بنفسه وعدم
              التعاقد من الباطن لتقديم بعض الخدمات الهندسية دون موافقه خطية من
          </span>
      </p>

      <p>
          <span>
              المالك، وفي حال مرافقة المالك ل
              ذلك؛ فإن الموافقة لا تعفي استشار ي التصميم من المسؤولية عن الخدمات الهندسية
              المتنازل عنها ويبقي استشاري التصميم
          </span>
      </p>

      <p>
          <span>
              مسؤولا عن كل تصرف او خطأ او اهمال
              يصدر نتيجة لتعاقده من الباطن
          </span>
      </p>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              7)
              اعداد الوثائق والمتطلبات اللازمة للتعاقد مع مقاول التنفيذ
          </span>
      </p>





      <p>
          <span>
              لا يشمل التزام استشاري التصميم
              اعداد الوثائق والمتطلبات اللازمة لتعاقد المالك مع مقاول التنفيذ، مالم يتم
              الاتفاق صراحة على تضمين تلك الوثائق
          </span>
      </p>

      <p>
          <span> </span><span>
              والمتطلبات
              في التزام استشاري التصميم وتحديدها على وجه الدقة وتحديد المدة اللازمة لتنفيذها
          </span>
      </p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              8)
              انهاء العقد وسحب العمل
          </span>
      </p>

      <p>
          <span>
              8-1
              لا يحق لاي طرف انهاء العقد بإرادته المنفردة دون سبب مشروع ،ويجوز باتفاق الطرفين
              انهاء العقد في اي وقت على ان تتضمن اتفاقية الانهاء ما
          </span>
      </p>

      <p>
          <span>
              يستحق لكل طرف حتى تاريخ انهاء
              العقد
          </span><span>.</span>
      </p>



      <p>
          <span>
              8-2
              لا يحق للمالك سحب العمل من استشاري التصميم بعد موافقته على فكرة التصميم
              الاولية؛ إلا بعد استنفاد كامل غرامات التأخير وفقا للبند (3-3) من
          </span>
      </p>

      <p><span>الشروط العامة للعقد.</span></p>





      <p>
          <span>
              8-3
              لا يحق لاستشاري التصميم إنهاء هذا العقد؛ إلا في حال فشل المالك في الوفاء باي من
              التزاماته المنصوص عليها في هذا العقد وبشرط اخطار استشاري
          </span>
      </p>

      <p>
          <span>
              التصميم للمالك خطيا بسبب الاخلال
              وعدم تصحيحه للوضع خلال المهلة الممنوحة له من استشاري التصميم في الاخطار والتي
              لا تقل عن (14) اربعة عشر
          </span>
      </p>

      <p><span>يوما في اي حال من الاحوال</span></p>





      <p>
          <span>
              8-4
              للطرف المتضرر من انهاء العقد كامل الحق في الرجوع على الطرف المخل بالتعويض متي
              كان التعويض مقتضي
          </span>
      </p>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              9)
              التقاضي والقانون الواجب التطبيق
          </span>
      </p>





      <p>
          <span>
              في حال عدم وجود نص صريح في العقد
              بخلافه؛ فإن هذا العقد يخضع للأنظمة واللوائح السارية بالمملكة العربية السعودية
          </span>
      </p>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
          <span>
              10)
              امر التغيير
          </span>
      </p>





      <p>
          <span>
              أي تعديلات في التصميم يطلبها
              المالك بعد استنفاد الحد الاقصى للتعديل المشار إليه في الفقرة (2-5) من الشروط
              العامة للعقد؛ تعتبر أمر تغيير وعلى
          </span>
      </p>





      <p>
          <span>
              الطرفين تحديد الزمن المطلوب لأجراء
              التعديلات المطلوبة وقيمة الاتعاب المستحقة لاستشاري التصميم في أمر التغيير الخطي
              الذي يتوجب على المالك
          </span>
      </p>

      <p><span>إصداره</span></p>



      <h4 class="text-center"><span>ملحق رقم (1)</span></h4>





      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>نطاق الخدمات الهندسية</span></p>

      <p>
          <span>
              يقوم استشاري التصميم بتقديم خدمات
              التصميم التالية:
          </span>
      </p>





      <p><span>(Concept design) </span><span>أ - تقديم الفكرة الاولية للتصميم</span><span> </span></p>

      <p>
          <span>(Design Preliminary) </span><span>
              ب - إعداد مخططات
              التصميم الابتدائية
          </span><span>  </span>
      </p>

      <p>
          <span>(Design Detailed) </span><span>
              ت - إعداد مخططات التصميم التفصيلية
              النهائية
          </span>
      </p>

      <p>
          <span>
              ث - مراجعة الجهات المختصة والحصول
              على الموافقة الابتدائية والنهائية للتصميم.
          </span>
      </p>





      <p>
          <span>
              ج - تزويد المالك بأصول المخططات التصميمية
              النهائية المعتمدة.
          </span>
      </p>





      <p>
          <span>
              ح- إعداد مخططات التصميم التفصيلية
              لقطاعات المشروع | المختلفة من (توزيع الانارة - تمديدات التكييف - تمديدات الصرف
              الصحي -تمديد كاميرات المراقبة
          </span>
      </p>

      <p>
          <span>
              -
              الحدائق -الديكورات الداخلية والستائر - توزيع الاثاث...
          </span>
      </p>





      <p><span>خ - اعداد جداول الكميات</span></p>

      <p>
          <span>
              د -اعداد المواصفات الفنية للمواد
              والمعدات والانظمة الكهربائية والميكانيكية والصحية
          </span>
      </p>





      <p><span>ذ - اعداد تكلفة تقديرية للمشروع</span></p>





      <h4 class="text-center"><span>ملحق رقم (2)</span></h4>

      <h5 class="text-center"><span>فريق العمل والبرنامج التنفيذي</span></h5>


      <p><span>اولا: فريق العمل</span></p>


      <p>
          <span>
              يؤدي الاستشاري التزاماته التعاقدية
              بواسطة فريق العمل التالي:
          </span>
      </p>


      <table class="table totals text-center py-3">
          <tbody>
              <tr>
                  <td>م</td>
                  <td>فئات فريق العمل</td>
                  <td>التخصص</td>
                  <td>العدد</td>
                  <td>ملاحظات</td>
              </tr>
              <tr>
                  <td rowspan="4">1</td>
                  <td rowspan="4">مهندس</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num1_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note1_Des}}</td>
              </tr>
              <tr>
                  <td>ميكانيكا</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num2_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note2_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num3_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note3_Des}}</td>
              </tr>
              <tr>
                  <td rowspan="4">2</td>
                  <td rowspan="4">فني</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num4_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note4_Des}}</td>
              </tr>
              <tr>
                  <td>تبريد</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num5_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note5_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num6_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note6_Des}}</td>
              </tr>
              <tr>
                  <td>3</td>
                  <td>اداري</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num7_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note7_Des}}</td>
              </tr>
              <tr>
                  <td>4</td>
                  <td>مشرف</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num8_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note8_Des}}</td>
              </tr>
              <tr>
                  <td>5</td>
                  <td>محاسب</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num9_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note9_Des}}</td>
              </tr>
              <tr>
                  <td>6</td>
                  <td>عمالة</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num10_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note10_Des}}</td>
              </tr>
          </tbody>
      </table>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>ثانيا: البرنامج التنفيذي</span></p>

      <p>
          <span>
              يقدم الاستشاري الخدمات الهندسية
              محل التعاقد خلال مدة {{Contract3PrintData?.contract.contPeriod_Des}}  من تاريخ بدء العمل وفق البرنامج الزمني التالي:
          </span>
      </p>


      <p>
          <span>
              2-1
              البرنامج الزمني المتفق علية بين الطرفين على النحو التالي:
          </span>
      </p>

      <table class="table totals text-center">
          <tbody>
              <tr>
                  <td>المرحلة</td>
                  <td>الوصف</td>
                  <td>بداية الفترة</td>
                  <td>نهاية الفترة</td>
              </tr>
              <tr *ngFor="let item of Contract3PrintData?.contractphases; let i = index">
                <td>{{item.stage}}</td>
                <td>{{item.stageDescreption}}</td>
                <td>{{item.stagestartdate}}</td>
                <td>{{item.stageenddate}}</td>
            </tr>
          </tbody>
      </table>

      <p>
          <span>
              2-2
              في حال عدم وجود برنامج زمني اتفاقي، يقدم استشاري التصميم الخدمة الهندسية وفقا
              للمدد الزمنية المحددة في الشروط العامة للعقد.
          </span>
      </p>



      <h4 class="text-center"><span>ملحق رقم (3)</span></h4>





      <h5 class="text-center"><span>الاتعاب وطريقة السداد</span></h5>




      <p>
          <span>
              3-1
              الاتعاب الاجمالية للاستشاري مبلغ وقدرة {{Contract3PrintData?.contract.cons_TotalFees_Des}} ريال
          </span>
      </p>

      <p>
          <span>
              3-2
              يتم سداد الاتعاب المهنية والمهنية الاضافية على نحو دوري وتحدد مواعيد الاستحقاق
              الدورية.
          </span>
      </p>

      <p>
          <span>
              3-3
              يجب ان تشمل فواتير الاتعاب بحد ادني على التفاصيل التالية
          </span>
      </p>

      <p>
          <span>
              -
              قسمة الاتعاب
          </span>
      </p>

      <p>
          <span>
              -
              مدة الاستحقاق
          </span>
      </p>

      <p>
          <span>
              -
              معد الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مدقق الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مستلم الفاتورة
          </span>
      </p>

      <p>
          <span>
              3-4
              تحديد تفاصيل الفاتورة للأتعاب الاضافية بحيث تشمل بحد ادني على التفاصيل التالية:
          </span>
      </p>

      <p>
          <span>
              -
              قيمة الاتعاب والتكاليف الاضافية المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              نوع الاعمال وزمن تنفيذها
          </span>
      </p>

      <p>
          <span>
              - نوع
              التكاليف المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              تاريخ الاستحقاق
          </span>
      </p>





      <p><span>تحديد نسخة لغرض التنفيذ</span></p>





      <h4 class="text-center"><span>ملحق رقم (4)</span></h4>

      <h5 class="text-center"><span>صلاحيات وسلطات الاستشاري</span></h5>



      <p>
          <span>
              -
              تحديد اي سلطات او صلاحيات يمارسها الاستشاري.
          </span>
      </p>

      <p>
          <span>
              -
              تحديد اي صلاحيات او سلطات يحظر على الاستشاري القيام بها
          </span>
      </p>

    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('report3Contract')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

<ng-template #printDivContracts_ConModal let-modal>
  <div class="modal-body">
    <div id="report3Contract" [ngStyle]="{ direction: 'rtl' }">

      <div class="grid-container" style="background: cadetblue;">
        <div class="grid-item">
                <img *ngIf="CustomDataContract.OrgImg"
                src="{{CustomDataContract.OrgImg}}"
                  alt="logo"
                  style="width: 270px;height: 110px;background: #fff;border-bottom-left-radius: 40px;"
                />
            <h1 style="margin: 0;font-size: 22px;color:#fff;">{{Contract3PrintData?.org_VD.nameAr}}</h1>
            <h5 style="margin: 0;color:#fff;"> {{Contract3PrintData?.objBranch.nameAr}}</h5>
        </div>
        <div class="grid-item text-center">
          <h1 class="text-center" style="font-size:26px;">العقد الاساسي للخدمات الهندسية</h1>
          <h5 class="text-center">خدمات الاستشارات</h5>
        </div>
    </div>

      <div style="margin-bottom: 10px">
        <p>
          <span>تم ابرام هذا العقد في يوم {{Contract3PrintData?.contract.date}} الموافق {{Contract3PrintData?.contract.hijriDate}} بين وبواسطة كل من: </span>
        </p>
      </div>
      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الأول</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.org_VD.nameAr}}</span></p>
      <p><span> ترخيص هندسي برقم {{Contract3PrintData?.contract.engineering_License}} صادر بتاريخ {{Contract3PrintData?.contract.engineering_LicenseDate}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.emp.employeeName}} بصفتة {{Contract3PrintData?.emp.jobName}} </span></p>
      <p><span>ويشار اليه في هذا العقد (بالاستشاري)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>1- الطرف الثان</span>
      </p>
      <p><span> الاسم : {{Contract3PrintData?.customer.customerNameAr}}</span></p>
      <p><span> الكيان القانوني : {{Contract3PrintData?.customer.customerTypeName}}</span></p>
      <p><span> هوية وطنية سجل تجاري رقم {{Contract3PrintData?.customer.customerNationalId}} </span></p>
      <p><span> يمثله السيد / {{Contract3PrintData?.customer.customerNameAr}} بصفتة المالك </span></p>
      <p><span>ويشار اليه في هذا العقد (بالمالك)</span></p>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;text-align: center;">
        <span>التمهيد</span>
      </p>

      <p>
        <span>
            حيث ان المالك لدية(مشروع) أكمل التجهيزات المالية والاستشارية لإنشائه. ويرغب في تعيين مكتب هندسي لتمثيلة في كافة مراحل المشروع وتقديم الخدمات
            الاستشارية اللازمة
        </span>
    </p>

    <p>
        <span>
            وحيث ان الاستشاري ممارس للنشاط في مجال تخصصه الهندسي المعتمد ولدية الامكانيات والقدرات الفنية والخبرات اللازمة لتقديم (الخدمة الاستشارية)
            المطلوبة من قبل المالك فيما يختص بالمشروع
        </span>
    </p>



    <p>
        <span>
            ولما كان العرض المقدم من استشاري
            التصميم لتقديم الخدمات الهندسية قد اقترن بقبول المالك. فقد اتفق الطرفان-وهما
            بكامل الاهلية المعتبرة شرعا ونظاما علي
        </span>
    </p>


    <p><span>الاتي:</span></p>






    <p><span>اولا: التمهيد أعلاه يعتبر جزءا لا <span>يتجزا</span> من هذا العقد. بحيث يجب تفسيره وتطبيقه على هذا الاساس</span></p>

    <p>
        <span>
            ثانيا: الكلمات والعبارات المحددة
            بين قوسين في التمهيد أعلاه يكون لها ذات التعريفات والمعاني المقابلة لها في بند
            التعريفات رقم (1) بالشروط العامة للعقد
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>ثالثا العقد</span></p>

    <p>
        <span>
            1)
            يتألف هذا العقد من الوثائق التالية:
        </span>
    </p>

    <p>
        <span>
            1-1
            هذه الوثيقة (العقد الاساسي للخدمات الهندسية -خدمات الاستشارات).
        </span>
    </p>


    <p>
        <span>
            1-2
            الشروط الخاصة للعقد.
        </span>
    </p>


    <p>
        <span>
            1-3
            الشروط العامة للعقد.
        </span>
    </p>

    <p><span>ملاحق العقد من (4-1).</span></p>


    <p>
        <span>
            1-5
            خطاب قبول العرض الموجة من المالك الاستشاري بتاريخ {{Contract3PrintData?.contract.appr_LetterDate_Des}}
        </span>
    </p>



    <p>
        <span>
            1-6
            العرض المقدم للمالك من الاستشاري بخصوص الخدمات الاستشارية بتاريخ {{Contract3PrintData?.contract.engServ_OfferDate_Des}}
        </span>
    </p>


    <p>
        <span>
            1-7
            اي وثائق اخري
        </span>
    </p>



    <p>
        <span>
            2)
            تشكل الوثائق أعلاه وحدة متكاملة. وتعد كل منها جزءا لا يتجزأ من من هذا العقد
            بحيث تفسر وتتم بعضها البعض وفي حال وجود اي تناقض بين اي من
        </span>
    </p>

    <p>
        <span>
            هذه الوثائق. فإن الوثيقة المتقدمة تفوق
            على الوثيقة التي تليها في الترتيب
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>رابعا: الغرض من العقد</span></p>

    <p>
        <span>
            1)
            يلتزم الاستشاري بتقديم الخدمات الاستشارية المحددة في الملحق رقم (1) المرفق بهذا
            العقد. وذلك مقابل الاتعاب المهنية المتفق عليها في هذا العقد
        </span>
    </p>

    <p>
        <span>
            2)
            يشمل التزام الاستشاري فيما يختص بتنفيذ الخدمات الاستشارية توفير وتقديم كافة
            الموارد والمعدات والادوات والكادر الهندسي والفني والاداري والاعمال
        </span>
    </p>





    <p>
        <span>
            الإضافية والتعديلات التي يطلبها المالك
            ووسائل النقل والمواصلات واي اعمال اخري يحتاجها تنفيذ مهامه او من دونها لا يمكن
            تنفيذ المهام على الوجه الاكمل
        </span>
    </p>

    <p><span>وفقا لشروط هذا العقد</span></p>





    <p>
        <span>
            3)
            يلتزم الاستشاري في تقديمة للخدمات الاستشارية بموجب هذا العقد. ويتقيد بالآتي:
        </span>
    </p>

    <p>
        <span>
            3-1
            توفير فريق العمل بصورة دائمة ومستمرة وفقا للجدول الوارد في الملحق رقم (2)
            المرفق بهذا العقد
        </span>
    </p>

    <p>
        <span>
            3-2
            اللوائح والانظمة والتعليمات النافذة ومتطلبات الجهات المختص فيما يتعلق بالمشروع
        </span>
    </p>

    <p>
        <span>
            3-3
            الواجبات المهنية ودرجة العناية والحرص اللازمين بحسب الاعراف الهندسية والانظمة والمواثيق والاخلاقيات ذات الصلة بتخصصه المهني فيما يختص
            بأدائه لمهامه والتزاماته التعاقدية
        </span>
    </p>

    <p>
        <span>
            3-4
            حدود السلطات والصلاحيات المقررة صراحة او ضمنا بموجب هذا العقد وفقا للملحق رقم (4) المرفق به. ووفقا للتوجيهات والتفويضات الخطية الصادرة
            من المالك
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>خامسا: مدة العقد</span></p>

    <p>
        <span>
            1)
            يبدا سريان هذا العقد من تاريخ توقيع الطرفان عليه ويظل ساريا لمدة {{Contract3PrintData?.contract.contPeriod_Des}}  ويجوز باتفاق الطرفين الخطي تمديد مدة العقد بذات الشروط الواردة
        </span>
    </p>

    <p>
        <span>
            2)
            خلال (7) ايام من تاريخ بدء سريان هذا العقد. يخطر المالك الاستشاري بتاريخ بدء العمل
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            سادسا: الاتعاب المهنية وطريقة
            السداد
        </span>
    </p>

    <p>
        <span>
            1)
            يلتزم المالك في مقابل تنفيذه للخدمات الهندسية. بان يدفع للاستشاري الاتعاب المهنية ووفقا لتفاصيل الفاتورة المحددة في الملحق رقم (3) المرفق بهذا.
        </span>
    </p>

    <p>
        <span>
            2)
            يقدم استشاري الاشراف فاتورة دورية للمالك أو من يمثله بأتعابه المهنية وفقا لتواريخ الاستحقاق المحددة وطبقا لنموذج فاتورة الاتعاب المهنية الدورية
            المتفق عليها في الملحق رقم (3) المرفق بهذا العقد.
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>سابعا: العمل والتكاليف الاضافية</span></p>

    <p>
        <span>
            لا يحق للاستشاري  القيام باي
            عمل يترتب علية اعباء مالية علي المالك او يتطلب منه دفع اتعاب مهنية اضافية الا
            بعد موافقة المالك الخطية المسبقة
        </span>
    </p>

    <p>
        <span>
            علي ذلك واعتماده لفاتورة الاتعاب
            المهنية الإضافية وفقا لنموذج فاتورة الاتعاب المهنية الاضافية المتفق عليها في
            الملحق رقم (3) المرفق بهذا العقد.
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            ثامنا: نسخة الفاتورة المعدة لغرض
            التنفيذ
        </span>
    </p>



    <p>
        <span>
            1
            تخضع فواتير الاتعاب المهنية الصادرة بموجب البند (سادسا) اعلاه. وكذلك فواتير
            الاتعاب والتكاليف الاضافية الصادرة بموجب البند سابعا اعلاه. لأحكام
        </span>
    </p>

    <p>
        <span>
            نظام التنفيذ ولائحته التنفيذية يلتزم
            الطرفان بما تتضمن كل فاتورة تصدر بموجب البندين المذكورين نسخة لغرض التنفيذ
        </span>
    </p>

    <p>
        <span>
            2)
            يقر الطرفان بان كل فاتورة دورية يقدمها الاستشاري للمالك بموجب الفقرة (2) من
            البند سادسا اعلاه حجة على ما تحويه من قيمة اتعاب مهنية مستحقة
        </span>
    </p>





    <p>
        <span>
            للاستشاري بتاريخ الاستحقاق المدون
            في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد قضاء (30) ثلاثون يوما
            من تاريخ استلام المالك للمطالة
        </span>
    </p>

    <p><span>الدورية المتعلقة بها</span></p>





    <p>
        <span>
            -
            سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
        </span>
    </p>





    <p>
        <span>
            يقر الطرفان بان كل فاتورة اتعاب وتكاليف
            اضافية معتمدة من المالك بموجب البند (سابعا) أعلاه حجة على ما تحويه من قيمة
            اتعاب وتكاليف اضافية مستحقة
        </span>
    </p>

    <p>
        <span>
            للاستشاري بتاريخ الاستحقاق المدون
            في الفاتورة. وتعد نسخة الفاتورة المعدة لغرض التنفيذ - بعد انقضاء (30) ثلاثون
            يوما من التاريخ المحدد بالفاتورة
        </span>
    </p>

    <p>
        <span>
            للانتهاء من تنفي الاعمال الاضافية
            المتعلقة بها - سندا تنفيذيا طبقا للفقرة (7) من المادة (التاسعة) من نظام التنفيذ
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>تاسعا: التقاضي</span></p>
    <p>
        <span>
            1)
            تختص محكمة التنفيذ بتنفيذ فواتير الاتعاب المعدة لغرض التنفيذ وفقا للبند (ثامنا)
            أعلاه، وكذلك بالفصل في أي نزاع يتعلق بفواتير الاتعاب المذكورة وفقا
        </span>
    </p>

    <p><span>لأحكام نظام التنفيذ ولائحته التنفيذية.</span></p>

    <p>
        <span>
            2)
            دون المساس لما ورد في الفقرة (1) اعلاه في هذا البند؛ اي نزاع ينشا بين الطرفين
            فيما يتعلق بهذا العقد يحب حلة بالطرق الودية وفي حال إمضاء (30)
        </span>
    </p>

    <p>
        <span>
            ثلاثون يوما من تاريخ طرح الخلاف للحل الودي
            من قبل اي من الطرفين دون الوصول الي حل مرضي لكليهما؛ يحق للطرف ذو المصلحة
            اللجوء الي
        </span>
    </p>

    <p>
        <span>
            المحكمة المختصة للفصل قي الخلاف وفقا لأحكام
            النظام.
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>عاشرا: نسخ العقد</span></p>

    <p>
        <span>
            حرر هذا العقد من نسختين باللغة العربية؛
            وبيد كل طرف نسخة للعمل بموجبها
        </span>
    </p>

    <p>
        <span>
            واشهادا على مضمونة فقد جري التوقيع
            على هذا العقد في اليوم والتاريخ المبينين بمستهلة.
        </span>
    </p>


    <div class="grid-container">
        <div class="grid-item text-center">
            <h4 style="font-size: 19px;font-weight: bold;">الطرف الاول</h4>
            <p>الاسم {{Contract3PrintData?.org_VD.nameAr}}<br>التوقيع</p>
            <p>.....................</p>
        </div>
        <div class="grid-item text-center">
            <h4 style="font-size: 19px;font-weight: bold;">الطرف الثاني</h4>
            <p>الاسم {{Contract3PrintData?.customer.customerNameAr}}<br>التوقيع</p>
            <p>.....................</p>
        </div>
    </div>


    <h4 class="text-center"><span>الشروط الخاصة للعقد</span></h4>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            1)
            بيانات المشروع
        </span>
    </p>

    <p>
        <span>
            1-1
            اسم المشروع {{Contract3PrintData?.project.projectDescription}}
        </span>
    </p>
    <p>
        <span>
            1-2
            موقع المشروع {{Contract3PrintData?.project.cityName}}
        </span>
    </p>

    <p>
        <span>
            3-1
            الوصف الموجز لطبيعة المشروع {{Contract3PrintData?.contract.projBriefDesc_Des}}
        </span>
    </p>

    <p>
        <span>
            2)
            ممثل الاستشاري: {{Contract3PrintData?.emp.employeeNameAr}}
        </span>
    </p>

    <p>
        <span>
            3)
            ممثل المالك: {{Contract3PrintData?.customer.customerNameAr}}
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            4)
            الاخطارات والمراسلات
        </span>
    </p>

    <p>
        <span>
            4-1
            وسائل الاتصال المعتمدة بين الطرفين لغرض الاخطارات والمراسلات المطلوبة بموجب
            العقد او ما يتعلق به تقتصر على الاتي:
        </span>
    </p>

    <p>
        <span>
            أ - البريد الالكتروني: ويعتبر
            البريد الالكتروني مرتبا لأثاره النظامية من لحظة إرساله.
        </span>
    </p>

    <p>
        <span>
            ب - البريد العادي: ويعتبر البريد
            العادي مرتبا اثارة النظامية بعد 24 ساعة من تاريخ إيداعه بصندوق بريد المرسل الية
        </span>
    </p>

    <p>
        <span>
            ج - المناولة باليد: حتى ترتب
            اثارها النظامية. يشترط توقيع المرسل الية على نسخة من الاخطار بالاستلام
        </span>
    </p>

    <p><span>د- الاتصال عبر الجوال.</span></p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            4-2
            عناوين الاتصال
        </span>
    </p>

    <p>
        <span>
            أ - الاستشاري: توجه المراسلات
            والاخطارات لممثل الاستشاري؛ على العناوين التالية:
        </span>
    </p>

    <p><span>في حال البريد الالكتروني:</span></p>

    <p><span>في حال البريد العادي:</span></p>

    <p><span>في حال المناولة باليد:</span></p>

    <p><span>في حال الاتصال عبر الجوال:</span></p>

    <p>
        <span>
            ب- المالك توجه المراسلات
            والاخطارات لممثل المالك؛ على العناوين التالية:
        </span>
    </p>

    <p><span>في حال البريد الالكتروني:</span></p>

    <p><span>في حال البريد العادي:</span></p>

    <p><span>في حال المناولة باليد:</span></p>

    <p><span>في حال الاتصال عبر الجوال:</span></p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            5)
            اللغة
        </span>
    </p>

    <p>
        <span>
            اللغة التي يستخدمها الطرفان في
            المراسلات والاخطارات بموجب هذا العقد هي (....اللغة العربية...)
        </span>
    </p>
    <br />
    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            6)
            تاريخ بدء العمل
        </span>
    </p>

    <p>
        <span>
            التاريخ المحدد بموجب الاخطار الخطي
            الصادر من المالك وفقا للفقرة (2) من البند (خامسا) من وثيقة العقد الاساسي
            للخدمات الهندسية.
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            7)
            الحد من المسؤولية
        </span>
    </p>

    <p>
        <span>
            أقصى تعويض يدفعه استشاري الاشراف
            للمالك لا يتجاوز مبلغ {{Contract3PrintData?.contract.maxPay_Des}} ريال
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            8)
            التامين ضد الاخطاء المهنية
        </span>
    </p>


    <p>
        <span>
            يلتزم استشاري الاشراف بالتامين ضد
            الاخطاء المهنية على ان تشمل التغطية التأمينية قيمة أقصى تعويض يمكن ان يدفعه
            استشاري الاشراف بموجب شروط
        </span>
    </p>

    <p><span>العقد</span></p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            9)
            ايقاف العمل بالعقد
        </span>
    </p>

    <p>
        <span>
            يحق للمالك ايقاف العمل بموجب هذا
            العقد متي تم ايقاف العمل بموجب عقد المقاولة الرئيسي؛ شريطة ان يخطر المالك
            استشاري الاشراف خطيا بايقاف
        </span>
    </p>

    <p>
        <span>
            العمل وتحديد مدة الايقاف في
            الاخطار المذكور
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            10)
            سرية المعلومات
        </span>
    </p>

    <p>
        <span>
            10-1
            يلتزم الطرفين بعدم الكشف عن اي معلومات سرية دون موافقة خطية رسمية مسبقة من
            الطرف الاخر الا في حال كون المعلومات متاحة للعامة؛ أو
        </span>
    </p>

    <p>
        <span>
            كونها معروفة مسبقا من الطرف الاخر
            ، او يجب الافصاح عنها بموجب نظام او أمر قضائي
        </span>
    </p>



    <p>
        <span>
            10-2
            يتحلل اي طرف من طرفي العقد من التزامه فيما يختص بسرية المعلومات بعد انقضاء (....
            ثلاث....) سنوات من تاريخ انتهاء العلاقة التعاقدية.
        </span>
    </p>

    <p>
        <span>
            10-3
            الالتزام بسرية المعلومات يشمل بالاضافة للاستشاري؛ ممثل الاستشاري وافراد فريق العمل ؛ وعلي الاستشاري اتخاذ كافة الاجراءات التي تضمن
            التزام ممثل الاستشاري وفريق العمل بشرط الالتزام بسرية المعلومات.
        </span>
    </p>

    <p>
        <span>
            10-4
            مالم يتم الاتفاق في وثيقة العقد على مدة اطول؛ فان شرط الالتزام بسرية المعلومات يسري لمدة ثلاث سنوات بعد تاريخ انتهاء العلاقة التعاقدية بين
            الاستشاري والمالك الناشئة بموجب هذا العقد.
            .
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            11)
            القانون الواجب التطبيق على العقد
        </span>
    </p>

    <p>
        <span>
            يخضع هذا العقد للأنظمة واللوائح
            السارية في المملكة العربية السعودية
        </span>
    </p>



    <p><span>الشروط العامة للعقد</span></p>





    <p><span>1) التعريفات</span></p>

    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            المشروع: </span>يقصد به المشروع المشار
            الية في البند رقم (1) من الشروط الخاصة بالعقد
        </span>
    </p>





    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            ممثل الاستشاري: </span> يقصد به الشخص المشار الية في البند
            رقم (2) بالشروط الخاصة للعقد؛ او الشخص البديل الذي يعينة الاستشاري من وقت لأخر
        </span>
    </p>

    <p>
        <span>
            بموجب اخطار خطي موجة
            للمالك طبقا للبند رقم (4) من الشروط الخاصة للعقد. وفي حال عدم توجيه الاستشاري
            اخطار خطي
        </span>
    </p>

    <p>
        <span>
            للمالك بتحديد صلاحيات
            وسلطات ممثل الاستشاري؛ فان ممثل الاستشاري يتمتع بصلاحيات وسلطات كاملة كما
            لو كان الاستشاري نفسه
        </span>
    </p>



    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            ممثل المالك: </span>يقصد به الشخص المشار الية في البند
            رقم (3) من الشروط الخاصة للعقد او الشخص البديل الذي يعينه المالك من وقت لأخر
            بموجب
        </span>
    </p>





    <p>
        <span>
            اخطار خطي يوجهه
            للاستشاري طبقا للبند رقم (5) من الشروط الخاصة للعقد وفي حال عدم تو ة المالك
            اخطار خطي للاستشاري بتحديد
        </span>
    </p>

    <p>
        <span>
            صلاحيات وسلطات ممثل المالك؛ فان
            ممثل ا‏لمالك يتمتع بصلاحيات وسلطات كاملة كما لوكان المالك نفسه
        </span>
    </p>





    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            المالك:</span> يقصد به الطرف الثاني لهذا
            العقد او الشخص الذي يخلفه في ملكية المشروع سواء كان خلفا خاصا او عاما
        </span>
    </p>





    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            تاريخ بدء العمل: </span>يقصد به تاريخ بدء
            العمل في البند رقم (٧) من الشروط الخاصة للعقد، وفي حال عدم تحديد التاريخ
            المذكور فإن تاريخ بدء العمل يعتبر اليوم السابع من تاريخ توقيع الطرفين علي العقد
        </span>
    </p>


    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            الخدمات الاستشارية: </span>يقصد بها
            خدمات الاستشارات المتفق عليها بموجب وثيقة العقد الاساسي للخدمات الهندسية
        </span>
    </p>



    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            عقد المقاولة الرئيسي: </span> يقصد به
            العقد الذي يبرمه المالك مع المقاول لتنفيذ المشروع.
        </span>
    </p>

    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            عقد الاشراف: </span>
            يقصد به العقد الذي يبرمه املالك مع مكتب هندسي للإشراف على تنفيذ المشروع
        </span>
    </p>

    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            عقد التصميم: </span>
            يقصد به العقد الذي يبرمه المالك مع مكتب هندسي للإشراف على تنفيذ المشروع
        </span>
    </p>



    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            المعلومات السرية: </span> أي معلومات يفصح
            عنها اي من الطرفين للأخر بموجب هذا العقد، اي كانت طبيعتها او نوعها او وسائط
            تخزينها سواء كانت شفهية او
        </span>
    </p>

    <p>
        <span>
            او خطية وإلكترونية، والتي يؤشر
            عليها عند الافصاح عنها بانها سرية
        </span>
    </p>

    <p>
        <span>
          <span style=" background: rgba(0, 0, 0, 0.05) !important; border-bottom: 2px solid #000000;font-weight: 600;">
            القوة القاهرة: </span>يقصد بها اي حث عام
            في تأثيره، غير متوقع عند ابرام هذا العقد، خارج عن السيطرة ويترتب علية استحالة
            تنفيذ التزامات اي من
        </span>
    </p>

    <p>
        <span>
            الطرفين الناشئة بموجب هذا العقد،
            او تنفيذها بمشقة شديدة مثل الحرب المقاطعة الاقتصادية، اعمال الشغب، اضراب العمال
            عن
        </span>
    </p>

    <p>
        <span>
            العمل، الفيضان، السيول؛ القرارات الحكومية
            وما شابة ذلك.
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            2)
            تمثيل المالك
        </span>
    </p>


    <p>
        <span>
            2-1
            يمثل الاستشاري المالك في كافة العقود التي يكون المالك طرفا فيها فيما يختص بتصميم المشروع او تنفيذه او الإشراف على تنفيذه على وجه الخصوص
            يمثل الاستشاري المالك في عقد المقاولة الرئيسي وعقد التصميم وعقد الاشراف.
        </span>
    </p>



    <p>
        <span>
            2-2
            يرشح الاستشاري للمالك استشاري التصميم ومقاول التنفيذ واستشاري الاشراف على تنفيذ المشروع، ويقود فريق التفاوض الخاص بالمالك في اي
            مفاوضات يقوم بها بشن اي عقد يبرمه المالك بخصوص المشروع، ويقدم اي ك المشورة اللازمة فيما يختص بإبرام العقود المذكورة.
        </span>
    </p>



    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            3)
            تضارب المصلحة
        </span>
    </p>





    <p>
        <span>
            3-1
            يلتزم الاستشاري في ادائه لالتزاماته بموجب هذا العقد يلتزم الاستشاري لالتزاماته بموجب هذا العقد يلتزم الاستشاري بالقيام بكل ما من شأنه تحقيق
            مصلحة الملك والامتناع عن كل ما من شانه الاضرار بالمالك.
        </span>
    </p>



    <p>
        <span>
            3-2
            اي عقود تتعلق بالمشروع سواء كانت عقود رئيسية او من الباطن، ويكون للاستشاري مصلحة في اي منها؛ فعلي الاستشاري ان يفصح للمالك عن تلك
            المصلحة ويمتنع فورا عن المضي في اجراءات التفاوض او المصادقة على تلك العقود مالم يوافق لت خطيا وصراحة على ذلك.
        </span>
    </p>



    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            4)
            التزامات الاستشاري
        </span>
    </p>

    <p>
        <span>
            4-1
            عند ترشيحه لاي مقاول لتنفيذ المشروع او اي قطاع من قطاعاته؛ يجب على الاستشاري التحقق من استيفاء المقاول لدرجة التصنيف اللازمة لتنفيذ
            الاعمال المطلوبة.
        </span>
    </p>


    <p>
        <span>
            4-2
            عند ترشيحه لاي مكتب هندسي لتقديم اي خدمات هندسية مطلوبة، يجب على الاستشاري التحقق من استيفاء المكتب الهندسي لشروط الاعتماد المهني وان
            الخدمات الهندسية المطلوبة تدخل ضمن مجال تخصصه.
        </span>
    </p>



    <p>
        <span>
            4-3
            تدقيق كافة المخططات التصميمية الخاصة بالمشروع والتحقق من استيفائها لكافة المعايير الهندسية والفنية.
        </span>
    </p>


    <p>
        <span>
            4-4
            دراسة كافة الوثائق والمستندات وفحص صن اي اعمال يكون مطلوبا من المالك الموافقة او المصادقة عليها وتزويد المالك بالراي الفني خلال المدة
            الزمنية المحددة في شروط العقود المتعلقة بذلك.
        </span>
    </p>



    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            5)
            المسئولية التضامنية
        </span>
    </p>


    <p>
        <span>
            5-1
            يكون الاستشاري مسؤول مسؤولية تضامنية مع استشاري التصميم فيما يختص بكافة التصاميم لتي يقوم بتدقيقها ويتحمل المسئولية عن اي اضرار ناشئة
            بسبب اي اخطاء في التصميم.
        </span>
    </p>


    <p>
        <span>
            5-2
            يجب على الاستشاري بذل أقصى درجات العناية والحرص في كل الاعمال الاستشارية التي يقدمها بموجب هذا العقد، ويتحمل كافة الخسائر والاضرار
            التي قد تلحق بالمالك نتيجة اي اخطاء في الاستشارات التي يقدمها بموجب هذا العقد؛ ويكون مسئول مسئولية تضامنية مع الغير متي كانت الخسائر والأضرار
            ناشئة عن اخطاء في خدماتهم واعمالهم التي يكون الاستشاري مسؤولا عن فحصها والتحقق منها.
        </span>
    </p>

    <p>
        <span>
            5-3
            في كل الاحوال لا يتحمل الاستشاري اي مسؤولية عن الاضرار غير المباشرة؛ او الاضرار الاحتمالية او الاضرار المتوقعة.
        </span>
    </p>


    <p>
        <span>
            5-4
            تقتصر مسؤولية الاستشاري فيما يختص بالأخطاء المهنية على الحد الأقصى من مبلغ التعويض المتفق علية في وثيقة العقد الاساسي؛ ان وجد.
        </span>
    </p>

    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            6)
            انهاء العقد
        </span>
    </p>


    <p>
        <span>
            6-1
            لا يحق لاي طرف انهاء العقد بإرادته المنفردة دون سبب مشروع، ويجوز باتفاق الطرفين انهاء العقد في اي وقت على ان تتضمن اتفاقية الانهاء ما
            يستحق لكل طرف حتى تاريخ انهاء العقد.
        </span>
    </p>


    <p>
        <span>
            6-2
            لا يحق للاستشاري انهاء العقد؛ الا في حال فشل المالك في الوفاء باي من التزاماته المنصوص عليها في العقد؛ شريطة اخطار الاستشاري للمالك بسبب
            الاخلاء وانقضاء المدة المحددة في الاخطار لتصحيح الوضع من دون ان يقوم المالك بالتصحيح؛ وفي كل الأحوال لا تقل المدة المحددة للتصحيح عن (14)
            اربعة عشر يوما.
        </span>
    </p>



    <p>
        <span>
            6-3
            للطرف المتضرر في انهاء العقد كامل الحق في المطالبة بالتعويض اللازم؛ متي كان للتعويض المطلوب مقتضي.
        </span>
    </p>



    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            7)
            القوة القاهرة
        </span>
    </p>


    <p>
        <span>
            7-1
            يتم ايقاف العمل بهذا العقد في حال وقوع اي حدث منشئ للقوة القاهرة، ويظل الايقاف مستمرا طوال مدة سريان الحدث المنشئ للقوة القاهرة.
        </span>
    </p>

    <p>
        <span>
            7-2
            في كل الأحوال، يحق لاي من الطرفين انهاء هذا العقد بموجب اخطار خطي في حال استمرار الحدث المنشئ للقوة القاهرة لمدة تزيد عن تسعين يوما.
        </span>
    </p>


    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>
            8)
            التنازل عن العقد
        </span>
    </p>

    <p>
        <span>
            8-1
            لا يجوز للاستشاري التنازل عن العقد او التعاقد من الباطن مع اي جهة اخري لتنفيذ اي من الخدمات الاستشارية دون الموافقة الخطية المسبقة من المالك.
        </span>
    </p>


    <p>
        <span>
            8-2
            في حال موافقة المالك علي تعاقد الاستشاري من الباطن مع اي جهة لتنفيذ اي من الخدمات الاستشارية يظل الاستشاري مسئول بالتضامن مع المتعاقد مع
            الباطن عن تنفيذ الخدمات الاستشارية.
        </span>
    </p>



    <h4 class="text-center"><span>ملحق رقم (1)</span></h4>



    <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
      <span>نطاق الخدمات الاستشارية</span></p>

    <p><span>يقدم الاستشاري للمالك الخدمات الاستشارية التالية:</span></p>


    <p><span>أ - تمثيل المالك في كل العقود التي يكون المالك طرفا فيها.</span></p>
    <p><span>ب - قيادة فريق التفاوض الخاص ب المالك عند التفاوض على أي عقود تخص المشروع.</span></p>
    <p><span>ج - ترشيح استشاري التصميم والاشراف ومقاولي تنفيذ المشروع؛ والتأكد من استيفائهم لمتطلبات التصنيف والترخيص اللازمة في مجال تخصصهم.</span></p>
    <p><span>د- دراسة عقود الباطن وتقديم الراي بخصوصها للمالك للموافقة عليها او رفضها.</span></p>
    <p><span>هـ - التحقق من وتدقيق كافة المخططات التصميمية الخاصة بالمشروع واستيفائها للمعايير الهندسية والفنية.</span></p>
    <p><span>و- تقديم الراي للمالك بشأن كل ما يتطلب موافقة المالك أو مصادقته من أعمال أو خدمات أو أوراق تخص المشروع.</span></p>
    <p><span>ز- التحقق من كافة الضمانات البنكية وضمانات جودة التصنيع فيما يختص بالمواد والاجهزة والمعدات والتوريدات الأخرى الخاصة بالمشروع واستفائها لشروط العقود المقدمة بموجبها.</span></p>
    <p><span>ح- التحقق من استيفاء متطلبات الجهات المختصة والمتطلبات النظامية الأخرى فيما يختص بالمشروع من حيث التنفيذ ومن حيث السلامة والتأثير على البينة.</span></p>
    <p><span>ط - التحقق من بوليصيات التامين المقدمة وفقا للعقود ذات الصلة بالمشروع ومن استيفاءها لشروط العقود الصادرة بموجبها.</span></p>
    <p><span>ي - أي التزامات اخري بحسب طبيعة المشروع.</span></p>




    <h4 class="text-center"><span>ملحق رقم (2)</span></h4>

    <h5 class="text-center"><span>فريق العمل والبرنامج التنفيذي</span></h5>


    <p><span>اولا: فريق العمل</span></p>


    <p>
        <span>
            يؤدي الاستشاري التزاماته التعاقدية
            بواسطة فريق العمل التالي:
        </span>
    </p>



      <table class="table totals text-center py-3">
          <tbody>
              <tr>
                  <td>م</td>
                  <td>فئات فريق العمل</td>
                  <td>التخصص</td>
                  <td>العدد</td>
                  <td>ملاحظات</td>
              </tr>
              <tr>
                  <td rowspan="4">1</td>
                  <td rowspan="4">مهندس</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num1_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note1_Des}}</td>
              </tr>
              <tr>
                  <td>ميكانيكا</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num2_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note2_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num3_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note3_Des}}</td>
              </tr>
              <tr>
                  <td rowspan="4">2</td>
                  <td rowspan="4">فني</td>
              </tr>
              <tr>
                  <td>كهرباء</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num4_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note4_Des}}</td>
              </tr>
              <tr>
                  <td>تبريد</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num5_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note5_Des}}</td>
              </tr>
              <tr>
                  <td>معمار</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num6_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note6_Des}}</td>
              </tr>
              <tr>
                  <td>3</td>
                  <td>اداري</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num7_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note7_Des}}</td>
              </tr>
              <tr>
                  <td>4</td>
                  <td>مشرف</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num8_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note8_Des}}</td>
              </tr>
              <tr>
                  <td>5</td>
                  <td>محاسب</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num9_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note9_Des}}</td>
              </tr>
              <tr>
                  <td>6</td>
                  <td>عمالة</td>
                  <td></td>
                  <td>{{Contract3PrintData?.contract.teamWork_Num10_Des}}</td>
                  <td>{{Contract3PrintData?.contract.teamWork_Note10_Des}}</td>
              </tr>
          </tbody>
      </table>

      <p style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">
        <span>ثانيا: البرنامج التنفيذي</span></p>

      <p>
          <span>
              يقدم الاستشاري الخدمات الهندسية
              محل التعاقد خلال مدة {{Contract3PrintData?.contract.contPeriod_Des}}  من تاريخ بدء العمل وفق البرنامج الزمني التالي:
          </span>
      </p>


      <p>
          <span>
              2-1
              البرنامج الزمني المتفق علية بين الطرفين على النحو التالي:
          </span>
      </p>

      <table class="table totals text-center">
          <tbody>
              <tr>
                  <td>المرحلة</td>
                  <td>الوصف</td>
                  <td>بداية الفترة</td>
                  <td>نهاية الفترة</td>
              </tr>
              <tr *ngFor="let item of Contract3PrintData?.contractphases; let i = index">
                <td>{{item.stage}}</td>
                <td>{{item.stageDescreption}}</td>
                <td>{{item.stagestartdate}}</td>
                <td>{{item.stageenddate}}</td>
            </tr>
          </tbody>
      </table>

      <p>
          <span>
              2-2
              في حال عدم وجود برنامج زمني اتفاقي، يقدم استشاري التصميم الخدمة الهندسية وفقا
              للمدد الزمنية المحددة في الشروط العامة للعقد.
          </span>
      </p>



      <h4 class="text-center"><span>ملحق رقم (3)</span></h4>





      <h5 class="text-center"><span>الاتعاب وطريقة السداد</span></h5>




      <p>
          <span>
              3-1
              الاتعاب الاجمالية للاستشاري مبلغ وقدرة {{Contract3PrintData?.contract.cons_TotalFees_Des}} ريال
          </span>
      </p>

      <p>
          <span>
              3-2
              يتم سداد الاتعاب المهنية والمهنية الاضافية على نحو دوري وتحدد مواعيد الاستحقاق
              الدورية.
          </span>
      </p>

      <p>
          <span>
              3-3
              يجب ان تشمل فواتير الاتعاب بحد ادني على التفاصيل التالية
          </span>
      </p>

      <p>
          <span>
              -
              قسمة الاتعاب
          </span>
      </p>

      <p>
          <span>
              -
              مدة الاستحقاق
          </span>
      </p>

      <p>
          <span>
              -
              معد الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مدقق الفاتورة
          </span>
      </p>

      <p>
          <span>
              -
              مستلم الفاتورة
          </span>
      </p>

      <p>
          <span>
              3-4
              تحديد تفاصيل الفاتورة للأتعاب الاضافية بحيث تشمل بحد ادني على التفاصيل التالية:
          </span>
      </p>

      <p>
          <span>
              -
              قيمة الاتعاب والتكاليف الاضافية المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              نوع الاعمال وزمن تنفيذها
          </span>
      </p>

      <p>
          <span>
              - نوع
              التكاليف المستحقة
          </span>
      </p>

      <p>
          <span>
              -
              تاريخ الاستحقاق
          </span>
      </p>





      <p><span>تحديد نسخة لغرض التنفيذ</span></p>





      <h4 class="text-center"><span>ملحق رقم (4)</span></h4>

      <h5 class="text-center"><span>صلاحيات وسلطات الاستشاري</span></h5>



      <p>
          <span>
              -
              تحديد اي سلطات او صلاحيات يمارسها الاستشاري.
          </span>
      </p>

      <p>
          <span>
              -
              تحديد اي صلاحيات او سلطات يحظر على الاستشاري القيام بها
          </span>
      </p>

    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('report3Contract')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

<ng-template #printDivContracts_DofAsaatModal let-modal>
  <div class="modal-body">

    <div id="report2Contract" [ngStyle]="{ direction: 'rtl' }">
      <div class="row main-row">
        <div class="card main-card">
            <div class="grid-container" style="background: cadetblue;">
                <div class="grid-item">
                        <img *ngIf="CustomData2Contract.OrgImg"
                        src="{{CustomData2Contract.OrgImg}}"
                          alt="logo"
                          style="width: 270px;height: 110px;background: #fff;border-bottom-left-radius: 40px;"
                        />
                    <h1 style="margin: 0;font-size: 22px;color:#fff;">{{Contract2PrintData?.org_VD.nameAr}}</h1>
                    <h5 style="margin: 0;color:#fff;"> {{Contract2PrintData?.objBranch.nameAr}}</h5>
                </div>
                <div class="grid-item text-center">
                    <h2 style="margin: 0;color:#fff;font-size: 20px;" class="text-center">عقد اتفاق </h2>
                    <table class="table totals text-center" style="background-color: #fff;border: 1px dashed;padding: 0;
                    color: black;font-weight: bold;font-size:13px">
                        <tbody>
                            <tr>
                                <td>رقم العقد</td>
                                <td>{{Contract2PrintData?.contract.contractNo}}</td>
                            </tr>
                            <tr>
                                <td colspan="2">المبلغ {{CustomData2Contract?.taxType}} الضريبة</td>
                            </tr>
                            <tr>
                                <td>التاريخ</td>
                                <td>{{Contract2PrintData?.contract.hijriDate}} هـ</td>
                            </tr>
                            <tr>
                                <td>الموافق</td>
                                <td>{{Contract2PrintData?.contract.date}} م</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <p>تم بعونه تعالى في يوم {{Contract2PrintData?.dayname}} الموافق {{Contract2PrintData?.contract.date}} م الاتفاق بين كل من الطرفين : </p>
            <p>الطرف الاول: {{Contract2PrintData?.org_VD.nameAr}} ويمثلها السيد {{Contract2PrintData?.emp.employeeNameAr}}، بطاقة هويه {{Contract2PrintData?.emp.nationalId}}، بصفته {{Contract2PrintData?.emp.jobName}}</p>
            <p>ويشار اليه فيما بعد ........... بالطرف الاول</p>
            <p>الطرف الثاني: المكرم/ {{Contract2PrintData?.customer.customerNameAr}}, بطاقة الهوية: {{Contract2PrintData?.customer.customerNationalId}} المالك لقطعة الارض رقم .... ويشار اليه فيما بعد ..... بالطرف الثاني</p>


          <div class="content" style="min-width: max-content">
            <table  *ngIf="Contract2PrintData?.conservices.length>0"
              style="
                text-align: center;
                vertical-align: middle;
                width: 100%;
                min-width: max-content;
              "
            >
              <thead>
                <tr>
                  <td
                  style="
                    font-size: 14px;
                    background-color: #0f9c9b;
                    padding: 3px;
                    text-align: center;
                    color: #000;
                    word-wrap: break-word;
                  "
                >رقم المشروع</td>
                <td
                  style="
                    font-size: 14px;
                    background-color: #0f9c9b;
                    padding: 3px;
                    text-align: center;
                    color: #000;
                    word-wrap: break-word;
                  "
                >الخدمة</td>
                <td
                  style="
                    font-size: 14px;
                    background-color: #0f9c9b;
                    padding: 3px;
                    text-align: center;
                    color: #000;
                    word-wrap: break-word;
                  "
                >الكمية</td>
                <td
                  style="
                    font-size: 14px;
                    background-color: #0f9c9b;
                    padding: 3px;
                    text-align: center;
                    color: #000;
                    word-wrap: break-word;
                  "
                >مبلغ العقد</td>
                <td
                  style="
                    font-size: 14px;
                    background-color: #0f9c9b;
                    padding: 3px;
                    text-align: center;
                    color: #000;
                    word-wrap: break-word;
                  "
                >مبلغ ضريبة</td>
                </tr>
              </thead>
              <tbody >
                <tr *ngFor="let item of serviceDetailsPrintObj; let i = index">
                  <td
                  style="
                    background-color: #fff;
                    font-size: 14px;
                    padding: 3px;
                    color: #000;
                    border-inline-start: 2px dashed #0c8191;
                    border-bottom: 2px dashed #757879;
                  "
                >
                  {{item.ProjectNo}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 14px;
                    padding: 3px;
                    color: #000;
                    border-inline-start: 2px dashed #0c8191;
                    border-bottom: 2px dashed #0c8191;
                    width: 390px;
                  "
                >
                <span style="font-weight: 700;">{{item.servicename}}</span>
                <ul *ngFor="let det of item?.serviceDetailsList; let i = index"
                style="
                  list-style: none;
                  padding: 0px;
                  margin-inline-start: 10px;
                  text-align: right;
                  margin-top: 3px;
                  line-height: 16px;
                  font-size: 13px;
                "
              >
              <hr style="margin: 6px;"/>
                <li> <span style="font-size: 16px;font-weight: 800;">-</span> {{det.name}}</li>
              </ul>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 14px;
                    padding: 3px;
                    color: #000;
                    border-inline-start: 2px dashed #0c8191;
                    border-bottom: 2px dashed #0c8191;
                  "
                >
                {{item.ServiceQty}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 14px;
                    padding: 3px;
                    color: #000;
                    border-inline-start: 2px dashed #0c8191;
                    border-bottom: 2px dashed #0c8191;
                  "
                >
                {{item.Serviceamountval}} {{'ر.س'}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 14px;
                    padding: 3px;
                    color: #000;
                    border-inline-start: 2px dashed #0c8191;
                    border-bottom: 2px dashed #0c8191;
                  "
                >
                {{item.taxValue}} {{'ر.س'}}
                </td>
                </tr>
              </tbody>
            </table>
          </div>


          <h4 *ngIf="Contract2PrintData?.payment.length>0" style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">جدول الدفعات: </h4>
          <table class="table totals text-center py-3" *ngIf="Contract2PrintData?.payment.length>0">
              <tbody>
                  <tr>
                      <td>المبلغ</td>
                      <td>تاريخ الدفعة</td>
                  </tr>
                  <tr *ngFor="let item of Contract2PrintData?.payment; let i = index">
                    <td>{{item.totalAmount}}</td>
                    <td>{{item.paymentDate}}</td>
                </tr>
              </tbody>
          </table>
            <p>علي ان يقوم الطرف الاول بعمل المخططات الخاصة بأرض الطرف الثاني والواقعة في منطقة والحاصلة علي كروكي تنظيم / رخصة انشاء رقم تاريخ .</p>

            <h4 style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">البند الاول: </h4>
            <p>
                1 ـ يلتزم الطرف الاول بعمل الأفكار الإبتدائية للطرف الثاني بحيث تكون مناسبة لمتطلباته وكذلك األنظمة المتبعة في الأمانة على أن
                تكون الأفكار داخل نطاق المتفق عليه عند توقيع العقد .
            </p>
            <p>
                2 ـ بعد الموافقة على الفكرة الإبتدائية من قبل الطرف الثاني تقدم للأمانة بعد اتمام المساقط والواجهات وفي حال اعتراض ادارة الرخص
                على التصميم يلتزم المكتب ) الطرف الاول ( بتعديل التصميم حسب أنظمة الأمانة إلا إذا كانت الفكرة بنا ًء على طلب المالك فيتحمل
                المالك ) الطرف الثاني ( تكاليف التعديل .
            </p>
            <p>
                3 ـ بعد موافقة الأمانة على الفكرة يتم عمل المخططات النهائية في المكتب ويعاد تقديمها الأمانة للموافقة ومتابعة الطرف الاول اجراءات
                الرخصة والمخططات.
            </p>
            <p>
                4 ـ في حال وجود اعتراض من قبل الأمانة يلتزم الطرف الثاني بتعديل المخططات إال إذا كان الخطأ من نفس كروكي التنظيم فالطرف الثاني
                غير مسئول وتكون مسئولية كروكي التنظيم على الطرف الاول.
            </p>
            <p>
                5 ـ في حال طلب الطرف الاول إلغاء العقد خلال أسبوعين من تاريخ التعاقد وعدم البدء بالعمل مضمون العقد تعاد كامل الدفعة المقدمة
                للمالك.
            </p>
            <p>6 ـ في حال طلب الطرف الثاني عدم استكمال الاعمال مضمون الاتفاق في مرحلة الأفكار الأولية يتم خصم كامل الدفعة الاأولي .</p>


            <h4 style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;margin-bottom:2px;">البند الثاني: </h4>
            <h4 style="background: rgba(0, 0, 0, 0.05) !important;border-bottom: 2px solid #000000;font-weight: 600;padding: 6px;">بيان الاعمال والتكاليف والدفعات: </h4>
            <p>أ- ........ ريال اجراءات نقل الملكية.</p>
            <p>ب- ............. ريال اجراءات استخراج الكروكي (بيانات الموقع).</p>
            <p>ج- ....... ريال عمل استشارة الكهرباء</p>
            <p>د- ......... ريال عمل منظور</p>
            <p>هـ- ...... ريال عمل المخططات كاملة</p>
            <p><span>الإجمالي: </span>عشرة الاف ريال سعودي فقط لاغير</p>
            <p>دفعة أولى : 30 %تسدد عند التوقيع على هذا العقد .</p>
            <p>دفعة ثانية : 50 %تسدد بعد موافقة أمانة المدينة المنورة على المخططات الإبتدئية.</p>
            <p>دفعة أخيرة : 20 %تسدد عند استلام المخططات ورخصة الإنشاء مصدقة من الأمانة.</p>

            <div class="grid-container text-center">
                <div class="grid-item">
                    <p style="font-size: 19px;font-weight: bold;">الطرف الأول:</p>
                    <p>الاسم: {{Contract2PrintData?.org_VD.nameAr}}</p>
                    <p>التوقيع:</p>
                    <p>.............</p>
                </div>
                <div class="grid-item">
                    <p style="font-size: 19px;font-weight: bold;">الطرف الثاني:</p>
                    <p>الاسم: {{Contract2PrintData?.customer.customerNameAr}} </p>
                    <p>التوقيع:</p>
                    <p>.............</p>
                </div>
            </div>

        </div>
    </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('report2Contract')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

<ng-template #printDivContractsAll let-modal>
  <div class="modal-body">
    <div id="reportAllContract"  [ngStyle]="{ direction: 'rtl' }">
      <div
        class="report-header"
        style="
          display: flex;
          align-items: center;
          gap: 100px;
          padding: 3px 0px;
          margin-bottom: 20px;
        "
      >
        <div class="headerNe-right-side">
          <img
          src="{{CustomDataAllContract?.OrgImg}}"
            alt="logo"
            style="height: 200px; width: 200px; max-width: 200px; object-fit: fill"
          />
        </div>

        <div class="headerNe-lefy-side" style="width: 100%">
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
          {{AllContractPrintData?.org_VD.nameAr}}
          </h1>
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
          {{AllContractPrintData?.org_VD.nameEn}}
          </h1>
          <div class="line" style="position: relative; padding: 5px 0px 10px">
            <span
              style="
                position: absolute;
                right: 0;
                width: 100%;
                height: 2px;
                background-color: #e5e5e5;
                z-index: 1;
              "
            ></span>
            <span
              style="
                position: absolute;
                right: 0;
                width: 70%;
                height: 2px;
                background-color: #ec1c24;
                z-index: 2;
              "
            ></span>
          </div>

          <h1
            style="
              margin-bottom: 0;
              font-size: 34px;
              color: #0c8191;
              margin-bottom: 0;
              margin-top: 30px;
              font-weight: 500;
            "
            [translate]="'name'"
            [translateParams]="{
              ar: 'الايرادات المتوقعة للعقود',
              en: 'Expected revenues for contracts'
            }"
          ></h1>
        </div>
      </div>

      <div style="margin-bottom: 10px">
        <p>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'التاريخ: ',
              en: 'Date: '
            }"
          ></span>
          <span> {{AllContractPrintData?.dateTimeNow}} </span>
        </p>
      </div>

      <div style="margin-bottom: 10px ;text-align: center;"  *ngIf="AllContractPrintData?.fromDate!=null && AllContractPrintData?.toDate!=null">
        <p>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'من تاريخ: ',
              en: 'From Date: '
            }"
          ></span>
          <span> {{AllContractPrintData?.fromDate}} </span>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'الي تاريخ: ',
              en: 'To Date: '
            }"
          ></span>
          <span> {{AllContractPrintData?.toDate}} </span>
        </p>
      </div>

      <div class="services" style="width: 100%; margin-bottom: 20px">
        <div class="content">
          <table style="text-align: center; vertical-align: middle; width: 100%">
            <thead>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "contract number" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "Date of contract" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "totalAfterTax" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "customer name" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "Project name/description" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "Project Number" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "Paid Amount" | translate }}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{ "Remaining Amount" | translate }}</td>
      </thead>
            <tbody>
              <tr *ngFor="let item of AllContractPrintData?.someContracts">
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    border: 1px dashed #272727;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.contractNo}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    border: 1px dashed #272727;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.date}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    border: 1px dashed #272727;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.totalValue}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    border: 1px dashed #272727;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.customerName_W}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    border: 1px dashed #272727;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.projectDescription}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    border: 1px dashed #272727;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.projectNo}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    border: 1px dashed #272727;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.totalPaidPayment}}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    border: 1px dashed #272727;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                {{item.totalRemainingPayment}}
                </td>
              </tr>
              <tr>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                  colspan="2"
                >{{ "total" | translate }}</td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >

                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >{{CustomDataAllContract?.SumtotalPaidPayment}}</td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >{{CustomDataAllContract?.SumtotalRemainingPayment}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
     </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('reportAllContract')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
    type="button"
    (click)="modal.dismiss()"
    mat-raised-button
    color="basic"
  >
    {{ "No" | translate }}
  </button>
  </div>
</ng-template>

<!-- SaveInvoiceConfirmModal -->
<ng-template #SaveInvoiceConfirmModal let-modal>
  <div class="modal-body text-center" style="background-color: #cdcdcd !important;">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد الحفظ ',
        en: 'Are you sure to save ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center mt-3">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="checkPayTypeAndSave(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!-- SavePaymentConfirmModal -->
<ng-template #SavePaymentConfirmModal let-modal>
  <div class="modal-body text-center" style="background-color: #cdcdcd !important;">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد الحفظ ',
        en: 'Are you sure to save ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center mt-3">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="saveNewPaymentbtn(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- serviceDetails -->
<ng-template #serviceDetailsModal_Invoice let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body">
    <div
    cdkDropList
    [cdkDropListData]="serviceDetails_Invoice"
    class="example-list"
    (cdkDropListDropped)="drop_Invoice($event)">
      <div *ngFor="let item of serviceDetails_Invoice ;" class="example-box" cdkDrag>
        <div class="col-md-11" style="font-size: 20px;">
        <i *ngIf="(item?.SureService??0)!=1 && OfferPopupAddorEdit_Invoice==0"
        class="fa fa-xmark text-danger"></i>
        <i *ngIf="(item?.SureService??0)==1 && OfferPopupAddorEdit_Invoice==0"
        class="fa fa-check text-success"></i>
        <i *ngIf="OfferPopupAddorEdit_Invoice==1"
        class="fa fa-check text-success"></i>
        <span class="text-base mx-2">{{ item?.name }}</span>
      </div>
      <div class="serviceBtns"*ngIf="OfferPopupAddorEdit_Invoice==0" >
        <button *ngIf="(item?.SureService??0)!=1"
        (click)="MarkServiceDetails_Invoice(item)"
          type="button"
          class="btn btn-outline-success">
          {{ "Insert" | translate }}
        </button>
        <button *ngIf="(item?.SureService??0)==1"
        (click)="UnMarkServiceDetails_Invoice(item)"
        type="button" class="btn btn-outline-danger">
          {{ "delete" | translate }}
        </button>
      </div>
    </div>
</div>
    <div
      class="flex gap-2 pt-3 border-t border-neutral-300 col-span-1 md:col-span-2 mt-2"
    >
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "close" | translate }}
      </button>
    </div>
  </div>
</ng-template>

  <!-- btn add  -->
  <ng-template #StorehouseModal let-modal>
    <div class="modal-header bg-base text-white">
      <h4
        class="modal-title mb-0"
        id="modal-basic-title"
        [translate]="'name'"
        [translateParams]="{ ar: 'اضافة جديدة', en: 'Add New' }"
      ></h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss('Cross click')"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="modal-body text-center">
      <form #addStorehouse="ngForm" class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div class="form-group">
          <label for="BuildNameArtxt" class="text-right col-form-label block">
            {{ "nameAr" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            required
            #StorehouseNameAr="ngModel"
            ngModel
            [(ngModel)]="dataAdd.Storehouse.nameAr"
            class="form-control"
            type="text"
            id="StorehouseNameArtxt"
            name="StorehouseNameArtxt"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameAr' | translate)"
          />
        </div>
        <div class="form-group">
          <label for="StorehouseNameEntxt" class="text-right col-form-label block">
            {{ "nameEn" | translate }}
            <span class="text-danger">*</span></label
          >
          <div style="display: inline-flex; width: 100%">
            <input
              required
              #StorehouseNameEnValue
              #StorehouseNameEn="ngModel"
              [(ngModel)]="dataAdd.Storehouse.nameEn"
              ngModel
              class="form-control"
              type="text"
              id="StorehouseNameEntxt"
              name="StorehouseNameEntxt"
              autocomplete="off"
              [placeholder]="('Write' | translate) + ' ' + ('nameEn' | translate)"
            />
            <a
              class="btn"
              id="CopyStorehouseName2"
              (click)="dataAdd.Storehouse.nameEn = dataAdd.Storehouse.nameAr"
              ><i class="fa fa-copy"></i
            ></a>
          </div>
        </div>
      </form>
      <div class="max-h-80 overflow-auto px-2">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th
                [translate]="'name'"
                [translateParams]="{
                  ar: 'خيارات',
                  en: 'Operations'
                }"
              ></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let type of StorehousePopup"
              (dblclick)="
                setStorehouseInSelect(type, StorehouseModal);
                modal.dismiss('Cross click')
              "
            >
              <td>{{ type.name }}</td>
              <td>{{ type.nameEn }}</td>
              <td class="flex gap-2 justify-center">
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                  (click)="
                    dataAdd.Storehouse.nameAr = type.name;
                    dataAdd.Storehouse.nameEn = type.nameEn;
                    dataAdd.Storehouse.id = type.id
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
                <button
                  (click)="getStorehouseRow(type); open(deleteStorehouse)"
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="flex gap-2 mt-3 pt-3 border-t border-neutral-300">
        <button
          class="btn bg-base text-white"
          type="submit"
          [disabled]="addStorehouse.invalid"
          (click)="saveStorehouse()"
        >
          {{ "Save" | translate }}
        </button>
        <button (click)="modal.dismiss('Cross click')" class="btn btn-secondary">
          {{ "Back" | translate }}
        </button>
        <button (click)="resetStorehouse()" class="btn bg-base text-white">
          {{ "جديد" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
  
  <ng-template #deleteStorehouse let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'هل تريد بالتأكيد حذف هذا الصف',
          en: 'Are you sure to delete this row ?'
        }"
      ></p>
      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          mat-raised-button
          color="warn"
          (click)="confirmStorehouseDelete(); modal.dismiss()"
        >
          {{ "Yes" | translate }}
        </button>
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "No" | translate }}
        </button>
      </div>
    </div>
  </ng-template>


  <ng-template #ServiceTypeModal let-modal>
    <div class="modal-header bg-base text-white">
      <h4
        class="modal-title mb-0"
        id="modal-basic-title"
        [translate]="'name'"
        [translateParams]="{ ar: 'اضافة جديدة', en: 'Add New' }"
      ></h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss('Cross click')"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="modal-body text-center">
      <form #addServiceType="ngForm" class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div class="form-group">
          <label for="BuildNameArtxt" class="text-right col-form-label block">
            {{ "nameAr" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            required
            #ServiceTypeNameAr="ngModel"
            ngModel
            [(ngModel)]="dataAdd.ServiceType.nameAr"
            class="form-control"
            type="text"
            id="ServiceTypeNameArtxt"
            name="ServiceTypeNameArtxt"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameAr' | translate)"
          />
        </div>
        <div class="form-group">
          <label for="ServiceTypeNameEntxt" class="text-right col-form-label block">
            {{ "nameEn" | translate }}
            <span class="text-danger">*</span></label
          >
          <div style="display: inline-flex; width: 100%">
            <input
              required
              #ServiceTypeNameEnValue
              #ServiceTypeNameEn="ngModel"
              [(ngModel)]="dataAdd.ServiceType.nameEn"
              ngModel
              class="form-control"
              type="text"
              id="ServiceTypeNameEntxt"
              name="ServiceTypeNameEntxt"
              autocomplete="off"
              [placeholder]="('Write' | translate) + ' ' + ('nameEn' | translate)"
            />
            <a
              class="btn"
              id="CopyServiceTypeName2"
              (click)="dataAdd.ServiceType.nameEn = dataAdd.ServiceType.nameAr"
              ><i class="fa fa-copy"></i
            ></a>
          </div>
        </div>
      </form>
      <div class="max-h-80 overflow-auto px-2">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th
                [translate]="'name'"
                [translateParams]="{
                  ar: 'خيارات',
                  en: 'Operations'
                }"
              ></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let type of ServiceTypePopup"
              (dblclick)="
                setServiceTypeInSelect(type, ServiceTypeModal);
                modal.dismiss('Cross click')
              "
            >
              <td>{{ type.name }}</td>
              <td>{{ type.nameEn }}</td>
              <td class="flex gap-2 justify-center">
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                  (click)="
                    dataAdd.ServiceType.nameAr = type.name;
                    dataAdd.ServiceType.nameEn = type.nameEn;
                    dataAdd.ServiceType.id = type.id
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
                <button
                  (click)="getServiceTypeRow(type); open(deleteServiceType)"
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="flex gap-2 mt-3 pt-3 border-t border-neutral-300">
        <button
          class="btn bg-base text-white"
          type="submit"
          [disabled]="addServiceType.invalid"
          (click)="saveServiceType()"
        >
          {{ "Save" | translate }}
        </button>
        <button (click)="modal.dismiss('Cross click')" class="btn btn-secondary">
          {{ "Back" | translate }}
        </button>
        <button (click)="resetServiceType()" class="btn bg-base text-white">
          {{ "جديد" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
  
  <ng-template #deleteServiceType let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'هل تريد بالتأكيد حذف هذا الصف',
          en: 'Are you sure to delete this row ?'
        }"
      ></p>
      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          mat-raised-button
          color="warn"
          (click)="confirmServiceTypeDelete(); modal.dismiss()"
        >
          {{ "Yes" | translate }}
        </button>
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "No" | translate }}
        </button>
      </div>
    </div>
  </ng-template>


  <!-- --------------Add Services------------------- -->
<!-- addSerivceModal / edit -->
<ng-template #addSerivceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        {{ "AddNewService" | translate }}
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <!-- modal-body -->
  <div class="modal-body">
    <form [formGroup]="SerivceModalForm" >
      <div class="row items-center">
        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Project Type" | translate }}</label
            >
            <span class="text-danger">*</span>
            <ng-select
              name="Project Type"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}" autocomplete="off"
              formControlName="ProjectType"
              (change)="ChangeProjectType()"
            >
              <ng-option *ngFor="let user of ProjectTypeList" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ProjectType']?.hasError('required') &&
                      SerivceModalForm.controls['ProjectType'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <button
            type="button"

            class="btn btn-success  mt-5 mb-2"
            (click)="open(NewProjectType , null , 'NewProjectType')"
            >
            {{ "AddNewProjectType" | translate }}
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>

        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Subproject type" | translate }}</label
            >
            <span class="text-danger">*</span>
            <ng-select
              name="Subproject type"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              formControlName="SubprojectType" autocomplete="off"
            >

              <ng-option *ngFor="let user of SubprojecttypeList" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['SubprojectType']?.hasError('required') &&
                      SerivceModalForm.controls['SubprojectType'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <button
            type="button"

            class="btn btn-success  mt-5 mb-2"
            (click)="open(SubprojectTypeModal , null , 'SubprojectTypeModal')"
            >
            {{ "AddNewSubgenre" | translate }}
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
        <div class="col-sm-6 col-md-3 mb-3" *ngIf="this.SerivceModalForm.controls['ProjectType'].value == 1">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Packages" | translate }}</label
            >
            <ng-select
              name="Packages"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              formControlName="PackageId" autocomplete="off"
            >

              <ng-option *ngFor="let user of packageList" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <!-- <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['PackageId']?.hasError('required') &&
                      SerivceModalForm.controls['PackageId'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div> -->
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <button
            type="button"

            class="btn btn-success  mt-5 mb-2"
            (click)="open(PackagesModal , null , 'PackagesModal')"
            >
            {{ "AddNewPackages" | translate }}
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
        <!-- 2 -->
        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "ServiceName" | translate }}</label
            >
            <span class="text-danger">*</span>
            <input
              name="ServiceName"
              placeholder="{{ 'ServiceName' | translate }}"
              type="text"
              class="form-control"
              formControlName="ServiceName" autocomplete="off"
            />
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ServiceName']?.hasError('required') &&
                      SerivceModalForm.controls['ServiceName'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "ServiceNameEN" | translate }}</label
            >
            <span class="text-danger">*</span>
            <input
              name="ServiceNameEN"
              placeholder="{{ 'ServiceNameEN' | translate }}"
              type="text"
              class="form-control"
              formControlName="ServiceNameEN" autocomplete="off"
            />
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ServiceNameEN']?.hasError('required') &&
                      SerivceModalForm.controls['ServiceNameEN'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-2 mb-3" >
          <div class="form-group">
            <label class="col-form-label">
              {{ "ServiceType" | translate }}</label
            >
            <span class="text-danger">*</span>
            <div class="flex">
              <ng-select
              name="ServiceType"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}" autocomplete="off"
              formControlName="ServiceType"
            >
              <ng-option *ngFor="let user of ServiceType" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <button
            type="button"
            class="btn bg-base text-white"
            style="padding: 5px 10px"
            (click)="open(ServiceTypeModal)"
            >
            <i class="fa fa-plus"></i>
           </button>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ServiceType']?.hasError('required') &&
                      SerivceModalForm.controls['ServiceType'].touched
                    ">
                    {{ "This field is required" | translate }}
           </div>
            </div>
          </div>
        </div>

        <div class="col-sm-1 col-md-1 mb-3" >

        </div>

        <div class="col-sm-6 col-md-3 mb-3" *ngIf="SerivceModalForm.controls['PackageId'].value ==  null">
          <div class="form-group">
            <label class="col-form-label"> {{ "PriceRev" | translate }}</label>
            <span class="text-danger">*</span>
            <div class="d-flex">
              <input
                name="price"
                placeholder="{{ 'PriceRev' | translate }}"
                type="text"
                class="form-control" autocomplete="off"
                formControlName="amount"
              />
              <SPAN class="me-1"> {{ "RS" | translate }}</SPAN>
            </div>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['amount']?.hasError('required') &&
                      SerivceModalForm.controls['amount'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <!-- 3 -->
        <div class="col-sm-6 col-md-3 mb-3" style="display: none;">
          <div class="form-group">
            <label class="col-form-label">
              {{ "costCenter" | translate }}</label
            >
            <ng-select
              name="costCenter"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              formControlName="costCenter" autocomplete="off"
            >
              <ng-option *ngFor="let user of CostCenterSelectlist" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "AddServiceDetails" | translate }}</label
            >
          <button
            type="button"

            class="btn btn-outline-success "
            (click)="open(costCenterModal ,null , 'costCenterModal')"
            >
            {{ "AddServiceDetails" | translate }}
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
      </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "ServiceRevenueAccount" | translate }}</label
            >
            <span class="text-danger">*</span>
            <ng-select
              name="ServiceRevenueAccount"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}" autocomplete="off"
              formControlName="ServiceRevenueAccount"
            >
              <ng-option *ngFor="let user of ServiceAccountlist" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ServiceRevenueAccount']?.hasError('required') &&
                      SerivceModalForm.controls['ServiceRevenueAccount'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3" *ngIf="SerivceModalForm.controls['PackageId'].value ==  null">
          <div class="form-group">
            <label class="col-form-label"> {{ "PricePur" | translate }}</label>
            <span class="text-danger">*</span>
            <div class="d-flex">
              <input
                name="AmountPur"
                placeholder="{{ 'PricePur' | translate }}"
                type="text"
                class="form-control" autocomplete="off"
                formControlName="AmountPur"
              />
              <SPAN class="me-1"> {{ "RS" | translate }}</SPAN>
            </div>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['AmountPur']?.hasError('required') &&
                      SerivceModalForm.controls['AmountPur'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "ServicePurAccount" | translate }}</label
            >
            <span class="text-danger">*</span>
            <ng-select
              name="AccountIdPur"
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}" autocomplete="off"
              formControlName="AccountIdPur"
            >
              <ng-option *ngFor="let user of ServiceAccountPurlist" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['AccountIdPur']?.hasError('required') &&
                      SerivceModalForm.controls['AccountIdPur'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Beginningbalance" | translate }}</label
            >
            <span class="text-danger">*</span>
            <input
              name="Begbalance"
              placeholder="{{ 'Beginningbalance' | translate }}"
              type="text"
              class="form-control"
              formControlName="Begbalance" autocomplete="off"
            />
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['Begbalance']?.hasError('required') &&
                      SerivceModalForm.controls['Begbalance'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "SerialNumber" | translate }}</label
            >
            <span class="text-danger">*</span>
            <input
              name="SerialNumber"
              placeholder="{{ 'SerialNumber' | translate }}"
              type="text"
              class="form-control"
              formControlName="SerialNumber" autocomplete="off"
            />
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['SerialNumber']?.hasError('required') &&
                      SerivceModalForm.controls['SerialNumber'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 mb-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "ItemCode" | translate }}</label
            >
            <span class="text-danger">*</span>
            <input
              name="ItemCode"
              placeholder="{{ 'ItemCode' | translate }}"
              type="text"
              class="form-control"
              formControlName="ItemCode" autocomplete="off"
            />
            <div class="fieldrequired" *ngIf="
                      SerivceModalForm.controls['ItemCode']?.hasError('required') &&
                      SerivceModalForm.controls['ItemCode'].touched
                    ">
                    {{ "This field is required" | translate }}
                  </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-2 mb-3">
          <div class="form-group">
            <label for="StorehouseId" class="text-right col-form-label block">
              {{ "Storehouse" | translate }}</label
            >
            <div class="flex">
              <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              formControlName="storehouseId"
              name="storehouseId"
              >
                <ng-option *ngFor="let user of Storehouse" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
              <button
                type="button"
                class="btn bg-base text-white"
                style="padding: 5px 10px"
                (click)="open(StorehouseModal)"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

      </div>
    </form>
    <p class="w-fit bg-red-100 text-danger mx-auto my-3 p-1">
      {{ "AttentionAddService" | translate }}
    </p>
    <div
      class="flex gap-2 justify-end pt-3 border-t border-neutral-300 col-span-1 md:col-span-2 mt-2"
    >
    <button class="btn bg-base text-white" type="submit"(click)="SaveServicePriceWithDetails(modal)"   [disabled]='
    this.SerivceModalForm.controls["ServiceName"].value ==null|| this.SerivceModalForm.controls["ServiceName"].value ==""||
    this.SerivceModalForm.controls["ServiceNameEN"].value ==null|| this.SerivceModalForm.controls["ServiceNameEN"].value ==""||
    this.SerivceModalForm.controls["AmountPur"].value ==null|| this.SerivceModalForm.controls["AmountPur"].value ==""||
    this.SerivceModalForm.controls["amount"].value ==null|| this.SerivceModalForm.controls["amount"].value ==""||
    this.SerivceModalForm.controls["ServiceRevenueAccount"].value ==null || 
    this.SerivceModalForm.controls["ItemCode"].value ==null || this.SerivceModalForm.controls["ItemCode"].value ==""||
    this.SerivceModalForm.controls["AccountIdPur"].value ==null'>
        {{ "Save" | translate }}
      </button>
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "close" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- NewProjectType -->
<ng-template #NewProjectType let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        <span>{{ "NewProjectType" | translate }}</span>
        <!-- <span *ngIf="modalDetails?.type == 'newSub'">{{ "NewSubprojectType" | translate }}</span>
        <span *ngIf="modalDetails?.type == 'ServiceDetails'">{{ "Add New Item" | translate }}</span> -->
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              required
              class="form-control"
              autocomplete="off"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameAr' | translate)
              "
              [(ngModel)]="ProjectTypenameAr"
              type="text"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "nameEn" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              [(ngModel)]="ProjectTypenameEn"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameEn' | translate)
              "
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            (click)="SaveProjectType()"
            [disabled]="ProjectTypenameEn == null || ProjectTypenameAr == null"
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            (click)="modal.dismiss()"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            (keyup)="applyFilterProjectType($event)"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
          />
        </div>
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
              <!-- <th   *ngIf="modalDetails?.type == 'newSub'" >{{ "ApproximatePeriod" | translate }}</th> -->
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of AllProjectTypelist; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.nameAr }}</td>
              <td>{{ item.nameEn }}</td>
              <td>
                <button
                  (click)="updateProjectType(item)"
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="
                    open(deleteProjectTypeModal, item, 'deleteProjectTypeModal')
                  "
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>
</ng-template>

<!-- deleteProjectTypeModal -->
<ng-template #deleteProjectTypeModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteProjectType(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- SubprojectTypeModal -->
<ng-template #SubprojectTypeModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        <span>{{ "NewSubprojectType" | translate }}</span>
        <!--  <span *ngIf="modalDetails?.type == 'ServiceDetails'">{{ "Add New Item" | translate }}</span> -->
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              required
              class="form-control"
              autocomplete="off"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameAr' | translate)
              "
              [(ngModel)]="SubprojectTypenameAr"
              type="text"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "nameEn" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              [(ngModel)]="SubprojectTypenameEn"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameEn' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "TimePeriodStr" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="TimePeriodStr"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('TimePeriodStr' | translate)
              "
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            (click)="SaveSubprojectType()"
            [disabled]="
              SubprojectTypenameAr == null || SubprojectTypenameEn == null
            "
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            (click)="modal.dismiss()"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            (keyup)="applyFilterSubsByProjectTypeId($event)"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
          />
        </div>
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th>{{ "TimePeriodStr" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
              <!-- <th   *ngIf="modalDetails?.type == 'newSub'" >{{ "ApproximatePeriod" | translate }}</th> -->
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let item of AllProjectSubsByProjectTypelist;
                let i = index
              "
              style="line-height: 5px"
            >
              <td>{{ item.nameAr }}</td>
              <td>{{ item.nameEn }}</td>
              <td>
                {{ item.timePeriodStr }}
              </td>
              <td>
                <button
                  (click)="updateSubprojectType(item)"
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="
                    open(
                      deleteSubprojectTypeModal,
                      item,
                      'deleteSubprojectTypeModal'
                    )
                  "
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <!-- <div class="flex justify-end p-3">
    <button
      (click)="modal?.dismiss()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>

    <button class="btn me-2 btn-secondary">
      {{ "close" | translate }}
    </button>
  </div> -->
</ng-template>
<!-- deleteSubprojectTypeModal -->
<ng-template #deleteSubprojectTypeModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteProjectSubTypes(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- PackagesModal -->
<ng-template #PackagesModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        <span>{{ "Packages" | translate }}</span>
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "PackageName" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              required
              class="form-control"
              autocomplete="off"
              [placeholder]="
                ('Write' | translate) + ' ' + ('PackageName' | translate)
              "
              [(ngModel)]="PackageName"
              type="text"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "MeterPrice1" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              [(ngModel)]="MeterPrice1"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('MeterPrice1' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "MeterPrice2" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="MeterPrice2"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('MeterPrice2' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "MeterPrice3" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="MeterPrice3"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('MeterPrice3' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "PackageRatio1" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="PackageRatio1"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('PackageRatio1' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "PackageRatio2" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="PackageRatio2"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('PackageRatio2' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "PackageRatio3" | translate }}</label
            >
            <input
              class="form-control"
              [(ngModel)]="PackageRatio3"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('PackageRatio3' | translate)
              "
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            (click)="SavePackages()"
            [disabled]="
              PackageRatio3 == null ||
              PackageRatio2 == null ||
              PackageRatio1 == null ||
              MeterPrice3 == null ||
              MeterPrice2 == null ||
              MeterPrice1 == null ||
              PackageName == null
            "
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            (click)="modal.dismiss()"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            (keyup)="applyFilterPackages($event)"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
          />
        </div>
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "PackageName" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
              <!-- <th   *ngIf="modalDetails?.type == 'newSub'" >{{ "ApproximatePeriod" | translate }}</th> -->
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of AllPackageslist; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.packageName }}</td>
              <td>
                <button
                  (click)="updatePackages(item)"
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="
                    open(deletePackagesModal, item, 'deletePackagesModal')
                  "
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <!-- <div class="flex justify-end p-3">
    <button
      (click)="modal?.dismiss()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>

    <button class="btn me-2 btn-secondary">
      {{ "close" | translate }}
    </button>
  </div> -->
</ng-template>
<!-- deletePackagesModal -->
<ng-template #deletePackagesModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeletePackages(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- costCenterModal -->
<ng-template #costCenterModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        <span>{{ "AddServiceDetails" | translate }}</span>
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              required
              class="form-control"
              autocomplete="off"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameAr' | translate)
              "
              [(ngModel)]="servicesName"
              type="text"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "nameEn" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              [(ngModel)]="accountName"
              autocomplete="off"
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="
                ('Write' | translate) + ' ' + ('nameEn' | translate)
              "
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            (click)="SavecostCenter()"
            [disabled]="accountName == null || servicesName == null"
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
          >
            {{ "add" | translate }}
          </button>

          <button
            type="button"
            (click)="modal.dismiss()"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <!-- <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"(keyup)="applyFiltercostCenter($event)"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
          />
        </div> -->
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
              <!-- <th   *ngIf="modalDetails?.type == 'newSub'" >{{ "ApproximatePeriod" | translate }}</th> -->
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of AllcostCenterlist; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.servicesName }}</td>
              <td>{{ item.accountName }}</td>
              <td>
                <button
                  (click)="updatecostCenter(item)"
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="
                    open(
                      deletecostCenterModal,
                      item,
                      'deletecostCenterModal',
                      i
                    )
                  "
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <!-- <div class="flex justify-end p-3">
    <button
      (click)="modal?.dismiss()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>

    <button class="btn me-2 btn-secondary">
      {{ "close" | translate }}
    </button>
  </div> -->
</ng-template>
<!-- deletecostCenterModal -->
<ng-template #deletecostCenterModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteService(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

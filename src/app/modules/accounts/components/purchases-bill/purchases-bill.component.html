<div class="purchases-bill">
  <app-navigator [title]="title"></app-navigator>
  <div class="head flex gap-2 flex-wrap items-end justify-between">
    <!-- all buttons  -->
    <div class="btns mb-3 w-100 flex justify-between items-center flex-wrap">
      <div class="row d-md-flex">
        <button
        *ngIf="userG?.userPrivileges.includes(13100405)"
          type="button"
          class="flex gap-1 btn btn-danger mb-3 col-md-2"
          [disabled]="this.selection.selected.length == 0"
          (click)="open(postModal, null, 'postModalCheckbox')"
        >
          {{ "Invoice posting" | translate }}
        </button>

        <button
          type="button"
          class="btn bg-base text-white mb-3 col-md-2"
          (click)="open(NoticeCreditorModal, null, 'NoticeCreditorModal')"
        >
          {{ "SloganDebt" | translate }}
        </button>
        <button
          type="button"
          class="btn bg-base text-white mb-3 col-md-2"
          (click)="open(NewSalesInvoiceModal, null, 'addInvoice')"
        >
          {{ "AddPurchase" | translate }}
        </button>
        <button
          type="button"
          class="flex gap-1 btn btn-success mb-3 col-md-2"
          (click)="showFilters = !showFilters"
        >
          {{ "research" | translate }}
          <i class="fa-solid fa-search"></i>
        </button>
      </div>

      <div class="form-check form-switch">
        <input
          class="form-check-input"
          type="checkbox"
          role="switch"
          id="flexSwitchCheckDefault"
          [(ngModel)]="dataInvoice.filter.InvoiceRet"
          (change)="ShowVoucherRet()"
        />
        <label
          class="form-check-label"
          for="flexSwitchCheckDefault"
          style="width: max-content"
        >
          {{ "Invoices for canceled purchases" | translate }}
        </label>
      </div>
    </div>
  </div>

  <!-- search  after Edit -->
  <div *ngIf="showFilters" class="filters">
    <div class="container-fluid">
      <!-- ---- -->
      <div class="row align-items-end">
        <!-- <div class="col-md-2 col-lg-1 mb-0 mb-md-3 flex">
          <input type="checkbox" name="date" id="date" ngModel />
          <label for="date" class="mx-2" style="font-size: 15px">{{
            "search_date" | translate
          }}</label>
        </div> -->
        <div class="col-xxl-2 col-md-3 col-lg-3 mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "invoice number" | translate }}</label
            >

            <input
              type="text "
              class="w-full p-2 inputType"
              name="user"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="dataInvoice.filter.search_InvoiceNumber"
              (keyup)="applyFilter($event)"
            />
          </div>
        </div>

        <div
          class="col-xxl-2 col-md-3 col-lg-3 flex justify-content-center gap-3 mb-md-3"
        >
          <button
            class="btn btn-primary"
            (click)="
              dataInvoice.filter.enable = !dataInvoice.filter.enable;
              CheckDate(null)
            "
            [translate]="'name'"
            [translateParams]="{
              ar: 'فلترة بالوقت',
              en: 'Time Filter'
            }"
          ></button>
          <div
            class="form-group col-form-label p-0 timeInput"
            *ngIf="dataInvoice.filter.enable"
          >
            <input
              placeholder="{{ 'Chose Date' | translate }}"
              [(ngModel)]="dataInvoice.filter.date"
              type="text"
              (ngModelChange)="CheckDate($event)"
              class="form-control"
              [bsConfig]="{ rangeInputFormat: 'DD/MM/YYYY' }"
              bsDaterangepicker
              #dpr="bsDaterangepicker"
            />
          </div>
        </div>

        <div class="col-xxl-2 col-md-3 col-lg-3 mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "Invoice type" | translate }}</label
            >
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="dataInvoice.filter.search_invoicetype"
              (change)="RefreshData()"
              name="user"
            >
              <ng-option
                *ngFor="let ex of invoicetype"
                [value]="ex.id"
                [translate]="'name'"
                [translateParams]="{ ar: ex.name?.ar, en: ex.name?.en }"
              >
              </ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-xxl-2 col-md-3 col-lg-3 mb-0 mb-md-3">
          <div class="form-group">
            <label class="col-form-label"> {{ "Supplier" | translate }}</label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="dataInvoice.filter.search_SupplierName"
              name="Supplier"
              (change)="RefreshData()"
              name="user"
            >
              <ng-option
                *ngFor="let user of load_Suppliers"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- table -->
  <div class="overflow-auto mt-4">
    <table
      mat-table
      [dataSource]="InvoicessDataSource"
      matSort
      class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
    >
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox
            color="warn"
            (change)="$event ? toggleAllRows() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
          >
          </mat-checkbox>
        </th>
        <td
          mat-cell
          *matCellDef="let row"
          [style.background]="getisPostbackground(row)"
          [style.pointerEvents]="getisPostpointerEvents(row)"
        >
          <mat-checkbox
            color="warn"
            (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)"
          >
          </mat-checkbox>
        </td>
      </ng-container>

      <ng-container matColumnDef="invoiceNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "invoice number" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.invoiceNumber }}
        </td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "Invoice date" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.date }}
        </td>
      </ng-container>
      <ng-container matColumnDef="totalValue">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "total invoice" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.totalValue }}
        </td>
      </ng-container>
      <ng-container matColumnDef="PaymentType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "Payment type" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.payTypeName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="InvoiceStatus">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "Invoice status" | translate }}</span>
        </th>
        <td
          mat-cell
          *matCellDef="let element"
          style="font-weight: bold"
          [style.color]="getColorStatus(element)"
        >
          {{ element.statusNameNew }}
        </td>
      </ng-container>

      <ng-container matColumnDef="PostingDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "Posting date" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.postDate }}
        </td>
      </ng-container>

      <ng-container matColumnDef="operations">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>{{ "operations" | translate }}</span>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="child-btns">
            <span class="dtr-data">
              <!--طباعة  -->
              <button
                (click)="
                  GetInvoicePrint(element, 1); open(printDivModalPurchase)
                "
                type="button"
                id="68"
                class="AddNewTaskbtn btn btn-outline-success btn-sm waves-effect mx-1"
                data-toggle="tooltip"
                data-placement="top"
                title=" طباعة "
                data-original-title="طباعة "
              >
                <i class="fa-solid fa-print"></i>
              </button>

              <!--طباعة إشعار دائن  -->
              <button
                *ngIf="element.creditNotiId == -1"
                (click)="
                  GetInvoicePrint(element, 32); open(printDivModalPurchase)
                "
                type="button"
                class="btn btn-outline-success btn-sm waves-effect"
                data-toggle="tooltip"
                data-placement="top"
                title=" طباعة إشعار دائن "
                data-original-title="طباعة إشعار دائن "
              >
                <i class="fa-solid fa-print"></i>
              </button>
              <!--طباعة إشعار مدين  -->
              <button
                *ngIf="element.depitNotiId == -1"
                (click)="
                  GetInvoicePrintDepit(element, 33); open(printDivModalPurchase)
                "
                type="button"
                class="btn btn-outline-success btn-sm waves-effect"
                data-toggle="tooltip"
                data-placement="top"
                title=" طباعة إشعار مدين "
                data-original-title="طباعة إشعار مدين "
              >
                <i class="fa-solid fa-print"></i>
              </button>
              <!-- عرض القيد المحاسبي  -->
              <button
                *ngIf="element.isPost == true"
                type="button"
                id="68"
                class="EditProjectPhasesTasks btn btn-outline-warning btn-sm waves-effect mx-1"
                data-toggle="tooltip"
                data-placement="top"
                title=" عرض القيد المحاسبي"
                data-original-title=" عرض القيد المحاسبي"
                (click)="open(accountingentry, element, 'accountingentry')"
              >
                <i class="fa-brands fa-stripe-s"></i>
              </button>
              <!-- "   فك الترحيل" -->
              <button
                *ngIf="element.isPost == true && element.rad != 1"
                type="button"
                id="68"
                class="EditProjectPhasesTasks btn btn-outline-warning btn-sm waves-effect mx-1"
                data-toggle="tooltip"
                data-placement="top"
                title="   فك الترحيل"
                data-original-title=" فك الترحيل"
                (click)="open(decodingPagingModal, element)"
              >
                <i class="fa-solid fa-share fa-flip-horizontal"></i>
              </button>
              <!-- =" سند صرف للفاتورة" -->
              <button
                *ngIf="
                  element.isPost == true &&
                  element.payType == 8 &&
                  element.storeId != 1 &&
                  element.rad != true
                "
                type="button"
                id="68"
                class="EditProjectPhasesTasks btn btn-outline-warning btn-sm waves-effect mx-1"
                data-toggle="tooltip"
                data-placement="top"
                title=" سند صرف للفاتورة"
                data-original-title=" سند صرف للفاتورة"
                (click)="
                  editvouccher(element);
                  open(PaymentInvoiceModal, null, 'editvoucher')
                "
              >
                <i class="fa-solid fa-receipt"></i>
              </button>
              <button
                *ngIf="element.fileUrl"
                class="p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white w-10 mx-1"
                (click)="downloadFile(element)"
              >
                <i class="fa-solid fa-eye"></i>
              </button>
            </span>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="projectDisplayedColumns"></tr>

      <tr
        mat-row
        *matRowDef="let row; columns: projectDisplayedColumns"
        (dblclick)="open(NewSalesInvoiceModal, row, 'InvoiceView')"
      ></tr>
    </table>
  </div>
  <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>

  <div
    class="max-h-100 overflow-x-scroll overflow-y-scroll p-4"
    id="reportaccountingentryModal"
    [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }"
    style="position: absolute"
  >
    <!--Header-->
    <div
      class="report-header"
      style="
        display: flex;
        align-items: center;
        gap: 100px;
        padding: 3px 0px;
        margin-bottom: 20px;
      "
    >
      <div class="headerNe-right-side">
        <img
          src="{{ environmentPho }}"
          alt="logo"
          style="
            height: 200px;
            width: 200px;
            max-width: 200px;
            object-fit: fill;
          "
        />
      </div>

      <div class="headerNe-lefy-side" style="width: 100%">
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
          {{ OrganizationData?.nameAr }}
        </h1>
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
          {{ OrganizationData?.nameEn }}
        </h1>
        <h1
          style="
            margin-bottom: 0;
            font-size: 34px;
            color: #0c8191;
            margin-bottom: 0;
            margin-top: 30px;
            font-weight: 500;
            display: flex;
            justify-content: center;
          "
        >
          {{ "View_accounting_entry" | translate }}
        </h1>
      </div>
    </div>
    <!--/Header-->

    <div style="margin-bottom: 10px">
      <p>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: 'التاريخ: ',
            en: 'Date: '
          }"
        ></span>
        <span> {{ datePrintJournals | date }} </span>
      </p>
    </div>

    <table
      class="border border-gray-500"
      style="width: 100%; text-align: center"
    >
      <thead>
        <tr>
          <th class="w-1/9 px-1 border py-2">{{ "date" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">
            {{ "Bond number" | translate }}
          </th>
          <th class="w-1/9 px-1 border py-2">{{ "Bond type" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">
            {{ "Registration number" | translate }}
          </th>
          <th class="w-1/9 px-1 border py-2">
            {{ "account code" | translate }}
          </th>
          <th class="w-1/9 px-1 border py-2">
            {{ "account name" | translate }}
          </th>
          <th class="w-1/9 px-1 border py-2">{{ "Statement" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "debtor" | translate }}</th>
          <th class="w-1/9 px-1 border py-2">{{ "Creditor" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of AllJournalEntries">
          <td class="w-1/9 border px-1 py-2">{{ entry.transactionDate }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.invoiceNumber }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.typeName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.journalNo }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountCode }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.notes }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.depit }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.credit }}</td>
        </tr>
        <tr>
          <td class="w-1/9 border px-1 py-2">{{ "total" | translate }}</td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2 bg-green-500">{{ totaldepit }}</td>
          <td class="w-1/9 border px-1 py-2 bg-red-500">{{ totalcredit }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- NoticeCreditorModal  -->
<ng-template #NoticeCreditorModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "credit/debit note" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <div class="flex align-items-center gap-4 flex-wrap">
      <div class="form-group">
        <label class="col-form-label">
          {{ "invoice number" | translate }}</label
        >
        <ng-select
          class="w-full p-0"
          placeholder="{{ 'Chose' | translate }}"
          ngModel
          name="user"
          [(ngModel)]="NotiData.invoiceid"
          [ngModelOptions]="{ standalone: true }"
        >
          <ng-option
            *ngFor="let user of LoadInvoiceNumbers"
            [value]="user.id"
            >{{ user.name }}</ng-option
          >
        </ng-select>
      </div>

      <button
        class="btn btn-success btnSuccess me-5"
        (click)="ReturnNotiDepitBack(modal)"
      >
        {{ "ReleaseDebit" | translate }}
      </button>

      <button
        (click)="
          modal?.dismiss(); open(NewSalesInvoiceModal, null, 'InvCredit')
        "
        class="btn btn-danger btnSuccess"
      >
        {{ "SloganDebt" | translate }}
      </button>
    </div>
  </div>
  <div class="flex justify-end p-3">
    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- عرض القيد المحاسبي  -->
<!-- accountingentry -->
<ng-template #accountingentry let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "View_accounting_entry" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <table
      class="border border-gray-500"
      style="width: 100%; text-align: center"
    >
      <thead>
        <tr>
          <th class="w-1/9 px-1 py-2">{{ "date" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Bond number" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Bond type" | translate }}</th>
          <th class="w-1/9 px-1 py-2">
            {{ "Registration number" | translate }}
          </th>
          <th class="w-1/9 px-1 py-2">{{ "account code" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "account name" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Statement" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "debtor" | translate }}</th>
          <th class="w-1/9 px-1 py-2">{{ "Creditor" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of AllJournalEntries">
          <td class="w-1/9 border px-1 py-2">{{ entry.transactionDate }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.invoiceNumber }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.typeName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.journalNo }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountCode }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.accountName }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.notes }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.depit }}</td>
          <td class="w-1/9 border px-1 py-2">{{ entry.credit }}</td>
        </tr>
        <tr>
          <td class="w-1/9 border px-1 py-2">{{ "total" | translate }}</td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2"></td>
          <td class="w-1/9 border px-1 py-2 bg-green-500">{{ totaldepit }}</td>
          <td class="w-1/9 border px-1 py-2 bg-red-500">{{ totalcredit }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex justify-end p-3">
    <button
      class="btn text-white me-2"
      (click)="PrintJournalsVyInvIdRetPurchase()"
      style="background-color: var(--base-color)"
    >
      {{ "Print" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- decodingPagingModal  -->
<ng-template #decodingPagingModal let-modal>
  <div class="text-center p-3">
    {{ "Do you want to undo the deportation of this bond?" | translate }}
  </div>

  <div class="flex justify-center p-3">
    <button
      (click)="PostBackVouchers(); modal?.dismiss()"
      class="btn text-white me-2"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- NewSalesInvoiceModal  -->
<ng-template #NewSalesInvoiceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl" *ngIf="Purchasepopuptype == true">{{
        "AddPurchase" | translate
      }}</span>
      <span class="text-2xl" *ngIf="Purchasepopuptype == false">{{
        "SloganDebt" | translate
      }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <ng-container>
      <div class="row align-items-end mx-3">
        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "date" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="date"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              autocomplete="off"
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
              (ngModelChange)="ChangeInvoiceGre($event)"
              [(ngModel)]="modalInvoice.Date"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "invoice number" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'invoice number' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.InvoiceNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>


        <div class="col-sm-6 col-md-3 col-lg-2 mb-0" style="display: none;">
          <div class="form-group">
            <input
              required
              placeholder="{{ 'SR' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.Currency"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>
        
        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              required
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.JournalNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>


        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              placeholder="{{ '' | translate }}"
              required
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.OrganizationsAddress"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-10 col-md-6 col-lg-4 mb-0">
          <div class="form-group">
            <ng-select
              class="w-full p-0"
              style="min-width: max-content; display: inline"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.CostCenterId"
              [ngModelOptions]="{ standalone: true }"
              name="CostCenterId"
            >
              <!-- [disabled]="modalInvoice.AddOrView!=1" -->
              <ng-option
                *ngFor="let user of load_CostCenter"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>
        <!-- 2 line-->

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group hijri-gregorianReciept">
            <label for="Corresponding" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <hijri-gregorian-datepicker
              [(selectedDate)]="modalInvoice.HijriDate"
              [hijriLabel]="'Hijri'"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
              autocomplete="off"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
              (selectedDateChange)="ChangeInvoiceDateHijri($event)"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Type" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              style="min-width: max-content"
              placeholder="{{ 'Chose' | translate }}"
              name="Paytype"
              [clearable]="false"
              (change)="PayTypeChange()"
              [(ngModel)]="modalInvoice.PayType"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
            >
              <ng-option
                *ngFor="let type of Paytype"
                [value]="type.id"
                [translate]="'name'"
                [translateParams]="{ ar: type.name?.ar, en: type.name?.en }"
              >
              </ng-option>
            </ng-select>
          </div>
        </div>
        <div class="col-sm-8 col-md-6 col-lg-6 mb-0">
          <div class="form-group">
            <ng-select
              class="w-full p-0"
              style="min-width: max-content"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.ToAccountId"
              [ngModelOptions]="{ standalone: true }"
              (change)="GetSuppIdByAccId()"
              name="ToAccountId"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
            >
              <ng-option *ngFor="let user of load_Accounts" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              placeholder="{{ 'thePhone' | translate }}"
              required
              class="form-control"
              type="text"
              [(ngModel)]="modalInvoice.OrganizationsMobile"
              [ngModelOptions]="{ standalone: true }"
              disabled
            />
          </div>
        </div>




        <!-- 3 line -->
        <div class="col-sm-6 col-md-4 col-lg-4 mb-0 mb-sm-4">
          <div class="form-group">
            <label for="Supplier" class="text-right col-form-label block">
              {{ "Supplier" | translate }}
            </label>
            <div class="flex">
              <ng-select
                class="w-full p-0"
                style="min-width: max-content"
                placeholder="{{ 'Chose' | translate }}"
                id="customerId"
                name="customerId"
                [(ngModel)]="modalInvoice.supplierId"
                [ngModelOptions]="{ standalone: true }"
                (change)="PayTypeChange()"
              >
                <ng-option
                  *ngFor="let user of load_Suppliers"
                  [value]="user.id"
                  >{{ user.name }}</ng-option
                >
              </ng-select>
              <button
                type="button"
                class="btn bg-base text-white"
                style="padding: 5px 10px"
                (click)="open(AddOption, null, 'AddOption')"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="col-sm-6 col-md-4 col-lg-4 mb-0 mb-sm-4">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "R_D_Supplier" | translate }}
            </label>
            <div class="flex">
              <input
                required
                placeholder="{{ '' | translate }}"
                class="form-control"
                style="min-width: 200px !important"
                type="text"
                [(ngModel)]="modalInvoice.R_D_Supplier"
                [ngModelOptions]="{ standalone: true }"
                disabled
              />
              <button style="display: none;"
                type="button"
                class="btn bg-base text-white itemBtn"
                (click)="open(AddItem, null, 'AddItem')"
              >
                <i class="fa fa-user-plus"></i>
                {{ "categories" | translate }}
              </button>
            </div>
          </div>
        </div>

        <div class="col-sm-3 col-md-2 col-lg-1 mb-4" *ngIf="!showPrice">
          <span style="color: red"> {{ "shifta" | translate }}</span>
        </div>
        <div class="col-sm-4 col-md-3 col-lg-3 mb-0 mb-sm-4">
          <div class="form-group">
            <label for="StorehouseId" class="text-right col-form-label block">
              {{ "Storehouse" | translate }}</label
            >
            <div class="flex">
              <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.storehouseId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
              name="storehouseId"
              >
                <ng-option *ngFor="let user of Storehouse" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
              <button
                type="button"
                [disabled]="modalInvoice.AddOrView != 1"
                class="btn bg-base text-white"
                style="padding: 5px 10px"
                (click)="open(StorehouseModal)"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <h3
          class="flex items-center justify-start fw-bold"
          style="display: none"
        >
          {{ "services" | translate }}
          <button
            *ngIf="modalInvoice.AddOrView == 1"
            type="button "
            class="add-btn mx-2"
            (click)="addInvoiceRow()"
          >
            <i class="fa fa-plus"></i>
          </button>
        </h3>
        <div
          class="editable shadow mb-2 block customTable"
          style="overflow: auto"
        >
          <table
            class="table table-responsive table-striped table-bordered text-center"
            style="
              vertical-align: middle;
              font-size: 14px;
              min-width: max-content;
            "
          >
            <thead
              class="bg-base text-white"
              style="line-height: 30px; font-size: 13px"
            >
              <tr>
                <th>{{ "ServiceNo" | translate }}</th>
                <th style="width: 30% !important">
                  {{ "ServiceName" | translate }}
                </th>
                <th>{{ "Unit" | translate }}</th>
                <th>{{ "Quantity" | translate }}</th>
                <th>{{ "price" | translate }}</th>
                <th>{{ "Discount" | translate }}</th>
                <th>{{ "discountPercentage" | translate }}</th>
                <th>{{ "totalBeforeTax" | translate }}</th>
                <th>{{ "VATTax" | translate }}</th>
                <th>{{ "Net_taxes" | translate }}</th>
                <th>{{ "delete" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of InvoiceDetailsRows; let i = index"
                style="line-height: 5px"
              >
                <td>{{ item.idRow }}</td>
                <td
                  (click)="
                    (modalInvoice.AddOrView == 1 ||
                      modalInvoice.AddOrView == 3) &&
                      open(servicesListModal, null, 'servicesList', item.idRow)
                  "
                >
                  <input
                    type="text"
                    name="os-name{{ item.idRow }}"
                    [(ngModel)]="item.accountJournaltxt"
                    [ngModelOptions]="{ standalone: true }"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-Unit{{ item.idRow }}"
                    [(ngModel)]="item.UnitConst"
                    [ngModelOptions]="{ standalone: true }"
                    disabled
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="1"
                    name="os-Qty{{ item.idRow }}"
                    [(ngModel)]="item.QtyConst"
                    [disabled]="
                      modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                    "
                    (keyup)="CalculateTotal2(1)"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-Amount{{ item.idRow }}"
                    [(ngModel)]="item.Amounttxt"
                    [disabled]="
                      modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                    "
                    (keyup)="CalculateTotal2(1)"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-DiscountValue{{ item.idRow }}"
                    [(ngModel)]="item.DiscountValueConst"
                    [disabled]="modalInvoice.AddOrView != 1"
                    (keyup)="CalculateTotal2(1)"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-DiscountPercentage{{ item.idRow }}"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="item.DiscountPercentageConst"
                    [disabled]="modalInvoice.AddOrView != 1"
                    (keyup)="CalculateTotal2(2)"
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-AmountBefore{{ item.idRow }}"
                    [(ngModel)]="item.AmountBeforeTaxtxt"
                    [disabled]="modalInvoice.AddOrView != 1"
                    [ngModelOptions]="{ standalone: true }"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-taxAmount{{ item.idRow }}"
                    [(ngModel)]="item.taxAmounttxt"
                    [ngModelOptions]="{ standalone: true }"
                    [disabled]="modalInvoice.AddOrView != 1"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-TotalAmount{{ item.idRow }}"
                    [(ngModel)]="item.TotalAmounttxt"
                    [disabled]="modalInvoice.AddOrView != 1"
                    [ngModelOptions]="{ standalone: true }"
                    readonly
                  />
                </td>

                <td>
                  <button
                    *ngIf="
                      modalInvoice.AddOrView == 1 || modalInvoice.AddOrView == 3
                    "
                    (click)="deleteInvoiceRow(item.idRow)"
                    class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10"
                  >
                    <i class="fa-solid fa-trash-can"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="box w-100 p-3">
              <div>
                <label for="include_tax">{{ "tax type" | translate }}</label>
                <ng-select
                  class="w-100"
                  placeholder="{{ 'Chose' | translate }}"
                  name="include_tax"
                  [(ngModel)]="modalInvoice.taxtype"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="modalInvoice.AddOrView != 1"
                  [clearable]="false"
                  (change)="taxtypeChange()"
                >
                  <ng-option [value]="2">{{
                    "Excluding tax" | translate
                  }}</ng-option>
                  <ng-option [value]="3">{{
                    "Taxes included" | translate
                  }}</ng-option>
                </ng-select>
              </div>

              <div>
                <label for="paid" class="text-right col-form-label block">
                  {{ "paid" | translate }}
                </label>
                <input
                  id="paid"
                  required
                  class="form-control bg-green"
                  type="text"
                  [(ngModel)]="modalInvoice.PaidValue"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="
                    modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                  "
                  [readOnly]="modalInvoice.PayType == 8"
                  (keyup)="checkRemainder()"
                />
              </div>

              <div>
                <label for="remaining">{{ "remaining" | translate }}</label>
                <input
                  type="text"
                  id="remaining"
                  name="remaining"
                  class="form-control bg-red"
                  [(ngModel)]="modalInvoice.remainder"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
            </div>

            <div class="d-flex me-3">
              <label for="date" class="mx-2">{{
                "P.O. Invoice" | translate
              }}</label>

              <file-upload
                class="w-full"
                style="min-height: 40px"
                [(ngModel)]="uploadedFiles"
                name="files"
              ></file-upload>
            </div>

            <div class="form-group row me-3">
              <label for="Statement" class="col-sm-2 col-form-label">{{
                "Statement" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [disabled]="modalInvoice.AddOrView != 1  && modalInvoice.AddOrView != 3"
                  type="text"
                  id="Statement"
                  name="Statement"
                  class="form-control"
                  placeholder="{{ 'Statement' | translate }}"
                  [(ngModel)]="modalInvoice.InvoiceNotes"
                  [ngModelOptions]="{ standalone: true }"
                />
              </div>
            </div>

            <div class="form-group row me-3">
              <label for="theNotes" class="col-sm-2 col-form-label">{{
                "theNotes" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [disabled]="modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3"
                  type="text"
                  id="theNotes"
                  name="theNotes"
                  class="form-control"
                  placeholder="{{ 'theNotes' | translate }}"
                  [(ngModel)]="modalInvoice.Notes"
                  [ngModelOptions]="{ standalone: true }"
                />
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="box w-100 px-2 py-2 mx-3">
              <div>
                <label
                  for="totalAmount"
                  class="text-right col-form-label block"
                >
                  {{ "totalAmount" | translate }}
                </label>
                <input
                  id="totalAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.totalAmount"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
              <div>
                <label
                  for="TotalDiscount"
                  class="text-right col-form-label block"
                >
                  {{ "TotalDiscount" | translate }}
                </label>
                <input
                  id="TotalDiscount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.discounMoneytVal"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="netAmount" class="text-right col-form-label block">
                  {{ "netAmount" | translate }}
                </label>
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.totalWithDiscount"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="AllTotal" class="text-right col-form-label block">
                  {{ "AllTotal" | translate }}
                </label>
                <input
                  id="AllTotal"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.total_"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="netBill">{{ "netBill" | translate }}</label>
                <input
                  type="text"
                  id="netBill"
                  name="netBill"
                  class="form-control"
                  [(ngModel)]="modalInvoice.VoucherValue"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="TotalTaxes" class="text-right col-form-label block">
                  {{ "TotalTaxes" | translate }}
                </label>
                <input
                  id="TotalTaxes"
                  required
                  class="form-control bg-yellow"
                  type="text"
                  [(ngModel)]="modalInvoice.taxAmountLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div style="display:none">
                <label for="CreditNoteTotal">{{
                  "CreditNoteTotal" | translate
                }}</label>
                <input
                  type="text"
                  id="CreditNoteTotal"
                  name="CreditNoteTotal"
                  class="form-control"
                  [(ngModel)]="modalInvoice.CreditNotiLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="TotalDebtorNotice">{{
                  "TotalDebtorNotice" | translate
                }}</label>
                <input
                  type="text"
                  id="TotalDebtorNotice"
                  name="TotalDebtorNotice"
                  class="form-control"
                  [(ngModel)]="modalInvoice.DepitNotiLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="Net_taxes" class="text-right col-form-label block">
                  {{ "Net_taxes" | translate }}
                </label>
                <input
                  id="Net_taxes"
                  required
                  class="form-control bg-black"
                  type="text"
                  [(ngModel)]="modalInvoice.TotalVoucherValueLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- footer -->
    </ng-container>

    <div
      class="d-flex justify-content-end"
      *ngIf="modalInvoice.AddOrView == 3 && modalInvoice.IsPost == true"
    >
      <div class="pt-1 m-1">
        <button
          [disabled]="
            disableButtonSave_Invoice || modalInvoice.supplierId == null
          "
          (click)="modalInvoice.WhichClick = 3; open(SaveInvoiceConfirmModal, null, 'SaveInvoiceConfirmModal',null,null,modal);"
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "save" | translate }}
        </button>
      </div>
    </div>
    <div class="d-flex justify-content-end" *ngIf="modalInvoice.AddOrView == 1">
      <div class="pt-1 m-1">
        <button
        *ngIf="userG?.userPrivileges.includes(13100407)"
          [disabled]="
            disableButtonSave_Invoice || modalInvoice.supplierId == null
          "
          (click)="modalInvoice.WhichClick = 2; open(SaveInvoiceConfirmModal, null, 'SaveInvoiceConfirmModal',null,null,modal);"
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "Save_CarryOver" | translate }}
        </button>
      </div>

      <div class="pt-1 m-1">
        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "close" | translate }}
        </button>
      </div>

      <div class="pt-1 m-1">
        <button
          [disabled]="
            disableButtonSave_Invoice || modalInvoice.supplierId == null
          "
          (click)="modalInvoice.WhichClick = 1; open(SaveInvoiceConfirmModal, null, 'SaveInvoiceConfirmModal',null,null,modal);"
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "save" | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-template>

<!-- PaymentInvoiceModal  -->
<ng-template #PaymentInvoiceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "NewVoucher" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body customForm pt-0">
    <ng-container>
      <div class="row align-items-end mb-2 mx-3">
        <!-- 1 line -->
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="date" class="text-right col-form-label block">
              {{ "date" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="date"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              [(ngModel)]="vouchermodel.date"
              [ngModelOptions]="{ standalone: true }"
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
              (ngModelChange)="ChangeReceiptVoucherGre($event)"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="invoiceNumber" class="text-right col-form-label block">
              {{ "Bond number" | translate }}
            </label>
            <input
              required
              class="form-control"
              type="text"
              disabled
              name="invoiceNumber"
              autocomplete="off"
              [ngModelOptions]="{ standalone: true }"
              [(ngModel)]="vouchermodel.invoiceNumber"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="user" class="text-right col-form-label block">
              {{ "m_Cost" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'mainCenter' | translate }}"
              [(ngModel)]="vouchermodel.CostCenterId"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              name="user"
            >
              <ng-option
                *ngFor="let user of costCentersList"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <!-- 2 line -->

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group hijri-gregorianReciept">
            <label for="hijriDate" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <!-- <input placeholder="{{ 'Chose' | translate }}" name="date" type="text" class="form-control" bsDatepicker
                formControlName="hijriDate"
                  #dpr="bsDatepicker" /> -->
            <hijri-gregorian-datepicker
              [(selectedDate)]="vouchermodel.hijriDate"
              [isRequired]="true"
              [hijriLabel]="'Hijri'"
              name="hijriDate"
              [selectedDateType]="selectedDateTypeR"
              (selectedDateChange)="ChangeReceiptVoucherHijri($event)"
              [dir]="'dir' | translate"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="reftxt" class="text-right col-form-label block">
              {{ "referenceNumber" | translate }}
            </label>
            <input
              placeholder="{{ 'referenceNumber' | translate }}"
              required
              class="form-control"
              autocomplete="off"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              name="reftxt"
              [(ngModel)]="vouchermodel.invoiceReference"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "F_Purchase" | translate }}
            </label>
            <input
              placeholder="{{ 'F_Purchase' | translate }}"
              [ngModelOptions]="{ standalone: true }"
              class="form-control"
              type="numbur"
              autocomplete="off"
              [(ngModel)]="vouchermodel.supplierInvoiceNo"
              name="supplierInvoiceNo"
              autocomplete="off"
            />
          </div>
        </div>

        <!-- 3 line -->
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Registration number" | translate }}
            </label>
            <input
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              autocomplete="off"
              disabled
              [(ngModel)]="vouchermodel.journalNumber"
              name="journalNumber"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Payment type" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              placeholder="{{ 'Chose' | translate }}"
              class="w-full p-0"
              [(ngModel)]="vouchermodel.payType"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              (change)="FillCustAc(false)"
              name="paymentType"
              id="paymentType"
            >
              <ng-option *ngFor="let user of PayTypeList" [value]="user.id">{{
                user.name | translate
              }}</ng-option>
            </ng-select>
            <!-- <div *ngIf="voucher.payType==null && submitted==true" class="error-text">
                This field is required.
              </div> -->
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="upload col-span-1 md:col-span-2">
            <label for="attach">{{ "attachments" | translate }}</label>
            <file-upload
              class="w-full"
              style="min-height: 40px"
              [(ngModel)]="uploadedFilesR"
              name="files"
            ></file-upload>
          </div>
        </div>
      </div>

      <div class="row mx-3">
        <div class="col-md-12">
          <div class="boxContainer w-100 py-2 px-3">
            <div class="row me-3">
              <div class="col-md-2">
                <label for="exchangeClause" class="text-babyblue">
                  {{ "exchangeClause" | translate }}
                </label>
              </div>
              <div class="col-md-10 flex">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100 {{
                    vouchermodel.clauseId == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  style="min-width: 200px !important"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [(ngModel)]="vouchermodel.clauseId"
                  name="clauseId"
                >
                  <ng-option
                    *ngFor="let user of clauseseleted"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>

                <button
                  class="btn bg-white text-black"
                  (click)="open(newItemModal, null, 'clause', null)"
                >
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="payFor" class="text-babyblue">
                  {{ "payFor" | translate }}
                </label>
              </div>
              <div class="col-md-10 flex">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100 {{
                    vouchermodel.supplierId == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  style="min-width: 200px !important"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.supplierId"
                  autocomplete="off"
                  name="supplierId"
                  (change)="GetTaxNoBySuppIdR(vouchermodel.supplierId)"
                >
                  <ng-option
                    *ngFor="let user of supplierseleted"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>
                <button
                  class="btn bg-white text-black"
                  (click)="open(AddNewResourceModal, null, 'supplier')"
                >
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label
                  for="recipientName"
                  class="text-babyblue"
                  for="recipientName"
                >
                  {{ "recipientName" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="recipientName"
                  placeholder="{{ 'recipientName' | translate }}"
                  required
                  class="form-control  {{
                    vouchermodel.recevierTxt == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  type="text"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [(ngModel)]="vouchermodel.recevierTxt"
                  name="recevierTxt"
                  autocomplete="off"
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="AmountOf" class="text-red">
                  {{ "AmountOf" | translate }}
                </label>
              </div>
              <div class="col-md-2">
                <input
                  id="AmountOf"
                  required
                  class="form-control  {{
                    vouchermodel.invoiceValue == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  type="text"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.invoiceValue"
                  autocomplete="off"
                  name="invoiceValue"
                  (keyup)="invoiceValuechange()"
                />
              </div>
              <div class="col-md-8">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.reVoucherNValueText"
                  autocomplete="off"
                  name="reVoucherNValueText"
                />
              </div>
            </div>
            <div class="row me-3">
              <div class="col-md-2">
                <label for="fromAccount" class="text-orange">
                  {{ "fromAccount" | translate }}
                </label>
              </div>
              <div class="col-md-8">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100  {{
                    vouchermodel.accountId == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.accountId"
                  name="accountId"
                  autocomplete="off"
                  (change)="getaccountcode(vouchermodel.accountId, 2)"
                >
                  <ng-option
                    *ngFor="let user of FillCustAccountsSelect2listTO"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>
              </div>
              <div class="col-md-2">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  type="text"
                  [(ngModel)]="vouchermodel.fromAccountId2Code"
                  name="fromAccountId2Code"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="toAccount" class="text-orange">
                  {{ "toAccount" | translate }}
                </label>
              </div>
              <div class="col-md-8">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100 {{
                    vouchermodel.toAccountId == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  autocomplete="off"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.toAccountId"
                  name="toAccountId"
                  (change)="getaccountcode(vouchermodel.toAccountId, 1)"
                >
                  <ng-option *ngFor="let user of Toaccount" [value]="user.id">
                    {{ user.name }}</ng-option
                  >
                </ng-select>
              </div>
              <div class="col-md-2">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  autocomplete="off"
                  [ngModelOptions]="{ standalone: true }"
                  type="text"
                  [(ngModel)]="vouchermodel.toAccountIdCode"
                  name="toAccountIdCode"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="AndThatFor" class="text-yellow">
                  {{ "AndThatFor" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="AndThatFor"
                  autocomplete="off"
                  placeholder="{{ 'AddHere' | translate }}"
                  required
                  class="form-control {{
                    vouchermodel.notes == null && submitted == true
                      ? 'errorInput'
                      : ''
                  }}"
                  type="text"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="vouchermodel.notes"
                  name="notes"
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="Statement " class="text-babyblue">
                  {{ "Statement" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="Statement "
                  placeholder="{{ 'Statement' | translate }}"
                  required
                  [ngModelOptions]="{ standalone: true }"
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.invoiceNotes"
                  autocomplete="off"
                  name="invoiceNotes"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex">
        <div class="d-flex me-3">
          <input
            type="checkbox"
            name="NotActivatingAddedValue"
            id="NotActivatingAddedValue"
            [ngModelOptions]="{ standalone: true }"
            [(ngModel)]="vouchermodel.dunCalc"
            autocomplete="off"
            name="dunCalc"
          />
          <label for="NotActivatingAddedValue" class="mx-2">{{
            "NotCountingExpenses" | translate
          }}</label>
        </div>
      </div>

      <div
        class="editable shadow mb-4 d-block"
        style="overflow: auto"
        *ngIf="checkdetailsList.length > 0"
      >
        <p class="text-center">
          {{ "Check_transferDetails" | translate }}
        </p>
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="
            vertical-align: middle;
            font-size: 14px;
            min-width: max-content;
          "
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "serial" | translate }}</th>
              <th>{{ "Payment type" | translate }}</th>
              <th>{{ "Check_transferNumber" | translate }}</th>
              <th>{{ "dateCheck_transfer" | translate }}</th>
              <th>{{ "BankName" | translate }}</th>
              <th>{{ "edit" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of checkdetailsList; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.checkdetail }}</td>
              <td>{{ item.checkdetailpaytype }}</td>
              <td>{{ item.checkdetailcheckNo }}</td>
              <td>{{ item.checkdetailcheckDate }}</td>
              <td>{{ item.checkdetailbankName }}</td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="
                    open(
                      EditCheckDetailsModal,
                      item,
                      'EditCheckDetailsModal',
                      'EditCheckDetails'
                    )
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- footer -->
    </ng-container>

    <div class="d-flex justify-content-end gap-2">
      <div>
        <button
          class="btn text-white"
          style="background-color: var(--base-color)"
          (click)="savevoucher(2, modal)"
        >
          {{ "save" | translate }}
        </button>
      </div>
      <div>
        <button
        *ngIf="userG?.userPrivileges.includes(13100307)"
          class="btn text-white"
          style="background-color: var(--base-color)"
          (click)="savevoucher(1, modal)"
        >
          {{ "Save_CarryOver" | translate }}
        </button>
      </div>
      <div>
        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "close" | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-template>

<!-- EditCheckDetailsModal -->
<ng-template #EditCheckDetailsModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "Check_transferDetails" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll px-4">
    <form [formGroup]="CheckDetailsForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Payment type" | translate }}
            </label>
            <input
              autocomplete="off"
              formControlName="paymenttypeName"
              class="form-control"
              autocomplete="off"
              type="text"
              [disabled]="1 == 1"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "dateCheck_transfer" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="dateCheck_transfer"
              autocomplete="off"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              formControlName="dateCheck_transfer"
            />
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3"
          *ngIf="transferNumber == true"
        >
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Check_transferNumber" | translate }}
            </label>
            <input
              placeholder="{{ 'Check_transferNumber' | translate }}"
              autocomplete="off"
              formControlName="Check_transferNumber"
              class="form-control"
              type="number"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "BankName" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              name="user"
              formControlName="BankId"
              autocomplete="off"
            >
              <ng-option
                *ngFor="let user of BankSelectList"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <button
          type="button"
          class="flex gap-1 btn btn-success mb-3 col-md-2"
          (click)="open(AddModalBanks, '', 'AddModalBanks')"
        >
          {{ "add" | translate }}
          <i class="fa-solid fa-plus"></i>
        </button>
      </div>
    </form>
  </div>

  <div class="flex justify-end p-3">
    <button class="btn mx-2 btn-secondary" (click)="modal?.dismiss()">
      {{ "close" | translate }}
    </button>

    <button
      class="btn text-white"
      style="background-color: var(--base-color)"
      (click)="checkdetailsTabel(modal)"
      [disabled]="this.CheckDetailsForm.controls['BankId'].value == null"
    >
      {{ "save" | translate }}
    </button>
  </div>
</ng-template>

<!-- AddModalBanks -->
<ng-template #AddModalBanks let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "Bank Name" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll px-4">
    <div class="row align-items-end mb-4 mx-3">
      <!-- 1 line -->

      <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
        <div class="form-group">
          <label for="nameAr" class="text-right col-form-label block">
            {{ "nameAr" | translate }}
          </label>
          <input
            class="form-control"
            type="text"
            [(ngModel)]="BanksNameEn"
            autocomplete="off"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
      </div>

      <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
        <div class="form-group">
          <label for="nameEn" class="text-right col-form-label block">
            {{ "nameEn" | translate }}
          </label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="BanksNameAr"
            autocomplete="off"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
      </div>

      <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
        <button
          type="button"
          class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
          (click)="SaveBanks()"
          style="background-color: var(--base-color)"
        >
          {{ "save" | translate }}
        </button>

        <button
          type="button"
          class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          (click)="modal?.dismiss()"
        >
          {{ "close" | translate }}
        </button>
      </div>

      <!-- <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input name="dateCheck_transfer" placeholder="{{ 'search' | translate }}" type="text" class="form-control"/>
        </div> -->
    </div>

    <div class="editable shadow mb-4">
      <table
        class="table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px"
      >
        <thead
          class="bg-base text-white"
          style="line-height: 30px; font-size: 13px"
        >
          <tr>
            <th>{{ "BankName_ar" | translate }}</th>
            <th>{{ "BankName_en" | translate }}</th>
            <th>{{ "operations" | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let item of BanksList; let i = index"
            style="line-height: 5px"
          >
            <td>{{ item.nameAr }}</td>
            <td>{{ item.nameEn }}</td>
            <td>
              <button
                class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                (click)="updateBanks(item)"
              >
                <i class="fa-regular fa-pen-to-square"></i>
              </button>

              <button
                class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                (click)="open(deleteBank, item, 'deleteBank')"
              >
                <i class="fa-solid fa-trash-can"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!--
  <div class="flex justify-end p-3">
    <button class="btn me-2 btn-secondary" (click)="modal?.dismiss()">
      {{ "close" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn text-white" style="background-color: var(--base-color)">
      {{ "save" | translate }}
    </button>
  </div> -->
</ng-template>

<!-- deleteBank -->
<ng-template #deleteBank let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteBank(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- newItemModal -->
<ng-template #newItemModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "newItem" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              required
              class="form-control"
              type="text"
              [(ngModel)]="Clausemodel.nameAr"
              autocomplete="off"
              id="nameAr"
              name="nameAr"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              type="text"
              class="form-control"
              autocomplete="off"
              [(ngModel)]="Clausemodel.nameEn"
              id="nameEn"
              name="nameEn"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
            (click)="SaveClause()"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
            (click)="modal.dismiss()"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
            [(ngModel)]="searchClause"
            id="searchClause"
            name="searchClause"
            (keyup)="GetAllClauses()"
          />
        </div>
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "ItemName_ar" | translate }}</th>
              <th>{{ "ItemName_en" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of claselist; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.nameAr }}</td>
              <td>
                <input
                  type="text"
                  name="os-name{{ i }}"
                  [(ngModel)]="item.nameEn"
                  ngModel
                />
              </td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="editclause(item)"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deleteclause, item, 'deleteclase')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <!-- <div class="flex justify-end p-3">
    <button class="btn me-2 btn-secondary">
      {{ "close" | translate }}
    </button>

    <button
      (click)="modal?.dismiss()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>
  </div> -->
</ng-template>

<!-- deleteclauseModal -->
<ng-template #deleteclause let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteClause(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- deleteclauseModal -->
<ng-template #deletepplier let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteSupplier(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!-- AddModal -->
<ng-template #AddModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "newItem" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #form="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              placeholder="{{ 'nameAr' | translate }}"
              required
              class="form-control"
              type="text"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              placeholder="{{ 'nameEn' | translate }}"
              name="dateCheck_transfer"
              type="text"
              class="form-control"
              bsDatepicker
              autocomplete="off"
              #dpr="bsDatepicker"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            class="flex gap-1 btn text-white mb-3 col-md-2 me-3"
            style="background-color: var(--base-color)"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <!-- <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
            bsDatepicker
            #dpr="bsDatepicker"
          />
        </div> -->
      </div>

      <div class="editable shadow mb-4 block" style="overflow: auto">
        <p class="text-center">{{ "Check_transferDetails" | translate }}</p>
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="
            vertical-align: middle;
            font-size: 14px;
            min-width: max-content;
          "
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "ItemName_ar" | translate }}</th>
              <th>{{ "ItemName_en" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of users; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.id }}</td>
              <td>
                <input
                  type="text"
                  name="os-name{{ i }}"
                  [(ngModel)]="item.Name"
                  ngModel
                />
              </td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deleteModal, null, 'delete')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <div class="flex justify-end p-3">
    <button class="btn me-2 btn-secondary" (click)="modal?.dismiss()">
      {{ "close" | translate }}
    </button>

    <button class="btn text-white" style="background-color: var(--base-color)">
      {{ "save" | translate }}
    </button>
  </div>
</ng-template>

<!-- deleteModal -->
<ng-template #deleteModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="confirm(); modal.dismiss()"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- AddNewResourceModal -->
<ng-template #AddNewResourceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "newResource" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll p-4">
    <form class="" #smsForm="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'nameAr' | translate }}"
              class="form-control"
              type="text"
              [(ngModel)]="suppliermodel.nameAr"
              autocomplete="off"
              name="nameAr"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'nameEn' | translate }}"
              type="text"
              class="form-control"
              [(ngModel)]="suppliermodel.nameEn"
              autocomplete="off"
              name="nameEn"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="Commerial Registration"
              class="text-right col-form-label block"
            >
              {{ "Commerial Registration" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'Commerial Registration' | translate }}"
              type="text"
              class="form-control"
              autocomplete="off"
              [(ngModel)]="suppliermodel.taxNo"
              name="taxNo"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="thePhone" class="text-right col-form-label block">
              {{ "thePhone" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'thePhone' | translate }}"
              type="text"
              autocomplete="off"
              class="form-control"
              [(ngModel)]="suppliermodel.phoneNo"
              name="phoneNo"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Address" class="text-right col-form-label block">
              {{ "Address" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              autocomplete="off"
              placeholder="{{ 'Address' | translate }}"
              type="text"
              class="form-control"
              [(ngModel)]="suppliermodel.compAddress"
              name="compAddress"
            />
          </div>
        </div>

        <!--  -->

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Postal Code" class="text-right col-form-label block">
              {{ "Postal Code" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'Postal Code' | translate }}"
              type="text"
              autocomplete="off"
              class="form-control"
              [(ngModel)]="suppliermodel.postalCodeFinal"
              name="postalCodeFinal"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="Additional Phone"
              class="text-right col-form-label block"
            >
              {{ "Additional Phone" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'Additional Phone' | translate }}"
              type="text"
              class="form-control"
              autocomplete="off"
              [(ngModel)]="suppliermodel.externalPhone"
              name="externalPhone"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Country" class="text-right col-form-label block">
              {{ "Country" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              autocomplete="off"
              placeholder="{{ 'Country' | translate }}"
              type="text"
              class="form-control"
              [(ngModel)]="suppliermodel.country"
              name="country"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Neighborhood" class="text-right col-form-label block">
              {{ "Neighborhood" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'Neighborhood' | translate }}"
              type="text"
              autocomplete="off"
              class="form-control"
              [(ngModel)]="suppliermodel.neighborhood"
              name="neighborhood"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Street Name" class="text-right col-form-label block">
              {{ "Street Name" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'Street Name' | translate }}"
              type="text"
              class="form-control"
              autocomplete="off"
              [(ngModel)]="suppliermodel.streetName"
              name="streetName"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="BuildingNumber" class="text-right col-form-label block">
              {{ "BuildingNumber" | translate }}
            </label>
            <input
              name="dateCheck_transfer"
              placeholder="{{ 'BuildingNumber' | translate }}"
              type="text"
              autocomplete="off"
              class="form-control"
              [(ngModel)]="suppliermodel.buildingNumber"
              name="buildingNumber"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Region" class="text-right col-form-label block">
              {{ "Region" | translate }}
            </label>

            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="suppliermodel.cityId"
              autocomplete="off"
              name="user"
            >
              <ng-option *ngFor="let user of citylect" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <button
            type="button"
            class="flex gap-1 btn mb-3 col-md-2 me-3 text-white"
            style="background-color: var(--base-color)"
            (click)="savesupplier()"
          >
            {{ "save" | translate }}
          </button>

          <button
            type="button"
            class="flex gap-1 btn btn-secondary mb-3 col-md-2"
            (click)="modal?.dismiss()"
          >
            {{ "close" | translate }}
          </button>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-12 mb-0 mb-sm-3 text-center">
          <input
            name="dateCheck_transfer"
            placeholder="{{ 'search' | translate }}"
            type="text"
            class="form-control"
            [(ngModel)]="searchsupplier"
            autocomplete="off"
            name="searchsupplier"
            (keyup)="GetAllSuppliersR()"
          />
        </div>
      </div>

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "ResourceName_ar" | translate }}</th>
              <th>{{ "ResourceName_en" | translate }}</th>
              <th>{{ "Commerial Registration" | translate }}</th>
              <th>{{ "thePhone" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of supplierlist; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.nameAr }}</td>
              <td>{{ item.nameEn }}</td>
              <td>{{ item.taxNo }}</td>
              <td>{{ item.phoneNo }}</td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="editsupplier(item)"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deletepplier, item, 'deletesupplier')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <div class="d-flex justify-content-around mb-3">
    <!-- <div class="d-flex align-items-center">
      <img
        class="rounded-circle"
        width="50"
        height="50"
        src="../../../../../assets/images/client-3.png"
        alt=""
      />
      <p>
        {{ "Data Entry" | translate }} : محمد هلهل - فى - 2023-06-13 - 13:45:00
      </p>
    </div> -->

    <div class="d-flex justify-content-end">
      <div class="pt-3 m-3">
        <button
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "CarryOver" | translate }}
        </button>
      </div>

      <div class="pt-3 m-3">
        <button
          class="btn text-white"
          style="background-color: var(--base-color)"
        >
          {{ "save" | translate }}
        </button>
      </div>

      <div class="pt-3 m-3">
        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "close" | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-template>
<!-- AddOption -->
<ng-template #AddOption let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "AddNewResource" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll px-4">
    <form class="" #form="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-md-6 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              [(ngModel)]="nameAr"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
            />
          </div>
        </div>

        <div class="col-md-6 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              name="nameEn"
              type="text"
              class="form-control"
              [(ngModel)]="nameEn"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="taxNumber" class="text-right col-form-label block mx-2">
              {{ "Commerial Registration" | translate }}
            </label>
            <input
              [(ngModel)]="taxNo"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="taxNumber"
              name="taxNumber"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="phone" class="text-right col-form-label block mx-2">
              {{ "phone" | translate }}
            </label>
            <input
              [(ngModel)]="phoneNo"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="number"
              id="phone"
              name="phone"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Address" class="text-right col-form-label block mx-2">
              {{ "Address" | translate }}
            </label>
            <input
              [(ngModel)]="compAddress"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="Address"
              name="Address"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="PostalCode"
              class="text-right col-form-label block mx-2"
            >
              {{ "Postal Code" | translate }}
            </label>
            <input
              [(ngModel)]="postalCodeFinal"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="PostalCode"
              autocomplete="off"
              name="PostalCode"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="AdditionalPhone"
              class="text-right col-form-label block mx-2"
            >
              {{ "Additional Phone" | translate }}
            </label>
            <input
              [(ngModel)]="externalPhone"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="AdditionalPhone"
              name="AdditionalPhone"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Country" class="text-right col-form-label block mx-2">
              {{ "Country" | translate }}
            </label>
            <input
              [(ngModel)]="country"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="country"
              name="Country"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="Neighborhood"
              class="text-right col-form-label block mx-2"
            >
              {{ "Neighborhood" | translate }}
            </label>
            <input
              [(ngModel)]="neighborhood"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="Neighborhood"
              name="Neighborhood"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="StreetName"
              class="text-right col-form-label block mx-2"
            >
              {{ "Street Name" | translate }}
            </label>
            <input
              [(ngModel)]="streetName"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="StreetName"
              name="StreetName"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <div class="form-group">
            <label
              for="BuildingNumber"
              class="text-right col-form-label block mx-2"
            >
              {{ "BuildingNumber" | translate }}
            </label>
            <input
              [(ngModel)]="buildingNumber"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="BuildingNumber"
              name="BuildingNumber"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-0 mb-sm-3">
          <label class="col-form-label"> {{ "Area" | translate }}</label>
          <ng-select
            class="w-full p-0"
            placeholder="{{ 'Chose' | translate }}"
            [(ngModel)]="cityId"
            [ngModelOptions]="{ standalone: true }"
            autocomplete="off"
          >
            <ng-option *ngFor="let user of FillCityList" [value]="user.id">{{
              user.name
            }}</ng-option>
          </ng-select>
        </div>

        <div class="col-md-6 mb-0 mb-sm-3">
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              class="btn bg-base text-white"
              (click)="SaveSupplier()"
            >
              {{ "save" | translate }}
            </button>

            <button
              type="button"
              class="btn btn-secondary"
              (click)="modal?.dismiss()"
            >
              {{ "close" | translate }}
            </button>
          </div>
        </div>
      </div>

      <input
        name="search"
        placeholder="{{ 'search' | translate }}"
        type="text"
        class="form-control mb-3"
      />

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "The supplier's name is Arabic" | translate }}</th>
              <th>{{ "The supplier's name is English" | translate }}</th>
              <th>{{ "Tax Number" | translate }}</th>
              <th>{{ "phone" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of SuppliersList; let i = index">
              <td>{{ item.nameAr }}</td>
              <td>{{ item.nameEn }}</td>
              <td>{{ item.taxNo }}</td>
              <td>{{ item.phoneNo }}</td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="updatesupplier(item)"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deletesupplier, item, 'deletesupplier')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>
  <!--
  <div class="flex justify-end p-3">
    <button class="btn me-2 btn-secondary" (click)="modal?.dismiss()">
      {{ "close" | translate }}
    </button>

    <button
      (click)="modal?.dismiss()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>
  </div> -->
</ng-template>

<!-- AddItem -->
<ng-template #AddItem let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "New Category" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="max-h-100 overflow-x-scroll overflow-y-scroll px-4">
    <form class="" #form="ngForm">
      <div class="row align-items-end mb-4 mx-3">
        <!-- 1 line -->

        <div class="col-md-6 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [(ngModel)]="nAmeAr"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-md-6 col-lg-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              name="nameEn"
              type="text"
              class="form-control"
              [(ngModel)]="nAmeEn"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-md-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="price" class="text-right col-form-label block mx-2">
              {{ "price" | translate }}
            </label>
            <input
              [(ngModel)]="Price"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="number"
              id="price"
              name="price"
            />
          </div>
        </div>

        <div class="col-md-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label class="col-form-label">
              {{ "category type" | translate }}</label
            >
            <div class="flex">
              <ng-select
                class="w-full p-0"
                style="min-width: max-content"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="CategorTypeId"
                [ngModelOptions]="{ standalone: true }"
                autocomplete="off"
              >
                <ng-option
                  *ngFor="let user of CategoryTypeList"
                  [value]="user.id"
                  >{{ user.name }}</ng-option
                >
              </ng-select>
              <button
                type="button"
                class="btn bg-base text-white"
                (click)="open(ItemTypeModal, null, 'ItemTypeModal')"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="col-md-6 mb-0 mb-sm-3">
          <label class="col-form-label">
            {{ "Item expense account" | translate }}</label
          >
          <ng-select
            class="w-full p-0"
            placeholder="{{ 'Chose' | translate }}"
            [(ngModel)]="AccountId"
            [ngModelOptions]="{ standalone: true }"
            autocomplete="off"
          >
            <ng-option
              *ngFor="let user of FillSubAccountList"
              [value]="user.id"
              >{{ user.name }}</ng-option
            >
          </ng-select>
        </div>

        <div class="col-md-6 mb-0 mb-sm-3">
          <div class="form-group">
            <label for="Notes" class="text-right col-form-label block mx-2">
              {{ "Notes" | translate }}
            </label>
            <input
              [(ngModel)]="Note"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              class="form-control"
              type="text"
              id="Notes"
              name="Notes"
            />
          </div>
        </div>

        <div class="col-12 mb-0 mb-sm-3">
          <div class="flex flex-wrap gap-3 justify-center">
            <button
              type="button"
              class="btn bg-base text-white"
              (click)="SaveCategory()"
            >
              {{ "save" | translate }}
            </button>

            <button
              type="button"
              class="btn btn-secondary"
              (click)="modal?.dismiss()"
            >
              {{ "close" | translate }}
            </button>
          </div>
        </div>
      </div>

      <!-- <input
        name="search"
        placeholder="{{ 'search' | translate }}"
        type="text"
        class="form-control mb-3"
      /> -->

      <div class="editable shadow mb-4">
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="vertical-align: middle; font-size: 14px"
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "Arabic category name" | translate }}</th>
              <th>{{ "English category name" | translate }}</th>
              <th>{{ "price" | translate }}</th>
              <th>{{ "Notes" | translate }}</th>
              <th>{{ "operations" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of servicesList; let i = index">
              <td>{{ item.nAmeAr }}</td>
              <td>{{ item.nAmeEn }}</td>
              <td>{{ item.price }}</td>
              <td>{{ item.note }}</td>
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="updateCategories(item)"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deleteCategory, item, 'deleteCategory')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>

  <!-- <div class="flex justify-end p-3">
    <button class="btn me-2 btn-secondary" (click)="modal?.dismiss()">
      {{ "close" | translate }}
    </button>

    <button
    (click)="SaveCategory()"
      class="btn text-white"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>
  </div> -->
</ng-template>

<!-- ItemTypeModal -->
<ng-template #ItemTypeModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl"> {{ "New Category Type" | translate }} </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.close()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body text-center">
    <form #addFileType="ngForm" class="grid grid-cols-1 md:grid-cols-2 gap-2">
      <div class="form-group">
        <label for="v" class="text-right col-form-label block">
          {{ "nameAr" | translate }}
          <span class="text-danger">*</span></label
        >
        <input
          [(ngModel)]="CategoryNameAr"
          [ngModelOptions]="{ standalone: true }"
          autocomplete="off"
          class="form-control"
          type="text"
          id="nameAr"
          name="nameAr"
        />
      </div>
      <div class="form-group">
        <label for="nameEn" class="text-right col-form-label block">
          {{ "nameEn" | translate }}
          <span class="text-danger">*</span></label
        >
        <input
          [(ngModel)]="CategoryNameEn"
          [ngModelOptions]="{ standalone: true }"
          class="form-control"
          type="text"
          id="nameEn"
          name="nameEn"
          autocomplete="off"
        />
      </div>
    </form>

    <!-- <input
      name="search"
      placeholder="{{ 'search' | translate }}"
      type="text"
      class="form-control mb-3 mt-4"
    /> -->
    <div class="max-h-80 overflow-auto">
      <table
        class="table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px"
      >
        <thead
          class="bg-base text-white"
          style="line-height: 30px; font-size: 13px"
        >
          <tr>
            <th>{{ "nameAr" | translate }}</th>
            <th>{{ "nameEn" | translate }}</th>
            <th>{{ "operations" | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let type of AllCategoryList">
            <td>{{ type.nAmeAr }}</td>
            <td>{{ type.nAmeEn }}</td>
            <td>
              <button
                class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                (click)="updateCategory(type)"
              >
                <i class="fa-regular fa-pen-to-square"></i>
              </button>

              <button
                class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                (click)="open(deleteCategoryType, type, 'deleteCategoryType')"
              >
                <i class="fa-solid fa-trash-can"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="flex items-end gap-2 mt-3 pt-3 border-t border-neutral-300">
      <button (click)="modal?.close()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
      <button
        class="btn bg-base text-white"
        type="submit"
        (click)="SaveCategoryType()"
      >
        {{ "save" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- deleteCategoryType -->
<ng-template #deleteCategoryType let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteCategorytype(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- deleteCategory -->
<ng-template #deleteCategory let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteCategory(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- deletesupplier -->
<ng-template #deletesupplier let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="deletesupp(modal)"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!-- postModal  -->
<ng-template #postModal let-modal>
  <div class="text-center p-3" *ngIf="WhichPost == 1">
    {{ "Do you want to do the deportation of this bond?" | translate }}
  </div>
  <div class="text-center p-3" *ngIf="WhichPost == 2">
    {{ "Do you want to do the deportation of those bonds?" | translate }}
  </div>
  <div class="flex justify-center p-3">
    <button
      (click)="postbtn(); modal?.dismiss()"
      class="btn text-white me-2"
      style="background-color: var(--base-color)"
    >
      {{ "save" | translate }}
    </button>

    <button (click)="modal?.dismiss()" class="btn btn-secondary">
      {{ "close" | translate }}
    </button>
  </div>
</ng-template>

<!-- servicesListModal Category -->
<!-- <ng-template #servicesListModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body" style="overflow-y: scroll; max-height: 600px">
    <mat-form-field class="w-full">
      <mat-label>{{ "search" | translate }}</mat-label>
      <input matInput (keyup)="applyFilterServiceList($event)" #input />
    </mat-form-field>

    <div class="table">
      <table
        mat-table
        [dataSource]="serviceListDataSource"
        class="mat-elevation-z8 table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px"
      >
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>
            {{ "ServiceName" | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ lang == "ar" ? element.nAmeAr : element.nAmeEn }}
          </td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>{{ "price" | translate }}</th>
          <td mat-cell *matCellDef="let element">{{ element.price }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="servicesListdisplayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="
            let row;
            let i = index;
            columns: servicesListdisplayedColumns
          "
          (dblclick)="setServiceRowValue(row); modal.dismiss()"
        ></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            {{ "noResult" | translate }} "{{ input.value }}"
          </td>
        </tr>
      </table>
      <mat-paginator #paginatorServices [pageSizeOptions]="[10, 25]">
      </mat-paginator>
    </div>

    <div class="text-end mt-2">
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template> -->

<!-- servicesListModal -->
<ng-template #servicesListModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body" style="overflow-y: scroll; max-height: 600px">
    <mat-form-field class="w-full">
      <mat-label>{{ "search" | translate }}</mat-label>
      <input matInput (keyup)="applyFilterServiceList($event)" #input />
    </mat-form-field>

    <div class="table">
      <table
        mat-table
        [dataSource]="serviceListDataSource"
        class="mat-elevation-z8 table table-responsive table-striped table-bordered text-center"
        style="vertical-align: middle; font-size: 14px"
      >
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>
            {{ "ServiceName" | translate }}
          </th>
          <td mat-cell *matCellDef="let element">{{ element.servicesName }}</td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>{{ "price" | translate }}</th>
          <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="servicesListdisplayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="
            let row;
            let i = index;
            columns: servicesListdisplayedColumns
          "
          (dblclick)="setServiceRowValue(row); modal.dismiss()"
        ></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            {{ "noResult" | translate }} "{{ input.value }}"
          </td>
        </tr>
      </table>
      <mat-paginator #paginatorServices [pageSizeOptions]="[10, 25]">
      </mat-paginator>
    </div>

    <div class="text-end mt-2">
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #printDivModalPurchase let-modal>
  <div class="modal-body">
    <div
      id="divHtml_aPurchase"
      class="divHtml"
      style="width: 100% !important; margin: 0px auto !important"
    >
      <div>
        <img
          *ngIf="CustomData.headerurl"
          src="{{ CustomData.headerurl }}"
          alt="headerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
      <div class="invoiceNe-wrapper" style="direction: rtl !important">
        <!--Header-->
        <div class="invoiceNe-header">
          <div class="headerNe-right-side">
            <img
              *ngIf="CustomData.OrgImg"
              src="{{ CustomData.OrgImg }}"
              alt="logo"
              style="
                height: 80px;
                width: 140px;
                max-width: 200px;
                object-fit: fill;
              "
            />
          </div>
          <div class="headerNe-lefy-side" style="width: 100%">
            <p>{{ InvPrintData?.org_VD?.nameAr }}</p>
            <p>{{ InvPrintData?.org_VD?.nameEn }}</p>
            <div class="line" style="position: relative; padding: 5px 0px 10px">
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 100%;
                  height: 2px;
                  background-color: #e5e5e5;
                  z-index: 1;
                "
              ></span>
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 70%;
                  height: 2px;
                  background-color: #ec1c24;
                  z-index: 2;
                "
              ></span>
            </div>
            <h1 style="margin-bottom: 0">فاتورة مشتريات</h1>
          </div>
        </div>
        <!--/Header-->

        <!--invoiceNe-content-->
        <div class="invoiceNe-content">
          <div class="firstNe-table-main-heading" style="display: flex">
            <div class="firstNe-table" style="margin-left: 5px; width: 50%">
              <table
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.invoiceNumber }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice No
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice Date
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ التوريد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Date of supply
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="firstNe-table" style="margin-right: 5px; width: 50%">
              <table
                of
                supplyable
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      فاتورة ضريبية
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.payTypeName }}
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Tax Invoice
                    </th>
                  </tr>
                  <!-- <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم المشروع
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.projectNo }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Project No
                    </th>
                  </tr> -->

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم العقد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.contractNo ?? "بدون" }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Contract No
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>

          <!--Details-->
          <div
            class="invoiceNe-details"
            style="margin-bottom: 0px; display: flex"
          >
            <!--second table-->
            <div class="secondNe-table" style="margin-left: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #dceefd !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات المورد </span>
                <span>Seller</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.nameAr }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.compAddress }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.buildingNumber }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.streetName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.neighborhood }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.cityName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.country }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.postalCodeFinal }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.externalPhone }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.taxNo }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    معرف اخر
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.commercialRegister }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    A.SellerID
                  </th>
                </tr>
              </table>
            </div>
            <!--second table-->
            <!--third table-->
            <div class="thirdNe-table" style="margin-right: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #faebd7 !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات العميل </span>
                <span>Customer</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.branch_VD?.isPrintInvoice == true
                        ? InvPrintData?.branch_VD?.nameAr
                        : InvPrintData?.org_VD?.nameAr
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.address
                        : InvPrintData?.branch_VD?.address
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.buildingNumber
                        : InvPrintData?.branch_VD?.buildingNumber
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.streetName
                        : InvPrintData?.branch_VD?.streetName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.neighborhood
                        : InvPrintData?.branch_VD?.neighborhood
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.cityName
                        : InvPrintData?.branch_VD?.cityName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.country
                        : InvPrintData?.branch_VD?.country
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.postalCodeFinal
                        : InvPrintData?.branch_VD?.postalCodeFinal
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>

                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.externalPhone
                        : InvPrintData?.branch_VD?.externalPhone
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.taxCode
                        : InvPrintData?.branch_VD?.taxCode
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr></tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الفرع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.branch_VD?.isPrintInvoice == true
                        ? InvPrintData?.branch_VD?.nameAr
                        : "--"
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Branch
                  </th>
                </tr>
              </table>
            </div>
            <!--third table-->
          </div>

          <!--totalNe-invoice-->
          <div class="totalNe-invoice" style="margin-bottom: 0px">
            <table
              style="
                max-width: 100%;
                vertical-align: middle;
                text-align: center;
              "
            >
              <thead>
                <tr>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    م <br />
                    .No
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    اسم الخدمة <br />
                    Item Name
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الوحدة <br />
                    Unit
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الكمية <br />
                    .Qty
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    السعر <br />
                    Price
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الخصم <br />
                    Discount
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    نسبة الخصم <br />
                    discount percent
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي<br />
                    Net
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    ض.ق.المضافة <br />
                    VAT
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي + الضريبة <br />
                    Net + VAT
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="
                    let item of InvPrintData?.voucherDetailsVM_VD;
                    let i = index
                  "
                >
                  <td>{{ i + 1 }}</td>
                  <td>{{ item.categoryName }}</td>
                  <td>{{ item.categoryTypeName }}</td>
                  <td>{{ item.qty }}</td>
                  <td>{{ GetAccualValue(item) }}</td>
                  <td>{{ item.discountValue_Det }}</td>
                  <td>{{ item.discountPercentage_Det }}</td>
                  <td>{{ GetDiff(item) }}</td>
                  <td>{{ item.taxAmount }}</td>
                  <td>{{ item.totalAmount }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!--totalNe-invoice-->
          <!--invoice value-->
          <div
            class="invoiceNe-value"
            style="display: block !important; margin-bottom: 3px"
          >
            <div class="invoiceNe-divided">
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span> الإجمالي : </span>
                  <span>{{ CustomData.Total }}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الخصم : </span>
                  <span>{{ CustomData.DiscPer }} % {{ CustomData.Disc }}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الإجمالي بعد الخصم : </span>
                  <span>{{ CustomData.TotalAfterDisc }}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الصافي : </span>
                  <span>{{ CustomData.netVal }}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> ضريبة القيمة المضافة (15%) : </span>
                  <span>{{ InvPrintData?.invoicesVM_VD.taxAmount ?? 0 }}</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>إجمالي المبلغ المطلوب سداده: </span>
                  <span
                    >{{ InvPrintData?.invoicesVM_VD.totalValue ?? 0 }}</span>
                    <span style="margin-right: 6%;">({{ InvPrintData?.valueNumString }})</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2dvh;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>الملاحظات:</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.notes }}</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                    font-size: 15px !important;
                  "
                >
                  <span>وسائل الدفع:</span>
                  <span></span>
                </p>
              </div>
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span>المدفوع :</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.paidValue ?? 0 }}</span>
                </p>
                <p style="margin-bottom: 2px">
                  <span>المتبقي :</span>
                  <span>{{
                    (InvPrintData?.invoicesVM_VD.totalValue ?? 0) -
                      (InvPrintData?.invoicesVM_VD.paidValue ?? 0)
                  }}</span>
                </p>
                <p
                  style="margin-top: 120%; color: red"
                  *ngIf="CustomData?.PrintType != 1"
                >
                  <span>{{ CustomData?.PrintTypeName }}</span>
                </p>
              </div>
            </div>
          </div>

          <!--invoice -bank-account-->
          <!--invoiceNe-footer-->
          <div
            class="invoiceNe-footer"
            style="
              display: flex !important;
              justify-content: space-between;
              align-items: start;
            "
          >
            <div>
              <img
                *ngIf="CustomData.Account1Img"
                src="{{ CustomData.Account1Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                  margin-bottom: 5px;
                "
              />
              <img
                *ngIf="CustomData.Account2Img"
                src="{{ CustomData.Account2Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                "
              />
            </div>

            <div>
              <h4>{{ CustomData.Account1Bank }}</h4>
              <h4>{{ CustomData.Account2Bank }}</h4>
              <h4>{{ InvPrintData?.invoicesVM_VD.addUser }}</h4>
            </div>

            <div class="qrNe-code">
              <img
                #conditionimg
                src="{{ InvPrintData?.qrCodeString_VD }}"
                alt="QRCode"
                style="height: 140px; width: 180px"
              />
            </div>
          </div>

          <!--invoiceNe-footer-->
          <!--Details-->
        </div>
        <!--invoiceNe-content-->
        <div>
          <img
            *ngIf="CustomData.footerurl"
            src="{{ CustomData.footerurl }}"
            alt="footerurl"
            style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('divHtml_aPurchase')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<!-- SaveInvoiceConfirmModal -->
<ng-template #SaveInvoiceConfirmModal let-modal>
  <div class="modal-body text-center" style="background-color: #cdcdcd !important;">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد الحفظ ',
        en: 'Are you sure to save ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center mt-3">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="checkPayTypeAndSave(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

  <!-- btn add  -->
  <ng-template #StorehouseModal let-modal>
    <div class="modal-header bg-base text-white">
      <h4
        class="modal-title mb-0"
        id="modal-basic-title"
        [translate]="'name'"
        [translateParams]="{ ar: 'اضافة جديدة', en: 'Add New' }"
      ></h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss('Cross click')"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="modal-body text-center">
      <form #addStorehouse="ngForm" class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div class="form-group">
          <label for="BuildNameArtxt" class="text-right col-form-label block">
            {{ "nameAr" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            required
            #StorehouseNameAr="ngModel"
            ngModel
            [(ngModel)]="dataAdd.Storehouse.nameAr"
            class="form-control"
            type="text"
            id="StorehouseNameArtxt"
            name="StorehouseNameArtxt"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameAr' | translate)"
          />
        </div>
        <div class="form-group">
          <label for="StorehouseNameEntxt" class="text-right col-form-label block">
            {{ "nameEn" | translate }}
            <span class="text-danger">*</span></label
          >
          <div style="display: inline-flex; width: 100%">
            <input
              required
              #StorehouseNameEnValue
              #StorehouseNameEn="ngModel"
              [(ngModel)]="dataAdd.Storehouse.nameEn"
              ngModel
              class="form-control"
              type="text"
              id="StorehouseNameEntxt"
              name="StorehouseNameEntxt"
              autocomplete="off"
              [placeholder]="('Write' | translate) + ' ' + ('nameEn' | translate)"
            />
            <a
              class="btn"
              id="CopyStorehouseName2"
              (click)="dataAdd.Storehouse.nameEn = dataAdd.Storehouse.nameAr"
              ><i class="fa fa-copy"></i
            ></a>
          </div>
        </div>
      </form>
      <div class="max-h-80 overflow-auto px-2">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th
                [translate]="'name'"
                [translateParams]="{
                  ar: 'خيارات',
                  en: 'Operations'
                }"
              ></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let type of StorehousePopup"
              (dblclick)="
                setStorehouseInSelect(type, StorehouseModal);
                modal.dismiss('Cross click')
              "
            >
              <td>{{ type.name }}</td>
              <td>{{ type.nameEn }}</td>
              <td class="flex gap-2 justify-center">
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                  (click)="
                    dataAdd.Storehouse.nameAr = type.name;
                    dataAdd.Storehouse.nameEn = type.nameEn;
                    dataAdd.Storehouse.id = type.id
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
                <button
                  (click)="getStorehouseRow(type); open(deleteStorehouse)"
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="flex gap-2 mt-3 pt-3 border-t border-neutral-300">
        <button
          class="btn bg-base text-white"
          type="submit"
          [disabled]="addStorehouse.invalid"
          (click)="saveStorehouse()"
        >
          {{ "Save" | translate }}
        </button>
        <button (click)="modal.dismiss('Cross click')" class="btn btn-secondary">
          {{ "Back" | translate }}
        </button>
        <button (click)="resetStorehouse()" class="btn bg-base text-white">
          {{ "جديد" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
  
  <ng-template #deleteStorehouse let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'هل تريد بالتأكيد حذف هذا الصف',
          en: 'Are you sure to delete this row ?'
        }"
      ></p>
      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          mat-raised-button
          color="warn"
          (click)="confirmStorehouseDelete(); modal.dismiss()"
        >
          {{ "Yes" | translate }}
        </button>
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "No" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
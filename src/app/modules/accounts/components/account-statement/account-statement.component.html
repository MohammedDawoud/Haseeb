<div class="account-statement">
  <app-navigator [title]="title"></app-navigator>

  <!-- inputs -->
  <div class="container-fluid">

    <div class="head flex gap-2 flex-wrap items-end justify-between">
      <div class="btns mb-3 w-100">
        <div class="row flex flex-wrap w-100">

          <div class="col-md-4">
            <div class="form-group">
              <label class="col-form-label"> {{ "accountName" | translate }}</label>
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="data.filter.search_accountId"
                name="accountName" (change)="changeAccount()"
              >
                <ng-option *ngFor="let user of load_accountIds" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group">
              <label class="col-form-label">
                {{ "withCostCenter" | translate }}</label
              >
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                [(ngModel)]="data.filter.search_costCenterId"
                name="withCostCenter" (change)="changeAccount()"
              >
                <ng-option
                  *ngFor="let user of load_costCenters"
                  [value]="user.id"
                  >{{ user.name }}</ng-option
                >
              </ng-select>
            </div>
          </div>
    
          <div style="margin-top: 2%;" class="col-md-3">
            <div class="flex justify-content-center gap-3">
              <button
                class="btn btn-primary"
                (click)="(data.filter.enable =! data.filter.enable);ResetSearchTime()"
                [translate]="'name'"
                [translateParams]="{
                  ar: 'فلترة بالوقت',
                  en: 'Time Filter'
                }"
              ></button>
              <div class="form-group timeInput" *ngIf="data.filter.enable">
                <input
                  placeholder="{{ 'Chose Date' | translate }}"
                  [(ngModel)]="data.filter.date"
                  type="text"
                  (ngModelChange)="CheckDate($event)"
                  class="form-control"
                  bsDaterangepicker
                  #dpr="bsDaterangepicker"
                />
              </div>
            </div>
          </div>
    
          <div  class="col-md-2">
            <div class="form-check form-switch position-relative mt-5 mb-2">
              <input
                class="form-check-input position-absolute end-25"
                type="checkbox"
                role="switch"
                [checked]="showTable"
                id="flexSwitchCheckDefault"
                (change)="showTable = !showTable;changeAccount()"
              />
              <label
                class="form-check-label me-5"
                for="flexSwitchCheckDefault"
                style="width: max-content"
              >
                {{ "DoNotShowZeroAccounts" | translate }}
              </label>
            </div>
          </div>
    
        </div>
      </div>
    </div>

    <div class="head flex gap-2 flex-wrap items-end justify-between">
      <!-- all buttons  -->

      <div class="btns w-100">
        <div class="row d-md-flex justify-content-center">
          <div  class="col-md-2" *ngIf="userG?.userPrivileges.includes(131905)">
            <div class="form-check form-switch position-relative mt-2 mb-2">
              <input
                class="form-check-input position-absolute end-25"
                type="checkbox"
                role="switch"
                [checked]="data.filter.isCheckedYear"
                id="flexSwitchCheckDefault"
                (change)="data.filter.isCheckedYear = !data.filter.isCheckedYear;changeAccountYear()"
              />
              <label
                class="form-check-label me-5"
                for="flexSwitchCheckDefault"
                style="width: max-content"
              >
                {{ "كل السنوات المالية" | translate }}
              </label>
            </div>
          </div> 
          <div  class="col-md-2">
            <div class="form-check form-switch position-relative mt-2 mb-2">
              <input
                class="form-check-input position-absolute end-25"
                type="checkbox"
                role="switch"
                [checked]="data.filter.isCheckedBranch"
                id="flexSwitchCheckDefault"
                (change)="data.filter.isCheckedBranch = !data.filter.isCheckedBranch;changeAccountYear()"
              />
              <label
                class="form-check-label me-5"
                for="flexSwitchCheckDefault"
                style="width: max-content"
              >
                {{ "فصل الفروع" | translate }}
              </label>
            </div>
          </div>

          <div class="col-md-2">
            <div class="form-group">
            <input type="text " placeholder="بحث" class="w-full p-2 inputType"autocomplete="off" name="search" (keyup)="applyFilter($event)"#input/>
          </div>
          </div>

          <button
            type="button"(click)="getPrintdata('report')"
            class="flex gap-1 btn btn-outline-secondary col-md-2"
          >
            {{ "Print" | translate }}
            <i class="fa-solid fa-print"></i>
          </button>

          <button
            type="button"
            class="flex gap-1 btn btn-success col-md-2"
            (click)="exportData()"
          >
            {{ "exportExcel" | translate }}
          </button>
        </div>
      </div>
    </div>

    <!-- table -->
    <div class="overflow-auto mt-4">
      <table
        mat-table
        [dataSource]="projectsDataSource"
        matSort
        class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
      >
      <ng-container matColumnDef="accTransactionDate2">
        <th mat-header-cell *matHeaderCellDef><span></span></th>
      </ng-container>

        <ng-container matColumnDef="accTransactionDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "OperationDate" | translate }}</span>
          </th>
          <td
            mat-cell
            *matCellDef="let element"
            class="{{
              element.status == 0
                ? 'text-red-500 fw-bold'
                : element.status == 5
                ? 'text-warning-500 fw-bold'
                : ''
            }}"
          >
            {{ element.accTransactionDate }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>

        <ng-container matColumnDef="notes2">
          <th mat-header-cell *matHeaderCellDef><span> {{ "Pre-period balance" | translate }}</span></th>
        </ng-container>

        <ng-container matColumnDef="notes">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Statement" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ GetTransactionNote(element) }}
          </td>

          <td mat-footer-cell *matFooterCellDef class="bg-light">
            {{ "total" | translate }}
          </td>
        </ng-container>


        <ng-container matColumnDef="transactionDate2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="transactionDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "BondDate" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.transactionDate }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>

        <ng-container matColumnDef="invoiceNumber2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="invoiceNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Bond number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.invoiceNumber }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>


        <ng-container matColumnDef="depit2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="depit">
          <th
            class="bg-green-100"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            <span class="text-green-900">{{ "debtor" | translate }}</span>
          </th>
          <td
            class="bg-green-100 text-green-950 text-center"
            mat-cell
            *matCellDef="let element"
          >
            {{ element.depit }}<app-sar-icon></app-sar-icon>
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light">
            {{totalexDepit}}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>


        <ng-container matColumnDef="credit2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="credit">
          <th
            class="bg-red-100"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            <span class="text-red-900">{{ "Creditor" | translate }}</span>
          </th>
          <td
            class="bg-red-100 text-red-950 text-center"
            mat-cell
            *matCellDef="let element"
          >
          {{element.credit}}<app-sar-icon></app-sar-icon>
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light">
            {{totalexCredit}}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>


        <ng-container matColumnDef="balance2">
          <th mat-header-cell *matHeaderCellDef><span>{{BalanceBeforeObj.BalanceBefore}}</span></th>
        </ng-container>
        <ng-container matColumnDef="balance">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "balance" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element;let i = index">
            {{ CurrentBalanceNew(i) }}<app-sar-icon></app-sar-icon>
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light">
            {{totaltxt}}<app-sar-icon></app-sar-icon>
          </td>
        </ng-container>


        <ng-container matColumnDef="typeName2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="typeName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Type" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.typeName }}

            <button *ngIf="element.type==2  || element.type==5  || element.type==6  || element.type==8 || element.type==17 " (click)="ShowVoucher(element)"
            title="عرض السند"
            data-original-title="عرض السند"
            class="min-w-max p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10">
            <i class="fa-solid fa-eye"></i>
          </button>
           <button *ngIf="element.type==1  || element.type==2  || element.type==5  || element.type==6  || element.type==8 || element.type==17 || element.type==29 || element.type==33" (click)="PrintVoucher(element)"
            title="طباعة السند"
            data-original-title="طباعة السند"
            class="min-w-max p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white aspect-square w-10">
            <i class="fa-solid fa-print"></i>
          </button>

          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>


        <ng-container matColumnDef="journalNo2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>
        <ng-container matColumnDef="journalNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "Registration number" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.journalNo }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>

        <ng-container matColumnDef="costCenterName2">
          <th mat-header-cell *matHeaderCellDef><span></span></th>
        </ng-container>

        <ng-container matColumnDef="costCenterName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>{{ "costCenter" | translate }}</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.costCenterName }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="bg-light"></td>
        </ng-container>

        <!-- <tr mat-header-row *matHeaderRowDef="projectDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: projectDisplayedColumns"></tr>
        <tr
          mat-footer-row
          *matFooterRowDef="projectDisplayedColumns"
          class="bg-blue-300"
        ></tr> -->

        <tr mat-header-row *matHeaderRowDef="projectDisplayedColumns"></tr>
        <tr [ngClass]="ChangeClassVis()" mat-header-row *matHeaderRowDef="displayedColumns2"></tr>



      <tr mat-row *matRowDef="let row; columns: projectDisplayedColumns" class="duration-300 hover:bg-slate-100"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          {{ "No result found for " }} "{{ input.value }}"
        </td>
      </tr>
      <tr mat-footer-row *matFooterRowDef="projectDisplayedColumns"></tr>

      </table>
    </div>
    <mat-paginator [pageSizeOptions]="[10, 25,projectsDataSource.data.length]"> </mat-paginator>

    <div class="row">
      <div class="col-md-4 Balance">
        <div class="row">
          <div class="col-md-6 name">
            <img
              src="../../../../../assets/VoucherValue.svg"
              width="100"
              height="100"
              alt=""
            />
            <br />
            <label for="" class="labelStyle">
              {{ "balance" | translate }}
            </label>
          </div>
          <div class="col-md-6 valueDiv" id="voucherValue">
            <label for="" class="labelStyle d-md-inline d-none" id="balanceVal">
              {{ AllBalance   | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
            </label>
            <br />
            <img
              src="../../../../../assets/VoucherValueHide.svg"
              width="100"
              height="100"
              alt=""
            />
          </div>
        </div>
      </div>

      <div class="col-md-4 BeforeDate">
        <div class="row">
          <div class="col-md-6 name">
            <img
              src="../../../../../assets/VoucherValue.svg"
              width="100"
              height="100"
              alt=""
            />
            <br />
            <label for="" class="labelStyle">
              {{ "balanceBefore" | translate }}
            </label>
          </div>
          <div class="col-md-6 valueDiv" id="taxAmount">
            <label
              for=""
              class="labelStyle d-md-inline d-none"
              id="BbalanceVal"
            >
            <ng-container  *ngIf="BalanceBeforeObj.Show == true ">
              {{BalanceBeforeObj.BalanceBefore   | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
            </ng-container>
            </label>
            <br />
            <img
              src="../../../../../assets/noun_Discount.svg"
              width="100"
              height="100"
              alt=""
            />
          </div>
        </div>
      </div>

      <div class="col-md-4 IncludeDate">
        <div class="row">
          <div class="col-md-6 name">
            <img
              src="../../../../../assets/VoucherValue.svg"
              width="100"
              height="100"
              alt=""
            />
            <br />
            <label for="" class="labelStyle">
              {{ "balancePeriod" | translate }}
            </label>
          </div>
          <div class="col-md-6 valueDiv" id="taxAmount">
            <label
              for=""
              class="labelStyle d-md-inline d-none"
              id="IbalanceVal"
            >
            <ng-container  *ngIf="BalanceBeforeObj.Show == true ">
            {{ CurrentBalance  | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
          </ng-container>

            </label>
            <br />
            <img
              src="../../../../../assets/noun_Discount.svg"
              width="100"
              height="100"
              alt=""
            />
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="report" [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }" style="position: absolute;">
    <!--Header-->
    <div
      class="report-header"
      style="
        display: flex;
        align-items: center;
        gap: 100px;
        padding: 3px 0px;
        margin-bottom: 20px;
      "
    >
      <div class="headerNe-right-side">
        <img
        src="{{environmentPho}}"
          alt="logo"
          style="height: 200px; width: 200px; max-width: 200px; object-fit: fill"
        />
      </div>

      <div class="headerNe-lefy-side" style="width: 100%">
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
        {{OrganizationData?.nameAr}}
        </h1>
        <h1
          style="
            letter-spacing: 0.25px;
            font-size: 23px;
            margin: 0;
            margin-bottom: 5px;
          "
        >
        {{OrganizationData?.nameEn}}
        </h1>
        <div class="line" style="position: relative; padding: 5px 0px 10px">
          <span
            style="
              position: absolute;
              right: 0;
              width: 100%;
              height: 2px;
              background-color: #e5e5e5;
              z-index: 1;
            "
          ></span>
          <span
            style="
              position: absolute;
              right: 0;
              width: 70%;
              height: 2px;
              background-color: #ec1c24;
              z-index: 2;
            "
          ></span>
        </div>

        <h1
          style="
            margin-bottom: 0;
            font-size: 34px;
            color: #0c8191;
            margin-bottom: 0;
            margin-top: 30px;
            font-weight: 500;
          "
          [translate]="'name'"
          [translateParams]="{
            ar: 'كشف حساب',
            en: 'Account Statement'
          }"
        ></h1>
      </div>
    </div>
    <!--/Header-->

    <div style="margin-bottom: 10px">
      <p>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: 'التاريخ: ',
            en: 'Date: '
          }"
        ></span>
        <span> {{dateprint}} </span>
      </p>
    </div>
    <div style="margin-bottom: 10px ;text-align: center;"  *ngIf="data.filter.enable == true">
      <p>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: 'من تاريخ: ',
            en: 'From Date: '
          }"
        ></span>
        <span> {{data.filter.DateFrom_P}} </span>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: 'الي تاريخ: ',
            en: 'To Date: '
          }"
        ></span>
        <span> {{data.filter.DateTo_P}} </span>
      </p>
    </div>
    <div style="margin-bottom: 10px ;text-align: center;" >
      <p>
        <span
          [translate]="'name'"
          [translateParams]="{
            ar: ' الفرع: ',
            en: 'Branch: '
          }"
        ></span>
        <span> {{BranchName}} </span>
 
      </p>
    </div>
    <div class="info" style="overflow: auto; margin-bottom: 20px">



      <table
        class="table table-bordered m-0"
        style="
          width: 100%;
          color: white;
          text-align: center;
          vertical-align: middle;
        "
      >
        <tr>
          <td
            style="
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 600;
              border: 1px solid #dce0e4;
            "
          >{{ "accountName" | translate }}</td>
          <td
            style="
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 600;
              border: 1px solid #dce0e4;
            "
          >{{ "withCostCenter" | translate }}</td>
          <td
            style="
              line-height: 0 !important;
              padding: 0px !important;
              background-color: #f7f7f7;
              border: 1px solid #dce0e4;
              font-size: 18px;
              color: #21403f;
              font-weight: 600;
              border: 1px solid #dce0e4;
            "
            colspan="2"
          >
            <span
              style="
                border: none;
                display: inline-block;
                padding: 10px 0px;
              border: 1px solid #dce0e4;
                width: 100%;

                line-height: 24px;
              "
              [translate]="'name'"
              [translateParams]="{ ar: 'الرصيد', en: 'Balance' }"
            ></span>
            <div
              style="
                width: 100%;
                border-top: 1px solid #dce0e4;
              border: 1px solid #dce0e4;
                margin: 0px !important;
                padding: 0px !important;
              "
            >
            <p
            class="mb-0"
            style="
              line-height: 24px;
              display: inline-block;
              width: 50%;
              border-bottom: 1px solid #dce0e4;
              text-align: center;
              padding: 7px 0px 10px;
              background-color: #f7f7f7;
              font-size: 18px;
              border: 1px solid #dce0e4;
              color: #21403f;
              font-weight: 600;
              margin: 0px !important;
              margin-bottom: 0px !important;
              border: 1px solid #dce0e4;
              border-inline-end: 1px solid #dce0e4;
            "
            [translate]="'name'"
            [translateParams]="{ ar: 'دائن', en: 'Creditor' }"
          ></p>
              <p
                class="mb-0"
                style="
                  line-height: 24px;
                  display: inline-block;
                  width: 50%;
                  border-bottom: 1px solid #dce0e4;
                  text-align: center;
              border: 1px solid #dce0e4;
                  padding: 7px 0px 10px;
                  background-color: #f7f7f7;
                  font-size: 18px;
                  color: #21403f;
                  font-weight: 600;
                  border-inline: 1px solid #dce0e4;
                  margin: 0px !important;
                  margin-bottom: 0px !important;
                "
                [translate]="'name'"
                [translateParams]="{ ar: 'مدين', en: 'debtor' }"
              ></p>

            </div>
          </td>
        </tr>

        <tr>
          <td
            style="
              width: 25%;
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 500;
              border: 1px solid #dce0e4;
              padding: 10px 0px;
            "
          >
            {{accountName}}
          </td>
          <td
            style="
              width: 25%;
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 500;
              border: 1px solid #dce0e4;
              padding: 10px 0px;
            "
          >
            {{costCenterName}}
          </td>
          <td
            style="
              width: 25%;
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 500;
              border: 1px solid #dce0e4;
              padding: 10px 0px;
            "
          >
          {{printsumcredit  | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
          </td>
          <td
            style="
              width: 25%;
              padding-inline: 0px !important;
              background-color: #f7f7f7;
              font-size: 18px;
              color: #21403f;
              font-weight: 500;
              border: 1px solid #dce0e4;
              padding: 10px 0px;
            "
          >
          {{printsumdepit  | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
          </td>
        </tr>
      </table>
    </div>
    <div class="services" style="width: 100%; margin-bottom: 20px">
      <div class="content">
        <table style="text-align: center; vertical-align: middle; width: 100%">
          <thead>
            <td
            style="
              font-size: 16px;
              background-color: #fff;
              padding: 14px 4px;
              text-align: center;
              color: #272727;
              word-wrap: break-word;
              border-inline-start: 1px dashed #0c8191;
              border: 1px dashed #272727;
              font-weight: 600;
            "
          >{{ "OperationDate" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #fff;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "Statement" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #f7f7f7;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "BondDate" | translate }}</td>
            <td
            style="
              font-size: 16px;
              background-color: #f7f7f7;
              padding: 14px 4px;
              text-align: center;
              color: #272727;
              word-wrap: break-word;
              border-inline-start: 1px dashed #0c8191;
              border: 1px dashed #272727;
              font-weight: 600;
            "
          >{{ "Bond number" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #f7f7f7;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "debtor" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #fff;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "Creditor" | translate }}</td>
            <td
            style="
              font-size: 16px;
              background-color: #fff;
              padding: 14px 4px;
              text-align: center;
              color: #272727;
              word-wrap: break-word;
              border-inline-start: 1px dashed #0c8191;
              border: 1px dashed #272727;
              font-weight: 600;
            "
            >{{ "balance" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #fff;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "Type" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #fff;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "Registration number" | translate }}</td>
            <td
              style="
                font-size: 16px;
                background-color: #fff;
                padding: 14px 4px;
                text-align: center;
                color: #272727;
                word-wrap: break-word;
                border-inline-start: 1px dashed #0c8191;
                border: 1px dashed #272727;
                font-weight: 600;
              "
            >{{ "costCenter" | translate }}</td>
          </thead>
          <tbody>
            <tr *ngIf="BalanceBeforeObj.Show == true">
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
                colspan="2"
              >{{ "Pre-period balance" | translate }}</td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
            ></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >{{BalanceBeforeObj.BalanceBefore}}<app-sar-icon></app-sar-icon></td>
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
              ></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  border: 1px dashed #272727;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
            </tr>
            <tr *ngFor="let item of printprojectsDataSource">
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.accTransactionDate}}
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{GetTransactionNote(item)}}
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.transactionDate}}
              </td>
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline-start: 1px dashed #272727;
              border: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
            >
            {{item.invoiceNumber}}
            </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.depit | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.credit | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >

              {{item.balance | number:'1.2-2' }}<app-sar-icon></app-sar-icon>
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;
                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.typeName}}
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;

                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.journalNo}}
              </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline-start: 1px dashed #272727;

                border: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{item.costCenterName}}
              </td>
            </tr>
            <tr>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
                colspan="2"
              >{{ "total" | translate }}</td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              </td>
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
              >
             </td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >

            {{ printsumdepit | number:'1.2-2' }} <app-sar-icon></app-sar-icon></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              >
              {{ printsumcredit | number:'1.2-2' }}<app-sar-icon></app-sar-icon></td>
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
            >
            {{ GetDeff(printsumdepit,printsumcredit) }}<app-sar-icon></app-sar-icon></td>
            <!-- <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ><ng-container *ngIf="BalanceBeforeObj.Show == true">{{ AllBalance | number:'1.2-2' }}</ng-container></td> -->
              <td
              style="
                background-color: #fff;
                font-size: 15px;
                font-weight: 500;
                padding: 10px 0px;
                color: #272727;
                border-inline: 1px dashed #272727;
                border-bottom: 1px dashed #272727;
              "
              >
              {{ getBalanceStatus(printsumdepit,printsumcredit) }}</td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
              <td
                style="
                  background-color: #fff;
                  font-size: 15px;
                  font-weight: 500;
                  border: 1px dashed #272727;
                  padding: 10px 0px;
                  color: #272727;
                  border-inline: 1px dashed #272727;
                  border-bottom: 1px dashed #272727;
                "
              ></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- deleteModal -->
<ng-template #deleteModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد حذف هذا العنصر ؟',
        en: 'Do you want to delete this item?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "close" | translate }}
      </button>

      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="confirm(); modal.dismiss()"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- NewInvoiceModal  -->
<ng-template #NewInvoiceModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span *ngIf="modalInvoice.popuptype == 1" class="text-2xl">{{
        "NewsSalesInvoice" | translate
      }}</span>
      <span *ngIf="modalInvoice.popuptype == 2" class="text-2xl">{{
        "NewInvoice" | translate
      }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <ng-container>
      <div class="row align-items-end mb-2 mx-3">
        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="date" class="text-right col-form-label block">
              {{ "date" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="date"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              autocomplete="off"
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
              (ngModelChange)="ChangeInvoiceGre($event)"
              [(ngModel)]="modalInvoice.Date"
              [ngModelOptions]="{ standalone: true }"
              [disabled]=" modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "invoice number" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'invoice number' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.InvoiceNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0" style="display: none;">
          <div class="form-group">
            <input
              required
              placeholder="{{ 'SR' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.Currency"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              required
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.JournalNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              placeholder="{{ '' | translate }}"
              required
              class="form-control"
              type="text"
              disabled
              autocomplete="off"
              [(ngModel)]="modalInvoice.OrganizationsAddress"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-10 col-md-6 col-lg-4 mb-0">
          <div class="form-group">
            <ng-select
              class="w-full p-0"
              style="min-width: max-content; display: inline"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.CostCenterId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]=" modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3"
              name="CostCenterId"
            >
              <ng-option
                *ngFor="let user of load_CostCenter"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>
        <!-- 2 line-->

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group hijri-gregorianReciept">
            <label for="Corresponding" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <hijri-gregorian-datepicker
              [(selectedDate)]="modalInvoice.HijriDate"
              [hijriLabel]="'Hijri'"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
              autocomplete="off"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
              (selectedDateChange)="ChangeInvoiceDateHijri($event)"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <label for="Paytype" class="text-right col-form-label block">
              {{ "Type" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              style="min-width: max-content; display: inline"
              placeholder="{{ 'Chose' | translate }}"
              name="Paytype"
              [clearable]="false"
              (change)="PayTypeChange()"
              [(ngModel)]="modalInvoice.PayType"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
            >
              <ng-option
                *ngFor="let type of Paytype"
                [value]="type.id"
                [translate]="'name'"
                [translateParams]="{ ar: type.name?.ar, en: type.name?.en }"
              >
              </ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-sm-8 col-md-6 col-lg-6 mb-0">
          <div class="form-group">
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.ToAccountId"
              [ngModelOptions]="{ standalone: true }"
              (change)="accountIdChange()"
              name="ToAccountId"
              [disabled]="
                modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
              "
            >
              <ng-option *ngFor="let user of load_Accounts" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-2 mb-0">
          <div class="form-group">
            <input
              placeholder="{{ 'thePhone' | translate }}"
              required
              class="form-control"
              type="text"
              [(ngModel)]="modalInvoice.OrganizationsMobile"
              [ngModelOptions]="{ standalone: true }"
              disabled
            />
          </div>
        </div>


        <!-- 3 line -->

        <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
          <div class="form-group">
            <label for="customerId" class="text-right col-form-label block">
              {{ "Client" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              id="customerId"
              name="customerId"
              (change)="customerIdChange()"
              [(ngModel)]="modalInvoice.customerId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
            >
              <ng-option *ngFor="let user of load_Customer" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-2 mb-0"
          *ngIf="modalInvoice.popuptype != 2"
        >
          <div class="form-group">
            <label for="ProjectId" class="text-right col-form-label block">
              {{ "Project" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              style="min-width: max-content"
              placeholder="{{ 'Chose' | translate }}"
              id="ProjectId"
              name="ProjectId"
              (change)="ProjectIdChange()"
              [(ngModel)]="modalInvoice.ProjectId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
            >
              <ng-option *ngFor="let user of load_Projects" [value]="user.id">{{
                user.name
              }}</ng-option>
            </ng-select>
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-2 mb-0"
          *ngIf="modalInvoice.popuptype == 2"
        >
          <div class="d-flex">
            <input
              type="checkbox"
              name="AllCustomer"
              id="AllCustomer"
              id="AllCustomerCheck"
              name="AllCustomerCheck"
              [(ngModel)]="modalInvoice.AllCustomerCheck"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
              (change)="AllCustomerCheckChange()"
            />
            <label for="AllCustomerCheck" class="mx-2">{{
              "AllCustomer" | translate
            }}</label>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
          <div class="form-group">
            <label for="CustomerTax" class="text-right col-form-label block">
              {{ "Tax Number" | translate }}
            </label>
            <input
              required
              placeholder="{{ '' | translate }}"
              class="form-control"
              type="text"
              id="CustomerTax"
              name="CustomerTax"
              disabled
              [(ngModel)]="modalInvoice.CustomerTax"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3 mb-0" style="display: none">
          <div class="form-group">
            <label
              for="CustomerAddress"
              class="text-right col-form-label block"
            >
              {{ "Address" | translate }}
            </label>
            <input
              required
              placeholder="{{ '' | translate }}"
              class="form-control"
              id="CustomerAddress"
              name="CustomerAddress"
              type="text"
              disabled
              [(ngModel)]="modalInvoice.CustomerAddress"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-8 col-md-4 col-lg-3 mb-0 text-end">
          <div class="form-check form-switch position-relative">
            <label
              class="form-check-label priceOffer"
              for="flexSwitchCheckDefault"
              style="width: max-content"
            >
              {{ "OfferPriceActiveNew" | translate }}
            </label>
            <input
              style="inset-inline-start: 0"
              class="form-check-input px-3 priceOfferInput position-absolute left-100"
              (change)="showPrice = !showPrice; offerpriceChange()"
              type="checkbox"
              role="switch"
              id="flexSwitchCheckDefault"
              [(ngModel)]="modalInvoice.OfferPriceNoCheck"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
            />
          </div>
        </div>

        <div
          class="col-sm-4 col-md-2 col-lg-1 mb-0"
          style="padding: 0 !important"
          *ngIf="showPrice && load_OfferPrices.length > 0"
        >
          <div class="form-group">
            <label for="OfferPriceNo" class="text-right col-form-label block">
              {{ "OfferPrice" | translate }}
            </label>
            <ng-select
              style="min-width: 79px !important"
              class="w-full p-0"
              id="OfferPriceNo"
              name="OfferPriceNo"
              placeholder="{{ 'Chose' | translate }}"
              (change)="offerpriceChange()"
              [(ngModel)]="modalInvoice.OfferPriceNo"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
            >
              <ng-option
                *ngFor="let user of load_OfferPrices"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <div class="col-sm-4 col-md-2 col-lg-1 mb-3" *ngIf="!showPrice">
          <span style="color: red"> {{ "shifta" | translate }}</span>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-3 mb-0">
          <div class="form-group">
            <label for="StorehouseId" class="text-right col-form-label block">
              {{ "Storehouse" | translate }}</label
            >
            <div class="flex">
              <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              [(ngModel)]="modalInvoice.storehouseId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="modalInvoice.AddOrView != 1"
              name="storehouseId"
              >
                <ng-option *ngFor="let user of Storehouse" [value]="user.id">{{
                  user.name
                }}</ng-option>
              </ng-select>
              <button
                type="button"
                [disabled]="modalInvoice.AddOrView != 1"
                class="btn bg-base text-white"
                style="padding: 5px 10px"
                (click)="open(StorehouseModal)"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

      </div>

      <div class="row mb-3">
        <h3
          class="flex items-center justify-start fw-bold"
          style="display: none"
        >
          {{ "services" | translate }}
          <button
            *ngIf="modalInvoice.AddOrView == 1"
            type="button "
            class="add-btn mx-2"
            (click)="addInvoiceRow()"
          >
            <i class="fa fa-plus"></i>
          </button>
        </h3>
        <div
          class="editable shadow mb-2 block customTable"
          style="overflow: auto"
        >
          <table
            class="table table-responsive table-striped table-bordered text-center"
            style="
              vertical-align: middle;
              font-size: 14px;
              min-width: max-content;
            "
          >
            <thead
              class="bg-base text-white"
              style="line-height: 30px; font-size: 13px"
            >
              <tr>
                <th>{{ "ServiceNo" | translate }}</th>
                <th style="width: 30% !important">
                  {{ "ServiceName" | translate }}
                </th>
                <th>{{ "Unit" | translate }}</th>
                <th>{{ "Quantity" | translate }}</th>
                <th>{{ "price" | translate }}</th>
                <th>{{ "Discount" | translate }}</th>
                <th>{{ "discountPercentage" | translate }}</th>
                <th>{{ "totalBeforeTax" | translate }}</th>
                <th>{{ "VATTax" | translate }}</th>
                <th>{{ "Net_taxes" | translate }}</th>
                <th>{{ "delete" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of InvoiceDetailsRows; let i = index"
                style="line-height: 5px"
              >
                <td>{{ item.idRow }}</td>
                <td>
                  <input
                    type="text"
                    name="os-name{{ item.idRow }}"
                    [(ngModel)]="item.accountJournaltxt"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-Unit{{ item.idRow }}"
                    [(ngModel)]="item.UnitConst"
                    disabled
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="1"
                    name="os-Qty{{ item.idRow }}"
                    [(ngModel)]="item.QtyConst"
                    [disabled]="
                      modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                    "
                    (keyup)="CalculateTotal2(1)"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-Amount{{ item.idRow }}"
                    [(ngModel)]="item.Amounttxt"
                    [disabled]="
                      modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                    "
                    (keyup)="CalculateTotal2(1)"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-DiscountValue{{ item.idRow }}"
                    [(ngModel)]="item.DiscountValueConst"
                    [disabled]="modalInvoice.AddOrView != 1"
                    (keyup)="CalculateTotal2(1)"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    min="0"
                    name="os-DiscountPercentage{{ item.idRow }}"
                    [(ngModel)]="item.DiscountPercentageConst"
                    [disabled]="modalInvoice.AddOrView != 1"
                    (keyup)="CalculateTotal2(2)"
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-AmountBefore{{ item.idRow }}"
                    [(ngModel)]="item.AmountBeforeTaxtxt"
                    [disabled]="modalInvoice.AddOrView != 1"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-taxAmount{{ item.idRow }}"
                    [(ngModel)]="item.taxAmounttxt"
                    [disabled]="modalInvoice.AddOrView != 1"
                    readonly
                  />
                </td>
                <td>
                  <input
                    type="text"
                    name="os-TotalAmount{{ item.idRow }}"
                    [(ngModel)]="item.TotalAmounttxt"
                    [disabled]="modalInvoice.AddOrView != 1"
                    readonly
                  />
                </td>

                <td class="flex">
                  <button
                    title=""
                    class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                    style="margin-inline-end: 6px"
                    (click)="
                      open(
                        serviceDetailsModal_Invoice,
                        item,
                        'serviceDetails_Invoice'
                      )
                    "
                  >
                    <i class="fa-solid fa-info"></i>
                  </button>
                  <!-- <button
                    *ngIf="
                      modalInvoice.AddOrView == 1 || modalInvoice.AddOrView == 3
                    "
                    (click)="
                      RemoveServicesparent_invoice(item);
                      deleteInvoiceRow(item.idRow)
                    "
                    class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10"
                  >
                    <i class="fa-solid fa-trash-can"></i>
                  </button> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="box w-100 p-3">
              <div>
                <label for="include_tax">{{ "tax type" | translate }}</label>
                <ng-select
                  class="w-100"
                  placeholder="{{ 'Chose' | translate }}"
                  name="include_tax"
                  [(ngModel)]="modalInvoice.taxtype"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="modalInvoice.AddOrView != 1"
                  [clearable]="false"
                  (change)="taxtypeChange()"
                >
                  <ng-option [value]="2">{{
                    "Excluding tax" | translate
                  }}</ng-option>
                  <ng-option [value]="3">{{
                    "Taxes included" | translate
                  }}</ng-option>
                </ng-select>
              </div>

              <div>
                <label for="paid" class="text-right col-form-label block">
                  {{ "paid" | translate }}
                </label>
                <input
                  id="paid"
                  required
                  class="form-control bg-green"
                  type="text"
                  [(ngModel)]="modalInvoice.PaidValue"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="
                    modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                  "
                  [readOnly]="modalInvoice.PayType == 8"
                  (keyup)="checkRemainder()"
                />
              </div>

              <div>
                <label for="remaining">{{ "remaining" | translate }}</label>
                <input
                  type="text"
                  id="remaining"
                  name="remaining"
                  class="form-control bg-red"
                  [(ngModel)]="modalInvoice.remainder"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
            </div>

            <div class="d-flex me-3">
              <input
                type="checkbox"
                name="printBankAccount"
                id="printBankAccount"
                [(ngModel)]="modalInvoice.printBankAccount"
                [ngModelOptions]="{ standalone: true }"
                [disabled]="modalInvoice.AddOrView != 1"
              />
              <label for="date" class="mx-2">{{
                "hideAccount" | translate
              }}</label>
            </div>

            <div class="form-group row me-3">
              <label for="Statement" class="col-sm-2 col-form-label">{{
                "Statement" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [disabled]="
                    modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                  "
                  type="text"
                  id="Statement"
                  name="Statement"
                  class="form-control"
                  placeholder="{{ 'Statement' | translate }}"
                  [(ngModel)]="modalInvoice.InvoiceNotes"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                />
              </div>
            </div>

            <div class="form-group row me-3">
              <label for="theNotes" class="col-sm-2 col-form-label">{{
                "theNotes" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [disabled]="
                    modalInvoice.AddOrView != 1 && modalInvoice.AddOrView != 3
                  "
                  type="text"
                  id="theNotes"
                  name="theNotes"
                  class="form-control"
                  placeholder="{{ 'theNotes' | translate }}"
                  [(ngModel)]="modalInvoice.Notes"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                />
              </div>
            </div>

            <div
              class="form-group row me-3"
              *ngIf="modalInvoice.AddOrView == 1"
            >
              <label for="attachments" class="col-sm-2 col-form-label">{{
                "attachments" | translate
              }}</label>
              <div class="col-sm-10">
                <file-upload
                  class="w-full"
                  style="min-height: 40px"
                  [(ngModel)]="uploadedFiles"
                  name="files"
                ></file-upload>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="box w-100 px-1 py-2 mx-3">
              <div>
                <label
                  for="totalAmount"
                  class="text-right col-form-label block"
                >
                  {{ "totalAmount" | translate }}
                </label>
                <input
                  id="totalAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.totalAmount"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
              <div>
                <label
                  for="TotalDiscount"
                  class="text-right col-form-label block"
                >
                  {{ "TotalDiscount" | translate }}
                </label>
                <input
                  id="TotalDiscount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.discounMoneytVal"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="netAmount" class="text-right col-form-label block">
                  {{ "netAmount" | translate }}
                </label>
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.totalWithDiscount"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="AllTotal" class="text-right col-form-label block">
                  {{ "AllTotal" | translate }}
                </label>
                <input
                  id="AllTotal"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="modalInvoice.total_"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="netBill">{{ "netBill" | translate }}</label>
                <input
                  type="text"
                  id="netBill"
                  name="netBill"
                  class="form-control"
                  [(ngModel)]="modalInvoice.VoucherValue"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="TotalTaxes" class="text-right col-form-label block">
                  {{ "TotalTaxes" | translate }}
                </label>
                <input
                  id="TotalTaxes"
                  required
                  class="form-control bg-yellow"
                  type="text"
                  [(ngModel)]="modalInvoice.taxAmountLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="CreditNoteTotal">{{
                  "CreditNoteTotal" | translate
                }}</label>
                <input
                  type="text"
                  id="CreditNoteTotal"
                  name="CreditNoteTotal"
                  class="form-control"
                  [(ngModel)]="modalInvoice.CreditNotiLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div style="display: none">
                <label for="TotalDebtorNotice">{{
                  "TotalDebtorNotice" | translate
                }}</label>
                <input
                  type="text"
                  id="TotalDebtorNotice"
                  name="TotalDebtorNotice"
                  class="form-control"
                  [(ngModel)]="modalInvoice.DepitNotiLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>

              <div>
                <label for="Net_taxes" class="text-right col-form-label block">
                  {{ "Net_taxes" | translate }}
                </label>
                <input
                  id="Net_taxes"
                  required
                  class="form-control bg-black"
                  type="text"
                  [(ngModel)]="modalInvoice.TotalVoucherValueLbl"
                  [ngModelOptions]="{ standalone: true }"
                  disabled
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- footer -->
    </ng-container>
  </div>
</ng-template>

<!-- serviceDetails -->
<ng-template #serviceDetailsModal_Invoice let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "servicesList" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
   <div class="modal-body">
    <div
      cdkDropList
      [cdkDropListData]="serviceDetails_Invoice"
      class="example-list"
      (cdkDropListDropped)="drop_Invoice($event)"
    >
      <div
        *ngFor="let item of serviceDetails_Invoice"
        class="example-box"
        cdkDrag
      >
        <div class="col-md-11" style="font-size: 20px">
          <i
            *ngIf="
              (item?.SureService ?? 0) != 1 && OfferPopupAddorEdit_Invoice == 0
            "
            class="fa fa-xmark text-danger"
          ></i>
          <i
            *ngIf="
              (item?.SureService ?? 0) == 1 && OfferPopupAddorEdit_Invoice == 0
            "
            class="fa fa-check text-success"
          ></i>
          <i
            *ngIf="OfferPopupAddorEdit_Invoice == 1"
            class="fa fa-check text-success"
          ></i>
          <span class="text-base mx-2">{{ item?.name }}</span>
        </div>
        <div class="serviceBtns" *ngIf="OfferPopupAddorEdit_Invoice == 0">
          <button
            *ngIf="(item?.SureService ?? 0) != 1"
            (click)="MarkServiceDetails_Invoice(item)"
            type="button"
            class="btn btn-outline-success"
          >
            {{ "Insert" | translate }}
          </button>
          <button
            *ngIf="(item?.SureService ?? 0) == 1"
            (click)="UnMarkServiceDetails_Invoice(item)"
            type="button"
            class="btn btn-outline-danger"
          >
            {{ "delete" | translate }}
          </button>
        </div>
      </div>
    </div>
    <div
      class="flex gap-2 pt-3 border-t border-neutral-300 col-span-1 md:col-span-2 mt-2"
    >
      <button (click)="modal?.dismiss()" class="btn btn-secondary">
        {{ "close" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- EntryVoucherModal  -->
<ng-template #EntryVoucherModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "UnderDaily" | translate }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <ng-container>
      <div class="row align-items-end mb-2 mx-3">
        <!-- 1 line -->
        <div class="col-sm-6 col-md-3 col-lg-4">
          <div class="form-group">
            <label for="date" class="text-right col-form-label block">
              {{ "date" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="date"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              [(ngModel)]="modalEntryVoucher.Date"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="WhichTypeAddEditView == 3"
              autocomplete="off"
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
              (ngModelChange)="ChangeEntryVoucherGre($event)"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Bond number" | translate }}
            </label>
            <input
              required
              class="form-control"
              type="text"
              disabled
              [(ngModel)]="modalEntryVoucher.InvoiceNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4">
          <div class="form-group">
            <label for="costcenter" class="text-right col-form-label block">
              {{ "m_Cost" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'm_Cost' | translate }}"
              [(ngModel)]="modalEntryVoucher.CostCenterId"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="WhichTypeAddEditView == 3"
              name="costcenter"
            >
              <ng-option
                *ngFor="let user of load_CostCenter"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <!-- 2 line -->

        <div class="col-sm-6 col-md-3 col-lg-4">
          <div class="form-group hijri-gregorianReciept">
            <label for="Corresponding" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <hijri-gregorian-datepicker
              [(selectedDate)]="modalEntryVoucher.HijriDate"
              [hijriLabel]="'Hijri'"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
              autocomplete="off"
              [disabled]="WhichTypeAddEditView == 3"
              (selectedDateChange)="ChangeEntryVoucherHijri($event)"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4">
          <div class="form-group">
            <label
              for="referenceNumber"
              class="text-right col-form-label block"
            >
              {{ "referenceNumber" | translate }}
            </label>
            <input
              placeholder="{{ 'referenceNumber' | translate }}"
              required
              class="form-control"
              type="text"
              [(ngModel)]="modalEntryVoucher.InvoiceReference"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="WhichTypeAddEditView == 3"
            />
          </div>
        </div>

        <div class="col-sm-3 col-md-2 col-lg-2">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Registration number" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
              disabled
              [(ngModel)]="modalEntryVoucher.JournalNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>
        </div>

        <div class="col-sm-3 col-md-1 col-lg-2 mb-2">
          <span style="color: red"> {{ "shifta" | translate }}</span>
        </div>

        <!-- <div class="d-flex">
            <div class="d-flex">
              <input
                type="checkbox"
                name="DebtShowFirst"
                id="DebtShowFirst"
                ngModel
              />
              <label for="DebtShowFirst" class="mx-2">{{
                "DebtShowFirst" | translate
              }}</label>
            </div>

            <div class="d-flex">
              <input
                type="checkbox"
                name="CreditOfferFirst"
                id="CreditOfferFirst"
                ngModel
              />
              <label for="CreditOfferFirst" class="mx-2">{{
                "CreditOfferFirst" | translate
              }}</label>
            </div>
          </div> -->
      </div>
      <!--  -->

      <div class="row mb-3 mx-3">
        <div class="col-md-12">
          <div
            class="editable entry shadow mb-2 block customTable"
            style="overflow-x: auto"
          >
            <!-- <button
              (click)="addEntryVoucherRow()"
              class="btn bg-base text-white"
              style="display:none;max-width: 40px;"
            >
              <i class="fa fa-plus"></i>
            </button> -->

            <table
              class="table table-responsive table-striped table-bordered text-center"
              style="
                vertical-align: middle;
                font-size: 14px;
                min-width: max-content;
              "
            >
              <thead
                class="bg-base text-white"
                style="line-height: 30px; font-size: 13px"
              >
                <tr>
                  <th>{{ "R_T" | translate }}</th>
                  <th style="width: 10% !important">
                    {{ "amount" | translate }}
                  </th>
                  <th style="width: 25% !important">
                    {{ "account name" | translate }}
                  </th>
                  <th style="width: 9% !important">
                    {{ "credit_debit" | translate }}
                  </th>
                  <th style="width: 14% !important">
                    {{ "costCenter" | translate }}
                  </th>
                  <th>{{ "Statement" | translate }}</th>
                  <th>{{ "referenceNumber" | translate }}</th>
                  <!-- <th>{{ "CountsAsExpense" | translate }}</th>
                  <th>{{ "RevenueAsCalculated" | translate }}</th> -->
                  <th style="width: 11% !important">{{ "الضرائب" | translate }}</th>
                  <th>{{ "قيمة الضريبة" | translate }}</th>
                  <th>{{ "delete" | translate }}</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let item of EntryVoucherDetailsRows; let i = index"
                  style="line-height: 5px"
                >
                  <td>{{ item.idRow }}</td>
                  <td>
                    <input
                      type="number"
                      [(ngModel)]="item.Amounttxt"
                      name="os-Amounttxt{{ item.idRow }}"
                      (keyup)="CalculateEntryVoucher()"
                      [disabled]="WhichTypeAddEditView == 3"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-Acc{{ item.idRow }}"
                      [(ngModel)]="item.accountJournaltxt"
                      readonly
                    />
                  </td>

                  <td>
                    <select
                      [disabled]="WhichTypeAddEditView == 3"
                      (change)="CalculateEntryVoucher()"
                      class="form-select"
                      name="os-balancejournalselect{{ item.idRow }}"
                      aria-label="Default select example"
                      [(ngModel)]="item.CreditDepitStatus"
                    >
                      <option value="D">{{ "debtor" | translate }}</option>
                      <option value="C">{{ "Creditor" | translate }}</option>
                    </select>
                  </td>
                  <td>
                    <input
                      type="text"
                      name="os-CostCenter{{ item.idRow }}"
                      [(ngModel)]="item.CostCenterName"
                      readonly
                    />
                  </td>
                  <td>
                    <input
                      [disabled]="WhichTypeAddEditView == 3"
                      type="text"
                      [(ngModel)]="item.Notes"
                      name="os-Descriptiontxt{{ item.idRow }}"
                    />
                  </td>
                  <td>
                    <input
                      [disabled]="WhichTypeAddEditView == 3"
                      type="text"
                      [(ngModel)]="item.InvoiceReference"
                      name="os-referenceNotxt{{ item.idRow }}"
                    />
                  </td>
                  <!-- <td>
                    <input
                      [disabled]="WhichTypeAddEditView == 3"
                      style="transform: scale(2)"
                      type="checkbox"
                      name="os-accCalcExpencheck{{ item.idRow }}"
                      [(ngModel)]="item.AccCalcExpen"
                    />
                  </td>
                  <td>
                    <input
                      [disabled]="WhichTypeAddEditView == 3"
                      style="transform: scale(2)"
                      type="checkbox"
                      name="os-accCalcIncomecheck{{ item.idRow }}"
                      [(ngModel)]="item.AccCalcIncome"
                    />
                  </td> -->
                  <td class="form-switch position-relative p-0">
                    <select
                    [disabled]="WhichTypeAddEditView == 3"
                    class="form-select"
                    name="os-balancejournalselect{{ item.idRow }}"
                    aria-label="Default select example"
                    [(ngModel)]="item.AccCalcAll"
                  >
                    <option value="0">{{ "بدون" | translate }}</option>
                    <option value="I">{{ "مدخلات" | translate }}</option>
                    <option value="O">{{ "مخرجات" | translate }}</option>
                  </select>



                  </td>
                  <td>
                    <input
                      type="number"
                      [(ngModel)]="item.AmountTaxtxt"
                      name="os-AmountTaxtxt{{ item.idRow }}"
                      disabled
                    />
                  </td>
                  <td>

                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="boxContainer w-100 py-2 px-3">
            <div class="row">
              <div class="col-md-2">
                <label for="Statement" class=" " for="Statement">
                  {{ "Statement" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="Statement"
                  placeholder="{{ 'Statement' | translate }}"
                  required
                  class="form-control text-center"
                  type="text"
                  autocomplete="off"
                  [(ngModel)]="modalEntryVoucher.InvoiceNotes"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="WhichTypeAddEditView == 3"
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-2">
                <label for="Notes" class=" " for="Notes">
                  {{ "Notes" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="Notes"
                  placeholder="{{ 'AddNotesHere' | translate }}"
                  required
                  class="form-control text-center"
                  type="text"
                  autocomplete="off"
                  [(ngModel)]="modalEntryVoucher.Notes"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="WhichTypeAddEditView == 3"
                />
              </div>
            </div>

            <div class="row justify-content-between">
              <div class="col-md-7 row">
                <div class="col-md-4">
                  <label for="TotalCurrentLine" class="">
                    {{ "TotalCurrentLine" | translate }}
                  </label>
                </div>
                <div class="col-md-8">
                  <input
                    id="TotalCurrentLine"
                    required
                    class="form-control text-center"
                    type="number"
                    disabled
                    [(ngModel)]="EntryVoucherDetailsRows.length"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </div>
              </div>

              <div class="col-md-5">
                <div class="col-md-4">
                  <label for="CreditorTotal" class="">
                    {{ "CreditorTotal" | translate }}
                  </label>
                </div>

                <div class="col-md-8">
                  <input
                    id="CreditorTotal"
                    required
                    class="form-control text-center"
                    type="number"
                    disabled
                    [(ngModel)]="modalEntryVoucher.TotalCredit"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </div>
              </div>
            </div>

            <div class="row justify-content-between">
              <div class="col-md-7 row">
                <div class="col-md-4" *ngIf="WhichTypeAddEditView != 3">
                  <label for="attachments" class=" " for="attachments">
                    {{ "attachments" | translate }}
                  </label>
                </div>

                <div class="upload col-md-8" *ngIf="WhichTypeAddEditView != 3">
                  <file-upload
                    class="w-full"
                    style="min-height: 40px"
                    [(ngModel)]="uploadedFiles"
                    name="files"
                  ></file-upload>
                </div>
              </div>

              <div class="col-md-5">
                <div class="col-md-4">
                  <label for="totalDebit" class=" " for="totalDebit">
                    {{ "totalDebit" | translate }}
                  </label>
                </div>

                <div class="col-md-8">
                  <input
                    id="totalDebit"
                    required
                    class="form-control text-center"
                    type="number"
                    disabled
                    [(ngModel)]="modalEntryVoucher.TotalDepit"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </div>
              </div>
            </div>

            <div class="row justify-content-between">
              <div class="col-md-7 row">
                <div class="d-flex align-items-center">
                  <input
                    [disabled]="WhichTypeAddEditView == 3"
                    style="transform: scale(1.8)"
                    type="checkbox"
                    id="VoucherAdjustment"
                    name="VoucherAdjustment"
                    [(ngModel)]="modalEntryVoucher.VoucherAdjustment"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <label for="VoucherAdjustment" class="mx-2">{{
                    "underSettlement" | translate
                  }}</label>
                </div>
              </div>

              <div class="col-md-5">
                <div class="col-md-4">
                  <label for="theDifference" class=" " for="theDifference">
                    {{ "theDifference" | translate }}
                  </label>
                </div>

                <div class="col-md-8">
                  <input
                    id="theDifference"
                    required
                    class="form-control text-center"
                    type="number"
                    disabled
                    [(ngModel)]="modalEntryVoucher.diff"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- footer -->
    </ng-container>
    <div
      *ngIf="
        WhichTypeAddEditView == 3 &&
        modalEntryVoucher.addUser != null &&
        modalEntryVoucher.addUser != ''
      "
      class="w-full w-max d-flex align-items-center"
    >
      <img
        width="100px"
        height="100px"
        class="imgadded"
        style="border-radius: 50%"
        [src]="ShowImg(modalEntryVoucher?.addedImg)"
        alt=""
      />
      <p>
        {{ "Data Entry" | translate }} {{ modalEntryVoucher?.addUser }}
        {{ "In" | translate }} 
        {{modalEntryVoucher?.addDate | date : " hh:mm yyyy-MM-dd"}}

      </p>
    </div>
    <div class="d-flex justify-content-end">
    </div>
  </div>
</ng-template>

<!-- سند قبض بدون عميل  -->
<!-- ReceiptVoucherwithoutCustomerModal  -->
<ng-template #ReceiptVoucherwithoutCustomerModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl" *ngIf="CustCheckPage == 'noCustomer'">{{
        "ReceiptVoucherwithoutCustomer" | translate
      }}</span>
      <span class="text-2xl" *ngIf="CustCheckPage == 'withCustomer'">{{
        "NewReceiptVoucher" | translate
      }}</span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body">
    <ng-container>
      <form [formGroup]="ReceiptVoucherForm">
        <div class="row align-items-end mb-3 mx-3">
          <!-- 1 line -->
          <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
            <div class="form-group">
              <label for="customerEn" class="text-right col-form-label block">
                {{ "date" | translate }}
              </label>
              <input
                placeholder="{{ 'Chose' | translate }}"
                name="date"
                type="text"
                class="form-control"
                bsDatepicker
                autocomplete="off"
                formControlName="dateM"
                #dpr="bsDatepicker"
                (ngModelChange)="gethigridate()"
              />
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
            <div class="form-group">
              <label for="customerEn" class="text-right col-form-label block">
                {{ "Bond number" | translate }}
              </label>
              <input
                required
                class="form-control"
                type="text"
                autocomplete="off"
                formControlName="VoucherNumber"
              />
            </div>
          </div>

          <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
            <div class="form-group">
              <label for="customerEn" class="text-right col-form-label block">
                {{ "m_Cost" | translate }}
                <span class="text-danger">*</span>
              </label>
              <ng-select
                class="w-full p-0"
                placeholder="{{ 'Chose' | translate }}"
                autocomplete="off"
                formControlName="costCentersId"
                name="user"
              >
                <ng-option
                  *ngFor="let user of costCentersList"
                  [value]="user.id"
                  >{{ user.name }}</ng-option
                >
              </ng-select>
              <div
                *ngIf="
                  ReceiptVoucherForm.get('costCentersId')?.hasError(
                    'required'
                  ) && ReceiptVoucherForm.get('costCentersId')?.touched
                "
                class="error-text"
              >
                This field is required.
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- 2 line -->
      <div class="row align-items-end mb-3 mx-3">
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group hijri-gregorianReciept">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <!-- <input placeholder="{{ 'Chose' | translate }}" name="date" type="text" class="form-control" bsDatepicker
                formControlName="hijriDate"
                  #dpr="bsDatepicker" /> -->
            <hijri-gregorian-datepicker
              [(selectedDate)]="hijriDate"
              [isRequired]="true"
              [hijriLabel]="'Hijri'"
              [disabled]="hijritype"
              [selectedDateType]="selectedDateType"
              [dir]="'dir' | translate"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "referenceNumber" | translate }}
              <!-- <span class="text-danger">*</span> -->
            </label>
            <input
              placeholder="{{ 'referenceNumber' | translate }}"
              autocomplete="off"
              [disabled]="modalType == 'View'"
              [(ngModel)]="referenceNumber"
              class="form-control"
              type="text"
            />
            <!-- <div *ngIf="referenceNumber==null&& submitted==true" class="error-text">
                  This field is required.
                </div> -->
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-4 mb-0"
          *ngIf="modalType != 'Create'"
        >
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Invoice Number" | translate }}
            </label>
            <input
              autocomplete="off"
              disabled
              [(ngModel)]="R_theInvoice"
              name="R_theInvoice"
              placeholder="{{ 'R_theInvoice' | translate }}"
              class="form-control"
              type="text"
            />
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-4 mb-0"
          *ngIf="CustCheckPage == 'withCustomer' && modalType == 'Create'"
        >
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Invoice Number" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'Chose' | translate }}"
              autocomplete="off"
              [(ngModel)]="R_theInvoice"
              name="R_theInvoice"
              (change)="GetInvoiceByNo(R_theInvoice)"
            >
              <ng-option
                *ngFor="let user of InvoicesWithCustomer"
                [value]="user.invoiceNumber"
                >{{ user.invoiceNumber }}</ng-option
              >
            </ng-select>
          </div>
        </div>
      </div>
      <!-- 3 line -->

      <!-- <form [formGroup]="ReceiptVoucherForm"> -->
      <div class="row align-items-end mb-3 mx-3">
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Registration number" | translate }}
            </label>
            <input
              autocomplete="off"
              [(ngModel)]="Registrationnumber"
              disabled
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Payment type" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              placeholder="{{ 'Chose' | translate }}"
              class="w-full p-0"
              [(ngModel)]="paymenttype"
              [disabled]="modalType == 'View'"
              (change)="FillCustAc(false)"
            >
              <ng-option *ngFor="let user of PayTypeList" [value]="user.id">{{
                user.name | translate
              }}</ng-option>
            </ng-select>
            <div
              *ngIf="paymenttype == null && submitted == true"
              class="error-text"
            >
              This field is required.
            </div>
          </div>
        </div>

        <!-- <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
              <div class="upload col-span-1 md:col-span-2">
                <label for="attach">{{ "attachments" | translate }}</label>
                <input type="file" accept="image/*" (change)="selectFile($event)" formControlName="fileUrl" />
              </div>
            </div> -->

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="upload col-span-1 md:col-span-2">
            <label for="attachments" class=" " for="attachments">{{
              "attachments" | translate
            }}</label>
            <file-upload
              class="w-full"
              style="min-height: 40px"
              [(ngModel)]="uploadedFiles"
              name="files"
            ></file-upload>
          </div>
        </div>

        <div
          class="col-sm-6 col-md-3 col-lg-4 mb-0"
          *ngIf="CustCheckPage == 'withCustomer'"
        >
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "customer name" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              placeholder="{{ 'Chose' | translate }}"
              class="w-full p-0"
              autocomplete="off"
              [disabled]="modalType == 'View'"
              (change)="GetCustomersByCustomerId(); GetInvoiceByCustomer()"
              [(ngModel)]="ClientId"
            >
              <ng-option
                *ngFor="let user of AllCustomerForDropWithBranchList"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
            <div
              *ngIf="ClientId == null && submitted == true"
              class="error-text"
            >
              This field is required.
            </div>
          </div>
        </div>
      </div>
      <!-- </form> -->
      <!--  -->
      <form [formGroup]="ReceiptVoucherForm">
        <div class="row mx-3 items-end">
          <div class="col-md-12">
            <div class="boxContainer mb-3 w-100 p-3">
              <div class="row">
                <div class="col-md-3">
                  <label
                    for="recipientName"
                    class="text-yellow"
                    for="recipientName"
                  >
                    {{ "recipientfromName" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                </div>
                <div class="col-md-9">
                  <input
                    id="recipientName"
                    placeholder="{{ 'recipientName' | translate }}"
                    type="text"
                    class="form-control text-center  {{
                      ReceiptVoucherForm.get('recipientName')?.hasError(
                        'required'
                      ) && ReceiptVoucherForm.get('recipientName')?.touched
                        ? 'errorInput'
                        : ''
                    }}"
                    name="recipientName"
                    autocomplete="off"
                    formControlName="recipientName"
                  />
                  <!-- <div *ngIf="ReceiptVoucherForm.get('recipientName')?.hasError('required')
                            && ReceiptVoucherForm.get('recipientName')?.touched" class="error-text">
                    This field is required.
                  </div> -->
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label for="AmountOf" class="text-orange">
                    {{ "AmountOf" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                </div>
                <div class="col-md-3">
                  <input
                    id="AmountOf"
                    placeholder="{{ 'AmountOf' | translate }}"
                    class="form-control text-center  {{
                      ReceiptVoucherForm.get('AmountOf')?.hasError(
                        'required'
                      ) && ReceiptVoucherForm.get('AmountOf')?.touched
                        ? 'errorInput'
                        : ''
                    }}"
                    type="number"
                    autocomplete="off"
                    formControlName="AmountOf"
                    name="AmountOf"
                    (keyup)="
                      ConvertNumToString_Catch(
                        this.ReceiptVoucherForm.controls['AmountOf'].value
                      )
                    "
                  />
                  <!-- <div *ngIf="ReceiptVoucherForm.get('AmountOf')?.hasError('required')
                            && ReceiptVoucherForm.get('AmountOf')?.touched" class="error-text">
                    This field is required.
                  </div> -->
                </div>
                <div class="col-md-6">
                  <input
                    id="AmountOf"
                    placeholder="{{ 'amountWriting' | translate }}"
                    class="form-control text-center"
                    type="text"
                    autocomplete="off"
                    formControlName="amountWriting"
                  />
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label for="AndThatFor" class="text-yellow">
                    {{ "AndThatFor" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                </div>
                <div class="col-md-9">
                  <input
                    id="AndThatFor"
                    placeholder="{{ 'AndThatFor' | translate }}"
                    class="form-control text-center
                  {{
                      ReceiptVoucherForm.get('AndThatFor')?.hasError(
                        'required'
                      ) && ReceiptVoucherForm.get('AndThatFor')?.touched
                        ? 'errorInput'
                        : ''
                    }} "
                    type="text"
                    name="AndThatFor"
                    autocomplete="off"
                    formControlName="AndThatFor"
                  />
                  <!-- <div *ngIf="ReceiptVoucherForm.get('AndThatFor')?.hasError('required')
                             && ReceiptVoucherForm.get('AndThatFor')?.touched" class="error-text">
                    This field is required.
                  </div> -->
                </div>
              </div>
            </div>
            <div class="boxContainer w-100 p-3">
              <div class="row">
                <div class="col-md-3">
                  <label for="fromAccount" class="text-orange">
                    {{ "fromAccount" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                </div>
                <div class="col-md-6">
                  <ng-select
                    placeholder="{{ 'Chose' | translate }}"
                    class="w-full p-0 h-100
                  {{
                      ReceiptVoucherForm.get('fromAccount')?.hasError(
                        'required'
                      ) && ReceiptVoucherForm.get('fromAccount')?.touched
                        ? 'errorInput'
                        : ''
                    }}"
                    autocomplete="off"
                    formControlName="fromAccount"
                    name="fromAccount"
                    (change)="
                      GetAccCodeFormID(
                        this.ReceiptVoucherForm.controls['fromAccount'].value,
                        1
                      )
                    "
                  >
                    <ng-option
                      *ngFor="let user of FillCustAccountsSelect2listFROM"
                      [value]="user.id"
                    >
                      {{ user.name }}</ng-option
                    >
                  </ng-select>
                  <!-- <div *ngIf="ReceiptVoucherForm.get('fromAccount')?.hasError('required')
                           && ReceiptVoucherForm.get('fromAccount')?.touched" class="error-text">
                    This field is required.
                  </div> -->
                </div>
                <div class="col-md-3">
                  <input
                    id="accountNumber"
                    placeholder="{{ 'accountNumber' | translate }}"
                    autocomplete="off"
                    formControlName="AccCodeFrom"
                    class="form-control text-center"
                    type="text"
                  />
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label for="toAccount" class="text-green-500">
                    {{ "toAccount" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                </div>
                <div class="col-md-6">
                  <ng-select
                    placeholder="{{ 'Chose' | translate }}"
                    required
                    class="w-full p-0 h-100
                  {{
                      ReceiptVoucherForm.get('toAccount')?.hasError(
                        'required'
                      ) && ReceiptVoucherForm.get('toAccount')?.touched
                        ? 'errorInput'
                        : ''
                    }}"
                    (change)="
                      GetAccCodeFormID(
                        this.ReceiptVoucherForm.controls['toAccount'].value,
                        2
                      )
                    "
                    autocomplete="off"
                    formControlName="toAccount"
                  >
                    <ng-option
                      *ngFor="let user of FillCustAccountsSelect2listTO"
                      [value]="user.id"
                    >
                      {{ user.name }}</ng-option
                    >
                  </ng-select>
                  <!-- <div *ngIf="ReceiptVoucherForm.get('toAccount')?.hasError('required')
                           && ReceiptVoucherForm.get('toAccount')?.touched" class="error-text">
                    This field is required.
                  </div> -->
                </div>
                <div class="col-md-3">
                  <input
                    id="accountNumber"
                    placeholder="{{ 'accountNumber' | translate }}"
                    autocomplete="off"
                    formControlName="AccCodeTo"
                    class="form-control text-center"
                    type="text"
                  />
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label for="Statement " class="text-babyblue">
                    {{ "Statement" | translate }}
                  </label>
                </div>
                <div class="col-md-9">
                  <input
                    id="Statement "
                    placeholder="{{ 'Statement' | translate }}"
                    autocomplete="off"
                    formControlName="Statement"
                    class="form-control text-center"
                    type="text"
                    name="Statement"
                  />
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <label for="Notes " class="text-babyblue">
                    {{ "Notes" | translate }}
                  </label>
                </div>
                <div class="col-md-9">
                  <input
                    id="Notes "
                    placeholder="{{ 'Notes' | translate }}"
                    autocomplete="off"
                    formControlName="Notes"
                    class="form-control text-center"
                    type="text"
                    name="Notes"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- footer -->
      <div
        class="editable shadow mb-4 d-block"
        style="overflow: auto"
        *ngIf="checkdetailsList.length > 0"
      >
        <p class="text-center">
          {{ "Check_transferDetails" | translate }}
        </p>
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="
            vertical-align: middle;
            font-size: 14px;
            min-width: max-content;
          "
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "serial" | translate }}</th>
              <th>{{ "Payment type" | translate }}</th>
              <th>{{ "Check_transferNumber" | translate }}</th>
              <th>{{ "dateCheck_transfer" | translate }}</th>
              <th>{{ "BankName" | translate }}</th>
              <th>{{ "edit" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of checkdetailsList; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.checkdetail }}</td>
              <td>{{ item.checkdetailpaytype }}</td>
              <td>{{ item.checkdetailcheckNo }}</td>
              <td>{{ item.checkdetailcheckDate }}</td>
              <td>{{ item.checkdetailbankName }}</td>
              <!-- <td *ngIf="modalType == 'Create' || modalType == 'Edit'">
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="
                    open(
                      EditCheckDetailsModal,
                      item,
                      'EditCheckDetailsModal',
                      'EditCheckDetails'
                    )
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
              </td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </ng-container>
    <div
      class="d-flex align-items-center gap-2"
      *ngIf="this.modalType == 'Edit'"
    >
      <img
        class="rounded-circle"
        width="50"
        height="50"
        src="{{ addInvoiceImg | img }}"
        alt=""
      />
      <p class="mb-0">
        {{ "Data Entry" | translate }} :{{ addUser }} - {{ addDate | date }}
      </p>
    </div>
  </div>
</ng-template>

  <!-- btn add  -->
  <ng-template #StorehouseModal let-modal>
    <div class="modal-header bg-base text-white">
      <h4
        class="modal-title mb-0"
        id="modal-basic-title"
        [translate]="'name'"
        [translateParams]="{ ar: 'اضافة جديدة', en: 'Add New' }"
      ></h4>
      <button
        type="button"
        class="text-2xl text-white m-0"
        (click)="modal.dismiss('Cross click')"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div class="modal-body text-center">
      <form #addStorehouse="ngForm" class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div class="form-group">
          <label for="BuildNameArtxt" class="text-right col-form-label block">
            {{ "nameAr" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            required
            #StorehouseNameAr="ngModel"
            ngModel
            [(ngModel)]="dataAdd.Storehouse.nameAr"
            class="form-control"
            type="text"
            id="StorehouseNameArtxt"
            name="StorehouseNameArtxt"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameAr' | translate)"
          />
        </div>
        <div class="form-group">
          <label for="StorehouseNameEntxt" class="text-right col-form-label block">
            {{ "nameEn" | translate }}
            <span class="text-danger">*</span></label
          >
          <div style="display: inline-flex; width: 100%">
            <input
              required
              #StorehouseNameEnValue
              #StorehouseNameEn="ngModel"
              [(ngModel)]="dataAdd.Storehouse.nameEn"
              ngModel
              class="form-control"
              type="text"
              id="StorehouseNameEntxt"
              name="StorehouseNameEntxt"
              autocomplete="off"
              [placeholder]="('Write' | translate) + ' ' + ('nameEn' | translate)"
            />
            <a
              class="btn"
              id="CopyStorehouseName2"
              (click)="dataAdd.Storehouse.nameEn = dataAdd.Storehouse.nameAr"
              ><i class="fa fa-copy"></i
            ></a>
          </div>
        </div>
      </form>
      <div class="max-h-80 overflow-auto px-2">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th
                [translate]="'name'"
                [translateParams]="{
                  ar: 'خيارات',
                  en: 'Operations'
                }"
              ></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let type of StorehousePopup"
              (dblclick)="
                setStorehouseInSelect(type, StorehouseModal);
                modal.dismiss('Cross click')
              "
            >
              <td>{{ type.name }}</td>
              <td>{{ type.nameEn }}</td>
              <td class="flex gap-2 justify-center">
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                  (click)="
                    dataAdd.Storehouse.nameAr = type.name;
                    dataAdd.Storehouse.nameEn = type.nameEn;
                    dataAdd.Storehouse.id = type.id
                  "
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
                <button
                  (click)="getStorehouseRow(type); open(deleteStorehouse)"
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="flex gap-2 mt-3 pt-3 border-t border-neutral-300">
        <button
          class="btn bg-base text-white"
          type="submit"
          [disabled]="addStorehouse.invalid"
          (click)="saveStorehouse()"
        >
          {{ "Save" | translate }}
        </button>
        <button (click)="modal.dismiss('Cross click')" class="btn btn-secondary">
          {{ "Back" | translate }}
        </button>
        <button (click)="resetStorehouse()" class="btn bg-base text-white">
          {{ "جديد" | translate }}
        </button>
      </div>
    </div>
  </ng-template>
  
  <ng-template #deleteStorehouse let-modal>
    <div class="modal-body text-center">
      <p
        [translate]="'name'"
        [translateParams]="{
          ar: 'هل تريد بالتأكيد حذف هذا الصف',
          en: 'Are you sure to delete this row ?'
        }"
      ></p>
      <div class="flex gap-2 justify-center mt-3">
        <button
          type="button"
          mat-raised-button
          color="warn"
          (click)="confirmStorehouseDelete(); modal.dismiss()"
        >
          {{ "Yes" | translate }}
        </button>
        <button
          type="button"
          (click)="modal.dismiss()"
          mat-raised-button
          color="basic"
        >
          {{ "No" | translate }}
        </button>
      </div>
    </div>
  </ng-template>

<ng-template  #printDivModal let-modal>
  <div class="modal-body">
    <div #divHtmlZatca
      id="divHtml_a"
      class="divHtml"
      style="width: 100% !important; margin: 0px auto !important"
    >
      <div>
        <img
          *ngIf="CustomData.headerurl"
          src="{{ CustomData.headerurl }}"
          alt="headerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
      <div class="invoiceNe-wrapper" style="direction: rtl !important">
        <!--Header-->
        <div class="invoiceNe-header">
          <div class="headerNe-right-side">
            <img
              *ngIf="CustomData.OrgImg"
              src="{{ CustomData.OrgImg }}"
              alt="logo"
              id="OrgImg"
              style="
                height: 80px;
                width: 140px;
                max-width: 200px;
                object-fit: fill;
              "
            />
          </div>
          <div class="headerNe-lefy-side" style="width: 100%">
            <p>{{ InvPrintData?.org_VD?.nameAr }}</p>
            <p>{{ InvPrintData?.org_VD?.nameEn }}</p>
            <div class="line" style="position: relative; padding: 1px 0px 1px">
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 100%;
                  height: 2px;
                  background-color: #e5e5e5;
                  z-index: 1;
                "
              ></span>
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 70%;
                  height: 2px;
                  background-color: #ec1c24;
                  z-index: 2;
                "
              ></span>
            </div>
            <h1 style="margin-bottom: 0">فاتورة ضريبية</h1>
          </div>
        </div>
        <!--/Header-->

        <!--invoiceNe-content-->
        <div class="invoiceNe-content">
          <div class="firstNe-table-main-heading" style="display: flex">
            <div class="firstNe-table" style="margin-left: 5px; width: 50%">
              <table
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.invoiceNumber }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice No
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice Date
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ التوريد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Date of supply
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="firstNe-table" style="margin-right: 5px; width: 50%">
              <table
                of
                supplyable
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      فاتورة ضريبية
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.payTypeName }}
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Tax Invoice
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم المشروع
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.projectNo }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Project No
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم العقد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ CustomData.ContractNo }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Contract No
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>

          <!--Details-->
          <div
            class="invoiceNe-details"
            style="margin-bottom: 0px; display: flex"
          >
            <!--second table-->
            <div class="secondNe-table" style="margin-left: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #dceefd !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات المورد </span>
                <span>Seller</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                     InvPrintData?.org_VD?.nameAr
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.address
                        : InvPrintData?.branch_VD?.address
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.buildingNumber
                        : InvPrintData?.branch_VD?.buildingNumber
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.streetName
                        : InvPrintData?.branch_VD?.streetName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.neighborhood
                        : InvPrintData?.branch_VD?.neighborhood
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.cityName
                        : InvPrintData?.branch_VD?.cityName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.country
                        : InvPrintData?.branch_VD?.country
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.postalCodeFinal
                        : InvPrintData?.branch_VD?.postalCodeFinal
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>

                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.externalPhone
                        : InvPrintData?.branch_VD?.externalPhone
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit. No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.taxCode
                        : InvPrintData?.branch_VD?.taxCode
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr></tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الفرع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.branch_VD?.isPrintInvoice == true
                        ? InvPrintData?.branch_VD?.nameAr
                        : "--"
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Branch
                  </th>
                </tr>
              </table>
            </div>
            <!--second table-->
            <!--third table-->
            <div class="thirdNe-table" style="margin-right: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #faebd7 !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات العميل </span>
                <span>Customer</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.customerNameAr }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.customerAddress }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.buildingNumber }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.streetName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.neighborhood }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.cityName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.country }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.postalCodeFinal }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر. الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.externalPhone }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.commercialRegInvoice }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    معرف اخر
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.customerVM_VD?.commercialRegister }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    A.SellerID
                  </th>
                </tr>
              </table>
            </div>
            <!--third table-->
          </div>

          <!--totalNe-invoice-->
          <div class="totalNe-invoice" style="margin-bottom: 0px">
            <table
              style="
                max-width: 100%;
                vertical-align: middle;
                text-align: center;
              "
            >
              <thead>
                <tr>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    م <br />
                    .No
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    اسم الخدمة <br />
                    Item Name
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الوحدة <br />
                    Unit
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الكمية <br />
                    .Qty
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    السعر <br />
                    Price
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الخصم <br />
                    Discount
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    نسبة الخصم <br />
                    discount percent
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الصافي<br />
                    Net
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    ض.ق.المضافة <br />
                    VAT
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 2px 0px;
                    "
                  >
                    الصافي + الضريبة <br />
                    Net + VAT
                  </th>
                </tr>
              </thead>
              <tbody style="line-height: 1.2em">
                <tr
                  *ngFor="
                    let item of InvPrintData?.voucherDetailsVM_VD;
                    let i = index
                  "
                >
                  <td>{{ i + 1 }}</td>
                  <td>
                    <span style="font-size: 13px; font-weight: 700">{{
                      item.servicesPriceName
                    }}</span>
                    <ul
                      *ngFor="
                        let det of item?.servicesPricesOffer;
                        let i = index
                      "
                      style="
                        list-style: none;
                        padding: 0px;
                        margin-inline-start: 10px;
                        text-align: right;
                        margin-top: 3px;
                        line-height: 16px;
                        font-size: 12px;
                      "
                    >
                      <hr style="margin: 6px" />
                      <li>
                        <span style="font-size: 12px; font-weight: 800">-</span>
                        {{ det.name }}
                      </li>
                    </ul>
                  </td>

                  <!-- <td>{{ item.servicesPriceName }}</td> -->
                  <td>{{ item.serviceTypeName }}</td>
                  <td>{{ item.qty }}</td>
                  <td>{{ GetAccualValue(item) }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.discountValue_Det }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.discountPercentage_Det }}</td>
                  <td>{{ GetDiff(item) }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.taxAmount }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.totalAmount }}<app-sar-icon></app-sar-icon></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!--totalNe-invoice-->
          <!--invoice value-->
          <div
            class="invoiceNe-value"
            style="display: block !important; margin-bottom: 3px"
          >
            <div class="invoiceNe-divided">
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span> الإجمالي : </span>
                  <span>{{ CustomData.Total }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الخصم : </span>
                  <span>{{ CustomData.DiscPer }} % {{ CustomData.Disc }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الإجمالي بعد الخصم : </span>
                  <span>{{ CustomData.TotalAfterDisc }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الصافي : </span>
                  <span>{{ CustomData.netVal }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> ضريبة القيمة المضافة (15%) : </span>
                  <span>{{ InvPrintData?.invoicesVM_VD.taxAmount ?? 0 }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1px;
                    min-width: 637px;
                    max-width: 637px;
                  "
                >
                  <span>إجمالي المبلغ المطلوب سداده: </span>
                  <span
                    >{{ InvPrintData?.invoicesVM_VD.totalValue ?? 0 }}<app-sar-icon></app-sar-icon></span>
                    <span style="margin-right: 6%;">({{ InvPrintData?.valueNumString }})</span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1dvh;
                    min-width: 637px;
                    max-width: 637px;
                  "
                >
                  <span>الملاحظات:</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.notes }}</span>
                </p>
                <p
                  style="
                    margin-bottom: 3px;
                    background-color: #dceefd;
                    padding: 1px;
                    min-width: 637px;
                    max-width: 637px;
                    font-size: 15px !important;
                  "
                >
                  <span>وسائل الدفع:</span>
                  <span></span>
                </p>
              </div>
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span>المدفوع :</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.paidValue ?? 0 }} <app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span>المتبقي :</span>
                  <span>{{
                    (InvPrintData?.invoicesVM_VD.totalValue ?? 0) -
                      (InvPrintData?.invoicesVM_VD.paidValue ?? 0)
                  }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p
                  style="margin-top: 120%; color: red"
                  *ngIf="CustomData?.PrintType != 1"
                >
                  <span>{{ CustomData?.PrintTypeName }}</span>

                </p>
                <p style="color: red" *ngIf="CustomData?.PrintType != 1">
                <span>{{ "رقم الإشعار : "  }}</span>
                </p>
                <p style="color: red" *ngIf="CustomData?.PrintType != 1">
                  <span>{{ InvPrintData?.invoicesVM_VD?.invoiceRetId }}</span>
                  </p>
              </div>
            </div>
          </div>

          <!--invoice -bank-account-->
          <!--invoiceNe-footer-->
          <div
            class="invoiceNe-footer"
            style="
              display: flex !important;
              justify-content: space-between;
              align-items: start;
            "
          >
            <div>
              <img
                *ngIf="CustomData.Account1Img"
                src="{{ CustomData.Account1Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                  margin-bottom: 5px;
                "
              />
              <img
                *ngIf="CustomData.Account2Img"
                src="{{ CustomData.Account2Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                "
              />
            </div>

            <div>
              <h4>{{ CustomData.Account1Bank }}</h4>
              <h4>{{ CustomData.Account2Bank }}</h4>
              <h4 *ngIf="InvPrintData?.invoicesVM_VD.appearUser == 1">
                {{ InvPrintData?.invoicesVM_VD.addUser }}
              </h4>
            </div>

            <div class="qrNe-code">
              <img
                #conditionimg
                src="{{ InvPrintData?.qrCodeString_VD }}"
                alt="QRCode"
                style="height: 140px; width: 180px"
              />
            </div>
          </div>

          <!--invoiceNe-footer-->
          <!--Details-->
        </div>
        <!--invoiceNe-content-->
        <div>
          <img
            *ngIf="CustomData.footerurl"
            src="{{ CustomData.footerurl }}"
            alt="footerurl"
            style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
   <!-- <button *ngIf="ZatcaPrintP"
      (click)="downloadPDF('divHtml_a')"   
      style="background-color: red;"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button> -->
    <button
      *ngIf="!ZatcaPrintP"
      (click)="printDiv('divHtml_a')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #printDivModalReVoucher let-modal>
  <div class="modal-body">
    <div
      id="reportprintDivModal"
      [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }"
    >
    <div>
      <img
        *ngIf="CustomData.headerurl"
        src="{{ CustomData.headerurl }}"
        alt="headerurl"
        style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
      />
    </div>
      <!--Header-->
      <div
        class="report-header"
        style="
          display: flex;
          align-items: center;
          gap: 100px;
          padding: 3px 0px;
          margin-bottom: 20px;
        "
      >
        <div class="headerNe-right-side">
          <img
          *ngIf="CustomData.OrgImg"
          src="{{ CustomData.OrgImg }}"
          alt="logo"
          style="
            height: 80px;
            width: 140px;
            max-width: 200px;
            object-fit: fill;
          "
        />
        </div>

        <div class="headerNe-lefy-side" style="width: 100%">
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameAr }}
          </h1>
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameEn }}
          </h1>
          <div class="line" style="position: relative; padding: 5px 0px 10px">
            <span
              style="
                position: absolute;
                right: 0;
                width: 100%;
                height: 2px;
                background-color: #e5e5e5;
                z-index: 1;
              "
            ></span>
            <span
              style="
                position: absolute;
                right: 0;
                width: 70%;
                height: 2px;
                background-color: #ec1c24;
                z-index: 2;
              "
            ></span>
          </div>

          <h1
            style="
              margin-bottom: 0;
              font-size: 34px;
              color: #0c8191;
              margin-bottom: 0;
              margin-top: 30px;
              font-weight: 500;
            "
            [translate]="'name'"
            [translateParams]="{
              ar: ' سند قبض',
              en: ' Catch Receipt'
            }"
          ></h1>
        </div>
      </div>
      <!--/Header-->

      <div style="margin-bottom: 10px">
        <p>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'التاريخ: ',
              en: 'Date: '
            }"
          ></span>
          <span> {{ EntryVoucherPrintData?.dateTimeNow }}</span>
          <span
            *ngIf="CustomDataNoteInvoice"
            style="margin-right: 18%; color: red"
          >
            {{ CustomDataNoteInvoice }}</span
          >
        </p>
      </div>

      <div class="info" style="overflow: auto; margin-bottom: 20px">
        <table
          class="table table-bordered m-0"
          style="
            width: 100%;
            color: white;
            text-align: center;
            vertical-align: middle;
            min-width: max-content;
          "
        >
          <tr>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              ريال .S.R
            </td>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              {{ "Bond number" | translate }}
            </td>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              {{ "Invoice Number" | translate }}
            </td>
            <td
              style="
                line-height: 0 !important;
                padding: 0px !important;
                background-color: #f7f7f7;
                border: 1px solid #dce0e4;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
              colspan="2"
            >
              <span
                style="
                  border: none;
                  display: inline-block;
                  padding: 10px 0px;
                  border: 1px solid #dce0e4;
                  width: 100%;

                  line-height: 24px;
                "
                [translate]="'name'"
                [translateParams]="{ ar: 'تاريخ السند', en: 'Vouvher Date' }"
              ></span>
            </td>
          </tr>
          <tr>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].totalValue }}<app-sar-icon></app-sar-icon>
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].invoiceNumber }}
            </td>
            <td
              style="
                width: 20%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ CustomDatatoInvoice }}
            </td>
            <td
              style="
                width: 15%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].date }}
            </td>
            <td
              style="
                width: 15%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].hijriDate }}
            </td>
          </tr>
        </table>
      </div>
      <div class="services" style="width: 100%; margin-bottom: 20px">
        <div class="content">
          <table
            style="text-align: center; vertical-align: middle; width: 100%"
          >
            <!-- <thead>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{"account code"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{"account name"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Debit"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Credit"|translate}}</td>
               <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Statement"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"costCenter"|translate}}</td>
            </thead> -->
            <tbody>
              <tr
                *ngFor="let item of EntryVoucherPrintData?.voucherVM"
                style="display: flex; flex-direction: column"
              >
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> استلمنا من السيد / السادة</span>
                  <span>{{ item.recevierTxt }} </span>
                  <span>Received From Mr/Messrs</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> مبلغ و قدره</span>
                  <span>{{ item.invoiceValueText }} </span>
                  <span>The sum of S.R</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> نوع السند </span>
                  <span>{{ getpayType(item.payType) }} </span>
                  <span>Voucher</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> تاريخ</span>
                  <span>{{ item.checkDate }} </span>
                  <span> Date</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> المسحوب علي بنك</span>
                  <span>{{ item.bankName }} </span>
                  <span>Bank</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> وذلك مقابل</span>
                  <span>{{ item.description }} </span>
                  <span>And That For</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span>مركز التكلفة </span>
                  <span>{{ item.costCenterName }} </span>
                  <span>Cost center</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> ملاحظات</span>
                  <span>{{ item.notes }} </span>
                  <span>Notes</span>
                </td>
              </tr>
            </tbody>
          </table>

          <div
            style="
              display: grid;
              grid-template-columns: auto auto auto auto;
              padding-top: 20px;
            "
            class="text-center"
          >
            <div class="grid-item">
              <p>
                المستلم<br />Receiver<br />......................................
              </p>
            </div>
            <div class="grid-item">
              <p>
                المحاسب<br />Accountant<br />......................................
              </p>
            </div>
            <div class="grid-item">
              <p>الختم<br />Seal<br />......................................</p>
            </div>
            <div class="grid-item">
              <p>
                المدير المالي واالاداري<br />Manger<br />......................................
              </p>
            </div>
          </div>
        </div>
      </div>
      <div>
        <img
          *ngIf="CustomData.footerurl"
          src="{{ CustomData.footerurl }}"
          alt="footerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
    </div>
  </div>
  <div class="modal-footer">

    <button
      (click)="printDiv('reportprintDivModal')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #printDivModalDailyVoucher let-modal>
  <div class="modal-body">
    <div id="reportDaily" [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }">
      <!--Header-->
      <div>
        <img
          *ngIf="CustomData2.headerurl"
          src="{{ CustomData2.headerurl }}"
          alt="headerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
      <div
        class="report-header"
        style="
          display: flex;
          align-items: center;
          gap: 100px;
          padding: 3px 0px;
          margin-bottom: 20px;
        "
      >
        <div class="headerNe-right-side">
          <img
          *ngIf="CustomData2.OrgImg"
          src="{{ CustomData2.OrgImg }}"
          alt="logo"
          style="
            height: 80px;
            width: 140px;
            max-width: 200px;
            object-fit: fill;
          "
        />
        </div>

        <div class="headerNe-lefy-side" style="width: 100%">
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameAr }}
          </h1>
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameEn }}
          </h1>
          <div class="line" style="position: relative; padding: 5px 0px 10px">
            <span
              style="
                position: absolute;
                right: 0;
                width: 100%;
                height: 2px;
                background-color: #e5e5e5;
                z-index: 1;
              "
            ></span>
            <span
              style="
                position: absolute;
                right: 0;
                width: 70%;
                height: 2px;
                background-color: #ec1c24;
                z-index: 2;
              "
            ></span>
          </div>

          <h1
            style="
              margin-bottom: 0;
              font-size: 34px;
              color: #0c8191;
              margin-bottom: 0;
              margin-top: 30px;
              font-weight: 500;
            "
            [translate]="'name'"
            [translateParams]="{
              ar: ' قيد يومية         ',
              en: ' Entry Voucher'
            }"
          ></h1>
        </div>
      </div>
      <!--/Header-->

      <div style="margin-bottom: 10px">
        <p>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'التاريخ: ',
              en: 'Date: '
            }"
          ></span>
          <span> {{ EntryVoucherPrintData?.dateTimeNow }}</span>
        </p>
      </div>

      <div class="info" style="overflow: auto; margin-bottom: 20px">
        <table
          class="table table-bordered m-0"
          style="
            width: 100%;
            color: white;
            text-align: center;
            vertical-align: middle;
            min-width: max-content;
          "
        >
          <tr>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              {{ "Operation type" | translate }}
            </td>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              {{ "Bond number" | translate }}
            </td>
            <td
              style="
                line-height: 0 !important;
                padding: 0px !important;
                background-color: #f7f7f7;
                border: 1px solid #dce0e4;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
              colspan="2"
            >
              <span
                style="
                  border: none;
                  display: inline-block;
                  padding: 10px 0px;
                  border: 1px solid #dce0e4;
                  width: 100%;

                  line-height: 24px;
                "
                [translate]="'name'"
                [translateParams]="{ ar: 'تاريخ السند', en: 'Vouvher Date' }"
              ></span>
            </td>
          </tr>

          <tr>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ "daily Vouchernew" | translate }}
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              <span
                style="border: none"
                *ngIf="EntryVoucherPrintData?.invoicesVM.length > 0"
              >
                {{ EntryVoucherPrintData?.invoicesVM[0].invoiceNumber }}
              </span>
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              <span
                style="border: none"
                *ngIf="EntryVoucherPrintData?.invoicesVM.length > 0"
              >
                {{ EntryVoucherPrintData?.invoicesVM[0].invoiceDate }}
              </span>
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              <span
                style="border: none"
                *ngIf="EntryVoucherPrintData?.invoicesVM.length > 0"
              >
                {{ EntryVoucherPrintData?.invoicesVM[0].invoiceHijriDate }}
              </span>
            </td>
          </tr>
        </table>
      </div>

      <div class="services" style="width: 100%; margin-bottom: 20px">
        <div class="content">
          <table
            style="text-align: center; vertical-align: middle; width: 100%"
          >
            <thead>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "account code" | translate }}
              </td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "account name" | translate }}
              </td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "Debit" | translate }}
              </td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "Credit" | translate }}
              </td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "Statement" | translate }}
              </td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >
                {{ "costCenter" | translate }}
              </td>
            </thead>
            <tbody>
              <tr *ngFor="let item of EntryVoucherPrintData?.invoicesVM">
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                  {{ item.accountCode }}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                  {{ item.accountNameAr }}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                  {{ item.depit }}
<app-sar-icon ></app-sar-icon>

                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                  {{ item.credit }}
<app-sar-icon></app-sar-icon>

                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                  "
                >
                  {{ item.notes }}
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 0px;
                    color: #272727;
                    border-inline-start: 1px dashed #272727;
                    border-bottom: 1px dashed #272727;
                    border-left: 1px dashed #272727;
                  "
                >
                  {{ item.costCenterNameAr }}
                </td>
              </tr>
            </tbody>
          </table>

          <div style="margin-top: 10px">
            <p>
              <span
                style="font-weight: 700; margin: 10px"
                [translate]="'name'"
                [translateParams]="{
                  ar: 'اجمالي المدين: ',
                  en: 'Total Depit: '
                }"
              ></span>
              <span> {{ CustomData?.TotalDepit }}</span>
<app-sar-icon></app-sar-icon>
            </p>
          </div>
          <div style="margin-bottom: 10px">
            <p>
              <span
                style="font-weight: 700; margin: 10px"
                [translate]="'name'"
                [translateParams]="{
                  ar: 'اجمالي الدائن: ',
                  en: 'Total Credit: '
                }"
              ></span>
              <span style="padding-right: 6px">
                {{ CustomData?.TotalCredit }}</span
              >
<app-sar-icon></app-sar-icon>
            </p>
          </div>
          <div
            style="
              display: grid;
              grid-template-columns: auto auto auto auto;
              padding-top: 20px;
            "
            class="text-center"
          >
            <div class="grid-item">
              <p>
                المحاسب<br />Accountant<br />......................................
              </p>
            </div>
            <div class="grid-item">
              <p>.</p>
            </div>
            <div class="grid-item">
              <p>
                المدير المالي
                <br />Manger<br />......................................
              </p>
            </div>
          </div>

          <div>
            <img
              *ngIf="CustomData2.footerurl"
              src="{{ CustomData2.footerurl }}"
              alt="footerurl"
              style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('reportDaily')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #printDivModalReceipt let-modal>
  <div class="modal-body">
    <div
      id="reportprintDivModalRec"
      [ngStyle]="{ direction: lang == 'ar' ? 'rtl' : 'ltr' }"
    >
      <!--Header-->
      <img
      *ngIf="CustomData.headerurl"
      src="{{ CustomData.headerurl }}"
      alt="headerurl"
      style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
    />
      <div
        class="report-header"
        style="
          display: flex;
          align-items: center;
          gap: 100px;
          padding: 3px 0px;
          margin-bottom: 20px;
        "
      >
      <div>
    
      </div>
        <div class="headerNe-right-side">
          <img
          *ngIf="CustomData.OrgImg"
          src="{{ CustomData.OrgImg }}"
          alt="logo"
          style="
            height: 80px;
            width: 140px;
            max-width: 200px;
            object-fit: fill;
          "
        />
        </div>

        <div class="headerNe-lefy-side" style="width: 100%">
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameAr }}
          </h1>
          <h1
            style="
              letter-spacing: 0.25px;
              font-size: 23px;
              margin: 0;
              margin-bottom: 5px;
            "
          >
            {{ EntryVoucherPrintData?.org_VD?.nameEn }}
          </h1>
          <div class="line" style="position: relative; padding: 5px 0px 10px">
            <span
              style="
                position: absolute;
                right: 0;
                width: 100%;
                height: 2px;
                background-color: #e5e5e5;
                z-index: 1;
              "
            ></span>
            <span
              style="
                position: absolute;
                right: 0;
                width: 70%;
                height: 2px;
                background-color: #ec1c24;
                z-index: 2;
              "
            ></span>
          </div>

          <h1
            style="
              margin-bottom: 0;
              font-size: 34px;
              color: #0c8191;
              margin-bottom: 0;
              margin-top: 30px;
              font-weight: 500;
            "
            [translate]="'name'"
            [translateParams]="{
              ar: ' سند صرف',
              en: ' PayVoucher'
            }"
          ></h1>
        </div>
      </div>
      <!--/Header-->

      <div style="margin-bottom: 10px">
        <p>
          <span
            [translate]="'name'"
            [translateParams]="{
              ar: 'التاريخ: ',
              en: 'Date: '
            }"
          ></span>
          <span> {{ EntryVoucherPrintData?.dateTimeNow }}</span>
        </p>
      </div>

      <div class="info" style="overflow: auto; margin-bottom: 20px">
        <table
          class="table table-bordered m-0"
          style="
            width: 100%;
            color: white;
            text-align: center;
            vertical-align: middle;
            min-width: max-content;
          "
        >
          <tr>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              ريال .S.R
            </td>
            <td
              style="
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
            >
              {{ "Bond number" | translate }}
            </td>
            <td
              style="
                line-height: 0 !important;
                padding: 0px !important;
                background-color: #f7f7f7;
                border: 1px solid #dce0e4;
                font-size: 18px;
                color: #21403f;
                font-weight: 600;
                border: 1px solid #dce0e4;
              "
              colspan="2"
            >
              <span
                style="
                  border: none;
                  display: inline-block;
                  padding: 10px 0px;
                  border: 1px solid #dce0e4;
                  width: 100%;

                  line-height: 24px;
                "
                [translate]="'name'"
                [translateParams]="{ ar: 'تاريخ السند', en: 'Vouvher Date' }"
              ></span>
            </td>
          </tr>
          <tr>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].totalValue }}<app-sar-icon></app-sar-icon>
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].invoiceNumber }}
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].date }}
            </td>
            <td
              style="
                width: 25%;
                padding-inline: 0px !important;
                background-color: #f7f7f7;
                font-size: 18px;
                color: #21403f;
                font-weight: 500;
                border: 1px solid #dce0e4;
                padding: 10px 0px;
              "
            >
              {{ EntryVoucherPrintData?.voucherVM[0].hijriDate }}
            </td>
          </tr>
        </table>
      </div>
      <div class="services" style="width: 100%; margin-bottom: 20px">
        <div class="content">
          <table
            style="text-align: center; vertical-align: middle; width: 100%"
          >
            <!-- <thead>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{"account code"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
              >{{"account name"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Debit"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #f7f7f7;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Credit"|translate}}</td>
               <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"Statement"|translate}}</td>
              <td
                style="
                  font-size: 16px;
                  background-color: #fff;
                  padding: 14px 4px;
                  text-align: center;
                  color: #272727;
                  word-wrap: break-word;
                  border-inline-start: 1px dashed #0c8191;
                  border: 1px dashed #272727;
                  font-weight: 600;
                "
               >{{"costCenter"|translate}}</td>
            </thead> -->
            <tbody>
              <tr
                *ngFor="let item of EntryVoucherPrintData?.voucherVM"
                style="display: flex; flex-direction: column"
              >
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> اصرفوا الي السيد / السيدة</span>
                  <span>{{ item.recevierTxt }} </span>
                  <span>Received From Mr/Messrs</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> مبلغ و قدره</span>
                  <span>{{ item.invoiceValueText }} </span>
                  <span>The sum of S.R</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> نوع السند </span>
                  <span>{{ getpayType(item.payType) }} </span>
                  <span>Voucher</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> تاريخ</span>
                  <span>{{ item.checkDate }} </span>
                  <span> Date</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> المسحوب علي بنك</span>
                  <span>{{ item.bankName }} </span>
                  <span>Bank</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> وذلك مقابل</span>
                  <span>{{ item.description }} </span>
                  <span>And That For</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span>مركز التكلفة </span>
                  <span>{{ item.costCenterName }} </span>
                  <span>Cost center</span>
                </td>
                <td
                  style="
                    background-color: #fff;
                    font-size: 15px;
                    font-weight: 500;
                    padding: 10px 50px;
                    color: #272727;
                    display: flex;
                    justify-content: space-between;
                  "
                >
                  <span> ملاحظات</span>
                  <span>{{ item.notes }} </span>
                  <span>Notes</span>
                </td>
              </tr>
            </tbody>
          </table>

          <div
            style="
              display: grid;
              grid-template-columns: auto auto auto auto;
              padding-top: 20px;
            "
            class="text-center"
          >
            <div class="grid-item">
              <p>
                المستلم<br />Receiver<br />......................................
              </p>
            </div>
            <div class="grid-item">
              <p>
                المحاسب<br />Accountant<br />......................................
              </p>
            </div>
            <div class="grid-item">
              <p>الختم<br />Seal<br />......................................</p>
            </div>
            <div class="grid-item">
              <p>
                المدير المالي واالاداري<br />Manger<br />......................................
              </p>
            </div>
          </div>
        </div>
      </div>
      <div>
        <img
          *ngIf="CustomData.footerurl"
          src="{{ CustomData.footerurl }}"
          alt="footerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
    </div>
  </div>
  <div class="modal-footer">

    <button
      (click)="printDiv('reportprintDivModalRec')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<ng-template #printDivModalPurchase let-modal>
  <div class="modal-body">
    <div
      id="divHtml_aPurchase"
      class="divHtml"
      style="width: 100% !important; margin: 0px auto !important"
    >
      <div>
        <img
          *ngIf="CustomData.headerurl"
          src="{{ CustomData.headerurl }}"
          alt="headerurl"
          style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
        />
      </div>
      <div class="invoiceNe-wrapper" style="direction: rtl !important">
        <!--Header-->
        <div class="invoiceNe-header">
          <div class="headerNe-right-side">
            <img
              *ngIf="CustomData.OrgImg"
              src="{{ CustomData.OrgImg }}"
              alt="logo"
              style="
                height: 80px;
                width: 140px;
                max-width: 200px;
                object-fit: fill;
              "
            />
          </div>
          <div class="headerNe-lefy-side" style="width: 100%">
            <p>{{ InvPrintData?.org_VD?.nameAr }}</p>
            <p>{{ InvPrintData?.org_VD?.nameEn }}</p>
            <div class="line" style="position: relative; padding: 5px 0px 10px">
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 100%;
                  height: 2px;
                  background-color: #e5e5e5;
                  z-index: 1;
                "
              ></span>
              <span
                style="
                  position: absolute;
                  right: 0;
                  width: 70%;
                  height: 2px;
                  background-color: #ec1c24;
                  z-index: 2;
                "
              ></span>
            </div>
            <h1 style="margin-bottom: 0">فاتورة مشتريات</h1>
          </div>
        </div>
        <!--/Header-->

        <!--invoiceNe-content-->
        <div class="invoiceNe-content">
          <div class="firstNe-table-main-heading" style="display: flex">
            <div class="firstNe-table" style="margin-left: 5px; width: 50%">
              <table
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.invoiceNumber }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice No
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ الفاتورة
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Invoice Date
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      تاريخ التوريد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.date }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Date of supply
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="firstNe-table" style="margin-right: 5px; width: 50%">
              <table
                of
                supplyable
                class="tableI"
                style="
                  margin-bottom: 5px;
                  vertical-align: middle;
                  text-align: center;
                "
              >
                <thead>
                  <tr>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      فاتورة ضريبية
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.payTypeName }}
                    </th>
                    <th
                      style="
                        background-color: #faebd7;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Tax Invoice
                    </th>
                  </tr>
                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم المشروع
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.projectNo }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Project No
                    </th>
                  </tr>

                  <tr>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      رقم العقد
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      {{ InvPrintData?.invoicesVM_VD?.contractNo ?? "بدون" }}
                    </th>
                    <th
                      style="
                        background-color: #dceefd;
                        padding: 2px;
                        color: #53627e;
                        font-size: 12px;
                        letter-spacing: 0px;
                        border: 1px solid #f0f7fe;
                      "
                    >
                      Contract No
                    </th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>

          <!--Details-->
          <div
            class="invoiceNe-details"
            style="margin-bottom: 0px; display: flex"
          >
            <!--second table-->
            <div class="secondNe-table" style="margin-left: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #dceefd !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات المورد </span>
                <span>Seller</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.nameAr }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.compAddress }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.buildingNumber }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.streetName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.neighborhood }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.cityName }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.country }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.postalCodeFinal }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.externalPhone }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.taxNo }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    معرف اخر
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{ InvPrintData?.suppliersVM_VD?.commercialRegister }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    A.SellerID
                  </th>
                </tr>
              </table>
            </div>
            <!--second table-->
            <!--third table-->
            <div class="thirdNe-table" style="margin-right: 5px; width: 50%">
              <h4
                class="tableNe-heading"
                style="
                  background-color: #faebd7 !important;
                  font-size: 15px;
                  letter-spacing: 0px;
                  font-weight: 700;
                  padding: 1px 10px;
                "
              >
                <span>بيانات العميل </span>
                <span>Customer</span>
              </h4>
              <table style="vertical-align: middle; text-align: center">
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الاسم
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.org_VD?.nameAr
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Name
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    العنوان
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.address
                        : InvPrintData?.branch_VD?.address
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Address
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.المبنى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.buildingNumber
                        : InvPrintData?.branch_VD?.buildingNumber
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Build.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الشارع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.streetName
                        : InvPrintData?.branch_VD?.streetName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Street
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الحي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.neighborhood
                        : InvPrintData?.branch_VD?.neighborhood
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Area
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    المدينة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.cityName
                        : InvPrintData?.branch_VD?.cityName
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    City
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الدولة
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.country
                        : InvPrintData?.branch_VD?.country
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Country
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.البريدى
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.postalCodeFinal
                        : InvPrintData?.branch_VD?.postalCodeFinal
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    P.Code
                  </th>
                </tr>

                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الاضافي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.externalPhone
                        : InvPrintData?.branch_VD?.externalPhone
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Addit.No
                  </th>
                </tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    ر.الضريبي
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.orgIsRequired_VD == true
                        ? InvPrintData?.org_VD?.taxCode
                        : InvPrintData?.branch_VD?.taxCode
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    VAT
                  </th>
                </tr>
                <tr></tr>
                <tr>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    الفرع
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    {{
                      InvPrintData?.branch_VD?.isPrintInvoice == true
                        ? InvPrintData?.branch_VD?.nameAr
                        : "--"
                    }}
                  </th>
                  <th
                    style="
                      padding: 0px;
                      font-size: 12px;
                      letter-spacing: 0px;
                      border: 1px solid #f0f7fe;
                    "
                  >
                    Branch
                  </th>
                </tr>
              </table>
            </div>
            <!--third table-->
          </div>

          <!--totalNe-invoice-->
          <div class="totalNe-invoice" style="margin-bottom: 0px">
            <table
              style="
                max-width: 100%;
                vertical-align: middle;
                text-align: center;
              "
            >
              <thead>
                <tr>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    م <br />
                    .No
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    اسم الخدمة <br />
                    Item Name
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الوحدة <br />
                    Unit
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الكمية <br />
                    .Qty
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    السعر <br />
                    Price
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الخصم <br />
                    Discount
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    نسبة الخصم <br />
                    discount percent
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي<br />
                    Net
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    ض.ق.المضافة <br />
                    VAT
                  </th>
                  <th
                    style="
                      font-size: 14px;
                      color: #333;
                      background-color: #dceefd;
                      line-height: 1.2em;
                      padding: 5px 0px;
                    "
                  >
                    الصافي + الضريبة <br />
                    Net + VAT
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="
                    let item of InvPrintData?.voucherDetailsVM_VD;
                    let i = index
                  "
                >
                  <td>{{ i + 1 }}</td>
                  <td>{{ item.servicesPriceName }}</td>
                  <td>{{ item.categoryTypeName }}</td>
                  <td>{{ item.qty }}</td>
                  <td>{{ GetAccualValue(item) }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.discountValue_Det }} <app-sar-icon></app-sar-icon></td>
                  <td>{{ item.discountPercentage_Det }}</td>
                  <td>{{ GetDiff(item) }}<app-sar-icon></app-sar-icon></td>
                  <td>{{ item.taxAmount }}<app-sar-icon></app-sar-icon></td>
                  <td>{{ item.totalAmount }}<app-sar-icon></app-sar-icon></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!--totalNe-invoice-->
          <!--invoice value-->
          <div
            class="invoiceNe-value"
            style="display: block !important; margin-bottom: 3px"
          >
            <div class="invoiceNe-divided">
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span> الإجمالي : </span>
                  <span>{{ CustomData.Total }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الخصم : </span>
                  <span>{{ CustomData.DiscPer }} % {{ CustomData.Disc }}<app-sar-icon></app-sar-icon></span>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الإجمالي بعد الخصم : </span>
                  <span>{{ CustomData.TotalAfterDisc }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> الصافي : </span>
                  <span>{{ CustomData.netVal }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span> ضريبة القيمة المضافة (15%) : </span>
                  <span>{{ InvPrintData?.invoicesVM_VD.taxAmount ?? 0 }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>إجمالي المبلغ المطلوب سداده: </span>
                  <span
                    >{{ InvPrintData?.invoicesVM_VD.totalValue ?? 0 }}</span><app-sar-icon></app-sar-icon>
                    <span style="margin-right: 6%;">({{ InvPrintData?.valueNumString }})</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2dvh;
                    min-width: 560px;
                    max-width: 560px;
                  "
                >
                  <span>الملاحظات:</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.notes }}</span>
                </p>
                <p
                  style="
                    margin-bottom: 7px;
                    background-color: #dceefd;
                    padding: 2px;
                    min-width: 560px;
                    max-width: 560px;
                    font-size: 15px !important;
                  "
                >
                  <span>وسائل الدفع:</span>
                  <span></span>
                </p>
              </div>
              <div class="invoiceNe-value-right-side">
                <p style="margin-bottom: 2px">
                  <span>المدفوع :</span>
                  <span>{{ InvPrintData?.invoicesVM_VD.paidValue ?? 0 }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p style="margin-bottom: 2px">
                  <span>المتبقي :</span>
                  <span>{{
                    (InvPrintData?.invoicesVM_VD.totalValue ?? 0) -
                      (InvPrintData?.invoicesVM_VD.paidValue ?? 0)
                  }}</span><app-sar-icon></app-sar-icon>
                </p>
                <p
                  style="margin-top: 120%; color: red"
                  *ngIf="CustomData?.PrintType != 1"
                >
                  <span>{{ CustomData?.PrintTypeName }}</span>
                </p>
                <p style="color: red" *ngIf="CustomData?.PrintType != 1">
                  <span>{{ "رقم الإشعار : "  }}</span>
                  </p>
                  <p style="color: red" *ngIf="CustomData?.PrintType != 1">
                    <span>{{ InvPrintData?.invoicesVM_VD?.invoiceRetId }}</span>
                    </p>
              </div>
            </div>
          </div>

          <!--invoice -bank-account-->
          <!--invoiceNe-footer-->
          <div
            class="invoiceNe-footer"
            style="
              display: flex !important;
              justify-content: space-between;
              align-items: start;
            "
          >
            <div>
              <img
                *ngIf="CustomData.Account1Img"
                src="{{ CustomData.Account1Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                  margin-bottom: 5px;
                "
              />
              <img
                *ngIf="CustomData.Account2Img"
                src="{{ CustomData.Account2Img }}"
                alt=""
                style="
                  display: block !important;
                  width: 100px;
                  height: 70px;
                  object-fit: fill;
                "
              />
            </div>

            <div>
              <h4>{{ CustomData.Account1Bank }}</h4>
              <h4>{{ CustomData.Account2Bank }}</h4>
              <h4>{{ InvPrintData?.invoicesVM_VD.addUser }}</h4>
            </div>

            <div class="qrNe-code">
              <img
                #conditionimg
                src="{{ InvPrintData?.qrCodeString_VD }}"
                alt="QRCode"
                style="height: 140px; width: 180px"
              />
            </div>
          </div>

          <!--invoiceNe-footer-->
          <!--Details-->
        </div>
        <!--invoiceNe-content-->
        <div>
          <img
            *ngIf="CustomData.footerurl"
            src="{{ CustomData.footerurl }}"
            alt="footerurl"
            style="height: 60px; width: 100%; max-width: 100%; object-fit: fill"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      (click)="printDiv('divHtml_aPurchase')"
      class="min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10"
    >
      <i class="fa fa-print"></i>
    </button>
    <button
      type="button"
      (click)="modal.dismiss()"
      mat-raised-button
      color="basic"
    >
      {{ "No" | translate }}
    </button>
  </div>
</ng-template>

<!-- سند صرف جديد -->
<!-- NewVoucherModal  -->
<ng-template #NewVoucherModal let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">{{ "NewVoucher" | translate }}</span>
    </h4>
    <button
      *ngIf="popuptype == 1 && CopyData!=null"
      type="button"
      class="text-2xl text-white m-0"
      (click)="PasteDataFromRow()">
      <i class="fa-regular fa-paste"></i>
    </button>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal?.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div class="modal-body customForm pt-0">
    <ng-container>
      <div class="row align-items-end mb-2 mx-3">
        <!-- 1 line -->
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "date" | translate }}
            </label>
            <input
              placeholder="{{ 'Chose' | translate }}"
              name="date"
              type="text"
              class="form-control"
              bsDatepicker
              #dpr="bsDatepicker"
              [(ngModel)]="vouchermodel.date"
              [ngModelOptions]="{ standalone: true }"
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
              (ngModelChange)="ChangeReceiptVoucherGre($event)"
              autocomplete="off"
              disabled
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Bond number" | translate }}
            </label>
            <input
              required
              class="form-control"
              type="text"
              disabled
              name="invoiceNumber"
              [(ngModel)]="vouchermodel.invoiceNumber"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "m_Cost" | translate }}
            </label>
            <ng-select
              class="w-full p-0"
              placeholder="{{ 'mainCenter' | translate }}"
              [(ngModel)]="vouchermodel.CostCenterId"
              disabled
              [ngModelOptions]="{ standalone: true }"
              name="user"
            >
              <ng-option
                *ngFor="let user of costCentersList"
                [value]="user.id"
                >{{ user.name }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <!-- 2 line -->

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group hijri-gregorianReciept">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Corresponding" | translate }}
            </label>
            <!-- <input placeholder="{{ 'Chose' | translate }}" name="date" type="text" class="form-control" bsDatepicker
                formControlName="hijriDate"
                  #dpr="bsDatepicker" /> -->
            <hijri-gregorian-datepicker
              [(selectedDate)]="vouchermodel.hijriDate"
              [isRequired]="true"
              [hijriLabel]="'Hijri'"
              name="hijriDate"
              [selectedDateType]="selectedDateType"
              (selectedDateChange)="ChangeReceiptVoucherHijri($event)"
              [dir]="'dir' | translate"
            >
            </hijri-gregorian-datepicker>
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "referenceNumber" | translate }}
            </label>
            <input
              placeholder="{{ 'referenceNumber' | translate }}"
              required
              class="form-control"
              type="text"
              name="reftxt"
              [(ngModel)]="vouchermodel.invoiceReference"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              disabled
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "F_Purchase" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'F_Purchase' | translate }}"
              class="form-control"
              type="text"
              [(ngModel)]="vouchermodel.supplierInvoiceNo"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              name="supplierInvoiceNo"
            />
          </div>
        </div>

        <!-- 3 line -->
        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Registration number" | translate }}
            </label>
            <input
              required
              placeholder="{{ 'Registration number' | translate }}"
              class="form-control"
              type="text"
              disabled
              [(ngModel)]="vouchermodel.journalNumber"
              [ngModelOptions]="{ standalone: true }"
              autocomplete="off"
              name="journalNumber"
              disabled
            />
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="form-group">
            <label for="customerEn" class="text-right col-form-label block">
              {{ "Payment type" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              placeholder="{{ 'Chose' | translate }}"
              class="w-full p-0"
              [(ngModel)]="vouchermodel.payType"
              [disabled]="modalType == 2"
              (change)="FillCustAc(false)"
              name="paymentType"
              id="paymentType"
            >
              <ng-option *ngFor="let user of PayTypeList" [value]="user.id">{{
                user.name | translate
              }}</ng-option>
            </ng-select>
            <!-- <div *ngIf="voucher.payType==null && submitted==true" class="error-text">
                This field is required.
              </div> -->
          </div>
        </div>

        <div class="col-sm-6 col-md-3 col-lg-4 mb-0">
          <div class="upload col-span-1 md:col-span-2">
            <label for="attach">{{ "attachments" | translate }}</label>
            <file-upload
              class="w-full"
              style="min-height: 40px"
              [(ngModel)]="uploadedFiles"
              name="files"
            ></file-upload>
          </div>
        </div>
      </div>

      <div class="row mx-3">
        <div class="col-md-12">
          <div class="boxContainer w-100 py-2 px-3">
            <div class="row me-3">
              <div class="col-md-2">
                <label for="tax type" class="text-orange" for="tax type">
                  {{ "tax type" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <ng-select
                  class="w-100"
                  placeholder="{{ 'Chose' | translate }}"
                  [(ngModel)]="vouchermodel.taxtype"
                  [ngModelOptions]="{ standalone: true }"
                  [disabled]="modalType == 2 || Taxchechdisabl == true"
                  [clearable]="false"
                  (change)="taxtypeChange()"
                  name="taxtype"
                >
                  <ng-option [value]="2">{{
                    "Excluding tax" | translate
                  }}</ng-option>
                  <ng-option [value]="3">{{
                    "Taxes included" | translate
                  }}</ng-option>
                </ng-select>
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="exchangeClause" class="text-babyblue">
                  {{ "exchangeClause" | translate }}
                </label>
              </div>
              <div class="col-md-10 flex">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100"
                  [disabled]="modalType == 2"
                  style="min-width: 200px !important"
                  [(ngModel)]="vouchermodel.clauseId"
                  name="clauseId"
                >
                  <ng-option
                    *ngFor="let user of clauseseleted"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>

                <button
                  class="btn bg-white text-black"
                >
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="payFor" class="text-babyblue">
                  {{ "payFor" | translate }}
                </label>
              </div>
              <div class="col-md-10 flex">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100"
                  style="min-width: 200px !important"
                  [(ngModel)]="vouchermodel.supplierId"
                  name="supplierId"
                  disabled
                  (change)="GetTaxNoBySuppId(vouchermodel.supplierId)"
                >
                  <ng-option
                    *ngFor="let user of supplierseleted"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>
                <button
                  class="btn bg-white text-black">
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label
                  for="recipientName"
                  class="text-babyblue"
                  for="recipientName"
                >
                  {{ "recipientName" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="recipientName"
                  placeholder="{{ 'recipientName' | translate }}"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.recevierTxt"
                  name="recevierTxt"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="AmountOf" class="text-red">
                  {{ "AmountOf" | translate }}
                </label>
              </div>
              <div class="col-md-2">
                <input
                  id="AmountOf"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.invoiceValue"
                  name="invoiceValue"
                  autocomplete="off"
                  disabled
                />
              </div>
              <div class="col-md-8">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  autocomplete="off"
                  [(ngModel)]="vouchermodel.reVoucherNValueText"
                  name="reVoucherNValueText"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="amount" class="text-yellow">
                  {{ "amount" | translate }} + VAT
                </label>
              </div>
              <div class="col-md-2">
                <input
                  id="amount"
                  required
                  placeholder="0"
                  class="form-control text-danger bg-yellow text-center red fw-bold"
                  type="text"
                  [(ngModel)]="vouchermodel.taxAmount"
                  name="taxAmount"
                  disabled
                />
              </div>
              <div class="col-md-2">
                <input
                  id="amount"
                  required
                  placeholder="0"
                  class="form-control text-danger bg-yellow text-center red fw-bold"
                  type="text"
                  [(ngModel)]="vouchermodel.valuebefore"
                  name="valuebefore"
                  disabled
                />
              </div>
              <div class="col-md-2">
                <input
                  placeholder="0"
                  id="amount"
                  required
                  value="بعد VAT"
                  class="form-control text-white bg-danger text-center fw-bolde"
                  type="text"
                  disabled
                />
              </div>
              <div class="col-md-2">
                <input
                  id="amount"
                  required
                  value="0"
                  class="form-control text-white bg-danger text-center fw-bolde"
                  [(ngModel)]="vouchermodel.valueafter"
                  name="totalValue"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="R_D_Supplier" class=" ">
                  {{ "R_D_Supplier" | translate }}
                </label>
              </div>
              <div class="col-md-5">
                <input
                  id="R_D_Supplier"
                  placeholder="{{ 'R_D_Supplier' | translate }}"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.supplierTaxID"
                  name="supplierTaxID"
                  autocomplete="off"
                  disabled
                />
              </div>
              <div class="col-md-5">
                <input
                  id="R_theInvoice"
                  placeholder="{{ 'R_theInvoice' | translate }}"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.supplierInvoiceNo"
                  name="SupplierInvoiceNo"
                  autocomplete="off"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="fromAccount" class="text-orange">
                  {{ "fromAccount" | translate }}
                </label>
              </div>
              <div class="col-md-8">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100"
                  [(ngModel)]="vouchermodel.accountId"
                  disabled
                  name="accountId"
                  (change)="getaccountcode(vouchermodel.accountId, 2)"
                >
                  <ng-option
                    *ngFor="let user of FillCustAccountsSelect2listTO"
                    [value]="user.id"
                  >
                    {{ user.name }}</ng-option
                  >
                </ng-select>
              </div>
              <div class="col-md-2">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.fromAccountId2Code"
                  name="fromAccountId2Code"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="toAccount" class="text-orange">
                  {{ "toAccount" | translate }}
                </label>
              </div>
              <div class="col-md-8">
                <ng-select
                  placeholder="{{ 'Chose' | translate }}"
                  class="w-full p-0 h-100"
                  [(ngModel)]="vouchermodel.toAccountId"
                  disabled
                  name="toAccountId"
                  (change)="getaccountcode(vouchermodel.toAccountId, 1)"
                >
                  <ng-option *ngFor="let user of Toaccount" [value]="user.id">
                    {{ user.name }}</ng-option
                  >
                </ng-select>
              </div>
              <div class="col-md-2">
                <input
                  id="netAmount"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.toAccountIdCode"
                  name="toAccountIdCode"
                  disabled
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="AndThatFor" class="text-yellow">
                  {{ "AndThatFor" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="AndThatFor"
                  placeholder="{{ 'AddHere' | translate }}"
                  required
                  disabled
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.notes"
                  name="notes"
                  autocomplete="off"
                />
              </div>
            </div>

            <div class="row me-3">
              <div class="col-md-2">
                <label for="Statement " class="text-babyblue">
                  {{ "Statement" | translate }}
                </label>
              </div>
              <div class="col-md-10">
                <input
                  id="Statement "
                  disabled
                  placeholder="{{ 'Statement' | translate }}"
                  required
                  class="form-control"
                  type="text"
                  [(ngModel)]="vouchermodel.invoiceNotes"
                  name="invoiceNotes"
                  autocomplete="off"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex">
        <div class="d-flex me-3">
          <input
            type="checkbox"
            name="NotActivatingAddedValue"
            id="NotActivatingAddedValue"
            [(ngModel)]="vouchermodel.taxcheck1"
          />
          <label for="NotActivatingAddedValue" class="mx-2">{{
            "NotActivatingAddedValue" | translate
          }}</label>
        </div>

        <div class="d-flex me-3">
          <input
            type="checkbox"
            name="NotActivatingAddedValue2"
            id="NotActivatingAddedValue2"
            [(ngModel)]="vouchermodel.dunCalc"
            name="dunCalc"
            
          />
          <label for="NotActivatingAddedValue2" class="mx-2">{{
            "NotCountingExpenses" | translate
          }}</label>
        </div>
      </div>
      <div
        class="editable shadow mb-4 d-block"
        style="overflow: auto"
        *ngIf="checkdetailsList.length > 0"
      >
        <p class="text-center">
          {{ "Check_transferDetails" | translate }}
        </p>
        <table
          class="table table-responsive table-striped table-bordered text-center"
          style="
            vertical-align: middle;
            font-size: 14px;
            min-width: max-content;
          "
        >
          <thead
            class="bg-base text-white"
            style="line-height: 30px; font-size: 13px"
          >
            <tr>
              <th>{{ "serial" | translate }}</th>
              <th>{{ "Payment type" | translate }}</th>
              <th>{{ "Check_transferNumber" | translate }}</th>
              <th>{{ "dateCheck_transfer" | translate }}</th>
              <th>{{ "BankName" | translate }}</th>
              <th>{{ "edit" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of checkdetailsList; let i = index"
              style="line-height: 5px"
            >
              <td>{{ item.checkdetail }}</td>
              <td>{{ item.checkdetailpaytype }}</td>
              <td>{{ item.checkdetailcheckNo }}</td>
              <td>{{ item.checkdetailcheckDate }}</td>
              <td>{{ item.checkdetailbankName }}</td>
              <!-- <td *ngIf="modalType == 'Create'|| modalType == 'Edit'"> -->
              <td>
                <button
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  [disabled]="popuptype == 3"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- footer -->
    </ng-container>
    <div class="d-flex align-items-center gap-2" *ngIf="popuptype != 1">
      <img
        class="rounded-circle"
        width="50"
        height="50"
        src="{{ addInvoiceImg | img }}"
        alt=""
      />
      <p class="mb-0">
        {{ "Data Entry" | translate }} :{{ addUser }} - {{ addDate | date }}
      </p>
    </div>

    <div class="d-flex justify-content-end gap-2">
      <div>
        <button (click)="modal?.dismiss()" class="btn btn-secondary">
          {{ "close" | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-template>
<div class="organization">
  <div class="container-fluid">
    <app-navigator [title]="title"></app-navigator>
    <div class="info mt-4">
      <tabset>
        <tab heading="{{ 'Head office data' | translate }}">
          <div class="content">
            <form [formGroup]="mainInfoForm" class="row">
              <div class="col-md-6 col-lg-4 mb-3">
                <div class="form-group">
                  <label
                    for="nameAr"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Establishment Name (Arabic)" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <input
                    formControlName="nameAr"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="nameAr"
                    name="nameAr"
                  />
                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.controls['nameAr']?.hasError('required') &&
                      mainInfoForm.controls['nameAr'].touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="form-group">
                  <label
                    for="nameEn"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Establishment name (English)" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <input
                    formControlName="nameEn"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="nameEn"
                    name="nameEn"
                  />
                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.get('nameEn')?.hasError('required') &&
                      mainInfoForm.get('nameEn')?.touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="mobile"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "phone" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <input
                    formControlName="mobile"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="mobile"
                    name="mobile"
                  />
                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.get('mobile')?.hasError('required') &&
                      mainInfoForm.get('mobile')?.touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label for="fax" class="text-right col-form-label block mx-2">
                    {{ "fax" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <input
                    formControlName="fax"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="fax"
                    name="fax"
                  />
                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.get('fax')?.hasError('required') &&
                      mainInfoForm.get('fax')?.touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="row p-0">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="postalCodeFinal"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Postal code" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="postalCodeFinal"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="postalCodeFinal"
                        name="postalCodeFinal"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('postalCodeFinal')
                            ?.hasError('required') &&
                          mainInfoForm.get('postalCodeFinal')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="country"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Country" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="country"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="country"
                        name="country"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm.get('country')?.hasError('required') &&
                          mainInfoForm.get('country')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="row p-0">
                  <div class="col-12">
                    <div class="form-group">
                      <label class="col-form-label mx-2">
                        {{ "Region" | translate }}
                        <span class="text-danger">*</span></label
                      >
                      <div class="flex">
                        <ng-select
                          class="w-full p-0"
                          placeholder="{{ 'Chose' | translate }}"
                          name="cityId"
                          formControlName="cityId"
                          style="min-width: unset !important"
                          (change)="getcityName()"
                        >
                          <ng-option
                            *ngFor="let user of nationalitysourceselected"
                            [value]="user.id"
                            >{{ user.name }}</ng-option
                          >
                        </ng-select>
                        <button
                          type="button"
                          class="bg-base text-white"
                          style="padding: 0px 10px"
                          (click)="open(place)"
                        >
                          <i class="fa fa-plus"></i>
                        </button>
                      </div>
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm.get('cityId')?.hasError('required') &&
                          mainInfoForm.get('cityId')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="row p-0">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="neighborhood"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Neighborhood" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="neighborhood"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="neighborhood"
                        name="neighborhood"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('neighborhood')
                            ?.hasError('required') &&
                          mainInfoForm.get('neighborhood')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="streetName"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Street name" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="streetName"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="streetName"
                        name="streetName"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('streetName')
                            ?.hasError('required') &&
                          mainInfoForm.get('streetName')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="row p-0">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="buildingNumber"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "BuildingNumber" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="buildingNumber"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="buildingNumber"
                        name="buildingNumber"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('buildingNumber')
                            ?.hasError('required') &&
                          mainInfoForm.get('buildingNumber')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="externalPhone"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Additional Phone" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="externalPhone"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="externalPhone"
                        name="externalPhone"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('externalPhone')
                            ?.hasError('required') &&
                          mainInfoForm.get('externalPhone')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="row p-0">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="taxCode"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Commerial Registration" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="taxCode"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="taxCode"
                        name="taxCode"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm.get('taxCode')?.hasError('required') &&
                          mainInfoForm.get('taxCode')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                      <div
                        *ngIf="
                          mainInfoForm.get('taxCode')?.hasError('pattern') &&
                          mainInfoForm.get('taxCode')?.touched
                        "
                        class="fieldrequired"
                      >
                        Invalid pattern.
                      </div>
                    </div>
                  </div>

                  <!-- check -->
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label
                        for="postalCode"
                        class="text-right col-form-label block mx-2"
                      >
                        {{ "Commercial Register" | translate }}
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        formControlName="postalCode"
                        autocomplete="off"
                        class="form-control"
                        type="text"
                        id="postalCode"
                        name="postalCode"
                      />
                      <div
                        class="fieldrequired"
                        *ngIf="
                          mainInfoForm
                            .get('postalCode')
                            ?.hasError('required') &&
                          mainInfoForm.get('postalCode')?.touched
                        "
                      >
                        {{ "This field is required" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="form-group">
                  <label
                    for="email"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Office customer correspondence email" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <div class="flex">
                    <input
                      formControlName="email"
                      autocomplete="off"
                      class="form-control"
                      type="email"
                      id="email"
                      name="email"
                    />
                    <div
                      class="fieldrequired"
                      *ngIf="
                        mainInfoForm.get('email')?.hasError('required') &&
                        mainInfoForm.get('email')?.touched
                      "
                    >
                      {{ "This field is required" | translate }}
                    </div>
                    <button
                      type="button"
                      class="bg-base text-white"
                      style="padding: 0px 10px"
                      (click)="
                        open(emailSettingModal, null, 'emailSettingModal')
                      "
                    >
                      <i class="fa fa-gears"></i>
                    </button>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="form-group">
                  <label
                    for="address"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Address" | translate }}
                  </label>
                  <input
                    formControlName="address"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="address"
                    name="address"
                  />
                </div>
              </div>

              <div class="col-md-6 col-lg-4 mb-3">
                <div class="form-group">
                  <label
                    for="webSite"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Location" | translate }}
                  </label>
                  <input
                    formControlName="webSite"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="webSite"
                    name="webSite"
                  />
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="BankName"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "BankName" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <ng-select
                    formControlName="bankId"
                    autocomplete="off"
                    id="BankName"
                    name="BankName"
                  >
                    <ng-option
                      *ngFor="let item of bankselect"
                      [value]="item.id"
                      >{{ item.name }}</ng-option
                    >
                  </ng-select>
                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.get('bankId')?.hasError('required') &&
                      mainInfoForm.get('bankId')?.touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="BankAccount"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "Bank account" | translate }}
                    <span class="text-danger">*</span>
                  </label>
                  <input
                    formControlName="accountBank"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="accountBank"
                    name="BankAccount"
                  />

                  <div
                    class="fieldrequired"
                    *ngIf="
                      mainInfoForm.get('accountBank')?.hasError('required') &&
                      mainInfoForm.get('accountBank')?.touched
                    "
                  >
                    {{ "This field is required" | translate }}
                  </div>
                </div>
              </div>

              <!-- check -->

              <div class="col-md-6 col-lg-3 mb-3">
                <div class="form-group">
                  <label
                    for="companyRepresentative"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "companyRepresentativeORG" | translate }}
                  </label>
                  <ng-select
                    formControlName="representorEmpId"
                    autocomplete="off"
                    (change)="Getemployeebyid()"
                    id="companyRepresentative"
                    name="companyRepresentative"
                  >
                    <ng-option
                      *ngFor="let item of employeework"
                      [value]="item.id"
                      >{{ item.name }}</ng-option
                    ></ng-select
                  >
                </div>
              </div>

              <div class="col-md-6 col-lg-3 mb-3">
                <div class="form-group">
                  <label for="as" class="text-right col-form-label block mx-2">
                    {{ "as" | translate }}
                  </label>
                  <input
                    formControlName="as"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="as"
                    name="as"
                  />
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="NationalId"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "NationalId" | translate }}
                  </label>
                  <input
                    formControlName="NationalId"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="NationalId"
                    name="NationalId"
                  />
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="BankName2"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "BankName" | translate }}
                    <!-- <span class="text-danger">*</span> -->
                  </label>
                  <ng-select
                    formControlName="bankId2"
                    autocomplete="off"
                    id="BankName2"
                    name="BankName2"
                  >
                    <ng-option
                      *ngFor="let item of bankselect"
                      [value]="item.id"
                      >{{ item.name }}</ng-option
                    >
                  </ng-select>
                  <!-- <div class="fieldrequired" *ngIf="
                      mainInfoForm.get('bankId2')?.hasError('required') &&
                      mainInfoForm.get('bankId2')?.touched
                    ">
                    {{ "This field is required" | translate }}
                  </div> -->
                </div>
              </div>

              <div class="col-md-6 col-lg-2 mb-3">
                <div class="form-group">
                  <label
                    for="BankAccount2"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ ("Bank account" | translate) + " 2" }}
                    <!-- <span class="text-danger">*</span> -->
                  </label>
                  <input
                    formControlName="accountBank2"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="BankAccount2"
                    name="BankAccount2"
                  />
                </div>
                <!-- <div class="fieldrequired" *ngIf="
                    mainInfoForm.get('accountBank2')?.hasError('required') &&
                    mainInfoForm.get('accountBank2')?.touched
                  ">
                  {{ "This field is required" | translate }}
                </div> -->
              </div>

              <!-- <div class="col-md-6 col-lg-3 mb-3">
                <div class="form-group">
                  <label
                    for="EngineeringLicense"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "EngineeringLicense" | translate }}
                  </label>
                  <input
                    formControlName="engineering_License"
                    autocomplete="off"
                    class="form-control"
                    type="text"
                    id="EngineeringLicense"
                    name="EngineeringLicense"
                  />
                </div>
              </div>

              <div class="col-md-6 col-lg-3 mb-3">
                <div class="form-group">
                  <label
                    for="IssuedOn"
                    class="text-right col-form-label block mx-2"
                  >
                    {{ "IssuedOn" | translate }}
                  </label>
                  <input
                    formControlName="engineering_LicenseDate"
                    autocomplete="off"
                    class="form-control"
                    id="IssuedOn"
                    name="IssuedOn"
                    bsDatepicker
                  />
                </div>
              </div> -->

              <div class="col-md-6 mb-3">
                <div
                  class="box rounded p-3"
                  style="border: 4px solid var(--base-color)"
                >
                  <p
                    class="text-red-500 fw-bold"
                    style="letter-spacing: 0.5px; line-height: 1.7em"
                  >
                    {{ "branchsHint" | translate }}
                  </p>
                  <mat-slide-toggle
                    name="activeBranches"
                    formControlName="OrgDataIsRequired"
                    (change)="Changeorgisreq($event)"
                    color="primary"
                    ><span
                      [translate]="'name'"
                      [translateParams]="{
                        ar: 'تفعيل الفروع؟',
                        en: 'Active Branches?'
                      }"
                    ></span
                  ></mat-slide-toggle>
                </div>
              </div>

              <div class="col-12 my-3">
                <div class="row p-0">
                  <div class="col-md-6 mb-4 mb-md-0">
                    <p class="bg-red-100 p-1">
                      {{
                        "Please: Choose the representative of the facility authorized to sign the employee contracts and
                      the facility's customer contracts" | translate
                      }}
                    </p>
                    <!-- <div class="form-input-group flex gap-2 items-center">
                      <input
                        type="checkbox"
                        class="form-check-input"
                        formControlName="isFooter"
                        name="showInfoInReport"
                      />
                      <label for="showInfoInReport" class="m-0">{{
                        "Show the establishment data at the end of the reportsbranchsHint"
                          | translate
                      }}</label>
                    </div> -->
                  </div>
                </div>
              </div>

              <div class="col-12 my-3">
                <div class="row p-0 items-center">
                  <div
                    class="col-md-4"
                    *ngIf="
                      mainInfoForm.controls['oRGlogoUrl'].value != null &&
                      mainInfoForm.controls['oRGlogoUrl'].value != ''
                    "
                  >
                    <img
                      src="{{
                        environmenturl +
                          mainInfoForm.controls['oRGlogoUrl'].value
                      }}"
                      alt=""
                      class="img-fluid"
                      style="
                        width: 340px;
                        height: 200px;
                        object-fit: contain;
                        background-color: #fff;
                        padding: 10px;
                      "
                    />
                  </div>
                  <div class="col-md-8">
                    <div class="upload">
                      <file-upload
                        [control]="control"
                        class="logoUrlfile-uploadORG"
                        [ngClass]="{
                          logoUrlchange:
                            mainInfoForm.controls['logoUrl'].value == null &&
                            this.imageFileOutput != null
                        }"
                      >
                        <ng-template
                          let-isFileDragDropAvailable="isFileDragDropAvailable"
                          #placeholder
                          let-file="file"
                        >
                          <div
                            *ngIf="
                              control.size === 0 &&
                              mainInfoForm.controls['logoUrl'].value == null
                            "
                          >
                            <div class="icon">
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                height="1em"
                                viewBox="0 0 640 512"
                              >
                                <path
                                  d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                                />
                              </svg>
                            </div>

                            <div class="upload-text">
                              {{ "Add Image" | translate }}
                            </div>
                          </div>
                          <div
                            class="overlay"
                            *ngIf="
                              mainInfoForm.controls['logoUrl'].value != null
                            "
                          >
                            <span
                              class="delete-button"
                              (click)="
                                control.clear();
                                mainInfoForm.controls['logoUrl'].setValue(null)
                              "
                            >
                              <svg viewBox="0 0 448 512">
                                <path
                                  d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                                ></path>
                              </svg>
                            </span>
                            <img
                              *ngIf="
                                mainInfoForm.controls['logoUrl'].value != null
                              "
                              src="{{
                                environmenturl +
                                  mainInfoForm.controls['logoUrl'].value
                              }}"
                            />
                          </div>
                        </ng-template>
                        <ng-template
                          let-i="index"
                          *ngIf="mainInfoForm.controls['logoUrl'].value == null"
                          let-file="file"
                          let-control="control"
                          #item
                        >
                          <div class="overlay">
                            <span
                              class="delete-button"
                              (click)="control.clear()"
                            >
                              <svg viewBox="0 0 448 512">
                                <path
                                  d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                                ></path>
                              </svg>
                            </span>
                            <img
                              *ngIf="control.valid"
                              [src]="uploadedFile | async"
                            />
                          </div>
                        </ng-template>
                      </file-upload>
                    </div>
                  </div>
                </div>
              </div>
            </form>

            <div
              class="modal-footer justify-content-end my-3"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn submit-btn bg-red text-white py-2 px-3 mt-0"
                (click)="open(Maintenance, null, 'Maintenance')"
              >
                {{ "Maintenance" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                (click)="open(AdjustSMSModal, null, 'AdjustSMSModal')"
              >
                {{ "Adjust SMS provider settings" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                (click)="saveMainInfo()"
                [disabled]="
                  this.mainInfoForm.controls['organizationId'].value == null ||
                  this.mainInfoForm.controls['nameAr'].value == null ||
                  this.mainInfoForm.controls['nameEn'].value == null ||
                  this.mainInfoForm.controls['mobile'].value == null ||
                  this.mainInfoForm.controls['fax'].value == null ||
                  this.mainInfoForm.controls['postalCode'].value == null ||
                  this.mainInfoForm.controls['country'].value == null ||
                  this.mainInfoForm.controls['cityId'].value == null ||
                  this.mainInfoForm.controls['neighborhood'].value == null ||
                  this.mainInfoForm.controls['streetName'].value == null ||
                  this.mainInfoForm.controls['buildingNumber'].value == null ||
                  this.mainInfoForm.controls['externalPhone'].value == null ||
                  this.mainInfoForm.controls['taxCode'].value == null ||
                  this.mainInfoForm.controls['postalCodeFinal'].value == null ||
                  this.mainInfoForm.controls['email'].value == null ||
                  this.mainInfoForm.controls['bankId'].value == null ||
                  this.mainInfoForm.controls['accountBank'].value == null
                "
              >
                {{ "Save" | translate }}
              </button>
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="goDash()"
              >
                {{ "close" | translate }}
              </button>
            </div>
          </div>
        </tab>

        <tab heading="{{ 'Set and prepare branch data' | translate }}">
          <div class="content">
            <button
              class="p-2 bg-base rounded-lg duration-300 text-white"
              (click)="open(BranchModal, null, 'addBranchModal')"
            >
              {{ "new branch" | translate }}
            </button>

            <div class="tables-data mt-3 overflow-hidden">
              <!-- table -->
              <input
                (keyup)="applyFilter($event)"
                class="form-control mb-3"
                style="max-width: 300px"
                #input
                placeholder="{{ 'search' | translate }}"
              />
              <div class="overflow-auto">
                <table
                  mat-table
                  [dataSource]="dataSource"
                  matSort
                  class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
                >
                  <!-- Name column -->
                  <ng-container matColumnDef="Name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Name" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchName }}</span>
                    </td>
                  </ng-container>
                  <!-- CommercialRegister column -->
                  <ng-container matColumnDef="CommercialRegister">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Commercial Register" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.postalCode }}</span>
                    </td>
                  </ng-container>
                  <!-- CommerialRegistration column -->
                  <ng-container matColumnDef="CommerialRegistration">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Commerial Registration" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.taxCode }}</span>
                    </td>
                  </ng-container>
                  <!-- city/region column -->
                  <ng-container matColumnDef="city/region">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "city/region" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.cityName }}</span>
                    </td>
                  </ng-container>
                  <!-- coins column -->
                  <ng-container matColumnDef="coins">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "coins" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.currencyName }}</span>
                    </td>
                  </ng-container>
                  <!-- operations Column -->
                  <ng-container matColumnDef="operations">
                    <th mat-header-cell *matHeaderCellDef>
                      {{ "operations" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div class="flex gap-1 justify-center py-2">
                        <button
                          class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="open(BranchModal, element, 'editBranch')"
                        >
                          <i class="fa fa-edit"></i>
                        </button>

                        <button
                          class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(deleteBranchModal, element, 'deleteBranch')
                          "
                        >
                          <i class="fa fa-trash"></i>
                        </button>

                        <button
                          class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(
                              branchesAccountsModal,
                              element,
                              'branchesAccountsModal'
                            )
                          "
                          title="{{ 'branches accounts' | translate }}"
                        >
                          <i class="fa-solid fa-database"></i>
                        </button>

                        <button
                          class="p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(
                              incomeAccountsModal,
                              element,
                              'incomeAccountsModal'
                            )
                          "
                          title="{{ 'income list accounts' | translate }}"
                        >
                          <i class="fa-solid fa-list"></i>
                        </button>
                      </div>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                    class="duration-300 hover:bg-slate-100"
                  ></tr>

                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">
                      {{ "noResult" | translate }} "{{ input.value }}"
                    </td>
                  </tr>
                </table>
              </div>
              <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>
            </div>
          </div>
        </tab>

        <tab
          heading="{{
            'Adjusting and preparing shifts and official holidays' | translate
          }}"
        >
          <div class="content">
            <button
              class="p-2 bg-base rounded-lg duration-300 text-white"
              (click)="
                open(OfficialVacationsModal, null, 'addOfficialVacationsModal')
              "
            >
              {{ "Official vacations" | translate }}
            </button>
            <button
              class="p-2 bg-base rounded-lg duration-300 text-white mx-2"
              (click)="open(staffTimeModal, null, 'addstaffTimeModal')"
            >
              {{ "Staff Time" | translate }}
            </button>

            <div class="tables-data mt-3 overflow-hidden">
              <!-- table -->
              <input
                (keyup)="applyFilterStaffTime($event)"
                class="form-control mb-3"
                style="max-width: 300px"
                #input
                placeholder="{{ 'search' | translate }}"
              />

              <div class="overflow-auto">
                <table
                  mat-table
                  [dataSource]="AllStaffTime"
                  matSort
                  class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
                >
                  <!-- Name column -->
                  <ng-container matColumnDef="NameAr">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "nameAr" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.nameAr }}</span>
                    </td>
                  </ng-container>
                  <!-- NameEn column -->
                  <ng-container matColumnDef="NameEn">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "nameEn" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.nameEn }}</span>
                    </td>
                  </ng-container>
                  <!-- notes column -->
                  <ng-container matColumnDef="notes">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Notes" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.notes }}</span>
                    </td>
                  </ng-container>

                  <!-- operations Column -->
                  <ng-container matColumnDef="operations">
                    <th mat-header-cell *matHeaderCellDef>
                      {{ "operations" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div class="flex gap-1 justify-center py-2">
                        <button
                          class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(staffTimeModal, element, 'editstaffTimeModal')
                          "
                        >
                          <i class="fa fa-edit"></i>
                        </button>

                        <button
                          class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(
                              deletestaffTimeModal,
                              element,
                              'deletestaffTimeModal'
                            )
                          "
                        >
                          <i class="fa fa-trash"></i>
                        </button>

                        <button
                          class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(staffTimeDetails, element, 'detailsstaffTime')
                          "
                          title="{{ 'Time details' | translate }}"
                        >
                          <i class="fa-solid fa-info"></i>
                        </button>
                      </div>
                    </td>
                  </ng-container>

                  <tr
                    mat-header-row
                    *matHeaderRowDef="staffTimeDisplayedColumns"
                  ></tr>

                  <tr
                    mat-row
                    *matRowDef="let row; columns: staffTimeDisplayedColumns"
                    class="duration-300 hover:bg-slate-100"
                  ></tr>

                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">
                      {{ "noResult" | translate }} "{{ input.value }}"
                    </td>
                  </tr>
                </table>
              </div>
              <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>
            </div>
          </div>
        </tab>

        <tab heading="{{ 'system options' | translate }}">
          <div class="content">
            <form [formGroup]="systemoptionsForm">
              <h3
                [translate]="'name'"
                [translateParams]="{
                  ar: 'اعدادات النظام',
                  en: 'system setting'
                }"
                class="my-4 text-base fw-bold"
              ></h3>
              <div class="row">
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Set up the phone number" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Set up the phone number' | translate }}"
                      type="text"
                      formControlName="PhoneNoDigits"
                      autocomplete="off"
                      name="SetPhone"
                    />
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Mobile number setup" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Mobile number setup' | translate }}"
                      type="text"
                      formControlName="MobileNoDigits"
                      autocomplete="off"
                      name="MobileSetup"
                    />
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Set up the ID number" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Set up the ID number' | translate }}"
                      type="text"
                      formControlName="NationalIDDigits"
                      autocomplete="off"
                      name="SetID"
                    />
                  </div>
                </div>
                <div
                  style="display: none"
                  class="col-md-6 col-lg-4 col-xl-3 mb-3"
                >
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "The number of decimal digits" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{
                        'The number of decimal digits' | translate
                      }}"
                      type="text"
                      formControlName="DecimalPoints"
                      autocomplete="off"
                      name="decimalDigits"
                    />
                  </div>
                </div>

                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Offer Price code prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Offer Price code prefix' | translate }}"
                      type="text"
                      formControlName="OfferGenerateCode"
                      autocomplete="off"
                      name="OfferPriceCodePrefix"
                    />
                  </div>
                </div>

                <!-- <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Consulting contract code prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{
                        'Consulting contract code prefix' | translate
                      }}"
                      type="text"
                      formControlName="Contract_Con_Code"
                      autocomplete="off"
                      name="contractCodePrefix"
                    />
                  </div>
                </div> -->
                <!-- <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Project code prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Project code prefix' | translate }}"
                      type="text"
                      formControlName="ProjGenerateCode"
                      autocomplete="off"
                      name="ProjectCodePrefix"
                    />
                  </div>
                </div> -->

                <!-- <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Supervision contract code prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{
                        'Supervision contract code prefix' | translate
                      }}"
                      type="text"
                      formControlName="Contract_Sup_Code"
                      autocomplete="off"
                      name="SCCPrefix"
                    />
                  </div>
                </div> -->
                <!-- <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Design contract code prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{
                        'Design contract code prefix' | translate
                      }}"
                      type="text"
                      formControlName="Contract_Des_Code"
                      autocomplete="off"
                      name="DCCPrefix"
                    />
                  </div>
                </div> -->
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Prefix contract batches" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{ 'Prefix contract batches' | translate }}"
                      type="text"
                      formControlName="ContractGenerateCode"
                      autocomplete="off"
                      name="PrefixContractBatches"
                    />
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{ "Installment contract prefix" | translate }}
                    </label>
                    <input
                      class="form-control"
                      placeholder="{{
                        'Installment contract prefix' | translate
                      }}"
                      type="text"
                      formControlName="ContractGenerateCode2"
                      autocomplete="off"
                      name="installmentContractPrefix"
                    />
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{
                        "Reminder of the residence is about to expire"
                          | translate
                      }}
                    </label>
                    <ng-select
                      formControlName="ResedentEndNote"
                      autocomplete="off"
                      name="expireResidence"
                      style="min-width: unset !important"
                    >
                      <ng-option
                        *ngFor="let item of ContractEndNoteList"
                        [value]="item?.id"
                      >
                        {{ this.lang == "ar" ? item.nameAR : item.nameEN }}
                      </ng-option></ng-select
                    >
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-group">
                    <label class="text-right col-form-label block">
                      {{
                        "Reminder counter contracts read to expiry" | translate
                      }}
                    </label>
                    <ng-select
                      formControlName="ContractEndNote"
                      autocomplete="off"
                      name="expiryReminder"
                      style="min-width: unset !important"
                      ><ng-option
                        *ngFor="let item of ContractEndNoteList"
                        [value]="item?.id"
                      >
                        {{ this.lang == "ar" ? item.nameAR : item.nameEN }}
                      </ng-option></ng-select
                    >
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-check form-switch">
                    <label
                      class="form-check-label block"
                      for="ClientEmail"
                      style="width: max-content"
                    >
                      {{ "Client email" | translate }}
                    </label>
                    <div style="display: flex">
                      <input
                        style="float: unset !important; margin: 4px"
                        class="form-check-input"
                        type="checkbox"
                        role="switch"
                        id="ClientEmail"
                        formControlName="CustomerMailIsRequired"
                        autocomplete="off"
                        name="ClientEmail"
                      />
                      <div>{{ "Mandatory or not mandatory" | translate }}</div>
                    </div>
                  </div>
                  <!-- <div class="fieldrequired" *ngIf="  CustomerMailIsRequired == true">{{ "This field is required" | translate }}</div> -->
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-check form-switch">
                    <label
                      class="form-check-label block"
                      for="CustomerId"
                      style="width: max-content"
                    >
                      {{ "Customer ID" | translate }}
                    </label>
                    <div style="display: flex">
                      <input
                        style="float: unset !important; margin: 4px"
                        class="form-check-input"
                        type="checkbox"
                        role="switch"
                        id="CustomerId"
                        formControlName="CustomerNationalIdIsRequired"
                        autocomplete="off"
                        name="CustomerId"
                      />
                      <div>
                        {{ "Mandatory or not mandatory" | translate }}
                      </div>
                      <!-- <div class="fieldrequired" *ngIf="CustomerNationalIdIsRequired == true">{{ "This field is required" | translate }}</div> -->
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-check form-switch">
                    <label
                      class="form-check-label block"
                      for="CustomerMobile"
                      style="width: max-content"
                    >
                      {{ "Customer mobile" | translate }}
                    </label>
                    <div style="display: flex">
                      <input
                        style="float: unset !important; margin: 4px"
                        class="form-check-input"
                        type="checkbox"
                        role="switch"
                        id="CustomerMobile"
                        formControlName="CustomerphoneIsRequired"
                        autocomplete="off"
                        name="CustomerMobile"
                      />
                      <div>
                        {{ "Mandatory or not mandatory" | translate }}
                      </div>
                      <!-- <div class="fieldrequired" *ngIf="CustomerphoneIsRequired == true">{{ "This field is required" | translate }}</div> -->
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-3 mb-3">
                  <div class="form-check form-switch">
                    <label
                      class="form-check-label block"
                      for="ValueAddedSeparated"
                      style="width: max-content"
                    >
                      {{ "ValueAddedSeparated" | translate }}
                    </label>
                    <div style="display: flex">
                      <input
                        style="float: unset !important; margin: 4px"
                        class="form-check-input"
                        type="checkbox"
                        role="switch"
                        id="ValueAddedSeparated"
                        formControlName="ValueAddedSeparated"
                        autocomplete="off"
                        name="ValueAddedSeparated"
                      />
                      <div>
                        {{ "Yes or no" | translate }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <hr class="mb-4" />

              <h2
                class="flex items-center gap-1 fw-bold text-base"
                style="letter-spacing: 1px"
              >
                <span>{{ "Last update" | translate }}</span>
                <span>{{
                  this.systemoptionsForm.controls["EditUserName1"].value
                }}</span>
                <span>{{ "in" | translate }}</span>
                <span>{{
                  this.systemoptionsForm.controls["EditUserDate1"].value
                    | date : "dd-MM-yyyy - h:m:s"
                }}</span>
              </h2>

              <div class="flex justify-end mb-3">
                <button
                  type="button"
                  class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                  [disabled]=""
                  (click)="Savesystemoptions()"
                >
                  {{ "Save" | translate }}
                </button>
              </div>

              <hr class="mb-4" />
              <div class="row p-0">
                <div class="col-md-6 mb-4 mb-md-0">
                  <h4 class="text-base fw-bold mb-3">
                    {{ "Added value settings" | translate }}
                  </h4>
                  <div class="form-group flex gap-2 items-center">
                    <label for="showInfoInReport" class="m-0">{{
                      "tax rate" | translate
                    }}</label>

                    <div class="flex">
                      <input
                        type="text"
                        class="form-control"
                        formControlName="VatPercentVal"
                        autocomplete="off"
                        name="taxRate"
                      />
                      <span class="persent">%</span>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 flex items-start">
                  <div
                    class="box rounded p-3"
                    style="
                      border: 4px solid var(--base-color);
                      margin-inline-end: 16px;
                    "
                  >
                    <p
                      class="text-red-500 fw-bold"
                      style="
                        letter-spacing: 0.5px;
                        line-height: 1.7em;
                        font-size: 13px;
                      "
                    >
                      {{
                        "You can activate the link with the fatoorah platform by activating the link with the platform by clicking on the button below. You will receive an activation code on an e-mail consisting of 4 digits."
                          | translate
                      }}
                    </p>
                    <mat-slide-toggle
                      name="activeBranches"
                      formControlName="UploadInvZatca"
                      color="primary"
                      (click)="ValidateZatcaRequest()"
                      ><span
                        [translate]="'name'"
                        [translateParams]="{
                          ar: 'تفعيل منصة فاتورة؟',
                          en: 'Invoice platform activation?'
                        }"
                      ></span
                    ></mat-slide-toggle>
                  </div>

                  <img
                    src="/assets/images/zatca.jpg"
                    alt=""
                    style="
                      max-width: 200px;
                      max-height: 120px;
                      object-fit: cover;
                    "
                  />
                </div>
              </div>

              <hr class="my-4" />

              <h2
                class="flex items-center gap-1 fw-bold text-base"
                style="letter-spacing: 1px"
              >
                <span>{{ "Last update" | translate }}</span>
                <span>{{
                  this.systemoptionsForm.controls["EditUserName"].value
                }}</span>
                <span>{{ "in" | translate }}</span>
                <span>{{
                  this.systemoptionsForm.controls["EditUserDate"].value
                    | date : "dd-MM-yyyy - h:m:s"
                }}</span>
              </h2>
            </form>

            <div class="flex justify-end mb-3">
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  this.systemoptionsForm.controls['VatPercentVal'].value == null
                "
                (click)="SavepartialOrganizations()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </div>
        </tab>

        <tab heading="{{ 'Content management' | translate }}">
          <div class="content">
            <div class="btns flex flex-wrap gap-3">
              <button
                class="p-2 bg-base rounded-lg duration-300 text-white"
                (click)="open(BranchDataModal, null, 'addBranchDataModal')"
              >
                {{ "Add branch information" | translate }}
              </button>
              <button
                class="p-2 bg-base rounded-lg duration-300 text-white"
                (click)="open(SocialDataModal, null, 'addSocialDataModal')"
              >
                {{ "Social networking links" | translate }}
              </button>
              <button
                class="p-2 bg-base rounded-lg duration-300 text-white"
                (click)="open(latestNewsModal, null, 'addNews')"
              >
                {{ "latest news" | translate }}
              </button>
            </div>

            <div class="tables-data mt-3 overflow-hidden">
              <!-- table -->
              <input
                (keyup)="applyContentFilter($event)"
                class="form-control mb-3"
                style="max-width: 300px"
                #input
                placeholder="{{ 'search' | translate }}"
              />
              <div class="overflow-auto">
                <table
                  mat-table
                  [dataSource]="ContactBranchesList"
                  matSort
                  class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
                >
                  <!-- name column -->
                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "branch name" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchName }}</span>
                    </td>
                  </ng-container>
                  <!-- address column -->
                  <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Address" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchAddress }}</span>
                    </td>
                  </ng-container>
                  <!-- mobile column -->
                  <ng-container matColumnDef="mobile">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Mobile" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchPhone }}</span>
                    </td>
                  </ng-container>
                  <!-- customerService column -->
                  <ng-container matColumnDef="customerService">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "Branch official" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchCS }}</span>
                    </td>
                  </ng-container>
                  <!-- email column -->
                  <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      <span>{{ "email" | translate }}</span>
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span>{{ element?.branchEmail }}</span>
                    </td>
                  </ng-container>

                  <!-- operations Column -->
                  <ng-container matColumnDef="operations">
                    <th mat-header-cell *matHeaderCellDef>
                      {{ "operations" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div class="flex gap-1 justify-center py-2">
                        <button
                          class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(
                              BranchDataModal,
                              element,
                              'EditBranchDataModal'
                            )
                          "
                        >
                          <i class="fa fa-edit"></i>
                        </button>

                        <button
                          class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                          (click)="
                            open(
                              deleteBranchDataModal,
                              element,
                              'deleteBranchDataModal'
                            )
                          "
                        >
                          <i class="fa fa-trash"></i>
                        </button>
                      </div>
                    </td>
                  </ng-container>

                  <tr
                    mat-header-row
                    *matHeaderRowDef="contentDisplayedColumns"
                  ></tr>

                  <tr
                    mat-row
                    *matRowDef="let row; columns: contentDisplayedColumns"
                    class="duration-300 hover:bg-slate-100"
                  ></tr>

                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">
                      {{ "noResult" | translate }} "{{ input.value }}"
                    </td>
                  </tr>
                </table>
              </div>
              <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>
            </div>
          </div>
        </tab>

        
        <!--------------------------------------- Law Regulations------------------------------------------------->

        <tab heading="{{ 'المخالفات والجزاءات' | translate }}">
          <div class="content">

            <!----------late law-------->
              <h3
                [translate]="'name'"
                [translateParams]="{
                  ar: ' ضبط لائحة التاخير',
                  en: 'Late Law'
                }"
                class="my-4 text-base fw-bold"
              ></h3>
              <div *ngFor="let item of emp_LateLists" class="row">
                <div class="col-md-5">
                  <div class="form-group">
                    <label for="lateTime-{{item.id}}" class="text-right col-form-label block">
                      {{ "نوع المخالفه" | translate }}
                    </label>
                    <input
                      class="form-control"
                      type="text"
                      id="lateTime-{{item.id}}"
                      name="lateTime"
                      autocomplete="off"
                      [(ngModel)]="item.lateTime"
                      disabled
                    />
                  </div>
                </div>
               <div class="col-md-1">
                <div class="form-group">
                  <label for="first-{{item.id}}" class="text-right col-form-label block">
                    {{ "المرة الاولي" | translate }}
                  </label>
                  <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="first-{{item.id}}"
                      name="first"
                      [(ngModel)]="item.first"
                    />
                    <span class="input-group-text">%</span>
                  </div>
                </div>
              </div>

                <div class="col-md-1">
                  <div class="form-group">
                    <label for="second-{{item.id}}" class="text-right col-form-label block">
                      {{ "المرة الثانية" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="second-{{item.id}}"
                      name="second"
                      [(ngModel)]="item.second"
                    />
                      <span class="input-group-text">%</span>
                  </div>
                  </div>
                </div>
       

                <div class="col-md-1">
                  <div class="form-group">
                    <label for="third-{{item.id}}" class="text-right col-form-label block">
                      {{ " المرة الثالثة" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="third-{{item.id}}"
                      name="third"
                      [(ngModel)]="item.third"
                    />
                     <span class="input-group-text">%</span>
                  </div>
                  </div>
                </div>

                <div class="col-md-1">
                  <div class="form-group">
                    <label for="fourth-{{item.id}}" class="text-right col-form-label block">
                      {{ "المرة الرابعة" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="fourth-{{item.id}}"
                      name="fourth"
                      [(ngModel)]="item.fourth"
                    />
                     <span class="input-group-text">%</span>
                  </div>
                  </div>
                </div>
 

                  <div class="col-md-2 align-self-end">
    <button class="btn btn-primary" (click)="saveLateLaw(item)">
      {{ "تعديل" | translate }}
    </button>
  </div>
                </div>

                <!-------------absence law------>
                <br />
                <br />
    <h3
                [translate]="'name'"
                [translateParams]="{
                  ar: ' ظبط لائحة الغياب',
                  en: 'Absence Law'
                }"
                class="my-4 text-base fw-bold"
              ></h3>
              <div *ngFor="let item of emp_AbsenceLists" class="row">
                <div class="col-md-5">
                  <div class="form-group">
                    <label for="absenceTime-{{item.id}}" class="text-right col-form-label block">
                      {{ "نوع المخالفه" | translate }}
                    </label>
                    <input
                      class="form-control"
                      type="text"
                      id="absenceTime-{{item.id}}"
                      name="absenceTime"
                      autocomplete="off"
                      [(ngModel)]="item.absenceTime"
                      disabled
                    />
                  </div>
                </div>
                <div class="col-md-1">
                  <div class="form-group">
                    <label for="first-{{item.id}}" class="text-right col-form-label block">
                      {{ "المرة الاولي " | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="first-{{item.id}}"
                      name="first"
                      [(ngModel)]="item.first"
                    />
                     <span class="input-group-text">يوم</span>
                  </div>
                  </div>
                </div>
                <div class="col-md-1">
                  <div class="form-group">
                    <label for="second-{{item.id}}" class="text-right col-form-label block">
                      {{ " المرة الثانية" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="second-{{item.id}}"
                      name="second"
                      [(ngModel)]="item.second"
                    />
                     <span class="input-group-text">يوم</span>
                  </div>
                  </div>
                </div>
       

                <div class="col-md-1">
                  <div class="form-group">
                    <label for="third-{{item.id}}" class="text-right col-form-label block">
                      {{ " المرة الثالثة" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="third-{{item.id}}"
                      name="third"
                      [(ngModel)]="item.third"
                    />
                     <span class="input-group-text">يوم</span>
                  </div>
                  </div>
                </div>

                              <div class="col-md-1">
                  <div class="form-group">
                    <label for="fourth-{{item.id}}" class="text-right col-form-label block">
                      {{ " المرة الرابعة" | translate }}
                    </label>
                     <div class="input-group">
                    <input
                      class="form-control"
                      placeholder="0"
                      type="text"
                      autocomplete="off"
                      id="fourth-{{item.id}}"
                      name="fourth"
                      [(ngModel)]="item.fourth"
                    />
                     <span class="input-group-text">يوم</span>
                  </div>
                  </div>
                </div>
 

                                  <div class="col-md-2 align-self-end">
    <button class="btn btn-primary" (click)="saveAbsenceLaw(item)">
      {{ "تعديل" | translate }}
    </button>
  </div>
                </div>
      
          </div>
        </tab>
        <!----------------------------------------------------------------------------------------->


      </tabset>
    </div>
  </div>
</div>

<!-- Maintenance -->
<ng-template #Maintenance let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Maintenance" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <div class="row">
      <div class="col-9 mb-3">
        <div class="form-group">
          <label class="text-right col-form-label block">
            {{ "(1) - Modify IsMain in Accounts" | translate }}
          </label>
        </div>
      </div>
      <div class="col-3 mb-3">
        <div class="form-group">
          <button
            type="button"
            class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
            (click)="MaintenanceFunc(1)"
          >
            {{ "maintenance" | translate }}
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-9 mb-3">
        <div class="form-group">
          <label class="text-right col-form-label block">
            {{
              "(2) - Modifying the order of codes in the accounts to adjust the balance"
                | translate
            }}
          </label>
        </div>
      </div>
      <div class="col-3 mb-3">
        <div class="form-group">
          <button
            type="button"
            class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
            (click)="MaintenanceFunc(2)"
          >
            {{ "maintenance" | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<!-- Add option -->
<ng-template #addOption let-modal>
  <div class="modal-header bg-base text-white">
    <h4
      class="modal-title mb-0"
      id="modal-basic-title"
      [translate]="'name'"
      [translateParams]="{ ar: 'اضافة جديدة', en: 'Add New' }"
    ></h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>
  <div class="modal-body">
    <form #addOptionForm="ngForm">
      <div class="row">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="form-input-group">
            <label for="" class="block mb-3">{{ "nameAr" | translate }}</label>
            <input
              type="text"
              placeholder="{{ 'nameAr' | translate }}"
              class="form-control"
              ngModel
              name="nameAr"
              required
            />
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-input-group">
            <label for="" class="block mb-3">{{ "nameEn" | translate }}</label>
            <input
              type="text"
              placeholder="{{ 'nameEn' | translate }}"
              class="form-control"
              ngModel
              name="nameEn"
              required
            />
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-center" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="addOptionForm.invalid"
      (click)="saveOption(addOptionForm.value)"
    >
      {{ "Save" | translate }}
    </button>

    <div
      class="d-block w-100 mt-4"
      style="
        border-top: 2px solid #d5dadf;
        padding-top: 24px;
        border-radius: 3px;
      "
    >
      <div class="w-100 mb-3">
        <input
          type="text"
          class="form-control pull-right"
          placeholder="{{ 'search' | translate }}"
          (keyup)="updateFilter($event)"
        />
      </div>

      <ngx-datatable
        style="max-height: 300px; overflow-y: auto"
        #table
        class="striped w-100"
        [columnMode]="'flex'"
        [headerHeight]="50"
        [footerHeight]="50"
        [rowHeight]="'auto'"
        [limit]="100"
        [rows]="rows"
      >
        <!-- Column: Editing Mode-->
        <ngx-datatable-column [flexGrow]="0.5">
          <ng-template
            let-value="value"
            let-row="row"
            let-rowIndex="rowIndex"
            ngx-datatable-cell-template
          >
            <!-- Pencil icon -->
            <i
              class="fa fa-pencil"
              title="Modify"
              style="cursor: pointer"
              *ngIf="!this.isEditable[rowIndex]"
              (click)="this.isEditable[rowIndex] = !this.isEditable[rowIndex]"
            ></i>

            <!-- Save/Delete icons -->
            <div class="actions">
              <i
                class="fa fa-edit text-success"
                *ngIf="this.isEditable[rowIndex]"
                title="Save"
                (click)="save(row, rowIndex)"
              ></i>
              <i
                class="fa fa-trash text-danger"
                *ngIf="this.isEditable[rowIndex]"
                title="Delete"
                (click)="delete(row, rowIndex)"
              ></i>
            </div>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column
          [flexGrow]="1.5"
          name="{{ 'nameAr' | translate }}"
        >
          <ng-template
            ngx-datatable-cell-template
            let-rowIndex="rowIndex"
            let-row="row"
          >
            <div class="form-input-group">
              <input
                type="text"
                name="activity_name"
                [(ngModel)]="row.name_ar"
                [disabled]="!isEditable[rowIndex]"
              />
            </div>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column
          [flexGrow]="1.5"
          name="{{ 'nameEn' | translate }}"
        >
          <ng-template
            ngx-datatable-cell-template
            let-rowIndex="rowIndex"
            let-row="row"
          >
            <div class="form-input-group">
              <input
                type="text"
                name="activity_name_en"
                [(ngModel)]="row.name_en"
                [disabled]="!isEditable[rowIndex]"
              />
            </div>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
</ng-template>

<!-- emailSettingModal -->
<ng-template #emailSettingModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4
      class="modal-title mb-0"
      id="modal-basic-title"
      [translate]="'name'"
      [translateParams]="{
        ar: 'اعدادات البريد الالكتروني',
        en: 'Email Setting'
      }"
    ></h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="saveEmailForm">
      <div class="row">
        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="email" class="block mb-3">{{
              "email" | translate
            }}</label>
            <input
              type="email"
              placeholder="{{ 'email' | translate }}"
              class="form-control"
              formControlName="email"
              autocomplete="off"
              name="email"
            />
          </div>
        </div>
        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="password" class="block mb-3">{{
              "password" | translate
            }}</label>
            <input
              type="password"
              placeholder="{{ 'password' | translate }}"
              class="form-control"
              formControlName="password"
              name="password"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="confirmepassword" class="block mb-3">{{
              "confirmepassword" | translate
            }}</label>
            <input
              type="password"
              placeholder="{{ 'confirmepassword' | translate }}"
              class="form-control"
              formControlName="OrgDataIsRequired"
              name="confirmepassword"
              autocomplete="off"
              (keyup)="validate_password($event)"
            />
            <div class="fieldrequired" *ngIf="confirmepassword == false">
              {{ "Use same password" | translate }}
            </div>
          </div>
        </div>
        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="Host" class="block mb-3">{{
              "SMTP outgoing mail server" | translate
            }}</label>
            <input
              type="text"
              placeholder="{{ 'SMTP outgoing mail server' | translate }}"
              class="form-control"
              formControlName="host"
              autocomplete="off"
              name="Host"
            />
          </div>
        </div>

        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="senderName" class="block mb-3">{{
              "Sender Name" | translate
            }}</label>
            <input
              type="text"
              placeholder="{{ 'Sender Name' | translate }}"
              class="form-control"
              formControlName="senderName"
              autocomplete="off"
              name="senderName"
            />
          </div>
        </div>
        <div class="col-12 mb-3">
          <div class="form-input-group">
            <label for="Port" class="block mb-3">{{
              "Port" | translate
            }}</label>
            <input
              type="text"
              placeholder="{{ 'Port' | translate }}"
              class="form-control"
              formControlName="port"
              autocomplete="off"
              name="Port"
            />
          </div>
        </div>
        <div class="col-12 mb-3 flex justify-between items-start">
          <div class="form-input-group">
            <div>
              <label for="SSL" class="block mb-3">{{
                "SSL" | translate
              }}</label>
              <!-- <input type="checkbox" placeholder="{{ 'SSL' | translate }}" class="form-check-input" formControlName="ssl"
              name="ssl" /> -->

              <mat-slide-toggle
                name="activeBranches"
                formControlName="ssl"
                color="primary"
                ><span
                  [translate]="'name'"
                  [translateParams]="{
                    ar: 'SSL التوصيل الآمن',
                    en: 'SSL'
                  }"
                ></span
              ></mat-slide-toggle>
            </div>
            <mat-slide-toggle
              class="my-2"
              name="activeBranches"
              formControlName="sendCustomerMail"
              color="primary"
              ><span
                [translate]="'name'"
                [translateParams]="{
                  ar: 'تفعيل ؟',
                  en: 'Active ?'
                }"
              ></span
            ></mat-slide-toggle>
          </div>

          <div class="col-md-6 col-lg-4 mb-3">
            <div class="form-group">
              <label for="email" class="text-right col-form-label block mx-2">
                لتجربة عملية الارسال ،فضلا ادخل البريد المراد الارسال له
                <span class="text-danger">*</span>
              </label>
              <div class="flex">
                <input
                  autocomplete="off"
                  class="form-control"
                  id="EmailTest"
                  name="EmailTest"
                  formControlName="EmailTest"
                />

                <button
                  type="button"
                  class="bg-base text-white"
                  style="padding: 0px 10px"
                  (click)="SendMail_test()"
                >
                  ارسال
                </button>
              </div>
            </div>
          </div>

          <div
            class="emailBox border rounded px-3 py-1"
            style="border-color: #444"
          >
            <p class="fw-bold text-red-500">
              {{ "The outgoing protocol for Gmail is" | translate }}
              {{ "smtp.gmail.com" }}
            </p>
            <p class="fw-bold text-base">
              {{ "Outgoing protocol for" | translate }}
              {{ "smtp.live.com" }}
            </p>
            <p class="fw-bold text-red-500">
              {{ "Gmail SMTP port" | translate }}: {{ "465" }}
            </p>
            <p class="fw-bold text-base">
              {{ "Hotmail SMTP port" | translate }}: {{ "587,25 or 465" }}
            </p>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="
        saveEmailForm.controls['email'].value == null ||
        saveEmailForm.controls['password'].value == null ||
        saveEmailForm.controls['port'].value == null ||
        saveEmailForm.controls['host'].value == null ||
        saveEmailForm.controls['senderName'].value == null
      "
      (click)="saveEmail(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- AdjustSMSModal -->
<ng-template #AdjustSMSModal let-modal>
  <div class="modal-header bg-base text-white justify-end">
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <tabset>
      <tab heading="{{ 'Mobile number' | translate }}">
        <div class="content row">
          <form [formGroup]="SavesmsSettingForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="MessageServiceProviders"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Message service providers" | translate }}
                </label>
                <ng-select
                  formControlName="messageServiceProviders"
                  id="MessageServiceProviders"
                  name="MessageServiceProviders"
                  autocomplete="off"
                >
                  <ng-option
                    *ngFor="let item of MessageServiceProvidersList"
                    [value]="item.id"
                    >{{ item.Name }}</ng-option
                  >
                </ng-select>
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="phone" class="text-right col-form-label block mx-2">
                  {{ "phone" | translate }}
                </label>
                <input
                  autocomplete="off"
                  formControlName="phone"
                  class="form-control"
                  type="text"
                  id="phone"
                  name="phone"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="BearerTokens"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Bearer Tokens" | translate }}
                </label>
                <input
                  formControlName="bearerTokens"
                  class="form-control"
                  type="text"
                  id="BearerTokens"
                  autocomplete="off"
                  name="BearerTokens"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="username"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "username" | translate }}
                </label>
                <input
                  formControlName="username"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="username"
                  name="username"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="SenderName"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "SenderName" | translate }}
                </label>
                <input
                  formControlName="senderNamesms"
                  class="form-control"
                  type="text"
                  autocomplete="off"
                  id="SenderName"
                  name="SenderName"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="ApiUrl"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Api Url" | translate }}
                </label>
                <input
                  formControlName="apiUrl"
                  class="form-control"
                  type="text"
                  id="ApiUrl"
                  autocomplete="off"
                  name="ApiUrl"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <mat-slide-toggle
                  class="my-2"
                  name="activeBranches"
                  color="primary"
                  formControlName="SendCustomerSMS"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل ؟',
                      en: 'Active ?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
            </div>

            <div class="col-md-6 col-lg-4 mb-3">
              <div class="form-group">
                <label for="SMS" class="text-right col-form-label block mx-2">
                  فضلا ادخل رقم الجوال لارسال رسالة تجريبيه
                  <span class="text-danger">*</span>
                </label>
                <div class="flex">
                  <input
                    autocomplete="off"
                    class="form-control"
                    id="SMSTest"
                    name="SMSTest"
                    formControlName="SMSTest"
                  />

                  <button
                    type="button"
                    class="bg-base text-white"
                    style="padding: 0px 10px"
                    (click)="SendSMS_test()"
                  >
                    ارسال
                  </button>
                </div>
              </div>
            </div>
            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  SavesmsSettingForm.controls['apiUrl'].value == null ||
                  SavesmsSettingForm.controls['bearerTokens'].value == null ||
                  SavesmsSettingForm.controls['messageServiceProviders']
                    .value == null ||
                  SavesmsSettingForm.controls['senderNamesms'].value == null ||
                  SavesmsSettingForm.controls['phone'].value == null ||
                  SavesmsSettingForm.controls['username'].value == null
                "
                (click)="SavesmsSetting()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>

      <tab heading="{{ 'WhatsApp' | translate }}">
        <div class="content row">
          <form [formGroup]="SaveWhatsAppSettingForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="WhatsAppServiceProviders"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Message service providers" | translate }}
                </label>
                <ng-select
                  formControlName="WhatsAppServiceProviders"
                  id="WhatsAppServiceProviders"
                  name="WhatsAppServiceProviders"
                  autocomplete="off"
                >
                  <ng-option
                    *ngFor="let item of WhatsAppServiceProvidersList"
                    [value]="item.id"
                    >{{ item.Name }}</ng-option
                  >
                </ng-select>
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="phone" class="text-right col-form-label block mx-2">
                  {{ "phone" | translate }}
                </label>
                <input
                  autocomplete="off"
                  formControlName="phoneW"
                  class="form-control"
                  type="text"
                  id="phoneW"
                  name="phoneW"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="InstanceId"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Account SID" | translate }}
                </label>
                <input
                  formControlName="InstanceId"
                  class="form-control"
                  type="text"
                  id="InstanceId"
                  autocomplete="off"
                  name="InstanceId"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="Token"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "Auth Token" | translate }}
                </label>
                <input
                  formControlName="Token"
                  class="form-control"
                  type="text"
                  id="Token"
                  autocomplete="off"
                  name="Token"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="usernameW"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "username" | translate }}
                </label>
                <input
                  formControlName="usernameW"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="usernameW"
                  name="usernameW"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="SenderNameW"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "SenderName" | translate }}
                </label>
                <input
                  formControlName="SenderNameW"
                  class="form-control"
                  type="text"
                  autocomplete="off"
                  id="SenderNameW"
                  name="SenderNameW"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <mat-slide-toggle
                  class="my-2"
                  name="SendactivationOffer"
                  color="primary"
                  formControlName="SendactivationOffer"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل خدمة الواتس اب علي عرض السعر ؟',
                      en: 'Activate the WhatsApp service on the price offer?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
            </div>


            <div class="col-12 mb-3">
              <div class="form-group">
                <mat-slide-toggle
                  class="my-2"
                  name="SendactivationProject"
                  color="primary"
                  formControlName="SendactivationProject"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل خدمة الواتس اب علي إدارة المشاريع ؟',
                      en: 'Activate the WhatsApp service for project management?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
            </div>


            <div class="col-12 mb-3">
              <div class="form-group">
                <mat-slide-toggle
                  class="my-2"
                  name="Sendactivation"
                  color="primary"
                  formControlName="Sendactivation"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل خدمة الواتس اب علي الفاتورة ؟',
                      en: 'Activate the WhatsApp service on the invoice?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-group">
                <mat-slide-toggle
                  class="my-2"
                  name="SendactivationSupervision"
                  color="primary"
                  formControlName="SendactivationSupervision"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل خدمة الواتس اب علي الإشراف ؟',
                      en: 'Activate the WhatsApp service on the supervision?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
            </div>

            <div class="col-md-6 col-lg-4 mb-3">
              <div class="form-group">
                <label for="SMS" class="text-right col-form-label block mx-2">
                  فضلا ادخل رقم الجوال لارسال رسالة تجريبيه
                  <span class="text-danger">*</span>
                </label>
                <div class="flex">
                  <input
                    autocomplete="off"
                    class="form-control"
                    id="WhatsAppTest"
                    name="WhatsAppTest"
                    formControlName="WhatsAppTest"
                  />

                  <button
                    type="button"
                    class="bg-base text-white"
                    style="padding: 0px 10px"
                    (click)="SendWhatsApp_test()"
                  >
                    ارسال
                  </button>
                </div>
              </div>
            </div>
            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  SaveWhatsAppSettingForm.controls['WhatsAppServiceProviders'].value == null ||
                  SaveWhatsAppSettingForm.controls['phoneW'].value == null ||
                  SaveWhatsAppSettingForm.controls['InstanceId'].value == null ||
                  SaveWhatsAppSettingForm.controls['Token'].value == null ||
                  SaveWhatsAppSettingForm.controls['usernameW'].value == null ||
                  SaveWhatsAppSettingForm.controls['SenderNameW'].value == null
                "
                (click)="SaveWhatsAppSetting()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>


      <tab heading="{{ 'fingerprint devices' | translate }}">
        <div class="content row">
          <form [formGroup]="saveEmailSettingForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="CompanyCode"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "CompanyCode" | translate }}
                </label>
                <input
                  formControlName="CompanyCodedevices"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="CompanyCode"
                  name="CompanyCode"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="username"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "username" | translate }}
                </label>
                <input
                  formControlName="usernamedevices"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="username"
                  name="username"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="password"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "password" | translate }}
                </label>
                <input
                  formControlName="passworddevices"
                  class="form-control"
                  type="password"
                  autocomplete="off"
                  id="password"
                  name="password"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-group">
                <label
                  for="DeviceName"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "DeviceName" | translate }}
                </label>
                <input
                  formControlName="DeviceNamedevices"
                  class="form-control"
                  type="text"
                  autocomplete="off"
                  id="DeviceName"
                  name="DeviceName"
                />
              </div>
            </div>

            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                (click)="SaveAttDeviceSetting()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>

      <tab heading="{{ 'email' | translate }}" *ngIf="useradmin == 'tadmin'">
        <div class="content row">
          <form [formGroup]="saveEmailSettingForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="email" class="block mb-3">{{
                  "email" | translate
                }}</label>
                <input
                  type="email"
                  autocomplete="off"
                  placeholder="{{ 'email' | translate }}"
                  class="form-control"
                  formControlName="email"
                  name="email"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="password" class="block mb-3">{{
                  "password" | translate
                }}</label>
                <input
                  type="password"
                  placeholder="{{ 'password' | translate }}"
                  class="form-control"
                  formControlName="password"
                  autocomplete="off"
                  name="password"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="confirmepassword" class="block mb-3">{{
                  "confirmepassword" | translate
                }}</label>
                <input
                  type="password"
                  placeholder="{{ 'confirmepassword' | translate }}"
                  class="form-control"
                  formControlName="OrgDataIsRequired"
                  name="confirmepassword"
                  autocomplete="off"
                  (keyup)="validate_passwordSetting($event)"
                />
                <div
                  class="fieldrequired"
                  *ngIf="confirmepasswordSetting == false"
                >
                  {{ "Use same password" | translate }}
                </div>
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="senderName" class="block mb-3">{{
                  "Sender Name" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Sender Name' | translate }}"
                  class="form-control"
                  formControlName="senderName"
                  autocomplete="off"
                  name="senderName"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="DisplayName" class="block mb-3">{{
                  "DisplayName" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'DisplayName' | translate }}"
                  class="form-control"
                  formControlName="DisplayName"
                  autocomplete="off"
                  name="DisplayName"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="Host" class="block mb-3">{{
                  "SMTP outgoing mail server" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'SMTP outgoing mail server' | translate }}"
                  class="form-control"
                  formControlName="host"
                  autocomplete="off"
                  name="Host"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-input-group">
                <label for="Port" class="block mb-3">{{
                  "Port" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Port' | translate }}"
                  class="form-control"
                  formControlName="port"
                  name="Port"
                  autocomplete="off"
                />
              </div>
            </div>
            <div class="col-12 mb-3 flex justify-between items-start">
              <div class="form-input-group">
                <div>
                  <label for="SSL" class="block mb-3">{{
                    "SSL" | translate
                  }}</label>
                  <!-- <input type="checkbox" placeholder="{{ 'SSL' | translate }}" class="form-check-input"
                  formControlName="ssl" name="ssl" />
                   -->
                  <mat-slide-toggle
                    name="activeBranches"
                    formControlName="ssl"
                    color="primary"
                    ><span
                      [translate]="'name'"
                      [translateParams]="{
                        ar: 'التوصيل الآمن',
                        en: 'SSL'
                      }"
                    ></span
                  ></mat-slide-toggle>
                </div>
                <mat-slide-toggle
                  class="my-2"
                  name="activeBranches"
                  (change)="ChangeSSLEmailSetting($event)"
                  color="primary"
                  ><span
                    [translate]="'name'"
                    [translateParams]="{
                      ar: 'تفعيل؟',
                      en: 'Active?'
                    }"
                  ></span
                ></mat-slide-toggle>
              </div>
              <div
                class="emailBox border rounded px-3 py-1"
                style="border-color: #444"
              >
                <p class="fw-bold text-red-500">
                  {{ "The outgoing protocol for Gmail is" | translate }}
                  {{ "smtp.gmail.com" }}
                </p>
                <p class="fw-bold text-base">
                  {{ "Outgoing protocol for" | translate }}
                  {{ "smtp.live.com" }}
                </p>
                <p class="fw-bold text-red-500">
                  {{ "Gmail SMTP port" | translate }}: {{ "465" }}
                </p>
                <p class="fw-bold text-base">
                  {{ "Hotmail SMTP port" | translate }}: {{ "587,25 or 465" }}
                </p>
              </div>
            </div>
            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  saveEmailSettingForm.controls['email'].value == null ||
                  saveEmailSettingForm.controls['password'].value == null ||
                  saveEmailSettingForm.controls['port'].value == null ||
                  saveEmailSettingForm.controls['senderName'].value == null ||
                  saveEmailSettingForm.controls['host'].value == null ||
                  saveEmailSettingForm.controls['OrgDataIsRequired'].value ==
                    null
                "
                (click)="SaveEmailSettingSMS()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>

      <tab heading="{{ 'Domain' | translate }}" *ngIf="useradmin == 'tadmin'">
        <div class="content row">
          <form [formGroup]="mainInfoForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="comDomainLink" class="block mb-3">{{
                  "Domain" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Domain' | translate }}"
                  class="form-control"
                  formControlName="comDomainLink"
                  autocomplete="off"
                  name="comDomainLink"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="comDomainAddress" class="block mb-3">{{
                  "address Ip" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'address Ip' | translate }}"
                  class="form-control"
                  autocomplete="off"
                  formControlName="comDomainAddress"
                  name="comDomainAddress"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="apiBaseUri" class="block mb-3">{{
                  "Api Base Uri" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Url' | translate }}"
                  class="form-control"
                  autocomplete="off"
                  formControlName="apiBaseUri"
                  name="apiBaseUri"
                />
              </div>
            </div>

            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="tameerAPIURL" class="block mb-3">{{
                  "Tameer API URL" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Url' | translate }}"
                  class="form-control"
                  autocomplete="off"
                  formControlName="tameerAPIURL"
                  name="tameerAPIURL"
                />
              </div>
            </div>

            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  mainInfoForm.controls['comDomainLink'].value == null ||
                  mainInfoForm.controls['comDomainAddress'].value == null ||
                  mainInfoForm.controls['apiBaseUri'].value == null
                "
                (click)="SaveComDomainLink()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>

      <tab
        heading="{{ 'Application version' | translate }}"
        *ngIf="useradmin == 'tadmin'"
      >
        <div class="content row">
          <!-- <form #AppVersion="ngForm"> -->
          <form [formGroup]="mainInfoForm">
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="Android" class="block mb-3">{{
                  "Latest version for Android" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Latest version for Android' | translate }}"
                  class="form-control"
                  formControlName="lastvesionAndroid"
                  autocomplete="off"
                  name="Android"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="versionIOS" class="block mb-3">{{
                  "Latest version IOS" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Latest version IOS' | translate }}"
                  class="form-control"
                  autocomplete="off"
                  formControlName="lastversionIOS"
                  name="versionIOS"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="email" class="block mb-3">{{
                  "Update message in Arabic" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'Update message in Arabic' | translate }}"
                  class="form-control"
                  formControlName="messageUpdateAr"
                  autocomplete="off"
                  name="UpdateArabic"
                />
              </div>
            </div>
            <div class="col-12 mb-3">
              <div class="form-group">
                <label for="email" class="block mb-3">{{
                  "English update message" | translate
                }}</label>
                <input
                  type="text"
                  placeholder="{{ 'English update message' | translate }}"
                  class="form-control"
                  formControlName="messageUpdateEn"
                  autocomplete="off"
                  name="UpdateEnglish"
                />
              </div>
            </div>

            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  mainInfoForm.controls['lastversionIOS'].value == null ||
                  mainInfoForm.controls['lastvesionAndroid'].value == null ||
                  mainInfoForm.controls['messageUpdateAr'].value == null ||
                  mainInfoForm.controls['messageUpdateEn'].value == null
                "
                (click)="SaveAppVersionSMS()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>
      <tab
        heading="{{ 'technical support' | translate }}"
        *ngIf="useradmin == 'tadmin'"
      >
        <div class="content row">
          <form [formGroup]="mainInfoForm">
            <div class="col-lg-6 mb-3">
              <div class="form-group">
                <label
                  for="technicalSupportAr"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "technical support ar" | translate }}
                </label>
                <input
                  formControlName="supportMessageAr"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="technicalSupportAr"
                  name="technicalSupportAr"
                />
              </div>
            </div>
            <div class="col-lg-6 mb-3">
              <div class="form-group">
                <label
                  for="technicalSupportEn"
                  class="text-right col-form-label block mx-2"
                >
                  {{ "technical support en" | translate }}
                </label>
                <input
                  formControlName="supportMessageEn"
                  class="form-control"
                  autocomplete="off"
                  type="text"
                  id="technicalSupportEn"
                  name="technicalSupportEn"
                />
              </div>
            </div>

            <div
              class="modal-footer justify-content-end"
              style="border-top: none"
            >
              <button
                type="button"
                class="btn btn-light py-2 px-3 mt-0"
                (click)="modal.dismiss('Cross click')"
              >
                {{ "close" | translate }}
              </button>
              <button
                type="button"
                class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
                [disabled]="
                  mainInfoForm.controls['supportMessageAr'].value == null ||
                  mainInfoForm.controls['supportMessageEn'].value == null
                "
                (click)="savesupportmsg()"
              >
                {{ "Save" | translate }}
              </button>
            </div>
          </form>
        </div>
      </tab>
    </tabset>
  </div>
</ng-template>

<!-- confirm delete Modal -->
<ng-template #deleteModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- confirm deleteBranchDataModal Modal -->
<ng-template #deleteBranchDataModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteContactBranches(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- confirm deleteNewsModal Modal -->
<ng-template #deleteNewsModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteNews(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!-- confirm deletestaffTimeDetailsModal Modal -->
<ng-template #deletestaffTimeDetailsModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="deletestaffTimeDetails(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- confirm deleteBranch Modal -->
<ng-template #deleteBranchModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="deleteBranch(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- confirm deletevacation Modal -->
<ng-template #deletevacationhModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="deletevacationItem(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!-- confirm deletestaffTime Modal -->
<ng-template #deletestaffTimeModal let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="deletestaffTimeId(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>
<!--BranchModal -->
<ng-template #BranchModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4
      class="modal-title mb-0"
      id="modal-basic-title"
      *ngIf="editeBransh == false"
    >
      {{ "new branch" | translate }}
    </h4>
    <h4
      class="modal-title mb-0"
      id="modal-basic-title"
      *ngIf="editeBransh == true"
    >
      {{ "Edit" | translate }} - {{ branchname }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="BranchInfoForm" class="row">
      <div class="row">
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="nameAr" class="text-right col-form-label mx-2 flex">
              {{ "Branch name (Arabic)" | translate }}
              <span class="text-danger">*</span>

              <div style="margin-inline-start: 30px">
                <input
                  type="checkbox"
                  name="isPrintInvoice"
                  id="isPrintInvoice"
                  formControlName="isPrintInvoice"
                />
                <label for="isPrintInvoice" class="col-form-label mx-2 p-0">{{
                  "Show the name of the branch on the invoice" | translate
                }}</label>
              </div>
            </label>
            <input
              class="form-control"
              type="text"
              id="nameAr"
              formControlName="nameAr"
              autocomplete="off"
              name="nameAr"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['nameAr']?.hasError('required') &&
                BranchInfoForm.controls['nameAr'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="nameEn" class="text-right col-form-label block mx-2">
              {{ "Branch name (English)" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="nameEn"
              autocomplete="off"
              class="form-control"
              type="text"
              id="nameEn"
              name="nameEn"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['nameEn']?.hasError('required') &&
                BranchInfoForm.controls['nameEn'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <!-- <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="projectStartCode"
              class="text-right col-form-label block mx-2"
            >
              {{ "Project number prefix (branch specific)" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="projectStartCode"
              autocomplete="off"
              class="form-control"
              type="text"
              id="projectStartCode"
              name="projectStartCode"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['projectStartCode']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['projectStartCode'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div> -->
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="offerStartCode"
              class="text-right col-form-label block mx-2"
            >
              {{ "Offer number prefix (branch specific)" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="offerStartCode"
              autocomplete="off"
              class="form-control"
              type="text"
              id="offerStartCode"
              name="offerStartCode"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['offerStartCode']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['offerStartCode'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="country" class="text-right col-form-label block mx-2">
              {{ "Country" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="country"
              autocomplete="off"
              class="form-control"
              type="text"
              id="country"
              name="country"
            />
          </div>
          <div
            class="fieldrequired"
            *ngIf="
              BranchInfoForm.controls['country']?.hasError('required') &&
              BranchInfoForm.controls['country'].touched
            "
          >
            {{ "This field is required" | translate }}
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="Address" class="text-right col-form-label block mx-2">
              {{ "Address" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="address"
              autocomplete="off"
              class="form-control"
              type="text"
              id="Address"
              name="Address"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['address']?.hasError('required') &&
                BranchInfoForm.controls['address'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="postalCodeFinal"
              class="text-right col-form-label block mx-2"
            >
              {{ "Postal code" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="postalCodeFinal"
              autocomplete="off"
              class="form-control"
              type="text"
              id="postalCodeFinal"
              name="postalCodeFinal"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['postalCodeFinal']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['postalCodeFinal'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="taxCode" class="text-right col-form-label block mx-2">
              {{ "Commerial Registration" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="taxCode"
              autocomplete="off"
              class="form-control"
              type="text"
              id="taxCode"
              name="taxCode"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['taxCode']?.hasError('required') &&
                BranchInfoForm.controls['taxCode'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
            <div
              *ngIf="
                BranchInfoForm.get('taxCode')?.hasError('pattern') &&
                BranchInfoForm.get('taxCode')?.touched
              "
              class="fieldrequired"
            >
              Invalid pattern.
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="postalCode"
              class="text-right col-form-label block mx-2"
            >
              {{ "Commercial Register" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="postalCode"
              autocomplete="off"
              class="form-control"
              type="text"
              id="postalCode"
              name="postalCode"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['postalCode']?.hasError('required') &&
                BranchInfoForm.controls['postalCode'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="Neighborhood"
              class="text-right col-form-label block mx-2"
            >
              {{ "Neighborhood" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="neighborhood"
              autocomplete="off"
              class="form-control"
              type="text"
              id="Neighborhood"
              name="Neighborhood"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['neighborhood']?.hasError('required') &&
                BranchInfoForm.controls['neighborhood'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="streetName"
              class="text-right col-form-label block mx-2"
            >
              {{ "Street Name" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="streetName"
              autocomplete="off"
              class="form-control"
              type="text"
              id="streetName"
              name="streetName"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['streetName']?.hasError('required') &&
                BranchInfoForm.controls['streetName'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="BuildingNumber"
              class="text-right col-form-label block mx-2"
            >
              {{ "BuildingNumber" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="buildingNumber"
              autocomplete="off"
              class="form-control"
              type="text"
              id="BuildingNumber"
              name="BuildingNumber"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['buildingNumber']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['buildingNumber'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="AdditionalPhone"
              class="text-right col-form-label block mx-2"
            >
              {{ "Additional Phone" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="externalPhone"
              autocomplete="off"
              class="form-control"
              type="text"
              id="AdditionalPhone"
              name="AdditionalPhone"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['externalPhone']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['externalPhone'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="BankName" class="text-right col-form-label block mx-2">
              {{ "BankName" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="bankId"
              autocomplete="off"
              id="BankName"
              name="BankName"
            >
              <ng-option *ngFor="let item of bankselect" [value]="item.id">{{
                item.name
              }}</ng-option>
            </ng-select>
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['bankId']?.hasError('required') &&
                BranchInfoForm.controls['bankId'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="BankAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Bank account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="accountBank"
              autocomplete="off"
              class="form-control"
              type="text"
              id="BankAccount"
              name="BankAccount"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['accountBank']?.hasError('required') &&
                BranchInfoForm.controls['accountBank'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="BankName2" class="text-right col-form-label block mx-2">
              {{ "BankName" | translate }}
              <!-- <span class="text-danger">*</span> -->
            </label>
            <ng-select
              formControlName="bankId2"
              autocomplete="off"
              id="BankName2"
              name="BankName2"
              placeholder="{{ 'Chose' | translate }}"
            >
              <ng-option *ngFor="let item of bankselect" [value]="item.id">{{
                item.name
              }}</ng-option>
            </ng-select>
            <!-- <div class="fieldrequired" *ngIf="
                BranchInfoForm.controls['bankId2']?.hasError('required') &&
                BranchInfoForm.controls['bankId2'].touched
              ">
              {{ "This field is required" | translate }}
            </div> -->
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="BankAccount2"
              class="text-right col-form-label block mx-2"
            >
              {{ ("Bank account" | translate) + " 2" }}
              <!-- <span class="text-danger">*</span> -->
            </label>
            <input
              formControlName="accountBank2"
              autocomplete="off"
              class="form-control"
              type="text"
              id="BankAccount2"
              name="BankAccount2"
            />
            <!-- <div class="fieldrequired" *ngIf="
                  BranchInfoForm.controls['accountBank2']?.hasError('required') &&
                  BranchInfoForm.controls['accountBank2'].touched
                ">
              {{ "This field is required" | translate }}
            </div> -->
          </div>
        </div>
        <!-- <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label
              for="EngineeringLicense"
              class="text-right col-form-label block mx-2"
            >
              {{ ("EngineeringLicense" | translate) + " 2" }}
              <span class="text-danger">*</span>
            </label>
            <input
              formControlName="engineering_License"
              autocomplete="off"
              class="form-control"
              type="text"
              id="EngineeringLicense"
              name="EngineeringLicense"
            />
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.controls['engineering_License']?.hasError(
                  'required'
                ) && BranchInfoForm.controls['engineering_License'].touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div> -->
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label for="IssuedOn" class="text-right col-form-label block mx-2">
              {{ ("IssuedOn" | translate) + " 2" }}
              <!-- <span class="text-danger">*</span> -->
            </label>
            <input
              formControlName="engineering_LicenseDate"
              autocomplete="off"
              class="form-control"
              id="IssuedOn"
              name="IssuedOn"
              bsDatepicker
            />
            <!-- <div class="fieldrequired" *ngIf="
                BranchInfoForm.controls['engineering_LicenseDate']?.hasError('required') &&
                BranchInfoForm.controls['engineering_LicenseDate'].touched
              ">
              {{ "This field is required" | translate }}
            </div> -->
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="city" class="text-right col-form-label block mx-2">
              {{ "city" | translate }}
              <span class="text-danger">*</span>
            </label>
            <div class="flex">
              <ng-select
                formControlName="cityId"
                id="city"
                name="city"
                style="min-width: 320px !important"
              >
                <ng-option
                  *ngFor="let item of nationalitysourceselected"
                  [value]="item.id"
                  >{{ item.name }}</ng-option
                >
              </ng-select>
              <button
                type="button"
                class="bg-base text-white"
                style="padding: 0px 10px"
                (click)="open(place)"
              >
                <i class="fa fa-plus"></i>
              </button>
            </div>
            <div
              class="fieldrequired"
              *ngIf="
                BranchInfoForm.get('cityId')?.hasError('required') &&
                BranchInfoForm.get('cityId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group col-span-1 md:col-span-2">
            <label for="formFile" class="form-label">
              {{ "Upload File" | translate }}</label
            >
            <div class="upload">
              <file-upload [control]="controlImgUrlfile">
                <ng-template
                  let-isFileDragDropAvailable="isFileDragDropAvailable"
                  #placeholder
                  let-file="file"
                >
                  <div
                    *ngIf="
                      controlImgUrlfile.size === 0 &&
                      BranchInfoForm.controls['uploadedFile'].value == null
                    "
                  >
                    <div class="icon">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="0.5em"
                        viewBox="0 0 640 512"
                      >
                        <path
                          d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                        />
                      </svg>
                    </div>

                    <div class="upload-text">
                      {{ "uploadFile" | translate }}
                    </div>
                  </div>
                  <div
                    class="overlay"
                    *ngIf="
                      BranchInfoForm.controls['uploadedFile'].value != null
                    "
                  >
                    <span
                      class="delete-button"
                      (click)="
                        controlImgUrlfile.clear();
                        BranchInfoForm.controls['uploadedFile'].setValue(null)
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      *ngIf="
                        BranchInfoForm.controls['uploadedFile'].value != null
                      "
                      src="{{
                        environmenturl +
                          BranchInfoForm.controls['uploadedFile'].value
                      }}"
                    />
                  </div>
                </ng-template>

                <ng-template
                  let-i="index"
                  let-file="file"
                  let-control="control"
                  #item
                  *ngIf="BranchInfoForm.controls['uploadedFile'].value == null"
                >
                  <div class="overlay">
                    <span
                      class="delete-button"
                      (click)="
                        control.clear();
                        BranchInfoForm.controls['uploadedFile'].setValue(null)
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      *ngIf="control.valid"
                      [src]="uploadedFileOutputImg | async"
                    />
                  </div>
                </ng-template>
              </file-upload>
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group col-span-1 md:col-span-2">
            <label for="formFile" class="form-label">
              {{ "Upload Header" | translate }}</label
            >

            <div class="upload">
              <file-upload [control]="controlImgUrlfileheader">
                <ng-template
                  let-isFileDragDropAvailable="isFileDragDropAvailable"
                  #placeholder
                  let-file="file"
                >
                  <div
                    *ngIf="
                      controlImgUrlfileheader.size === 0 &&
                      BranchInfoForm.controls['uploadedFileheader'].value ==
                        null
                    "
                  >
                    <div class="icon">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="0.5em"
                        viewBox="0 0 640 512"
                      >
                        <path
                          d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                        />
                      </svg>
                    </div>

                    <div class="upload-text">
                      {{ "uploadFile" | translate }}
                    </div>
                  </div>
                  <div
                    class="overlay"
                    *ngIf="
                      BranchInfoForm.controls['uploadedFileheader'].value !=
                      null
                    "
                  >
                    <span
                      class="delete-button"
                      (click)="
                        controlImgUrlfileheader.clear();
                        BranchInfoForm.controls['uploadedFileheader'].setValue(
                          null
                        )
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      *ngIf="
                        BranchInfoForm.controls['uploadedFileheader'].value !=
                        null
                      "
                      src="{{
                        environmenturl +
                          BranchInfoForm.controls['uploadedFileheader'].value
                      }}"
                    />
                  </div>
                </ng-template>

                <ng-template
                  let-i="index"
                  let-file="file"
                  let-control="control"
                  #item
                  *ngIf="
                    BranchInfoForm.controls['uploadedFileheader'].value == null
                  "
                >
                  <div class="overlay">
                    <span
                      class="delete-button"
                      (click)="
                        control.clear();
                        BranchInfoForm.controls['uploadedFileheader'].setValue(
                          null
                        )
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      *ngIf="control.valid"
                      [src]="uploadedFileImgUrlfileheader | async"
                    />
                  </div>
                </ng-template>
              </file-upload>
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group col-span-1 md:col-span-2">
            <label for="formFile" class="form-label">
              {{ "Upload Footer" | translate }}</label
            >

            <div class="upload">
              <file-upload [control]="controlImgUrlfilefooter">
                <ng-template
                  let-isFileDragDropAvailable="isFileDragDropAvailable"
                  #placeholder
                  let-file="file"
                >
                  <div
                    *ngIf="
                      controlImgUrlfilefooter.size === 0 &&
                      BranchInfoForm.controls['uploadedFilefooter'].value ==
                        null
                    "
                  >
                    <div class="icon">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="0.5em"
                        viewBox="0 0 640 512"
                      >
                        <path
                          d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                        />
                      </svg>
                    </div>

                    <div class="upload-text">
                      {{ "uploadFile" | translate }}
                    </div>
                  </div>
                  <div
                    class="overlay"
                    *ngIf="
                      BranchInfoForm.controls['uploadedFilefooter'].value !=
                      null
                    "
                  >
                    <span
                      class="delete-button"
                      (click)="
                        controlImgUrlfilefooter.clear();
                        BranchInfoForm.controls['uploadedFilefooter'].setValue(
                          null
                        )
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      src="{{
                        environmenturl +
                          BranchInfoForm.controls['uploadedFilefooter'].value
                      }}"
                    />
                  </div>
                </ng-template>

                <ng-template
                  let-i="index"
                  let-file="file"
                  let-control="control"
                  #item
                  *ngIf="
                    BranchInfoForm.controls['uploadedFilefooter'].value == null
                  "
                >
                  <div class="overlay">
                    <span
                      class="delete-button"
                      (click)="
                        control.clear();
                        BranchInfoForm.controls['uploadedFilefooter'].setValue(
                          null
                        )
                      "
                    >
                      <svg viewBox="0 0 448 512">
                        <path
                          d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                        ></path>
                      </svg>
                    </span>
                    <img
                      *ngIf="control.valid"
                      [src]="uploadedFileImgUrlfilefooter | async"
                    />
                  </div>
                </ng-template>
              </file-upload>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-3 mb-3">
          <div class="form-group">
            <input
              type="checkbox"
              name="ShowInvoice"
              id="ShowInvoice"
              class="form-check-input"
              formControlName="headerPrintInvoice"
            />
            <label for="ShowInvoice" class="col-form-label mx-2">{{
              "Show the invoice" | translate
            }}</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="form-group">
            <input
              type="checkbox"
              name="receiptVoucher"
              id="receiptVoucher"
              class="form-check-input"
              formControlName="headerPrintrevoucher"
            />
            <label for="receiptVoucher" class="col-form-label mx-2">{{
              "Show in the receipt voucher" | translate
            }}</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="form-group">
            <input
              type="checkbox"
              name="dailyEntry"
              id="dailyEntry"
              class="form-check-input"
              formControlName="headerprintdarvoucher"
            />
            <label for="dailyEntry" class="col-form-label mx-2">{{
              "Show in daily entry" | translate
            }}</label>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="form-group">
            <input
              type="checkbox"
              name="voucherExchange"
              id="voucherExchange"
              class="form-check-input"
              formControlName="headerPrintpayvoucher"
            />
            <label for="voucherExchange" class="col-form-label mx-2">{{
              "Show in the voucher of exchange" | translate
            }}</label>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="
        modal.dismiss('Cross click');
        controlImgUrlfile.clear();
        controlImgUrlfileheader.clear();
        controlImgUrlfilefooter.clear()
      "
    >
      {{ "close" | translate }}
    </button>
    <!-- this.BranchInfoForm.controls["engineering_LicenseDate"].value == null || -->
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="
        this.BranchInfoForm.controls['nameAr'].value == null ||
        this.BranchInfoForm.controls['nameEn'].value == null ||
        this.BranchInfoForm.controls['country'].value == null ||
        this.BranchInfoForm.controls['address'].value == null ||
        this.BranchInfoForm.controls['postalCodeFinal'].value == null ||
        this.BranchInfoForm.controls['taxCode'].value == null ||
        this.BranchInfoForm.controls['postalCode'].value == null ||
        this.BranchInfoForm.controls['neighborhood'].value == null ||
        this.BranchInfoForm.controls['streetName'].value == null ||
        this.BranchInfoForm.controls['buildingNumber'].value == null ||
        this.BranchInfoForm.controls['externalPhone'].value == null ||
        this.BranchInfoForm.controls['bankId'].value == null ||
        this.BranchInfoForm.controls['accountBank'].value == null ||
        this.BranchInfoForm.controls['engineering_License'].value == null ||
        this.BranchInfoForm.controls['cityId'].value == null
      "
      (click)="setSaveBranches(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
  <!-- imageFileOutputImgUrlfile == null  ||
     imageFileOutputImgUrlfileheader == null  ||
     imageFileOutputImgUrlfilefooter == null  || -->
</ng-template>

<!-- branchesAccountsModal-->
<ng-template #branchesAccountsModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "branches accounts" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="branchesAccForm">
      <div class="row">
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="FundAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Fund account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="BoxAccId"
              id="FundAccount"
              name="FundAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('BoxAccId')?.hasError('required') &&
                branchesAccForm.get('BoxAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="CashAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Cash account points of sale - Mada-ATM" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="BoxAccId2"
              id="CashAccount"
              name="CashAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('BoxAccId2')?.hasError('required') &&
                branchesAccForm.get('BoxAccId2')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="Calculation"
              class="text-right col-form-label block mx-2"
            >
              {{ "Calculation of value added tax on purchases" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="SuspendedFundAccId"
              id="Calculation"
              name="Calculation"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('SuspendedFundAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('SuspendedFundAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="customerAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "customer account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="CustomersAccId"
              id="customerAccount"
              name="customerAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('CustomersAccId')?.hasError('required') &&
                branchesAccForm.get('CustomersAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="CollateralAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Collateral account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="GuaranteeAccId"
              id="CollateralAccount"
              name="CollateralAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('GuaranteeAccId')?.hasError('required') &&
                branchesAccForm.get('GuaranteeAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="RevenueAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Revenue account (sales)" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="ContractsAccId"
              id="RevenueAccount"
              name="RevenueAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('ContractsAccId')?.hasError('required') &&
                branchesAccForm.get('ContractsAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="SuppliersAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Suppliers account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="SuppliersAccId"
              id="SuppliersAccount"
              name="SuppliersAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('SuppliersAccId')?.hasError('required') &&
                branchesAccForm.get('SuppliersAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="StaffAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Staff account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="EmployeesAccId"
              id="StaffAccount"
              name="StaffAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('EmployeesAccId')?.hasError('required') &&
                branchesAccForm.get('EmployeesAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label for="addedTax" class="text-right col-form-label block mx-2">
              {{ "Calculation of value added tax on sales" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="TaxsAccId"
              id="addedTax"
              name="addedTax"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('TaxsAccId')?.hasError('required') &&
                branchesAccForm.get('TaxsAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="AdvancesAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Advances account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="LoanAccId"
              id="AdvancesAccount"
              name="AdvancesAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('LoanAccId')?.hasError('required') &&
                branchesAccForm.get('LoanAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="BankAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Bank account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="CheckInvoicesAccId"
              id="BankAccount"
              name="BankAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('CheckInvoicesAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('CheckInvoicesAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="salesReturns"
              class="text-right col-form-label block mx-2"
            >
              {{ "Calculation of sales returns" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="PurchaseReturnCashAccId"
              id="salesReturns"
              name="salesReturns"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('PurchaseReturnCashAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('PurchaseReturnCashAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="purchaseReturns"
              class="text-right col-form-label block mx-2"
            >
              {{ "Calculation of purchase returns" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="CashReturnInvoicesAccId"
              id="purchaseReturns"
              name="purchaseReturns"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('CashReturnInvoicesAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('CashReturnInvoicesAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="SalesDiscount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Sales discount account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="SaleDiscountAccId"
              id="SalesDiscount"
              name="SalesDiscount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('SaleDiscountAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('SaleDiscountAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="PurchaseDiscount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Purchase discount account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="PurchaseDiscAccId"
              id="PurchaseDiscount"
              name="PurchaseDiscount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('PurchaseDiscAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('PurchaseDiscAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="employeeEngagement"
              class="text-right col-form-label block mx-2"
            >
              {{ "Calculation of employee engagement" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="PurchaseDelayAccId"
              ngModel
              id="employeeEngagement"
              name="employeeEngagement"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('PurchaseDelayAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('PurchaseDelayAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="PurchasesAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Purchases account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="CashInvoicesAccId"
              id="PurchasesAccount"
              name="PurchasesAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm
                  .get('CashInvoicesAccId')
                  ?.hasError('required') &&
                branchesAccForm.get('CashInvoicesAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="CarExpense"
              class="text-right col-form-label block mx-2"
            >
              {{ "Car expense account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="SaleCashAccId"
              id="CarExpense"
              name="CarExpense"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('SaleCashAccId')?.hasError('required') &&
                branchesAccForm.get('SaleCashAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="form-group">
            <label
              for="OwnerCurrentAccount"
              class="text-right col-form-label block mx-2"
            >
              {{ "Owner's current account" | translate }}
              <span class="text-danger">*</span>
            </label>
            <ng-select
              formControlName="SaleCostAccId"
              id="OwnerCurrentAccount"
              name="OwnerCurrentAccount"
            >
              <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
                item.name
              }}</ng-option></ng-select
            >
            <div
              class="fieldrequired"
              *ngIf="
                branchesAccForm.get('SaleCostAccId')?.hasError('required') &&
                branchesAccForm.get('SaleCostAccId')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="
        this.branchesAccForm.controls['BoxAccId'].value == null ||
        this.branchesAccForm.controls['BoxAccId2'].value == null ||
        this.branchesAccForm.controls['SuspendedFundAccId'].value == null ||
        this.branchesAccForm.controls['CustomersAccId'].value == null ||
        this.branchesAccForm.controls['GuaranteeAccId'].value == null ||
        this.branchesAccForm.controls['ContractsAccId'].value == null ||
        this.branchesAccForm.controls['SuppliersAccId'].value == null ||
        this.branchesAccForm.controls['EmployeesAccId'].value == null ||
        this.branchesAccForm.controls['TaxsAccId'].value == null ||
        this.branchesAccForm.controls['LoanAccId'].value == null ||
        this.branchesAccForm.controls['CheckInvoicesAccId'].value == null ||
        this.branchesAccForm.controls['PurchaseReturnCashAccId'].value ==
          null ||
        this.branchesAccForm.controls['CashReturnInvoicesAccId'].value ==
          null ||
        this.branchesAccForm.controls['SaleDiscountAccId'].value == null ||
        this.branchesAccForm.controls['PurchaseDiscAccId'].value == null ||
        this.branchesAccForm.controls['PurchaseDelayAccId'].value == null ||
        this.branchesAccForm.controls['CashInvoicesAccId'].value == null ||
        this.branchesAccForm.controls['SaleCashAccId'].value == null ||
        this.branchesAccForm.controls['SaleCostAccId'].value == null
      "
      (click)="savebranchesAccForm(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- incomeAccountsModal-->
<ng-template #incomeAccountsModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "income list accounts" | translate }} - {{ branchname }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form>
      <div class="item mb-3">
        <h4>{{ "depreciation account" | translate }}</h4>
        <div class="form-group">
          <ng-select
            [(ngModel)]="PurchaseReturnDiscAccId"
            id="PurchaseReturnDiscAccId"
            name="PurchaseReturnDiscAccId"
          >
            <ng-option *ngFor="let item of branchesAcc" [value]="item.id">{{
              item.name
            }}</ng-option>
          </ng-select>
        </div>
      </div>
      <div class="item mb-3">
        <h4>{{ "General and administrative expense account" | translate }}</h4>
        <div class="max-h-[40vh] overflow-auto px-10">
          <tree-ngx
            [nodeItems]="AccountngxTreeListKD"
            class="{{ 'dir' | translate }}"
            (selectedItems)="selectedTaskss1 = $event"
            [options]="options"
          >
            <ng-template #nodeCollapsibleTemplate let-expanded="expanded">
              <span *ngIf="!expanded">
                <i class="fa-solid fa-folder-plus tree-icon"></i>
              </span>
              <span *ngIf="expanded">
                <i class="fa-solid fa-folder-minus tree-icon"></i>
              </span>
            </ng-template>
          </tree-ngx>
        </div>
      </div>
      <div class="item mb-3">
        <h4>{{ "Cost of operating revenue/expenses" | translate }}</h4>
        <div class="max-h-[40vh] overflow-auto px-10">
          <tree-ngx
            [nodeItems]="AccountngxTreeListEA"
            class="{{ 'dir' | translate }}"
            (selectedItems)="selectedTask2 = $event"
            [options]="options"
          >
            <ng-template #nodeCollapsibleTemplate let-expanded="expanded">
              <span *ngIf="!expanded">
                <i class="fa-solid fa-folder-plus tree-icon"></i>
              </span>
              <span *ngIf="expanded">
                <i class="fa-solid fa-folder-minus tree-icon"></i>
              </span>
            </ng-template>
          </tree-ngx>
        </div>
      </div>
      <div class="item mb-3">
        <h4>{{ "general revenue" | translate }}</h4>
        <div class="max-h-[40vh] overflow-auto px-10">
          <tree-ngx
            [nodeItems]="AccountngxTreeListpublicrev"
            class="{{ 'dir' | translate }}"
            (selectedItems)="selectedTask3 = $event"
            [options]="options"
          >
            <ng-template #nodeCollapsibleTemplate let-expanded="expanded">
              <span *ngIf="!expanded">
                <i class="fa-solid fa-folder-plus tree-icon"></i>
              </span>
              <span *ngIf="expanded">
                <i class="fa-solid fa-folder-minus tree-icon"></i>
              </span>
            </ng-template>
          </tree-ngx>
        </div>
      </div>
      <div class="item mb-3">
        <h4>{{ "Other income" | translate }}</h4>
        <div class="max-h-[40vh] overflow-auto px-10">
          <tree-ngx
            [nodeItems]="AccountngxTreeListotherrev"
            class="{{ 'dir' | translate }}"
            (selectedItems)="selectedTask4 = $event"
            [options]="options"
          >
            <ng-template #nodeCollapsibleTemplate let-expanded="expanded">
              <span *ngIf="!expanded">
                <i class="fa-solid fa-folder-plus tree-icon"></i>
              </span>
              <span *ngIf="expanded">
                <i class="fa-solid fa-folder-minus tree-icon"></i>
              </span>
            </ng-template>
          </tree-ngx>
        </div>
      </div>
      <p class="bg-red-100 p-1" style="width: max-content; margin: auto">
        {{
          "Warning: The system deals with these accounts through these settings only"
            | translate
        }}
      </p>
    </form>
  </div>

  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="PurchaseReturnDiscAccId == null"
      (click)="savetree(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- OfficialVacationsModal -->
<ng-template #OfficialVacationsModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Official vacations" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <button
      class="p-2 bg-base rounded-lg duration-300 text-white"
      (click)="open(vacationModal, null, 'addvacationModal')"
    >
      {{ "Add official leave" | translate }}
    </button>

    <div class="tables-data mt-3 overflow-hidden">
      <!-- table -->

      <div class="overflow-auto">
        <table
          mat-table
          [dataSource]="vacationList"
          matSort
          class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
        >
          <!-- name column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "The name of the official holiday" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?.description }}</span>
            </td>
          </ng-container>
          <!-- from column -->
          <ng-container matColumnDef="from">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "From the date of" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{
                element?.fromDate | date : "dd-MM-yyyy , h:m:s a"
              }}</span>
            </td>
          </ng-container>
          <!-- to column -->
          <ng-container matColumnDef="to">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "To date" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?.toDate | date : "dd-MM-yyyy , h:m:s a" }}</span>
            </td>
          </ng-container>
          <!-- operations Column -->
          <ng-container matColumnDef="operations">
            <th mat-header-cell *matHeaderCellDef>
              {{ "operations" | translate }}
            </th>
            <td mat-cell *matCellDef="let element">
              <div class="flex gap-1 justify-center py-2">
                <button
                  class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="open(vacationModal, element, 'editvacationModal')"
                >
                  <i class="fa fa-edit"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="
                    open(deletevacationhModal, element, 'deletevacationModal')
                  "
                >
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="vacationDisplayedColumns"></tr>

          <tr
            mat-row
            *matRowDef="let row; columns: vacationDisplayedColumns"
            class="duration-300 hover:bg-slate-100"
          ></tr>

          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">
              {{ "noResult" | translate }} "{{ input.value }}"
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <!-- <button type="button" class="btn submit-btn bg-base text-white py-2 px-3 mt-0" [disabled]="form.invalid"
      (click)="setEmailSetting(form.value)">
      {{ "Save" | translate }}
    </button> -->
  </div>
</ng-template>

<!-- vacationModal -->
<ng-template #vacationModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Add a new official holiday" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="vacationForm">
      <div class="row">
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "The name of the official holiday" | translate }}
            </label>
            <input
              class="form-control"
              name="holidayName"
              type="text"
              formControlName="holidayName"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "From the date of" | translate }}
            </label>
            <input
              class="form-control"
              name="FromDate"
              type="text"
              formControlName="FromDate"
              bsDatepicker
            />
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "To date" | translate }}
            </label>
            <input
              class="form-control"
              name="ToDate"
              type="text"
              formControlName="ToDate"
              bsDatepicker
            />
          </div>
        </div>
      </div>
    </form>
  </div>

  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="
        this.vacationForm.controls['FromDate'].value == null ||
        this.vacationForm.controls['holidayName'].value == null ||
        this.vacationForm.controls['ToDate'].value == null
      "
      (click)="saveVacation(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- staffTimeModal -->
<ng-template #staffTimeModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "new Staff Time" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="staffTimeForm">
      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "nameAr" | translate }}
            </label>
            <input
              class="form-control"
              name="nameAr"
              type="text"
              formControlName="nameAr"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "nameEn" | translate }}
            </label>
            <input
              class="form-control"
              name="nameEn"
              type="text"
              formControlName="nameEn"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-12 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Notes" | translate }}
            </label>
            <input
              class="form-control"
              name="Notes"
              type="text"
              formControlName="notes"
              autocomplete="off"
            />
          </div>
        </div>
      </div>
    </form>
  </div>

  <div class="modal-footer justify-content-end" style="border-top: none">
    <button
      type="button"
      class="btn btn-light py-2 px-3 mt-0"
      (click)="modal.dismiss('Cross click')"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      [disabled]="
        this.staffTimeForm.controls['nameAr'].value == null ||
        this.staffTimeForm.controls['nameEn'].value == null
      "
      (click)="addStaffTime(modal)"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- staffTimeDetails -->
<ng-template #staffTimeDetails let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Time details" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body">
    <!-- <form [formGroup]="staffTimeDetailsForm"> -->
    <div class="row">
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="form-group">
          <label for="day" class="text-right col-form-label block mx-2">
            {{ "day" | translate }}
          </label>
          <ng-select [(ngModel)]="day" id="day" name="day" autocomplete="off">
            <ng-option *ngFor="let item of daylist" [value]="item.id">
              {{ this.lang == "ar" ? item.nameAR : item.nameEN }}</ng-option
            >
          </ng-select>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="form-group">
          <label for="from" class="text-right col-form-label block mx-2">
            {{ "from the hour" | translate }}
          </label>
          <ng-select
            [(ngModel)]="from"
            id="from"
            name="from"
            autocomplete="off"
          >
            <ng-option *ngFor="let item of timeList" [value]="item.id">{{
              item.name
            }}</ng-option>
          </ng-select>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="form-group">
          <label for="to" class="text-right col-form-label block mx-2">
            {{ "to the hour" | translate }}
          </label>
          <ng-select [(ngModel)]="to" id="to" name="to">
            <ng-option *ngFor="let item of timeList" [value]="item.id">{{
              item.name
            }}</ng-option>
          </ng-select>
        </div>
      </div>

      <!-- <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "from the hour" | translate }}
            </label>
            <div class="form-group timeInput">
              <timepicker [(ngModel)]="from"  name="fromTime" style="direction: ltr;"
              [ngModelOptions]="{ standalone: true }" autocomplete="off"></timepicker>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "to the hour" | translate }}
            </label>
            <div class="form-group timeInput">
              <timepicker [(ngModel)]="to" style="direction: ltr;"
              [ngModelOptions]="{ standalone: true }" name="toTime" autocomplete="off"></timepicker>
            </div>
          </div>
        </div> -->
      <div class="col-md-6 col-lg-4 mb-3">
        <div class="form-input-group flex gap-2 items-center">
          <input
            type="checkbox"
            class="form-check-input"
            [(ngModel)]="secondPeriod"
            name="secondPeriod"
          />
          <label for="secondPeriod" class="m-0">{{
            "second period" | translate
          }}</label>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3" *ngIf="secondPeriod == true">
        <div class="form-group">
          <label for="from2" class="text-right col-form-label block mx-2">
            {{ "from the hour" | translate }}
          </label>
          <ng-select [(ngModel)]="from2" id="from2" name="from2">
            <ng-option *ngFor="let item of timeList" [value]="item.id">{{
              item.name
            }}</ng-option>
          </ng-select>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-3" *ngIf="secondPeriod == true">
        <div class="form-group">
          <label for="to2" class="text-right col-form-label block mx-2">
            {{ "to the hour" | translate }}
          </label>
          <ng-select [(ngModel)]="to2" id="to2" name="to2" autocomplete="off">
            <ng-option *ngFor="let item of timeList" [value]="item.id">{{
              item.name
            }}</ng-option>
          </ng-select>
        </div>
      </div>
      <!-- <div class="col-md-6 col-lg-4 mb-3"*ngIf="secondPeriod== true">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "from the hour" | translate }}
            </label>
            <div class="form-group timeInput">
              <timepicker [(ngModel)]="from2"  style="direction: ltr;"
              [ngModelOptions]="{ standalone: true }" name="fromTime" autocomplete="off"
              ></timepicker>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-3"*ngIf="secondPeriod == true">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "to the hour" | translate }}
            </label>
            <div class="form-group timeInput">
              <timepicker [(ngModel)]="to2" [ngModelOptions]="{ standalone: true }" style="direction: ltr;" name="toTime" autocomplete="off"></timepicker>
            </div>
          </div>
        </div>-->
    </div>
    <!-- </form> -->

    <div class="modal-footer justify-content-end" style="border-top: none">
      <button
        type="button"
        class="btn btn-light py-2 px-3 mt-0"
        (click)="modal.dismiss('Cross click'); resetTimeseft()"
      >
        {{ "close" | translate }}
      </button>
      <button
        type="button"
        class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
        [disabled]="from == null || to == null || day == null"
        (click)="setstaffTimeDetails()"
      >
        {{ "Save" | translate }}
      </button>
    </div>

    <div class="tables-data mt-3 overflow-hidden">
      <!-- table -->
      <input
        (keyup)="applyFilterShiffts($event)"
        class="form-control mb-3"
        style="max-width: 300px"
        #input
        placeholder="{{ 'search' | translate }}"
      />
      <div class="overflow-auto">
        <table
          mat-table
          [dataSource]="staffTimeDetailsSource"
          matSort
          class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
        >
          <!-- day column -->
          <ng-container matColumnDef="day">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "day" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?.dayName }}</span>
            </td>
          </ng-container>
          <!-- from column -->
          <ng-container matColumnDef="from">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "from the hour" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?._1StFromHour | date : "hh:mm a" }}</span>
            </td>
          </ng-container>
          <!-- to column -->
          <ng-container matColumnDef="to">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "to the hour" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?._1StToHour | date : "hh:mm a" }}</span>
            </td>
          </ng-container>
          <!-- secondFrom column -->
          <ng-container matColumnDef="secondFrom">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "from the hour" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?._2ndFromHour | date : "hh:mm a" }}</span>
            </td>
          </ng-container>
          <!-- secondTo column -->
          <ng-container matColumnDef="secondTo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "to the hour" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?._2ndToHour | date : "hh:mm a" }}</span>
            </td>
          </ng-container>

          <!-- operations Column -->
          <ng-container matColumnDef="operations">
            <th mat-header-cell *matHeaderCellDef>
              {{ "operations" | translate }}
            </th>
            <td mat-cell *matCellDef="let element">
              <div class="flex gap-1 justify-center py-2">
                <button
                  class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="editstaffTimeDetails(element)"
                >
                  <i class="fa fa-edit"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="
                    open(
                      deletestaffTimeDetailsModal,
                      element,
                      'deletestaffTimeDetails'
                    )
                  "
                >
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="shifftsDisplayedColumns"></tr>

          <tr
            mat-row
            *matRowDef="let row; columns: shifftsDisplayedColumns"
            class="duration-300 hover:bg-slate-100"
          ></tr>

          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">
              {{ "noResult" | translate }} "{{ input.value }}"
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</ng-template>

<!-- optToggleActivationModal -->
<ng-template #optToggleActivationModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4
      class="modal-title mb-0"
      id="modal-basic-title"
      [translate]="'name'"
      [translateParams]="{
        ar: 'تفعيل /عدم تفعيل منصة فاتورة',
        en: 'Activating/disabling the invoice platform'
      }"
    ></h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body text-center">
    <h2
      class="text-base mb-4"
      [translate]="'name'"
      [translateParams]="{
        ar: 'ادخل كود التفعيل / عدم التفعيل      ',
        en: 'Enter the activation / deactivation code'
      }"
    ></h2>
    <ng-otp-input [formCtrl]="otp" [config]="{ length: 4 }"></ng-otp-input>

    <div
      class="modal-footer justify-content-center mt-3"
      style="border-top: none"
    >
      <button
        type="button"
        class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
        (click)="confiremOtp()"
      >
        {{ "confirem" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<!-- BranchDataModal -->
<ng-template #BranchDataModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Add a new branch" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body text-center">
    <form [formGroup]="ContactBranchesForm">
      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "branch name" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              type="text"
              [placeholder]="'branch name' | translate"
              name="branchName"
              formControlName="BranchName"
              autocomplete="off"
            />
            <div
              class="fieldrequired"
              *ngIf="
                ContactBranchesForm.get('BranchName')?.hasError('required') &&
                ContactBranchesForm.get('BranchName')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Address" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              type="text"
              [placeholder]="'Address' | translate"
              name="Address"
              formControlName="BranchAddress"
              autocomplete="off"
            />
            <div
              class="fieldrequired"
              *ngIf="
                ContactBranchesForm.get('BranchAddress')?.hasError(
                  'required'
                ) && ContactBranchesForm.get('BranchAddress')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Branch manager mobile" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              type="text"
              [placeholder]="'Branch manager mobile' | translate"
              name="BranchManagerMobile"
              formControlName="BranchPhone"
              autocomplete="off"
              (blur)="checkBranchManagerMobile()"
            />
            <!-- this.ContactBranchesForm.controls['BranchPhone'].value.length != 10 && -->
            <div
              class="fieldrequired"
              *ngIf="
                (ContactBranchesForm.get('BranchPhone')?.hasError('required') &&
                  ContactBranchesForm.get('BranchPhone')?.touched) ||
                BranchPhoneError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "customers service" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              type="text"
              [placeholder]="'customers service' | translate"
              name="customersService"
              formControlName="BranchCS"
              autocomplete="off"
              (blur)="
                this.ContactBranchesForm.controls['BranchCS'].value.toString()
                  .length < 10
                  ? (BranchCSError = true)
                  : (BranchCSError = false)
              "
            />
            <!-- && this.ContactBranchesForm.controls['BranchCS'].value.length != 10  -->
            <div
              class="fieldrequired"
              *ngIf="
                (ContactBranchesForm.get('BranchCS')?.hasError('required') &&
                  ContactBranchesForm.get('BranchCS')?.touched) ||
                BranchCSError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "email" | translate }}
              <span class="text-danger">*</span></label
            >
            <input
              class="form-control"
              type="text"
              [placeholder]="'email' | translate"
              name="email"
              formControlName="BranchEmail"
              autocomplete="off"
            />
            <div
              class="fieldrequired"
              *ngIf="
                ContactBranchesForm.get('BranchEmail')?.hasError('required') &&
                ContactBranchesForm.get('BranchEmail')?.touched
              "
            >
              {{ "This field is required" | translate }}
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-end mt-3" style="border-top: none">
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      (click)="modal.dismiss()"
    >
      {{ "close" | translate }}
    </button>
    <!-- this.ContactBranchesForm.controls['BranchPhone'].value.length >= 10&&
this.ContactBranchesForm.controls['BranchCS'].value.length >= 10&& -->
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      (click)="addConectBranch(modal)"
      [disabled]="
        this.ContactBranchesForm.controls['BranchPhone'].value == null ||
        this.ContactBranchesForm.controls['BranchCS'].value == null ||
        BranchCSError == true ||
        this.ContactBranchesForm.controls['BranchEmail'].value == null ||
        BranchPhoneError == true ||
        this.ContactBranchesForm.controls['BranchName'].value == null ||
        this.ContactBranchesForm.controls['BranchAddress'].value == null
      "
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- SocialDataModal -->
<ng-template #SocialDataModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "Social networking links" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body text-center">
    <form [formGroup]="SocialDataModalForm">
      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Facebook" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'Facebook' | translate"
              name="Facebook"
              formControlName="FaceBookLink"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Twitter" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'Twitter' | translate"
              name="Twitter"
              formControlName="TwitterLink"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Google Plus" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'Google Plus' | translate"
              name="GooglePlus"
              formControlName="GooglePlusLink"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Instagram" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'Instagram' | translate"
              name="Instagram"
              formControlName="InstagramLink"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "snap chat" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'snap chat' | translate"
              name="snapChat"
              formControlName="SnapchatLink"
              autocomplete="off"
            />
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "Linkedin" | translate }}
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'Linkedin' | translate"
              name="Linkedin"
              formControlName="LinkedInLink"
              autocomplete="off"
            />
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer justify-content-end mt-3" style="border-top: none">
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      (click)="modal.dismiss()"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="button"
      class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
      (click)="addSocialDataModal()"
    >
      {{ "Save" | translate }}
    </button>
  </div>
</ng-template>

<!-- latestNewsModal -->
<ng-template #latestNewsModal let-modal>
  <div class="modal-header bg-base text-white">
    <h4 class="modal-title mb-0" id="modal-basic-title">
      {{ "latest news" | translate }}
    </h4>
    <button type="button" class="m-0" (click)="modal.dismiss('Cross click')">
      <i class="fa fa-close"></i>
    </button>
  </div>

  <div class="modal-body text-center">
    <form [formGroup]="NewsModalForm">
      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "The address is Arabic" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'The address is Arabic' | translate"
              name="addressAr"
              formControlName="NewsTitleAr"
              autocomplete="off"
              (blur)="
                this.NewsModalForm.controls['NewsTitleAr'].value.length < 10
                  ? (NewsTitleArError = true)
                  : (NewsTitleArError = false)
              "
            />
            <!-- this.NewsModalForm.controls['NewsTitleAr'].value.length != 10 && -->
            <div
              class="fieldrequired"
              *ngIf="
                (NewsModalForm.get('NewsTitleAr')?.hasError('required') &&
                  NewsModalForm.get('NewsTitleAr')?.touched) ||
                NewsTitleArError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "The address is English" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'The address is English' | translate"
              name="addressEn"
              formControlName="NewsTitleEn"
              autocomplete="off"
              (blur)="
                this.NewsModalForm.controls['NewsTitleEn'].value.length < 10
                  ? (NewsTitleEnError = true)
                  : (NewsTitleEnError = false)
              "
            />
            <!-- this.NewsModalForm.controls['NewsTitleEn'].value.length != 10 && -->
            <div
              class="fieldrequired"
              *ngIf="
                (NewsModalForm.get('NewsTitleEn')?.hasError('required') &&
                  NewsModalForm.get('NewsTitleEn')?.touched) ||
                NewsTitleEnError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "The text is Arabic" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'The text is Arabic' | translate"
              name="textAr"
              formControlName="NewsBodyAr"
              autocomplete="off"
              (blur)="
                this.NewsModalForm.controls['NewsBodyAr'].value.length < 10
                  ? (NewsBodyArError = true)
                  : (NewsBodyArError = false)
              "
            />
            <!-- this.NewsModalForm.controls['NewsBodyAr'].value.length != 10 && -->
            <div
              class="fieldrequired"
              *ngIf="
                (NewsModalForm.get('NewsBodyAr')?.hasError('required') &&
                  NewsModalForm.get('NewsBodyAr')?.touched) ||
                NewsBodyArError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label class="text-right col-form-label block">
              {{ "The text is English" | translate }}
              <span class="text-danger">*</span>
            </label>
            <input
              class="form-control"
              type="text"
              [placeholder]="'The text is English' | translate"
              name="textEn"
              formControlName="NewsBodyEn"
              autocomplete="off"
              (blur)="
                this.NewsModalForm.controls['NewsBodyEn'].value.length < 10
                  ? (NewsBodyEnError = true)
                  : (NewsBodyEnError = false)
              "
            />
            <!-- this.NewsModalForm.controls['NewsBodyEn'].value.length != 10 && -->
            <div
              class="fieldrequired"
              *ngIf="
                (NewsModalForm.get('NewsBodyEn')?.hasError('required') &&
                  NewsModalForm.get('NewsBodyEn')?.touched) ||
                NewsBodyEnError == true
              "
            >
              {{ "This field is required length 10" | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="upload">
            <file-upload [control]="controlNewsModaImage">
              <ng-template
                let-isFileDragDropAvailable="isFileDragDropAvailable"
                #placeholder
                let-file="file"
                *ngIf="this.NewsModalimageFileOutput == null"
              >
                <div
                  *ngIf="NewsModalForm.controls['UploadedImage'].value == null"
                >
                  <div class="icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      height="0.5em"
                      viewBox="0 0 640 512"
                    >
                      <path
                        d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                      />
                    </svg>
                  </div>

                  <div class="upload-text">
                    {{ "Determine the image of the news" | translate }}
                  </div>
                </div>
                <div
                  class="overlay"
                  *ngIf="NewsModalForm.controls['UploadedImage'].value != null"
                >
                  <span
                    class="delete-button"
                    (click)="
                      controlNewsModaImage.clear();
                      NewsModalForm.controls['UploadedImage'].setValue(null)
                    "
                  >
                    <svg viewBox="0 0 448 512">
                      <path
                        d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                      ></path>
                    </svg>
                  </span>
                  <img
                    src="{{
                      environmenturl +
                        NewsModalForm.controls['UploadedImage'].value
                    }}"
                  />
                </div>
              </ng-template>

              <ng-template
                let-i="index"
                *ngIf="this.NewsModalimageFileOutput != null"
                let-file="file"
                let-control="control"
                #item
              >
                <div class="overlay">
                  <span
                    class="delete-button"
                    (click)="
                      control.clear();
                      NewsModalForm.controls['UploadedImage'].setValue(null)
                    "
                  >
                    <svg viewBox="0 0 448 512">
                      <path
                        d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                      ></path>
                    </svg>
                  </span>
                  <img
                    *ngIf="control.valid"
                    [src]="uploadedFileImgNewsModal | async"
                  />
                </div>
              </ng-template>
            </file-upload>
          </div>
        </div>
      </div>
    </form>
    <div class="modal-footer justify-content-end mt-3" style="border-top: none">
      <button
        type="button"
        class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
        (click)="
          intialNewsModalForm();
          controlNewsModaImage.clear();
          NewsBodyArError = false;
          NewsBodyEnError = false;
          NewsTitleArError = false;
          this.uploadedFileImgNewsModal.next('');
          this.NewsModalimageFileOutput = null;
          NewsTitleEnError = false
        "
      >
        {{ "new" | translate }}
      </button>
      <button
        type="button"
        class="btn submit-btn bg-base text-white py-2 px-3 mt-0"
        (click)="saveNews()"
        [disabled]="
          this.NewsModalForm.controls['NewsTitleAr'].value == null ||
          this.NewsModalForm.controls['NewsTitleEn'].value == null ||
          this.NewsModalForm.controls['NewsBodyAr'].value == null ||
          this.NewsModalForm.controls['NewsBodyEn'].value == null ||
          NewsBodyArError == true ||
          NewsBodyEnError == true ||
          NewsTitleArError == true ||
          NewsTitleEnError == true
        "
      >
        {{ "save" | translate }}
      </button>
      <button
        type="button"
        class="btn btn-outline-secondary py-2 px-3 mt-0"
        (click)="modal.dismiss(); controlNewsModaImage.clear()"
      >
        {{ "close" | translate }}
      </button>
    </div>

    <div class="tables-data mt-3 overflow-hidden">
      <div class="overflow-auto">
        <table
          mat-table
          [dataSource]="AllNewsList"
          matSort
          class="mat-elevation-z8 rounded-t-lg overflow-hidden w-max"
        >
          <!-- nameAr column -->
          <ng-container matColumnDef="nameAr">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "nameAr" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?.newsTitleAr }}</span>
            </td>
          </ng-container>
          <!-- nameEn column -->
          <ng-container matColumnDef="nameEn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              <span>{{ "nameEn" | translate }}</span>
            </th>
            <td mat-cell *matCellDef="let element">
              <span>{{ element?.newsTitleEn }}</span>
            </td>
          </ng-container>
          <!-- operations Column -->
          <ng-container matColumnDef="operations">
            <th mat-header-cell *matHeaderCellDef>
              {{ "operations" | translate }}
            </th>
            <td mat-cell *matCellDef="let element">
              <div class="flex gap-1 justify-center py-2">
                <button
                  class="p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="editNewsModal(element)"
                >
                  <i class="fa fa-edit"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                  (click)="open(deleteNewsModal, element, 'deleteNewsModal')"
                >
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="newsDisplayedColumns"></tr>

          <tr
            mat-row
            *matRowDef="let row; columns: newsDisplayedColumns"
            class="duration-300 hover:bg-slate-100"
          ></tr>

          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">
              {{ "noResult" | translate }} "{{ input.value }}"
            </td>
          </tr>
        </table>
      </div>
      <mat-paginator [pageSizeOptions]="[10, 25]"> </mat-paginator>
    </div>
  </div>
</ng-template>

<ng-template #place let-modal>
  <div
    style="background-color: var(--base-color)"
    class="modal-header text-white flex justify-between items-center"
  >
    <h4 class="m-0">
      <span class="text-2xl">
        {{ "City" | translate }}
      </span>
    </h4>
    <button
      type="button"
      class="text-2xl text-white m-0"
      (click)="modal.dismiss()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="modal-body">
    <form class="modal-form" #form="ngForm">
      <div
        class="grid md:grid-cols-2 gap-3"
        style="grid-template-columns: repeat(2, minmax(0, 1fr))"
      >
        <div class="form-group">
          <label class="text-right col-form-label block">
            {{ "nameAr" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            class="form-control"
            type="text"
            name="citynamear"
            [(ngModel)]="citynamear"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameAr' | translate)"
          />
        </div>
        <div class="form-group">
          <label class="text-right col-form-label block">
            {{ "nameEn" | translate }}
            <span class="text-danger">*</span></label
          >
          <input
            class="form-control"
            type="text"
            name="citynameen"
            [(ngModel)]="citynameen"
            autocomplete="off"
            [placeholder]="('Write' | translate) + ' ' + ('nameEn' | translate)"
          />
        </div>
      </div>

      <div
        class="max-h-80 overflow-auto col-span-1 md:col-span-2 mt-2"
        style="grid-template-columns: repeat(1, minmax(0, 1fr))"
      >
        <table class="custome-table">
          <thead>
            <tr class="text-center">
              <th>{{ "nameAr" | translate }}</th>
              <th>{{ "nameEn" | translate }}</th>
              <th
                [translate]="'name'"
                [translateParams]="{
                  ar: 'خيارات',
                  en: 'Operations'
                }"
              ></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of citylist; let i = index"
              style="line-height: 5px"
            >
              <td>
                <input
                  type="text"
                  name="os-namear{{ i }}"
                  [(ngModel)]="item.nameAr"
                  disabled="true"
                  autocomplete="off"
                />
              </td>
              <td>
                <input
                  type="text"
                  name="os-nameen{{ i }}"
                  autocomplete="off"
                  [(ngModel)]="item.nameEn"
                  disabled="true"
                />
              </td>
              <td>
                <button
                  (click)="editcity(item)"
                  class="p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10"
                >
                  <i class="fa-regular fa-pen-to-square"></i>
                </button>

                <button
                  class="p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 me-3"
                  (click)="open(deleteModalcity, item, 'citydeleted')"
                >
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
    <div
      class="flex gap-2 justify-end pt-3 border-t border-neutral-300 col-span-1 md:col-span-2 mt-2"
    >
      <button class="btn bg-base text-white" type="submit" (click)="SaveCity()">
        {{ "Save" | translate }}
      </button>
      <button (click)="modal.dismiss()" class="btn btn-secondary">
        {{ "Back" | translate }}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #deleteModalcity let-modal>
  <div class="modal-body text-center">
    <p
      [translate]="'name'"
      [translateParams]="{
        ar: 'هل تريد بالتأكيد حذف هذا الصف',
        en: 'Are you sure to delete this row ?'
      }"
    ></p>
    <div class="flex gap-2 justify-center">
      <button
        type="button"
        mat-raised-button
        color="warn"
        (click)="DeleteCity(); modal.dismiss()"
      >
        {{ "Yes" | translate }}
      </button>
      <button
        type="button"
        (click)="modal.dismiss()"
        mat-raised-button
        color="basic"
      >
        {{ "No" | translate }}
      </button>
    </div>
  </div>
</ng-template>

"use strict";(self.webpackChunkhaseeb_cloud=self.webpackChunkhaseeb_cloud||[]).push([[858,506],{2855:(zn,Pi,ft)=>{ft.d(Pi,{g:()=>tt});var Wt=ft(369);class tt extends Wt.L{}},5958:(zn,Pi,ft)=>{ft.d(Pi,{P:()=>Wt});class Wt{}},5782:(zn,Pi,ft)=>{ft.d(Pi,{X:()=>Wt});class Wt{}},3627:(zn,Pi,ft)=>{ft.d(Pi,{f:()=>wn});var Wt=ft(2340),tt=ft(4650),Zt=ft(529);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=Wt.N.apiEndPoint}SearchOutbox(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"OutInBox/SearchOutboxNew",ht,{headers:{"content-type":"application/json"}})}GetAllDepartmentbyType(R){return this.http.get(this.apiEndPoint+"Department/GetAllDepartmentbyType?Type="+R)}FillDepartmentSelectByType(R){return this.http.get(this.apiEndPoint+"Department/FillDepartmentSelectByType?param="+R)}SaveDepartment(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Department/SaveDepartment",ht,{headers:{"content-type":"application/json"}})}DeleteDepartment(R){return this.http.post(this.apiEndPoint+"Department/DeleteDepartment?DepartmentId="+R,null)}GetAllOutInBoxSerial(R){return this.http.get(this.apiEndPoint+"OutInBoxSerial/GetAllOutInBoxSerial?Type="+R)}SaveOutInBoxSerial(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"OutInBoxSerial/SaveOutInBoxSerial",ht,{headers:{"content-type":"application/json"}})}DeleteOutInBoxSerial(R){return this.http.post(this.apiEndPoint+"OutInBoxSerial/DeleteOutInBoxSerial?OutInSerialId="+R,null)}GenerateOutInBoxNumber(R){return this.http.get(this.apiEndPoint+"OutInBoxSerial/GenerateOutInBoxNumber?outInSerialId="+R)}GetAllArchiveFiles(R){return this.http.get(this.apiEndPoint+"ArchiveFiles/GetAllArchiveFiles?SearchText="+R)}FillArchiveFilesSelect(){return this.http.get(this.apiEndPoint+"ArchiveFiles/FillArchiveFilesSelect")}SaveArchiveFiles(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"ArchiveFiles/SaveArchiveFiles",ht,{headers:{"content-type":"application/json"}})}DeleteArchiveFiles(R){return this.http.post(this.apiEndPoint+"ArchiveFiles/DeleteArchiveFiles?ArchiveFileId="+R,null)}GetAllOutInBoxTypes(R){return this.http.get(this.apiEndPoint+"OutInBoxType/GetAllOutInBoxTypes?SearchText="+R)}FillOutInBoxTypeSelect(){return this.http.get(this.apiEndPoint+"OutInBoxType/FillOutInBoxTypeSelect")}SaveOutInBoxType(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"OutInBoxType/SaveOutInBoxType",ht,{headers:{"content-type":"application/json"}})}DeleteOutInBoxType(R){return this.http.post(this.apiEndPoint+"OutInBoxType/DeleteOutInBoxType?TypeId="+R,null)}FillOutboxTypeSelect(R){return this.http.get(this.apiEndPoint+"OutInBox/FillOutboxTypeSelect?param="+R)}FillInboxTypeSelect(R){return this.http.get(this.apiEndPoint+"OutInBox/FillInboxTypeSelect?param="+R)}FillProjectSelect(){return this.http.get(this.apiEndPoint+"Project/FillProjectSelect")}SaveOutInbox(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"OutInBox/SaveOutInbox",ht,{headers:{"content-type":"application/json"}})}GetOutInboxById(R){return this.http.get(this.apiEndPoint+"OutInBox/GetOutInboxById?OutInBoxId="+R)}GetProjectById(R){return this.http.get(this.apiEndPoint+"Project/GetProjectById?ProjectId="+R)}UploadOutInBoxFiles(R){return this.http.post(this.apiEndPoint+"FileUpload/UploadOutInBoxFiles",R)}DeleteOutInBox(R){return this.http.post(this.apiEndPoint+"OutInBox/DeleteOutInBox?OutInBoxId="+R,null)}GetAllFiles(R){return this.http.get(this.apiEndPoint+"ContacFiles/GetAllFiles?OutInBoxId="+R)}GetOutInboxProjectFiles(R,et){return this.http.get(this.apiEndPoint+"OutInbox/GetOutInboxProjectFiles?Type="+R+"&&ProjectId="+et)}}return Ht.\u0275fac=function(R){return new(R||Ht)(tt.LFG(Zt.eN))},Ht.\u0275prov=tt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},9793:(zn,Pi,ft)=>{ft.d(Pi,{P:()=>wn});var Wt=ft(529),tt=ft(2340),Zt=ft(4650);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=tt.N.apiEndPoint}GetAllFiles(R,et,ht,Ot,ne){return this.http.get(null==ht||null==Ot?null==ne?`${tt.N.apiEndPoint}File/GetAllFiles`:`${tt.N.apiEndPoint}File/GetAllFiles?Filetype=${ne}`:null==ne?`${tt.N.apiEndPoint}File/GetAllFiles?DateFrom=${ht}&DateTo=${Ot}`:`${tt.N.apiEndPoint}File/GetAllFiles?DateFrom=${ht}&DateTo=${Ot}&Filetype=${ne}`)}GetAllFilesTree(R){return this.http.post(`${this.apiEndPoint}File/GetAllFilesTree`,R)}GetAllFilesForProject(R,et,ht,Ot,ne){return this.http.get(null==ht||null==Ot?null==ne?`${tt.N.apiEndPoint}File/GetAllFiles?ProjectId=${R}`:`${tt.N.apiEndPoint}File/GetAllFiles?Filetype=${ne}&ProjectId=${R}`:null==ne?`${tt.N.apiEndPoint}File/GetAllFiles?DateFrom=${ht}&DateTo=${Ot}&ProjectId=${R}`:`${tt.N.apiEndPoint}File/GetAllFiles?DateFrom=${ht}&DateTo=${Ot}&Filetype=${ne}&ProjectId=${R}`)}GetAllCertificateFiles(R,et){return this.http.get(null==R?`${tt.N.apiEndPoint}File/GetAllCertificateFiles?&IsCertified=${et}`:`${tt.N.apiEndPoint}File/GetAllCertificateFiles?ProjectId=${R}&IsCertified=${et}`)}GetFilesById(R){return this.http.get(`${tt.N.apiEndPoint}File/GetFilesById?&FileId=${R}`)}GetAllProjectRequirementById(R){return this.http.get(`${tt.N.apiEndPoint}ProjectRequirements/GetAllProjectRequirementById?&RequirementId=${R}`)}DeleteFile(R){return this.http.post(this.apiEndPoint+"File/DeleteFile",{},{params:{FileId:R}})}DeleteRequirement(R){return this.http.post(this.apiEndPoint+"ProjectRequirements/DeleteProjectRequirements",{},{params:{RequirementId:R}})}FillProjectSelect(){return this.http.get(this.apiEndPoint+"Project/FillProjectSelect")}FillFileTypeSelect(){return this.http.get(this.apiEndPoint+"FileType/FillFileTypeSelect")}GetAllFileTypes(){return this.http.get(this.apiEndPoint+"FileType/GetAllFileTypes")}SaveFileType(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"FileType/SaveFileType",ht,{headers:{"content-type":"application/json"}})}DeleteFileType(R){return this.http.post(this.apiEndPoint+"FileType/DeleteFileType",{},{params:{FileTypeId:R}})}SaveprojectFiles(R,et){let ht=new Wt.WM;ht=ht.append("Content-Type","multipart/form-data");const Ot=new FormData;Ot.append("uploadesgiles",R),Ot.append("FileId",String(et.fileId)),Ot.append("FileName",String(et.fileName)),Ot.append("TypeId",String(et.typeId)),Ot.append("ProjectId",String(et.projectId)),Ot.append("Notes",String(et.notes)),Ot.append("IsCertified",et.isCertified),Ot.append("pageInsert",String(et.pageInsert));const ne=new Wt.aW("POST",`${this.apiEndPoint}FileUpload/UploadProjectFilesNew`,Ot,{reportProgress:!0,responseType:"json"});return this.http.request(ne)}}return Ht.\u0275fac=function(R){return new(R||Ht)(Zt.LFG(Wt.eN))},Ht.\u0275prov=Zt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},1506:(zn,Pi,ft)=>{ft.d(Pi,{l:()=>wn});var Wt=ft(2340),tt=ft(4650),Zt=ft(529);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=Wt.N.apiEndPoint}getAllProjectArchives(){return this.http.get(this.apiEndPoint+"Project/GetAllArchiveProjects")}FillProjectTypeSelect(){return this.http.get(this.apiEndPoint+"ProjectType/FillProjectTypeSelect")}FillCustomersSelect_ArchivesProjects(){return this.http.get(this.apiEndPoint+"Customer/FillCustomersSelect_ArchivesProjects")}FillAllUsersSelect(){return this.http.get(this.apiEndPoint+"ControllingTask/FillAllUsersSelect")}FillCitySelect(){return this.http.get(this.apiEndPoint+"City/FillCitySelect")}SearchFn(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Project/GetArchiveProjectsSearch",ht,{headers:{"content-type":"application/json"}})}SearchDateFn(R,et){return this.http.get(this.apiEndPoint+"Project/GetAllArchiveProjectsByDateSearch?DateFrom="+R+"&&DateTo="+et)}ConvertProjectToActive(R){return this.http.get(this.apiEndPoint+"Project/UpdateStatusProject?ProjectId="+R)}}return Ht.\u0275fac=function(R){return new(R||Ht)(tt.LFG(Zt.eN))},Ht.\u0275prov=tt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},7296:(zn,Pi,ft)=>{ft.d(Pi,{a:()=>wn});var Wt=ft(2340),tt=ft(4650),Zt=ft(529);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=Wt.N.apiEndPoint}getreportNew(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"ProjectPhasesTasks/getreportNew",ht,{headers:{"content-type":"application/json"}})}FillAllUsersTodropdown(){return this.http.get(this.apiEndPoint+"Users/FillAllUsersTodropdown")}FillBranchSelect(){return this.http.get(this.apiEndPoint+"Branches/FillBranchSelect")}GetUserProjectsReportW(){return this.http.get(this.apiEndPoint+"Project/GetUserProjectsReportW")}GetUserProjectsReportS_paging(R,et,ht,Ot,ne,se,i){return this.http.get(""+(this.apiEndPoint+"Project/GetUserProjectsReportS_paging"),{params:{UserId:R,CustomerId:et,DateFrom:ht,DateTo:Ot,page:ne,pageSize:se,SearchText:i}})}GetUserProjectsReportS(R,et,ht,Ot){return this.http.get(""+(this.apiEndPoint+"Project/GetUserProjectsReportS"),{params:{UserId:R,CustomerId:et,DateFrom:ht,DateTo:Ot}})}GetAllProjectPhasesTasksW_whithworkorder(){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllProjectPhasesTasksW_whithworkorder")}GetAllProjectPhasesTasksS_whithworkorder(R,et,ht,Ot){return this.http.get(""+(this.apiEndPoint+"ProjectPhasesTasks/GetAllProjectPhasesTasksS_whithworkorder"),{params:{UserId:R,status:et,DateFrom:ht,DateTo:Ot}})}GetAllProjectPhasesTasksS_whithworkorder_paging(R,et,ht,Ot,ne,se,i){return this.http.get(""+(this.apiEndPoint+"ProjectPhasesTasks/GetAllProjectPhasesTasksS_whithworkorder_paging"),{params:{UserId:R,status:et,DateFrom:ht,DateTo:Ot,Searchtext:ne,page:se,pageSize:i}})}GetAllLateProjectPhasesByuser_rpt(R,et,ht,Ot){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllLateProjectPhasesByuser_rpt?UserId="+R+"&&status="+et+"&&DateFrom="+ht+"&&DateTo="+Ot)}GetAllLateProjectPhasesByuser_rpt_paging(R,et,ht,Ot,ne,se,i){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllLateProjectPhasesByuser_rpt_paging?UserId="+R+"&&status="+et+"&&DateFrom="+ht+"&&DateTo="+Ot+"&&Searchtext="+ne+"&&page="+se+"&&pageSize="+i)}GetAllProjectPhasesTasksbystatus_WithworkOrder(R,et,ht,Ot){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllProjectPhasesTasksbystatus_WithworkOrder?UserId="+R+"&&status="+et+"&&DateFrom="+ht+"&&DateTo="+Ot)}GetAllProjectPhasesTasksbystatus_WithworkOrder_paging(R,et,ht,Ot,ne,se,i){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllProjectPhasesTasksbystatus_WithworkOrder_paging?UserId="+R+"&&status="+et+"&&DateFrom="+ht+"&&DateTo="+Ot+"&&Searchtext="+ne+"&&page="+se+"&&pageSize="+i)}FillAllUsersSelectAll(){return this.http.get(this.apiEndPoint+"ControllingTask/FillAllUsersSelectAll")}GetAllTasksByProjectIdW_whithWotkOrder(){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllTasksByProjectIdW_whithWotkOrder")}GetAllTasksByProjectIdS_withworkorder(R,et,ht,Ot){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllTasksByProjectIdS_withworkorder?ProjectId="+R+"&&DepartmentId="+et+"&&DateFrom="+ht+"&&DateTo="+Ot)}GetAllTasksByProjectIdS_withworkorder_paging(R,et,ht,Ot,ne,se,i){return this.http.get(this.apiEndPoint+"ProjectPhasesTasks/GetAllTasksByProjectIdS_withworkorder_paging?ProjectId="+R+"&&DepartmentId="+et+"&&DateFrom="+ht+"&&DateTo="+Ot+"&&Searchtext="+ne+"&&page="+se+"&&pageSize="+i)}FillProjectSelect(){return this.http.get(this.apiEndPoint+"Project/FillProjectSelect")}GetProjectsCostSearch(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Project/GetProjectsSearch",ht,{headers:{"content-type":"application/json"}})}GetProjectsCostSearch_ByDate(R,et){return this.http.get(this.apiEndPoint+"Project/GetAllProjectsByDateSearch?DateFrom="+R+"&&DateTo="+et)}FillProjectTypeSelect(){return this.http.get(this.apiEndPoint+"ProjectType/FillProjectTypeSelect")}FillCustomerSelect(){return this.http.get(this.apiEndPoint+"Customer/FillCustomerSelect")}FillProjectSubTypesSelect(R){return this.http.get(`${Wt.N.apiEndPoint}ProjectSubTypes/FillProjectSubTypesSelect?param=${R}`)}}return Ht.\u0275fac=function(R){return new(R||Ht)(tt.LFG(Zt.eN))},Ht.\u0275prov=tt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},2265:(zn,Pi,ft)=>{ft.d(Pi,{x:()=>wn});var Wt=ft(2340),tt=ft(4650),Zt=ft(529);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=Wt.N.apiEndPoint}GetAllSupervisions(R){return this.http.get(null==R?`${Wt.N.apiEndPoint}Supervisions/GetAllSupervisions`:`${Wt.N.apiEndPoint}Supervisions/GetAllSupervisions?ProjectId=${R}`)}GenerateNextSupNumber(){return this.http.get(this.apiEndPoint+"Supervisions/GenerateNextSupNumber")}GetProjectDataOffice(R){return this.http.get(`${Wt.N.apiEndPoint}Project/GetProjectDataOffice?ProjectId=${R}`)}FillAllUsersSelectAll(){return this.http.get(this.apiEndPoint+"ControllingTask/FillAllUsersSelectAll")}FillCustomerSelectWProC_Supervision(){return this.http.get(this.apiEndPoint+"Project/FillCustomerSelectWProC_Supervision")}FillProjectSelectByCustomerId2_Supervision(R){return this.http.get(`${Wt.N.apiEndPoint}Project/FillProjectSelectByCustomerId2_Supervision?Param=${R}`)}FillSuperPhasesSelect(){return this.http.get(this.apiEndPoint+"Supervisions/FillSuperPhasesSelect")}FillContractorsSelect(){return this.http.get(this.apiEndPoint+"Project/FillContractorsSelect")}FillMunicipalsSelect(){return this.http.get(this.apiEndPoint+"Municipal/FillMunicipalsSelect")}FillSubMunicipalitysSelect(){return this.http.get(this.apiEndPoint+"SubMunicipality/FillSubMunicipalitysSelect")}FillBuildTypeSelect(){return this.http.get(this.apiEndPoint+"BuildTypes/FillBuildTypeSelect")}ConfirmSupervision(R,et,ht){return this.http.post(this.apiEndPoint+"Supervisions/ConfirmSupervision",{},{params:{SupervisionId:R,TypeId:et,TypeIdAdmin:ht}})}DeleteSupervision(R){return this.http.post(this.apiEndPoint+"Supervisions/DeleteSupervision",{},{params:{SupervisionId:R}})}SendMSupervision(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Supervisions/SendMSupervision",ht,{headers:{"content-type":"application/json"}})}SendWSupervision(R){return this.http.post(`${this.apiEndPoint}Supervisions/SendWSupervision`,R)}GetAllSuperPhases(){return this.http.get(this.apiEndPoint+"Supervisions/GetAllSuperPhases")}GetAllSuperPhaseDet(R){return this.http.get(`${Wt.N.apiEndPoint}Supervisions/GetAllSuperPhaseDet?PhaseId=${R}`)}PrintSupervisionMail(R){return this.http.get(`${Wt.N.apiEndPoint}Supervisions/PrintSupervisionMail?SupervisionId=${R}`)}ChangeSupervision(R,et){return this.http.get(`${Wt.N.apiEndPoint}Supervisions/ChangeSupervision?SuperId=${R}&&SuperCode=${et}`)}DeleteSuperPhases(R){return this.http.post(this.apiEndPoint+"Supervisions/DeleteSuperPhases",{},{params:{PhaseId:R}})}SupervisionAvailability(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Supervisions/SupervisionAvailability",ht,{headers:{"content-type":"application/json"}})}SaveSuperPhases(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Supervisions/SaveSuperPhases",ht,{headers:{"content-type":"application/json"}})}SaveSuperPhaseDet(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Supervisions/SaveSuperPhaseDet",ht,{headers:{"content-type":"application/json"}})}SaveSuperDet(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"Supervisions/SaveSuperDet",ht,{headers:{"content-type":"application/json"}})}GetAllSupervisionDetailsBySuperId(R){return this.http.get(`${Wt.N.apiEndPoint}Supervisions/GetAllSupervisionDetailsBySuperId?SupervisionId=${R}`)}GetAllBySupervisionSearch(R,et,ht,Ot,ne,se){var i="";return null!=ht&&0!=ht&&(i="EmpId="+ht),null!=Ot&&0!=Ot&&(""!=i&&(i+="&&"),i="phaseId="+Ot),null!=ne&&null!=se&&(""!=i&&(i+="&&"),i=i+"DateFrom="+ne+"&&Dateto="+se),this.http.get(""==i?`${Wt.N.apiEndPoint}Supervisions/GetAllBySupervisionSearch`:`${Wt.N.apiEndPoint}Supervisions/GetAllBySupervisionSearch?${i}`)}GetAllBySupervisionSearch_paging(R,et,ht,Ot,ne,se,i,go,$r){var Ye="";return null!=ht&&0!=ht&&(Ye="EmpId="+ht),null!=Ot&&0!=Ot&&(""!=Ye&&(Ye+="&&"),Ye="phaseId="+Ot),null!=ne&&null!=se&&(""!=Ye&&(Ye+="&&"),Ye=Ye+"DateFrom="+ne+"&&Dateto="+se),null!=i&&(""!=Ye&&(Ye+="&&"),Ye=Ye+"Searchtext="+i),null!=go&&null!=$r&&(""!=Ye&&(Ye+="&&"),Ye=Ye+"page="+go+"&&pageSize="+$r),this.http.get(""==Ye?`${Wt.N.apiEndPoint}Supervisions/GetAllBySupervisionSearch_paging`:`${Wt.N.apiEndPoint}Supervisions/GetAllBySupervisionSearch_paging?${Ye}`)}}return Ht.\u0275fac=function(R){return new(R||Ht)(tt.LFG(Zt.eN))},Ht.\u0275prov=tt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},756:(zn,Pi,ft)=>{ft.d(Pi,{H:()=>wn});var Wt=ft(529),tt=ft(2340),Zt=ft(4650);let wn=(()=>{class Ht{constructor(R){this.http=R,this.apiEndPoint="",this.apiEndPoint=tt.N.apiEndPoint}GetAllWorkOrders(){return this.http.get(this.apiEndPoint+"WorkOrders/GetAllWorkOrders")}FillCustomerSelect(){return this.http.get(this.apiEndPoint+"Customer/FillCustomerSelect")}FillAllUsersTodropdown(){return this.http.get(this.apiEndPoint+"Users/FillAllUsersTodropdown")}FillAllUsersSelectAll(){return this.http.get(this.apiEndPoint+"ControllingTask/FillAllUsersSelectAllByBranch")}GetMaxOrderNumber(){return this.http.get(this.apiEndPoint+"WorkOrders/GetMaxOrderNumber")}GetCustomersByCustomerId(R){return this.http.get(`${tt.N.apiEndPoint}Customer/GetCustomersByCustomerId?CustomerId=${R}`)}GetAllProjByCustomerId(R){return this.http.get(`${tt.N.apiEndPoint}Project/GetAllProjByCustomerId?customerId=${R}`)}DeleteWorkOrder(R){return this.http.post(this.apiEndPoint+"WorkOrders/DeleteWorkOrder",{},{params:{WorkOrderId:R}})}SearchFn(R){const ht=JSON.stringify(R);return this.http.post(this.apiEndPoint+"WorkOrders/SearchWorkOrders",ht,{headers:{"content-type":"application/json"}})}SearchDateFn(R,et){return this.http.get(this.apiEndPoint+"WorkOrders/GetAllWorkOrdersByDateSearch?DateFrom="+R+"&&DateTo="+et)}SaveWorkOrder(R){let et=new Wt.WM;et=et.append("Content-Type","multipart/form-data");const ht=new Wt.aW("POST",`${this.apiEndPoint}WorkOrders/SaveWorkOrder`,R,{reportProgress:!0,responseType:"json"});return this.http.request(ht)}SaveWorkOrderFile(R){let et=new Wt.WM;et=et.append("Content-Type","multipart/form-data");const ht=new Wt.aW("POST",`${this.apiEndPoint}WorkOrders/SaveWorkOrderFile`,R,{reportProgress:!0,responseType:"json"});return this.http.request(ht)}SaveProjectRequirement4(R,et){let ht=new Wt.WM;ht=ht.append("Content-Type","multipart/form-data");const Ot=new FormData;null!=R&&Ot.append("uploadesgiles",R),Ot.append("RequirementId",String(et.requirementId)),Ot.append("OrderId",et.orderId),Ot.append("PageInsert",String(et.pageInsert));const ne=new Wt.aW("POST",`${this.apiEndPoint}ProjectRequirements/SaveProjectRequirement4`,Ot,{reportProgress:!0,responseType:"json"});return this.http.request(ne)}}return Ht.\u0275fac=function(R){return new(R||Ht)(Zt.LFG(Wt.eN))},Ht.\u0275prov=Zt.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},3690:(zn,Pi,ft)=>{ft.d(Pi,{N:()=>pp});var Wt=ft(1135),tt=ft(6308),Zt=ft(671),wn=ft(1366),Ht=ft(9585),Lt=ft(2340),R=ft(5899),et=ft(4045),ht=ft(2855),ne=(ft(4604),ft(8723)),se=ft(529),i=ft(4650),go=ft(9337);let $r=(()=>{class c{constructor(u){this.http=u,this.apiEndPoint="",this.apiEndPoint=Lt.N.apiEndPoint}GetContractorData(u){return this.http.get(`${Lt.N.apiEndPoint}Project/GetContractorData?ContractorId=${u}`)}GetProDetailsReadyVm(u,h){return this.http.get(`${Lt.N.apiEndPoint}Home/GetProDetailsReadyVm?ProjectId=${u}&&ProMangerID=${h}`)}GetAllPrivUser(u){return this.http.get(`${Lt.N.apiEndPoint}Project/GetAllPrivUser?Projectid=${u}`)}GetAllWorkOrdersyProjectId(u){return this.http.get(`${Lt.N.apiEndPoint}WorkOrders/GetAllWorkOrdersyProjectId?ProjectId=${u}`)}GetAllSupervisions(u){return this.http.get(`${Lt.N.apiEndPoint}Supervisions/GetAllSupervisions?ProjectId=${u}`)}GetAllUsersNotification(u){return this.http.get(`${Lt.N.apiEndPoint}Users/GetAllUsers?ProjectId=${u}`)}GetAllProjectExtracts(u){return this.http.get(`${Lt.N.apiEndPoint}ProjectExtracts/GetAllProjectExtracts?ProjectId=${u}`)}LoadTasksGrid(u){return this.http.get(`${Lt.N.apiEndPoint}ProjectPhasesTasks/GetProjectPhasesTasks2?ProjectId=${u}`)}LoadTasksGridTree(u){return this.http.post(`${this.apiEndPoint}ProjectPhasesTasks/GetProjectPhasesTasks2Tree`,u)}GetAllNotifications(u){return this.http.get(`${Lt.N.apiEndPoint}Notification/GetAllNotifications?ProjectId=${u}`)}GetOutInboxProjectFiles(u,h){return this.http.get(`${Lt.N.apiEndPoint}OutInbox/GetOutInboxProjectFiles?Type=${u}&&ProjectId=${h}`)}GetAllFiles(u){return this.http.get(`${Lt.N.apiEndPoint}ContacFiles/GetAllFiles?OutInBoxId=${u}`)}GetAllCustomerFiles(u){return this.http.get(`${Lt.N.apiEndPoint}CustomerFiles/GetAllCustomerFiles?CustomerId=${u}`)}RestartTask(u,h){return this.http.post(this.apiEndPoint+"ProjectPhasesTasks/RestartTask",{},{params:{param:u,RetrievedReason:h}})}UpdateFileShare(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"File/UpdateFileShare",D,{headers:{"content-type":"application/json"}})}NotUpdateFileShare(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"File/NotUpdateFileShare",D,{headers:{"content-type":"application/json"}})}SaveProjectDetails(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"Project/SaveProjectDetails",D,{headers:{"content-type":"application/json"}})}FillRegionTypesSelect(){return this.http.get(this.apiEndPoint+"RegionTypes/FillRegionTypesSelect")}DeleteRegionTypes(u){return this.http.post(this.apiEndPoint+"RegionTypes/DeleteRegionTypes",{},{params:{RegionTypeId:u}})}SaveRegionTypes(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"RegionTypes/SaveRegionTypes",D,{headers:{"content-type":"application/json"}})}FillProjectPieces(u){return this.http.get(`${Lt.N.apiEndPoint}ProjectPieces/FillProjectPieces?param=${u}`)}DeleteProjectPieces(u){return this.http.post(this.apiEndPoint+"ProjectPieces/DeleteProjectPieces",{},{params:{PieceId:u}})}SaveProjectPieces(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"ProjectPieces/SaveProjectPieces",D,{headers:{"content-type":"application/json"}})}FillInstrumentSourcesSelect(){return this.http.get(this.apiEndPoint+"InstrumentSources/FillInstrumentSourcesSelect")}DeleteInstrumentSources(u){return this.http.post(this.apiEndPoint+"InstrumentSources/DeleteInstrumentSources",{},{params:{instrumentSourcesId:u}})}SaveInstrumentSources(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"InstrumentSources/SaveInstrumentSources",D,{headers:{"content-type":"application/json"}})}FillContractorsSelect(){return this.http.get(this.apiEndPoint+"Project/FillContractorsSelect")}DeleteSuperContractor(u){return this.http.post(this.apiEndPoint+"Project/DeleteSuperContractor",{},{params:{ContractorId:u}})}SaveSuperContractor(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"Project/SaveSuperContractor",D,{headers:{"content-type":"application/json"}})}FillMunicipalsSelect(){return this.http.get(this.apiEndPoint+"Municipal/FillMunicipalsSelect")}DeleteMunicipal(u){return this.http.post(this.apiEndPoint+"Municipal/DeleteMunicipal",{},{params:{MunicipalId:u}})}SaveMunicipal(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"Municipal/SaveMunicipal",D,{headers:{"content-type":"application/json"}})}FillSubMunicipalitysSelect(){return this.http.get(this.apiEndPoint+"SubMunicipality/FillSubMunicipalitysSelect")}DeleteSubMunicipality(u){return this.http.post(this.apiEndPoint+"SubMunicipality/DeleteSubMunicipality",{},{params:{SubMunicipalityId:u}})}SaveSubMunicipality(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"SubMunicipality/SaveSubMunicipality",D,{headers:{"content-type":"application/json"}})}FillBuildTypeSelect(){return this.http.get(this.apiEndPoint+"BuildTypes/FillBuildTypeSelect")}DeleteBuildTypes(u){return this.http.post(this.apiEndPoint+"BuildTypes/DeleteBuildTypes",{},{params:{BuildTypesId:u}})}SaveBuildTypes(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"BuildTypes/SaveBuildTypes",D,{headers:{"content-type":"application/json"}})}GetAllInstruments(u){return this.http.get(`${Lt.N.apiEndPoint}Instruments/GetAllInstruments?ProjectId=${u}`)}DeleteInstruments(u){return this.http.post(this.apiEndPoint+"Instruments/DeleteInstruments",{},{params:{instrumentId:u}})}SaveInstrument(u){const D=JSON.stringify(u);return this.http.post(this.apiEndPoint+"Instruments/SaveInstrument",D,{headers:{"content-type":"application/json"}})}GetAllOffersByProjectId(u){return this.http.get(`${Lt.N.apiEndPoint}OffersPrice/GetAllOffersByProjectId?ProjectId=${u}`)}GetOfferservicenByProjectId(u){return this.http.get(`${Lt.N.apiEndPoint}OffersPrice/GetOfferservicenByProjectId?ProjectId=${u}`)}GetAllRequirementsByProjectId(u){return this.http.get(`${Lt.N.apiEndPoint}Requirements/GetAllRequirementsByProjectId?ProjectId=${u}`)}SaveRequirementsbyProjectId(u){return this.http.post(this.apiEndPoint+"Requirements/SaveRequirementsbyProjectId",{},{params:{ProjectId:u}})}ConfirmRequirementStatus(u,h){return this.http.post(this.apiEndPoint+"Requirements/ConfirmRequirementStatus",{},{params:{RequirementId:u,Status:h}})}DeleteRequirement(u){return this.http.post(this.apiEndPoint+"Requirements/DeleteRequirement",{},{params:{RequirementId:u}})}ChangeSupervision(u,h){return this.http.get(`${Lt.N.apiEndPoint}Supervisions/ChangeSupervision?SuperId=${u}&&SuperCode=${h}`)}UploadHeadImageFir(u){return this.http.post(this.apiEndPoint+"Supervisions/UploadHeadImageFir",u)}UploadHeadImageSec(u){return this.http.post(this.apiEndPoint+"Supervisions/UploadHeadImageSec",u)}}return c.\u0275fac=function(u){return new(u||c)(i.LFG(se.eN))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var Ye=ft(9793),pa=ft(1745),z2=ft(7536),X2=ft(7185),n_=ft(7229),o_=ft(2265),r_=ft(9121),jf=ft(9383),W2=ft(3627),Bl=ft(6895),ir=ft(4006),$2=ft(445),tv=ft(4859),ev=ft(388),s_=ft(8796),Cp=ft(5612),Nf=ft(3848),iv=ft(9798),l_=ft(1948),u_=ft(9241),nv=ft(3162),a_=ft(3583),ov=ft(2842);const rv=["paginatorSupervision"],sv=["paginatorTask"],lv=["paginatorNoti"],uv=["paginatorFile"],av=["paginatorWorkorder"],hv=["paginatorInbox"],pv=["paginatorOutbox"],cv=["paginatorInboxFile"],dv=["paginatorOutboxFile"],h_=["paginatorCustomerFiles"],fv=["tree"],gv=["tree_phase"],mv=["paginatorOfferPrices"],p_=["paginatorServices"],c_=["paginatorConditions"];function d_(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function f_(c,_){if(1&c&&i._UZ(0,"img",50),2&c){const u=i.oxw();i.s9C("src",u.managerImg,i.LSH)}}function g_(c,_){1&c&&(i.TgZ(0,"div",82)(1,"div",83),i._uU(2," \u0645\u062a\u0623\u062e\u0631 "),i.qZA()())}function _v(c,_){if(1&c&&(i.TgZ(0,"div",82)(1,"div",84),i._uU(2),i.qZA()()),2&c){const u=i.oxw(2);i.xp6(1),i.Akn("width: "+u.percentagePro+"%"),i.uIk("aria-valuenow",u.percentagePro),i.xp6(1),i.hij(" ",u.percentagePro,"% ")}}function vv(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function yv(c,_){if(1&c&&i._UZ(0,"img",85),2&c){const u=i.oxw(2);i.s9C("src",u.addedImg,i.LSH)}}function xv(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function m_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",97),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(3);return D.hideInstruments=!D.hideInstruments,i.KtG(D.GetAllInstruments())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"instruments")," "))}function Pv(c,_){1&c&&(i.TgZ(0,"th",110),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Instrument No")," "))}function __(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.instrumentNo," ")}}function Dv(c,_){1&c&&i._UZ(0,"td",112)}function Sv(c,_){1&c&&(i.TgZ(0,"th",110),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Instrument date")," "))}function Tv(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.date," ")}}function Cv(c,_){1&c&&i._UZ(0,"td",112)}function v_(c,_){1&c&&(i.TgZ(0,"th",110),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"instrument source")," "))}function wv(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.instrumentName," ")}}function Av(c,_){1&c&&i._UZ(0,"td",112)}function Mv(c,_){1&c&&(i.TgZ(0,"th",110),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"operations")," "))}function Zv(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"td",111)(1,"button",113),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(4);return i.KtG(G.editInstruments(C))}),i._UZ(2,"i",114),i.qZA(),i.TgZ(3,"button",115),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(4);return i.KtG(G.deleteInstruments(C))}),i._UZ(4,"i",116),i.qZA()()}}function jv(c,_){1&c&&i._UZ(0,"td",112)}function Nv(c,_){1&c&&i._UZ(0,"tr",117)}function kv(c,_){1&c&&i._UZ(0,"tr",118)}function Iv(c,_){1&c&&(i.TgZ(0,"tr",119)(1,"td",120),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"noResult"),' "" '))}function Uv(c,_){if(1&c&&(i.TgZ(0,"div",98)(1,"table",99),i.ynx(2,100),i.YNc(3,Pv,3,3,"th",101),i.YNc(4,__,2,1,"td",102),i.YNc(5,Dv,1,0,"td",103),i.BQk(),i.ynx(6,104),i.YNc(7,Sv,3,3,"th",101),i.YNc(8,Tv,2,1,"td",102),i.YNc(9,Cv,1,0,"td",103),i.BQk(),i.ynx(10,105),i.YNc(11,v_,3,3,"th",101),i.YNc(12,wv,2,1,"td",102),i.YNc(13,Av,1,0,"td",103),i.BQk(),i.ynx(14,106),i.YNc(15,Mv,3,3,"th",101),i.YNc(16,Zv,5,0,"td",102),i.YNc(17,jv,1,0,"td",103),i.BQk(),i.YNc(18,Nv,1,0,"tr",107),i.YNc(19,kv,1,0,"tr",108),i.YNc(20,Iv,4,3,"tr",109),i.qZA()()),2&c){const u=i.oxw(3);i.xp6(1),i.Q6J("dataSource",u.AllInstrumentsList),i.xp6(17),i.Q6J("matHeaderRowDef",u.projectInstrumentsColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.projectInstrumentsColumns)}}const y_=function(){return{dateInputFormat:"DD/MM/YYYY"}};function Fv(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",53)(1,"h4",54),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",61)(5,"div",77)(6,"div",3)(7,"label",4),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"input",86),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.InstrumentsData.InstrumentNo=D)}),i.qZA()()(),i.TgZ(11,"div",77)(12,"div",3)(13,"label",79),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"div",80)(17,"input",87),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.InstrumentsData.Date=D)})("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.ChangeInstrumentsDataGre(D))}),i.qZA()()()(),i.TgZ(18,"div",77)(19,"div",88)(20,"label",89),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"hijri-gregorian-datepicker",90),i.NdJ("selectedDateChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.InstrumentsData.HijriDate=D)})("selectedDateChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.ChangeInstrumentsDateHijri(D))}),i.ALo(24,"translate"),i.qZA()()(),i.TgZ(25,"div",69)(26,"div",3)(27,"label",4),i._uU(28),i.ALo(29,"translate"),i.qZA(),i.TgZ(30,"div",70)(31,"ng-select",91),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.InstrumentsData.SourceId=D)}),i.YNc(32,xv,2,2,"ng-option",9),i.qZA(),i.TgZ(33,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2),C=i.MAs(99);return i.KtG(D.open(C))}),i._UZ(34,"i",73),i.qZA()()()(),i.TgZ(35,"div",92)(36,"button",93),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2);return i.KtG(D.saveInstruments())}),i._uU(37),i.ALo(38,"translate"),i.qZA(),i.TgZ(39,"button",94),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2);return i.KtG(D.resetInstruments())}),i._uU(40),i.ALo(41,"translate"),i.qZA(),i.YNc(42,m_,3,3,"button",95),i.qZA()(),i.YNc(43,Uv,21,3,"div",96),i.qZA()}if(2&c){const u=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,18,"instruments")," "),i.xp6(6),i.Oqu(i.lcZ(9,20,"Instrument No")),i.xp6(2),i.Q6J("ngModel",u.InstrumentsData.InstrumentNo),i.xp6(4),i.hij(" ",i.lcZ(15,22,"Instrument date")," "),i.xp6(3),i.Q6J("ngModel",u.InstrumentsData.Date)("bsConfig",i.DdM(34,y_)),i.xp6(4),i.hij(" ",i.lcZ(22,24,"Corresponding")," "),i.xp6(2),i.Q6J("selectedDate",u.InstrumentsData.HijriDate)("hijriLabel","Hijri")("selectedDateType",u.selectedDateType)("dir",i.lcZ(24,26,"dir")),i.xp6(5),i.Oqu(i.lcZ(29,28,"instrument source")),i.xp6(3),i.Q6J("ngModel",u.InstrumentsData.SourceId),i.xp6(1),i.Q6J("ngForOf",u.InstrumentSources),i.xp6(5),i.hij(" ",i.lcZ(38,30,"save")," "),i.xp6(3),i.hij(" ",i.lcZ(41,32,"\u062c\u062f\u064a\u062f")," "),i.xp6(2),i.Q6J("ngIf",(null==u.AllInstrumentsList?null:u.AllInstrumentsList.length)>0),i.xp6(1),i.Q6J("ngIf",u.hideInstruments)}}function Ov(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function Lv(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function bv(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",53)(1,"h4",121),i._uU(2),i.ALo(3,"translate"),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"div",122)(6,"span"),i._uU(7),i.qZA()(),i.TgZ(8,"div",61)(9,"div",62)(10,"div",3)(11,"label",4),i._uU(12),i.ALo(13,"translate"),i.TgZ(14,"span",74),i._uU(15,"*"),i.qZA()(),i.TgZ(16,"div",70)(17,"ng-select",123),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.municipalId=D)}),i.YNc(18,Ov,2,2,"ng-option",9),i.qZA(),i.TgZ(19,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2),C=i.MAs(107);return i.KtG(D.open(C))}),i._UZ(20,"i",73),i.qZA()()()(),i.TgZ(21,"div",62)(22,"div",3)(23,"label",4),i._uU(24),i.ALo(25,"translate"),i.TgZ(26,"span",74),i._uU(27,"*"),i.qZA()(),i.TgZ(28,"div",70)(29,"ng-select",71),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.subMunicipalityId=D)}),i.YNc(30,Lv,2,2,"ng-option",9),i.qZA(),i.TgZ(31,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2),C=i.MAs(111);return i.KtG(D.open(C))}),i._UZ(32,"i",73),i.qZA()()()()()()}if(2&c){const u=i.oxw(2);i.xp6(2),i.AsE(" ",i.lcZ(3,9,"honesty")," / ",i.lcZ(4,11,"Municipal")," "),i.xp6(5),i.Oqu("\u062a\u0646\u0628\u064a\u0647 : \u0644\u0644\u062a\u0645\u0643\u0646 \u0645\u0646 \u0625\u0646\u0634\u0627\u0621 \u0645\u0631\u062d\u0644\u0629 \u0625\u0634\u0631\u0627\u0641 \u062e\u0627\u0635\u0629 \u0628\u0645\u0631\u0627\u062d\u0644 \u0628\u0644\u062f\u064a \u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u062a\u0639\u0628\u0626\u0629 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0642\u0627\u0648\u0644"),i.xp6(5),i.hij("",i.lcZ(13,13,"honesty")," "),i.xp6(5),i.Q6J("ngModel",u.projectDetails.municipalId),i.xp6(1),i.Q6J("ngForOf",u.Municipals),i.xp6(6),i.hij("",i.lcZ(25,15,"Municipal")," "),i.xp6(5),i.Q6J("ngModel",u.projectDetails.subMunicipalityId),i.xp6(1),i.Q6J("ngForOf",u.SubMunicipalitys)}}function qv(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function Yv(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function Jv(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",77)(1,"div",3)(2,"label",4),i._uU(3),i.ALo(4,"translate"),i.TgZ(5,"span",74),i._uU(6,"*"),i.qZA()(),i.TgZ(7,"input",124),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.licenseNo=D)}),i.qZA()()()}if(2&c){const u=i.oxw(2);i.xp6(3),i.hij(" ",i.lcZ(4,2,"license number")," "),i.xp6(4),i.Q6J("ngModel",u.projectDetails.licenseNo)}}function Rv(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",77)(1,"div",3)(2,"label",4),i._uU(3),i.ALo(4,"translate"),i.TgZ(5,"span",74),i._uU(6,"*"),i.qZA()(),i.TgZ(7,"input",125),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.catego=D)}),i.qZA()()()}if(2&c){const u=i.oxw(2);i.xp6(3),i.hij(" ",i.lcZ(4,2,"No. planned")," "),i.xp6(4),i.Q6J("ngModel",u.projectDetails.catego)}}function x(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",77)(1,"div",3)(2,"label",4),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"input",126),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.proBuildingDisc=D)}),i.qZA()()()}if(2&c){const u=i.oxw(2);i.xp6(3),i.hij(" ",i.lcZ(4,2,"Construction description")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.proBuildingDisc)}}function x_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",77)(1,"div",3)(2,"label",4),i._uU(3),i.ALo(4,"translate"),i.TgZ(5,"span",74),i._uU(6,"*"),i.qZA()(),i.TgZ(7,"input",127),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.adwAR=D)}),i.qZA()()()}if(2&c){const u=i.oxw(2);i.xp6(3),i.hij(" ",i.lcZ(4,2,"Numberturns")," "),i.xp6(4),i.Q6J("ngModel",u.projectDetails.adwAR)}}function mi(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function kf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",53)(1,"h4",54),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",61)(5,"div",69)(6,"div",3)(7,"label",4),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"div",70)(11,"ng-select",128),i.NdJ("change",function(){i.CHM(u);const D=i.oxw(2);return i.KtG(D.ContractorChange())})("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.contractorSelectId=D)}),i.YNc(12,mi,2,2,"ng-option",9),i.qZA(),i.TgZ(13,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2),C=i.MAs(103);return i.KtG(D.open(C))}),i._UZ(14,"i",73),i.qZA()()()(),i.TgZ(15,"div",69)(16,"div",3)(17,"label",4),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.TgZ(20,"input",129),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.contractorEmail_T=D)}),i.qZA()()(),i.TgZ(21,"div",69)(22,"div",3)(23,"label",4),i._uU(24),i.ALo(25,"translate"),i.qZA(),i.TgZ(26,"input",130),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.contractorPhone_T=D)}),i.qZA()()(),i.TgZ(27,"div",69)(28,"div",3)(29,"label",4),i._uU(30),i.ALo(31,"translate"),i.qZA(),i.TgZ(32,"input",131),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.contractorCom_T=D)}),i.qZA()()(),i.TgZ(33,"div",69)(34,"div",3)(35,"label",4),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"input",132),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.co_opOfficeName=D)}),i.qZA()()(),i.TgZ(39,"div",69)(40,"div",3)(41,"label",4),i._uU(42),i.ALo(43,"translate"),i.qZA(),i.TgZ(44,"input",133),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.co_opOfficeEmail=D)}),i.qZA()()(),i.TgZ(45,"div",69)(46,"div",3)(47,"label",4),i._uU(48),i.ALo(49,"translate"),i.qZA(),i.TgZ(50,"input",134),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.co_opOfficePhone=D)}),i.qZA()()()()()}if(2&c){const u=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,16,"Continfowithsuperinfo")," "),i.xp6(6),i.Oqu(i.lcZ(9,18,"Contractor's name")),i.xp6(3),i.Q6J("ngModel",u.projectDetails.contractorSelectId),i.xp6(1),i.Q6J("ngForOf",u.Contractors),i.xp6(6),i.Oqu(i.lcZ(19,20,"email")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.contractorEmail_T),i.xp6(4),i.Oqu(i.lcZ(25,22,"Mobile")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.contractorPhone_T),i.xp6(4),i.Oqu(i.lcZ(31,24,"Commercial Register")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.contractorCom_T),i.xp6(4),i.Oqu(i.lcZ(37,26,"Collaborative office")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.co_opOfficeName),i.xp6(4),i.Oqu(i.lcZ(43,28,"email")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.co_opOfficeEmail),i.xp6(4),i.Oqu(i.lcZ(49,30,"Mobile")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.co_opOfficePhone)}}function P_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",53)(1,"h4",54),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",61)(5,"div",135)(6,"div",3)(7,"label",4),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"input",136),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.adwAR=D)}),i.qZA()()(),i.TgZ(11,"div",135)(12,"div",3)(13,"label",4),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"input",137),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.basement=D)}),i.qZA()()(),i.TgZ(17,"div",135)(18,"div",3)(19,"label",4),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.TgZ(22,"input",138),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.groundFloor=D)}),i.qZA()()(),i.TgZ(23,"div",135)(24,"div",3)(25,"label",4),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"input",139),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.firstFloor=D)}),i.qZA()()(),i.TgZ(29,"div",135)(30,"div",3)(31,"label",4),i._uU(32),i.ALo(33,"translate"),i.qZA(),i.TgZ(34,"input",140),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.motkrr=D)}),i.qZA()()(),i.TgZ(35,"div",135)(36,"div",3)(37,"label",4),i._uU(38),i.ALo(39,"translate"),i.qZA(),i.TgZ(40,"input",141),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.molhqalwisaqffash=D)}),i.qZA()()(),i.TgZ(41,"div",135)(42,"div",3)(43,"label",4),i._uU(44),i.ALo(45,"translate"),i.qZA(),i.TgZ(46,"input",142),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.molhqardisaqffash=D)}),i.qZA()()(),i.TgZ(47,"div",135)(48,"div",3)(49,"label",4),i._uU(50),i.ALo(51,"translate"),i.qZA(),i.TgZ(52,"input",143),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.buildingPercent=D)}),i.qZA()()(),i.TgZ(53,"div",135)(54,"div",3)(55,"label",4),i._uU(56),i.ALo(57,"translate"),i.qZA(),i.TgZ(58,"input",144),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.ertedad=D)}),i.qZA()()(),i.TgZ(59,"div",135)(60,"div",3)(61,"label",4),i._uU(62),i.ALo(63,"translate"),i.qZA(),i.TgZ(64,"input",145),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.siteName=D)}),i.qZA()()(),i.TgZ(65,"div",135)(66,"div",3)(67,"label",4),i._uU(68),i.ALo(69,"translate"),i.qZA(),i.TgZ(70,"input",146),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.areaSpace=D)}),i.qZA()()(),i.TgZ(71,"div",135)(72,"div",3)(73,"label",4),i._uU(74),i.ALo(75,"translate"),i.qZA(),i.TgZ(76,"input",147),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.brozat=D)}),i.qZA()()(),i.TgZ(77,"div",135)(78,"div",3)(79,"label",4),i._uU(80),i.ALo(81,"translate"),i.qZA(),i.TgZ(82,"input",148),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.entries=D)}),i.qZA()()(),i.TgZ(83,"div",135)(84,"div",3)(85,"label",4),i._uU(86),i.ALo(87,"translate"),i.qZA(),i.TgZ(88,"input",149),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.floorEstablishing=D)}),i.qZA()()(),i.TgZ(89,"div",135)(90,"div",3)(91,"label",4),i._uU(92),i.ALo(93,"translate"),i.qZA(),i.TgZ(94,"input",150),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.roof=D)}),i.qZA()()(),i.TgZ(95,"div",135)(96,"div",3)(97,"label",4),i._uU(98),i.ALo(99,"translate"),i.qZA(),i.TgZ(100,"input",151),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.takeef=D)}),i.qZA()()(),i.TgZ(101,"div",135)(102,"div",3)(103,"label",4),i._uU(104),i.ALo(105,"translate"),i.qZA(),i.TgZ(106,"input",152),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.electric=D)}),i.qZA()()(),i.TgZ(107,"div",135)(108,"div",3)(109,"label",4),i._uU(110),i.ALo(111,"translate"),i.qZA(),i.TgZ(112,"input",153),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.elevators=D)}),i.qZA()()(),i.TgZ(113,"div",154)(114,"div",3)(115,"label",4),i._uU(116),i.ALo(117,"translate"),i.qZA(),i.TgZ(118,"input",155),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.notes1=D)}),i.qZA()()()()()}if(2&c){const u=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,39,"Description")," "),i.xp6(6),i.Oqu(i.lcZ(9,41,"Numberturns")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.adwAR),i.xp6(4),i.Oqu(i.lcZ(15,43,"Basement")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.basement),i.xp6(4),i.Oqu(i.lcZ(21,45,"Ground")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.groundFloor),i.xp6(4),i.Oqu(i.lcZ(27,47,"thefirst")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.firstFloor),i.xp6(4),i.Oqu(i.lcZ(33,49,"Repeated")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.motkrr),i.xp6(4),i.Oqu(i.lcZ(39,51,"Topaccessory")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.molhqalwisaqffash),i.xp6(4),i.Oqu(i.lcZ(45,53,"Groundextension")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.molhqardisaqffash),i.xp6(4),i.Oqu(i.lcZ(51,55,"Areaaccordingtotheproportionofconstruction")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.buildingPercent),i.xp6(4),i.Oqu(i.lcZ(57,57,"Landareaafterrecoil")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.ertedad),i.xp6(4),i.Oqu(i.lcZ(63,59,"GeneralLocation")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.siteName),i.xp6(4),i.Oqu(i.lcZ(69,61,"Landarea")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaSpace),i.xp6(4),i.Oqu(i.lcZ(75,63,"Projections")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.brozat),i.xp6(4),i.Oqu(i.lcZ(81,65,"Entrances")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.entries),i.xp6(4),i.Oqu(i.lcZ(87,67,"FloorEstablishing")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.floorEstablishing),i.xp6(4),i.Oqu(i.lcZ(93,69,"Roof")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.roof),i.xp6(4),i.Oqu(i.lcZ(99,71,"Airconditionertype")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.takeef),i.xp6(4),i.Oqu(i.lcZ(105,73,"electricityroom")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.electric),i.xp6(4),i.Oqu(i.lcZ(111,75,"theelevator")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.elevators),i.xp6(4),i.Oqu(i.lcZ(117,77,"Notes")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.notes1)}}function wp(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",53)(1,"h4",54),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",61)(5,"div",156)(6,"div",3)(7,"label",4),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"input",157),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.sketchName=D)}),i.qZA()()(),i.TgZ(11,"div",156)(12,"div",3)(13,"label",79),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"div",80)(17,"input",158),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.projectDetails.sketchNo=D)}),i.qZA()()()()()()}if(2&c){const u=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,8,"the scheme")," "),i.xp6(6),i.Oqu(i.lcZ(9,10,"Scheme name")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.sketchName),i.xp6(4),i.hij(" ",i.lcZ(15,12,"No. planned")," "),i.xp6(3),i.Gre("form-control ",""==u.projectDetails.sketchNo||null==u.projectDetails.sketchNo?"errorInput":"",""),i.Q6J("ngModel",u.projectDetails.sketchNo)}}function Ap(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"div",53)(4,"h4",54),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"div",55)(8,"div",56),i._uU(9),i.qZA(),i.TgZ(10,"div",57)(11,"p",58)(12,"span",59),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"span"),i._uU(16),i.qZA()(),i.YNc(17,g_,3,0,"div",60),i.YNc(18,_v,3,4,"div",60),i.TgZ(19,"p",58)(20,"span",59),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"span"),i._uU(24),i.qZA()()()(),i.TgZ(25,"div",61)(26,"div",62)(27,"div",3)(28,"label",4),i._uU(29),i.ALo(30,"translate"),i.qZA(),i.TgZ(31,"ng-select",63),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.cityId=D)}),i.YNc(32,vv,2,2,"ng-option",9),i.qZA()()(),i.TgZ(33,"div",62)(34,"div",3)(35,"label",4),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"input",64),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.projectDescription=D)}),i.qZA()()(),i.TgZ(39,"div",62)(40,"div",65),i.YNc(41,yv,1,1,"img",66),i.TgZ(42,"p",58)(43,"span",67),i._uU(44),i.ALo(45,"translate"),i.qZA(),i.TgZ(46,"span"),i._uU(47),i.qZA()()()()()(),i.YNc(48,Fv,44,35,"div",68),i.YNc(49,bv,33,17,"div",68),i.TgZ(50,"div",53)(51,"h4",54),i._uU(52),i.ALo(53,"translate"),i.qZA(),i.TgZ(54,"div",61)(55,"div",69)(56,"div",3)(57,"label",4),i._uU(58),i.ALo(59,"translate"),i.qZA(),i.TgZ(60,"div",70)(61,"ng-select",71),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.regionTypeId=D)}),i.YNc(62,qv,2,2,"ng-option",9),i.qZA(),i.TgZ(63,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(91);return i.KtG(D.open(C))}),i._UZ(64,"i",73),i.qZA()()()(),i.TgZ(65,"div",69)(66,"div",3)(67,"label",4),i._uU(68),i.ALo(69,"translate"),i.TgZ(70,"span",74),i._uU(71,"*"),i.qZA()(),i.TgZ(72,"div",70)(73,"ng-select",75),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.pieceNo=D)}),i.YNc(74,Yv,2,2,"ng-option",9),i.qZA(),i.TgZ(75,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(95);return i.KtG(D.open(C))}),i._UZ(76,"i",73),i.qZA()()()(),i.YNc(77,Jv,8,4,"div",76),i.YNc(78,Rv,8,4,"div",76),i.YNc(79,x,6,4,"div",76),i.TgZ(80,"div",77)(81,"div",3)(82,"label",4),i._uU(83),i.ALo(84,"translate"),i.TgZ(85,"span",74),i._uU(86,"*"),i.qZA()(),i.TgZ(87,"input",78),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.districtName=D)}),i.qZA()()(),i.TgZ(88,"div",77)(89,"div",3)(90,"label",79),i._uU(91),i.ALo(92,"translate"),i.qZA(),i.TgZ(93,"div",80)(94,"input",81),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.streetName=D)}),i.qZA()()()(),i.YNc(95,x_,8,4,"div",76),i.qZA()(),i.YNc(96,kf,51,32,"div",68),i.YNc(97,P_,119,79,"div",68),i.YNc(98,wp,18,14,"div",68),i.qZA()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,43,"project data")),i.xp6(5),i.hij(" ",i.lcZ(6,45,"Project duration")," "),i.xp6(4),i.Oqu(u.projectDetails.timeStr),i.xp6(4),i.Oqu(i.lcZ(14,47,"From")),i.xp6(3),i.Oqu(u.projectDetails.projectDate),i.xp6(1),i.Q6J("ngIf",u.percentagePro>100),i.xp6(1),i.Q6J("ngIf",u.percentagePro<=100),i.xp6(3),i.Oqu(i.lcZ(22,49,"To")),i.xp6(3),i.Oqu(u.projectDetails.projectExpireDate),i.xp6(5),i.Oqu(i.lcZ(30,51,"Area")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.cityId),i.xp6(1),i.Q6J("ngForOf",null==u.ProDetailsReadyVm?null:u.ProDetailsReadyVm.regionName_DropLoad),i.xp6(4),i.Oqu(i.lcZ(37,53,"Description")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.projectDescription),i.xp6(3),i.Q6J("ngIf",u.addedImg),i.xp6(3),i.Oqu(i.lcZ(45,55,"\u0627\u0646\u0634\u0623\u0647 :")),i.xp6(3),i.Oqu(u.projectDetails.addUser),i.xp6(1),i.Q6J("ngIf",6!=u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",3==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(3),i.hij(" ",i.lcZ(53,57,"Location")," "),i.xp6(6),i.Oqu(i.lcZ(59,59,"Region type")),i.xp6(3),i.Q6J("ngModel",u.projectDetails.regionTypeId),i.xp6(1),i.Q6J("ngForOf",u.RegionTypes),i.xp6(6),i.hij("",i.lcZ(69,61,"piece number")," "),i.xp6(5),i.Gre(" ",0==u.projectDetails.pieceNo||null==u.projectDetails.pieceNo?"errorInput":"",""),i.Q6J("ngModel",u.projectDetails.pieceNo),i.xp6(1),i.Q6J("ngForOf",u.ProjectPieces),i.xp6(3),i.Q6J("ngIf",3==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",3==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",3==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(4),i.hij("",i.lcZ(84,63,"Neighborhood")," "),i.xp6(4),i.Gre("form-control ",""==u.projectDetails.districtName||null==u.projectDetails.districtName?"errorInput":"",""),i.Q6J("ngModel",u.projectDetails.districtName),i.xp6(4),i.hij(" ",i.lcZ(92,65,"Street Name")," "),i.xp6(3),i.Q6J("ngModel",u.projectDetails.streetName),i.xp6(1),i.Q6J("ngIf",3==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",3==u.projectDetails.typeCode||6==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",1==u.projectDetails.typeCode||7==u.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",4==u.projectDetails.typeCode||2==u.projectDetails.typeCode)}}function D_(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function If(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function Uf(c,_){if(1&c&&(i.TgZ(0,"ng-option",49),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.Q6J("value",u.id),i.xp6(1),i.Oqu(u.name)}}function At(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"form",null,159)(5,"div",53)(6,"h4",54),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"div",61)(10,"div",69)(11,"div",3)(12,"label",4),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"ng-select",63),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.cityId=D)}),i.YNc(16,D_,2,2,"ng-option",9),i.qZA()()(),i.TgZ(17,"div",69)(18,"div",3)(19,"label",4),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.TgZ(22,"input",160),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.districtName=D)}),i.qZA()()(),i.TgZ(23,"div",69)(24,"div",3)(25,"label",4),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"div",70)(29,"ng-select",161),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.regionTypeId=D)}),i.YNc(30,If,2,2,"ng-option",9),i.qZA(),i.TgZ(31,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(91);return i.KtG(D.open(C))}),i._UZ(32,"i",73),i.qZA()()()(),i.TgZ(33,"div",69)(34,"div",3)(35,"label",4),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"div",70)(39,"ng-select",162),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.buildingType=D)}),i.YNc(40,Uf,2,2,"ng-option",9),i.qZA(),i.TgZ(41,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(115);return i.KtG(D.open(C))}),i._UZ(42,"i",73),i.qZA()()()(),i.TgZ(43,"div",69)(44,"div",3)(45,"label",4),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"input",163),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.zaraaSak=D)}),i.qZA()()(),i.TgZ(49,"div",69)(50,"div",3)(51,"label",4),i._uU(52),i.ALo(53,"translate"),i.qZA(),i.TgZ(54,"input",164),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.zaraaNatural=D)}),i.qZA()()(),i.TgZ(55,"div",69)(56,"div",3)(57,"label",4),i._uU(58),i.ALo(59,"translate"),i.qZA(),i.TgZ(60,"input",165),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.contractNo=D)}),i.qZA()()(),i.TgZ(61,"div",69)(62,"div",3)(63,"label",4),i._uU(64),i.ALo(65,"translate"),i.qZA(),i.TgZ(66,"input",166),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.contractDate=D)}),i.qZA()()()()(),i.TgZ(67,"div",53)(68,"h4",54),i._uU(69),i.ALo(70,"translate"),i.qZA(),i.TgZ(71,"div",61)(72,"div",69)(73,"div",3)(74,"label",4),i._uU(75),i.ALo(76,"translate"),i.qZA(),i.TgZ(77,"input",167),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.payanNo=D)}),i.qZA()()(),i.TgZ(78,"div",69)(79,"div",3)(80,"label",4),i._uU(81),i.ALo(82,"translate"),i.qZA(),i.TgZ(83,"input",168),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.ertedad=D)}),i.qZA()()(),i.TgZ(84,"div",69)(85,"div",3)(86,"label",4),i._uU(87),i.ALo(88,"translate"),i.qZA(),i.TgZ(89,"input",169),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.brooz=D)}),i.qZA()()(),i.TgZ(90,"div",69)(91,"div",3)(92,"label",4),i._uU(93),i.ALo(94,"translate"),i.qZA(),i.TgZ(95,"input",170),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.buildingPercent=D)}),i.qZA()()(),i.TgZ(96,"div",69)(97,"div",3)(98,"label",4),i._uU(99),i.ALo(100,"translate"),i.qZA(),i.TgZ(101,"input",171),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.userId=D)}),i.qZA()()(),i.TgZ(102,"div",69)(103,"div",3)(104,"label",4),i._uU(105),i.ALo(106,"translate"),i.qZA(),i.TgZ(107,"input",172),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.xPoint=D)}),i.qZA()()(),i.TgZ(108,"div",69)(109,"div",3)(110,"label",4),i._uU(111),i.ALo(112,"translate"),i.qZA(),i.TgZ(113,"input",173),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.yPoint=D)}),i.qZA()()(),i.TgZ(114,"div",69)(115,"div",3)(116,"label",4),i._uU(117),i.ALo(118,"translate"),i.qZA(),i.TgZ(119,"input",174),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.office=D)}),i.qZA()()(),i.TgZ(120,"div",69)(121,"div",3)(122,"label",4),i._uU(123),i.ALo(124,"translate"),i.qZA(),i.TgZ(125,"input",175),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.extensionName=D)}),i.qZA()()(),i.TgZ(126,"div",69)(127,"div",3)(128,"label",4),i._uU(129),i.ALo(130,"translate"),i.qZA(),i.TgZ(131,"input",176),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.areaSak=D)}),i.qZA()()(),i.TgZ(132,"div",69)(133,"div",3)(134,"label",4),i._uU(135),i.ALo(136,"translate"),i.qZA(),i.TgZ(137,"input",164),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.areaNatural=D)}),i.qZA()()(),i.TgZ(138,"div",69)(139,"div",3)(140,"label",4),i._uU(141),i.ALo(142,"translate"),i.qZA(),i.TgZ(143,"input",177),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.areaArrange=D)}),i.qZA()()(),i.TgZ(144,"div",69)(145,"div",3)(146,"label",4),i._uU(147),i.ALo(148,"translate"),i.qZA(),i.TgZ(149,"input",178),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.areaArrange=D)}),i.qZA()()(),i.TgZ(150,"div",69)(151,"div",3)(152,"label",4),i._uU(153),i.ALo(154,"translate"),i.qZA(),i.TgZ(155,"input",179),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.areaArrange=D)}),i.qZA()()(),i.TgZ(156,"div",69)(157,"button",180),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(89);return i.KtG(D.open(C,null,"mapModal"))}),i._uU(158),i.ALo(159,"translate"),i.qZA()(),i.TgZ(160,"div",181)(161,"div",3)(162,"label",4),i._uU(163),i.ALo(164,"translate"),i.qZA(),i.TgZ(165,"textarea",182),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.notes1=D)}),i.qZA()()()()()()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,53,"Space details")),i.xp6(7),i.hij(" ",i.lcZ(8,55,"Space details")," "),i.xp6(6),i.Oqu(i.lcZ(14,57,"Area")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.cityId),i.xp6(1),i.Q6J("ngForOf",null==u.ProDetailsReadyVm?null:u.ProDetailsReadyVm.regionName_DropLoad),i.xp6(4),i.Oqu(i.lcZ(21,59,"Neighborhood")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.districtName),i.xp6(4),i.Oqu(i.lcZ(27,61,"Region type")),i.xp6(3),i.Q6J("ngModel",u.projectDetails.regionTypeId),i.xp6(1),i.Q6J("ngForOf",u.RegionTypes),i.xp6(6),i.Oqu(i.lcZ(37,63,"buildingType")),i.xp6(3),i.Q6J("ngModel",u.projectDetails.buildingType),i.xp6(1),i.Q6J("ngForOf",u.BuildType),i.xp6(6),i.Oqu(i.lcZ(47,65,"plant according to the instrument")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.zaraaSak),i.xp6(4),i.Oqu(i.lcZ(53,67,"Plant by nature")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.zaraaNatural),i.xp6(4),i.Oqu(i.lcZ(59,69,"contract number")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.contractNo),i.xp6(4),i.Oqu(i.lcZ(65,71,"Date of contract")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.contractDate),i.xp6(3),i.hij(" ",i.lcZ(70,73,"Location")," "),i.xp6(6),i.hij(" ",i.lcZ(76,75,"Location statement number")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.payanNo),i.xp6(4),i.hij(" ",i.lcZ(82,77,"bouncing back")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.ertedad),i.xp6(4),i.hij(" ",i.lcZ(88,79,"protrusion")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.brooz),i.xp6(4),i.hij(" ",i.lcZ(94,81,"Building %")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.buildingPercent),i.xp6(4),i.hij(" ",i.lcZ(100,83,"the use")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.userId),i.xp6(4),i.hij(" ",i.lcZ(106,85,"x coordinate")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.xPoint),i.xp6(4),i.hij(" ",i.lcZ(112,87,"y-coordinate")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.yPoint),i.xp6(4),i.hij(" ",i.lcZ(118,89,"office name")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.office),i.xp6(4),i.hij(" ",i.lcZ(124,91,"Surveyor's name")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.extensionName),i.xp6(4),i.hij(" ",i.lcZ(130,93,"Area according to the instrument")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaSak),i.xp6(4),i.hij(" ",i.lcZ(136,95,"space by nature")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaNatural),i.xp6(4),i.hij(" ",i.lcZ(142,97,"Space according to arrangement")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaArrange),i.xp6(4),i.hij(" ",i.lcZ(148,99,"limits according to the instrument")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaArrange),i.xp6(4),i.hij(" ",i.lcZ(154,101,"Boundaries by nature")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.areaArrange),i.xp6(3),i.hij(" ",i.lcZ(159,103,"Locate the project on the map")," "),i.xp6(5),i.hij(" ",i.lcZ(164,105,"Notes")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.notes1)}}function pt(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"form",null,159)(5,"div",53)(6,"h4",54),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"div",61)(10,"div",69)(11,"div",3)(12,"label",4),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"input",183),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.licenseNo=D)}),i.qZA()()(),i.TgZ(16,"div",69)(17,"div",3)(18,"label",4),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.TgZ(21,"input",184,185),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.Licensedate_Convert=D)}),i.qZA()()(),i.TgZ(23,"div",69)(24,"div",3)(25,"label",4),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"input",160),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.siteName=D)}),i.qZA()()(),i.TgZ(29,"div",69)(30,"div",3)(31,"label",4),i._uU(32),i.ALo(33,"translate"),i.qZA(),i.TgZ(34,"input",186),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.catego=D)}),i.qZA()()(),i.TgZ(35,"div",69)(36,"div",3)(37,"label",4),i._uU(38),i.ALo(39,"translate"),i.qZA(),i.TgZ(40,"input",187),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.streetName=D)}),i.qZA()()()()(),i.TgZ(41,"div",53)(42,"h4",54),i._uU(43),i.ALo(44,"translate"),i.qZA(),i.TgZ(45,"div",61)(46,"div",188)(47,"div",3)(48,"label",4),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"input",174),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.desiningOffice=D)}),i.qZA()()(),i.TgZ(52,"div",62)(53,"div",3)(54,"label",4),i._uU(55),i.ALo(56,"translate"),i.qZA(),i.TgZ(57,"input",189),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.period=D)}),i.qZA()()(),i.TgZ(58,"div",181)(59,"div",3)(60,"label",4),i._uU(61),i.ALo(62,"translate"),i.qZA(),i.TgZ(63,"textarea",190),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.projectDetails.licenseContent=D)}),i.qZA()()()()()()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,20,"License data")),i.xp6(7),i.hij(" ",i.lcZ(8,22,"License data")," "),i.xp6(6),i.Oqu(i.lcZ(14,24,"license number")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.licenseNo),i.xp6(4),i.Oqu(i.lcZ(20,26,"License date")),i.xp6(2),i.Q6J("bsConfig",i.DdM(42,y_))("ngModel",u.Licensedate_Convert),i.xp6(5),i.Oqu(i.lcZ(27,28,"Neighborhood")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.siteName),i.xp6(4),i.Oqu(i.lcZ(33,30,"No. planned")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.catego),i.xp6(4),i.Oqu(i.lcZ(39,32,"Street Name")),i.xp6(2),i.Q6J("ngModel",u.projectDetails.streetName),i.xp6(3),i.hij(" ",i.lcZ(44,34,"Location")," "),i.xp6(6),i.hij(" ",i.lcZ(50,36,"designer office")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.desiningOffice),i.xp6(4),i.hij(" ",i.lcZ(56,38,"delivery term")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.period),i.xp6(4),i.hij(" ",i.lcZ(62,40,"Construction Permit Components")," "),i.xp6(2),i.Q6J("ngModel",u.projectDetails.licenseContent)}}function S_(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Supervision order number")))}function T_(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.number," ")}}function Ff(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"stage")))}function nt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.phaseName," ")}}function ts(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"assigned")))}function Mp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.receivedUserName," ")}}function Tr(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Commissioning date")))}function Yn(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.superDateConfirm,"yyyy-MM-dd")," ")}}function q(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"status")))}function gt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.superStatusName," ")}}function Jt(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"operations")))}function Di(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",209),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(121);return C.GetSuperRow(D,1),i.KtG(C.open(G,null,"firImg"))}),i._UZ(1,"i",210),i.qZA()}}function Et(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",209),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadimageUrlSupervision(D))}),i._UZ(1,"i",211),i.qZA()}}function De(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",212),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(121);return C.GetSuperRow(D,2),i.KtG(C.open(G,null,"secImg"))}),i._UZ(1,"i",210),i.qZA()}}function Os(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",212),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadimageUrl2_Supervision(D))}),i._UZ(1,"i",211),i.qZA()}}function Ls(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",213),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(123);return C.SupervisionReport(D),i.KtG(C.open(G))}),i._UZ(1,"i",214),i.qZA()}}function es(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",213),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(129);return C.SupervisionReport(D),i.KtG(C.open(G))}),i._UZ(1,"i",214),i.qZA()}}function bt(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",213),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(127);return C.PrintSupervisionBase(D),i.KtG(C.open(G))}),i._UZ(1,"i",214),i.qZA()}}function Nt(c,_){if(1&c&&(i.TgZ(0,"td",111),i.YNc(1,Di,2,0,"button",206),i.YNc(2,Et,2,0,"button",206),i.YNc(3,De,2,0,"button",207),i.YNc(4,Os,2,0,"button",207),i.YNc(5,Ls,2,0,"button",208),i.YNc(6,es,2,0,"button",208),i.YNc(7,bt,2,0,"button",208),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.Q6J("ngIf",!u.imageUrl),i.xp6(1),i.Q6J("ngIf",u.imageUrl),i.xp6(1),i.Q6J("ngIf",!u.imageUrl2),i.xp6(1),i.Q6J("ngIf",u.imageUrl2),i.xp6(1),i.Q6J("ngIf",u.superCode>=1&&u.superCode<=13),i.xp6(1),i.Q6J("ngIf",14==u.superCode),i.xp6(1),i.Q6J("ngIf",!(u.superCode>=1&&u.superCode<=14))}}function is(c,_){1&c&&i._UZ(0,"tr",117)}function cn(c,_){1&c&&i._UZ(0,"tr",215)}function Of(c,_){if(1&c&&(i.TgZ(0,"tr",119)(1,"td",120),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c){i.oxw();const u=i.MAs(8);i.xp6(2),i.AsE(" ",i.lcZ(3,2,"noResult"),' "',u.value,'" ')}}const Ge=function(c){return[5,10,25,100,c]};function Dt(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"input",192,193),i.NdJ("keyup",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.applyFilterSupervision(D))}),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"table",194),i.ynx(11,195),i.YNc(12,S_,4,3,"th",196),i.YNc(13,T_,2,1,"td",102),i.BQk(),i.ynx(14,197),i.YNc(15,Ff,4,3,"th",196),i.YNc(16,nt,2,1,"td",102),i.BQk(),i.ynx(17,198),i.YNc(18,ts,4,3,"th",196),i.YNc(19,Mp,2,1,"td",102),i.BQk(),i.ynx(20,199),i.YNc(21,Tr,4,3,"th",196),i.YNc(22,Yn,3,4,"td",102),i.BQk(),i.ynx(23,200),i.YNc(24,q,4,3,"th",196),i.YNc(25,gt,2,1,"td",102),i.BQk(),i.ynx(26,201),i.YNc(27,Jt,4,3,"th",196),i.YNc(28,Nt,8,7,"td",102),i.BQk(),i.YNc(29,is,1,0,"tr",107),i.YNc(30,cn,1,0,"tr",202),i.YNc(31,Of,4,4,"tr",109),i.qZA()(),i._UZ(32,"mat-paginator",203,204),i.qZA()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,7,"Supervision sorties")),i.xp6(4),i.hij(" ",i.lcZ(5,9,"Supervision sorties")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(9,11,"search")),i.xp6(3),i.Q6J("dataSource",u.projectSupervisionDataSource),i.xp6(19),i.Q6J("matHeaderRowDef",u.supervisionDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.supervisionDisplayedColumns),i.xp6(2),i.Q6J("pageSizeOptions",i.VKq(13,Ge,u.projectSupervisionDataSource.data.length))}}function C_(c,_){1&c&&(i.TgZ(0,"span"),i._UZ(1,"i",227),i.qZA())}function No(c,_){1&c&&(i.TgZ(0,"span"),i._UZ(1,"i",228),i.qZA())}function Zp(c,_){if(1&c&&(i.YNc(0,C_,2,0,"span",226),i.YNc(1,No,2,0,"span",226)),2&c){const u=_.expanded;i.Q6J("ngIf",!u),i.xp6(1),i.Q6J("ngIf",u)}}function Q(c,_){if(1&c&&(i.TgZ(0,"p",246)(1,"span"),i._uU(2),i.qZA()()),2&c){const u=i.oxw(4);i.xp6(2),i.Oqu(u.TaskData.notesStrVac)}}function ns(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",247),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4);return i.KtG(D.downloadFileReq(D.FileData_phase.Obj))}),i._UZ(1,"i",211),i.qZA()}}function ca(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",248),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4);return i.MAs(67).show(),i.KtG(D.getRow(D.FileData_phase.Obj))}),i._UZ(1,"i",249),i.qZA()}}function en(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",250),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4),C=i.MAs(46);return D.getTaskRow(D.TaskData.Obj),i.KtG(D.open(C))}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"retrieval")," "))}const Ql=function(){return{ar:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",en:" File Name"}},Je=function(){return{ar:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a\t",en:"Options "}};function dn(c,_){if(1&c&&(i.ynx(0),i.TgZ(1,"p",231),i._UZ(2,"span",232),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",233)(6,"p",234)(7,"span",235),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()()(),i.TgZ(12,"div",236),i._UZ(13,"mat-progress-bar",237),i.qZA(),i.TgZ(14,"div",98)(15,"div",238)(16,"p")(17,"span"),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.TgZ(20,"span",239),i._uU(21),i.qZA()(),i.YNc(22,Q,3,1,"p",240),i.TgZ(23,"p")(24,"span"),i._uU(25),i.ALo(26,"translate"),i.qZA(),i.TgZ(27,"span",239),i._uU(28),i.qZA()()(),i.TgZ(29,"table",241)(30,"thead",242)(31,"tr")(32,"th"),i._uU(33),i.ALo(34,"translate"),i.qZA(),i.TgZ(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i.TgZ(41,"th"),i._uU(42),i.ALo(43,"translate"),i.qZA(),i._UZ(44,"th",22),i.qZA()(),i.TgZ(45,"tbody")(46,"tr")(47,"td"),i._uU(48),i.qZA(),i.TgZ(49,"td"),i._uU(50),i.qZA(),i.TgZ(51,"td"),i._uU(52),i.qZA(),i.TgZ(53,"td"),i._uU(54),i.qZA(),i.TgZ(55,"td"),i.YNc(56,ns,2,0,"button",243),i.YNc(57,ca,2,0,"button",244),i.YNc(58,en,3,3,"button",245),i.qZA()()()()(),i.BQk()),2&c){const u=i.oxw(3);let h;i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(41,Ql)),i.xp6(2),i.Oqu(null==u.FileData_phase.Obj?null:u.FileData_phase.Obj.nameAr),i.xp6(4),i.hij("",i.lcZ(9,27,"File Page Insert")," "),i.xp6(3),i.Oqu(null==u.FileData_phase.Obj?null:u.FileData_phase.Obj.pageInsertName),i.xp6(2),i.s9C("value",null!==(h=null==u.TaskData.Obj?null:u.TaskData.Obj.execPercentage)&&void 0!==h?h:0),i.xp6(5),i.Oqu(i.lcZ(19,29,"From")),i.xp6(3),i.Oqu(u.TaskData.TaskTimeFrom_Merge),i.xp6(1),i.Q6J("ngIf",u.TaskData.notesStrVac),i.xp6(3),i.Oqu(i.lcZ(26,31,"To")),i.xp6(3),i.Oqu(u.TaskData.TaskTimeTo_Merge),i.xp6(5),i.Oqu(i.lcZ(34,33,"Assigned to")),i.xp6(3),i.Oqu(i.lcZ(37,35,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u062d\u0644\u0629")),i.xp6(3),i.Oqu(i.lcZ(40,37,"task status")),i.xp6(3),i.Oqu(i.lcZ(43,39,"\u0627\u0646\u062c\u0632\u062a \u0642\u0628\u0644/\u0628\u0639\u062f \u0627\u0644\u0645\u0648\u0639\u062f")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(42,Je)),i.xp6(4),i.Oqu(null==u.TaskData.Obj?null:u.TaskData.Obj.userName),i.xp6(2),i.Oqu(null==u.TaskData.Obj?null:u.TaskData.Obj.subPhaseName),i.xp6(2),i.Oqu(null==u.TaskData.Obj?null:u.TaskData.Obj.statusName),i.xp6(1),i.Tol(u.statuscolor),i.xp6(1),i.Oqu(u.TaskData.AchievementStatus),i.xp6(2),i.Q6J("ngIf",null==u.FileData_phase.Obj?null:u.FileData_phase.Obj.attachmentUrl),i.xp6(1),i.Q6J("ngIf",u.FileData_phase.Obj),i.xp6(1),i.Q6J("ngIf",4==(null==u.TaskData.Obj?null:u.TaskData.Obj.status))}}const Se=function(){return{ar:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0644\u0641",en:"File Details"}};function Te(c,_){if(1&c&&(i.TgZ(0,"div",219),i._UZ(1,"h3",229),i.TgZ(2,"div",218)(3,"div",230),i.YNc(4,dn,59,43,"ng-container",226),i.qZA()()()),2&c){const u=i.oxw(2);i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(3,Se)),i.xp6(3),i.Q6J("ngIf",u.FileData_phase.selected)}}const He=function(){return{ar:"\u0645\u0647\u0627\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",en:"Project Tasks"}};function H(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"input",216,193),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.TaskNameSearch=D)})("keyup",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.loadallFilesTree())}),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"div",217)(11,"div",218)(12,"div",219),i._UZ(13,"h3",220),i.TgZ(14,"div",221)(15,"tree-ngx",222,223),i.NdJ("selectedItems",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.selectedFile1_phase=D)})("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.selectTask_phase())}),i.ALo(17,"translate"),i.YNc(18,Zp,2,2,"ng-template",null,224,i.W1O),i.qZA()()(),i.YNc(20,Te,5,4,"div",225),i.qZA()()()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,12,"Project tasks")),i.xp6(4),i.hij(" ",i.lcZ(5,14,"Project tasks")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(9,16,"search")),i.Q6J("ngModel",u.TaskNameSearch),i.xp6(6),i.Q6J("translate","name")("translateParams",i.DdM(20,He)),i.xp6(2),i.Tol(i.lcZ(17,18,"dir")),i.Q6J("nodeItems",u.loadTasksTreeObj)("options",u.options),i.xp6(5),i.Q6J("ngIf",u.FileData_phase.selected)}}function Ke(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Text")))}function E(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.description," ")}}function ye(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Date")))}function os(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.date,"yyyy-MM-dd")," ")}}function ui(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"From")))}function rs(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit,h=i.oxw(2);i.xp6(1),i.hij(" ",h.getsendname(u)," ")}}function Re(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"To")))}function $t(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;let h;i.xp6(1),i.hij(" ",null!==(h=u.receivedUserName)&&void 0!==h?h:"\u0643\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"," ")}}function Ve(c,_){1&c&&i._UZ(0,"tr",117)}function Gl(c,_){1&c&&i._UZ(0,"tr",215)}function ze(c,_){if(1&c&&(i.TgZ(0,"tr",119)(1,"td",120),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c){i.oxw();const u=i.MAs(8);i.xp6(2),i.AsE(" ",i.lcZ(3,2,"noResult"),' "',u.value,'" ')}}function lt(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"input",192,193),i.NdJ("keyup",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.applyFilterNotices(D))}),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"table",194),i.ynx(11,251),i.YNc(12,Ke,4,3,"th",196),i.YNc(13,E,2,1,"td",102),i.BQk(),i.ynx(14,252),i.YNc(15,ye,4,3,"th",196),i.YNc(16,os,3,4,"td",102),i.BQk(),i.ynx(17,253),i.YNc(18,ui,4,3,"th",196),i.YNc(19,rs,2,1,"td",102),i.BQk(),i.ynx(20,254),i.YNc(21,Re,4,3,"th",196),i.YNc(22,$t,2,1,"td",102),i.BQk(),i.YNc(23,Ve,1,0,"tr",107),i.YNc(24,Gl,1,0,"tr",202),i.YNc(25,ze,4,4,"tr",109),i.qZA()(),i._UZ(26,"mat-paginator",203,255),i.qZA()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,7,"Notices")),i.xp6(4),i.hij(" ",i.lcZ(5,9,"Notices")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(9,11,"search")),i.xp6(3),i.Q6J("dataSource",u.projectNoticesDataSource),i.xp6(13),i.Q6J("matHeaderRowDef",u.noticesDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.noticesDisplayedColumns),i.xp6(2),i.Q6J("pageSizeOptions",i.VKq(13,Ge,u.projectNoticesDataSource.data.length))}}const w=function(){return{rangeInputFormat:"DD/MM/YYYY"}};function mo(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",270)(1,"input",271,272),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.data.filter.date=D)})("ngModelChange",function(D){i.CHM(u);const C=i.oxw(2);return i.KtG(C.CheckDate(D))}),i.ALo(3,"translate"),i.qZA()()}if(2&c){const u=i.oxw(2);i.xp6(1),i.s9C("placeholder",i.lcZ(3,3,"Chose Date")),i.Q6J("ngModel",u.data.filter.date)("bsConfig",i.DdM(5,w))}}function jp(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",273),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(2),C=i.MAs(50);return i.KtG(D.open(C))}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&c&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"uploadFile")," "))}function Np(c,_){1&c&&(i.TgZ(0,"span"),i._UZ(1,"i",227),i.qZA())}function kp(c,_){1&c&&(i.TgZ(0,"span"),i._UZ(1,"i",228),i.qZA())}function da(c,_){if(1&c&&(i.YNc(0,Np,2,0,"span",226),i.YNc(1,kp,2,0,"span",226)),2&c){const u=_.expanded;i.Q6J("ngIf",!u),i.xp6(1),i.Q6J("ngIf",u)}}function Lf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",247),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4);return i.KtG(D.downloadFile(D.FileData.Obj))}),i._UZ(1,"i",211),i.qZA()}}function bf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",276),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4);return i.KtG(D.downloadFileW(D.FileData.Obj))}),i._UZ(1,"i",211),i.qZA()}}function qf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",248),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4),C=i.MAs(56);return D.getRow(D.FileData.Obj),i.KtG(C.show())}),i._UZ(1,"i",249),i.qZA()}}function Xe(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",277),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4),C=i.MAs(48);return D.getRow(D.FileData.Obj),i.KtG(D.open(C,null,"share"))}),i._UZ(1,"i",278),i.qZA()}}function We(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",277),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(4),C=i.MAs(78);return D.getRow(D.FileData.Obj),i.KtG(C.show())}),i._UZ(1,"i",279),i.qZA()}}const _o=function(){return{ar:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0631\u0641\u0639",en:"Upload Date"}};function Ip(c,_){if(1&c&&(i.ynx(0),i.TgZ(1,"p",231),i._UZ(2,"span",232),i.TgZ(3,"span"),i._uU(4),i.qZA()(),i.TgZ(5,"div",233)(6,"p",234)(7,"span",235),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"p",236),i._UZ(13,"span",232),i.TgZ(14,"span"),i._uU(15),i.qZA()()(),i.TgZ(16,"div",98)(17,"table",241)(18,"thead",242)(19,"tr")(20,"th"),i._uU(21),i.ALo(22,"translate"),i.qZA(),i._UZ(23,"th",22),i.qZA()(),i.TgZ(24,"tbody")(25,"tr")(26,"td"),i._uU(27),i.qZA(),i.TgZ(28,"td"),i.YNc(29,Lf,2,0,"button",243),i.YNc(30,bf,2,0,"button",274),i.YNc(31,qf,2,0,"button",244),i.YNc(32,Xe,2,0,"button",275),i.YNc(33,We,2,0,"button",275),i.qZA()()()()(),i.BQk()),2&c){const u=i.oxw(3);i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(21,Ql)),i.xp6(2),i.Oqu(null==u.FileData.Obj?null:u.FileData.Obj.fileName),i.xp6(4),i.hij("",i.lcZ(9,17,"File Page Insert")," "),i.xp6(3),i.Oqu(null==u.FileData.Obj?null:u.FileData.Obj.pageInsertName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(22,_o)),i.xp6(2),i.Oqu(null==u.FileData.Obj?null:u.FileData.Obj.uploadDate),i.xp6(6),i.Oqu(i.lcZ(22,19,"Customer Name")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(23,Je)),i.xp6(4),i.Oqu(null==u.FileData.Obj?null:u.FileData.Obj.customerName),i.xp6(2),i.Q6J("ngIf",null==u.FileData.Obj?null:u.FileData.Obj.fileUrl),i.xp6(1),i.Q6J("ngIf",!("application/pdf"!=(null==u.FileData.Obj?null:u.FileData.Obj.extension)&&".pdf"!=(null==u.FileData.Obj?null:u.FileData.Obj.extension))&&(null==u.FileData.Obj?null:u.FileData.Obj.fileUrlW)),i.xp6(1),i.Q6J("ngIf",((null==u.userG?null:u.userG.userPrivileges.includes(1118))||(null==u.userG?null:u.userG.isAdmin)||u.projectDetails.delete)&&0==u.projectDetails.status&&1!=u.projectDetails.stopProjectType),i.xp6(1),i.Q6J("ngIf",(""!==(null==u.data?null:u.data.customerEmail)||null!==(null==u.data?null:u.data.customerEmail))&&u.checkExistbtn(u.FileData.Obj)),i.xp6(1),i.Q6J("ngIf",(""!==(null==u.data?null:u.data.customerEmail)||null!==(null==u.data?null:u.data.customerEmail))&&!u.checkExistbtn(u.FileData.Obj))}}function Up(c,_){if(1&c&&(i.TgZ(0,"div",219),i._UZ(1,"h3",229),i.TgZ(2,"div",218)(3,"div",230),i.YNc(4,Ip,34,24,"ng-container",226),i.qZA()()()),2&c){const u=i.oxw(2);i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(3,Se)),i.xp6(3),i.Q6J("ngIf",u.FileData.selected)}}const ot=function(){return{ar:" \u0628\u062d\u062b \u0628\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",en:"Search by file name"}},Jn=function(){return{standalone:!0}},fa=function(){return{ar:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u0648\u0642\u062a",en:"Time Filter"}},Fp=function(){return{ar:" \u0627\u0644\u0645\u0648\u062b\u0642 \u0641\u0642\u0637",en:"Approved only"}},ss=function(){return{ar:"\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u0634\u0631\u0648\u0639",en:"Project Files"}};function Yf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"div",52)(4,"h4",54),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"div",256)(8,"div",257),i._UZ(9,"label",258),i.TgZ(10,"input",259,193),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.filter.FileNameSearch=D)})("keyup",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.loadallFilesTree())}),i.ALo(12,"translate"),i.qZA()(),i.TgZ(13,"div",257)(14,"label",4),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"ng-select",260),i.NdJ("change",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.loadallFilesTree())})("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.filter.filetypesearch=D)}),i.ALo(18,"translate"),i.qZA()(),i.TgZ(19,"button",261),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.data.filter.enable=!D.data.filter.enable)}),i.qZA(),i.YNc(20,mo,4,6,"div",262),i.TgZ(21,"div",263),i._UZ(22,"label",264),i.TgZ(23,"input",265),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.filter.isChecked=D)})("change",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.checkValue(D.data.filter.isChecked?"A":"B"))}),i.qZA()(),i.TgZ(24,"div",266),i.YNc(25,jp,3,3,"button",267),i.qZA()(),i.TgZ(26,"div",268)(27,"div",218)(28,"div",219),i._UZ(29,"h3",220),i.TgZ(30,"div",221)(31,"tree-ngx",222,269),i.NdJ("selectedItems",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.selectedFile1=D)})("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.selectTask())}),i.ALo(33,"translate"),i.YNc(34,da,2,2,"ng-template",null,224,i.W1O),i.qZA()()(),i.YNc(36,Up,5,4,"div",225),i.qZA()()()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,28,"Project files")),i.xp6(5),i.hij(" ",i.lcZ(6,30,"Project files")," "),i.xp6(4),i.Q6J("translate","name")("translateParams",i.DdM(40,ot)),i.xp6(1),i.s9C("placeholder",i.lcZ(12,32,"search")),i.Q6J("ngModel",u.data.filter.FileNameSearch),i.xp6(5),i.hij(" ",i.lcZ(16,34,"File Type"),""),i.xp6(2),i.s9C("placeholder",i.lcZ(18,36,"Chose")),i.Q6J("required",!0)("ngModelOptions",i.DdM(41,Jn))("items",u.load_FileType)("clearable",!0)("ngModel",u.data.filter.filetypesearch),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(42,fa)),i.xp6(1),i.Q6J("ngIf",u.data.filter.enable),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(43,Fp)),i.xp6(1),i.Q6J("ngModel",u.data.filter.isChecked),i.xp6(2),i.Q6J("ngIf",((null==u.userG?null:u.userG.userPrivileges.includes(1118))||(null==u.userG?null:u.userG.isAdmin)||u.projectDetails.insert)&&0==u.projectDetails.status&&1!=u.projectDetails.stopProjectType),i.xp6(4),i.Q6J("translate","name")("translateParams",i.DdM(44,ss)),i.xp6(2),i.Tol(i.lcZ(33,38,"dir")),i.Q6J("nodeItems",u.loadFilesTreeObj)("options",u.options),i.xp6(5),i.Q6J("ngIf",u.FileData.selected)}}function Op(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"File Name")))}function ga(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.fileName," ")}}function Jf(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"File Type")))}function Rf(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.fileTypeName," ")}}function Ef(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"comment")))}function U(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.description," ")}}function vo(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"operations")))}function Bf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",285),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadFile_Customer(D))}),i._UZ(1,"i",286),i.qZA()}}function Qf(c,_){if(1&c&&(i.TgZ(0,"td",111),i.YNc(1,Bf,2,0,"button",284),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.Q6J("ngIf",u.fileUrl)}}function Lp(c,_){1&c&&i._UZ(0,"tr",117)}function ma(c,_){1&c&&i._UZ(0,"tr",215)}function Gf(c,_){if(1&c&&(i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"table",194),i.ynx(8,280),i.YNc(9,Op,4,3,"th",196),i.YNc(10,ga,2,1,"td",102),i.BQk(),i.ynx(11,281),i.YNc(12,Jf,4,3,"th",196),i.YNc(13,Rf,2,1,"td",102),i.BQk(),i.ynx(14,282),i.YNc(15,Ef,4,3,"th",196),i.YNc(16,U,2,1,"td",102),i.BQk(),i.ynx(17,201),i.YNc(18,vo,4,3,"th",196),i.YNc(19,Qf,2,1,"td",102),i.BQk(),i.YNc(20,Lp,1,0,"tr",107),i.YNc(21,ma,1,0,"tr",202),i.qZA()(),i._UZ(22,"mat-paginator",203,283),i.qZA()()),2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,6,"Client documents and documents")),i.xp6(4),i.hij(" ",i.lcZ(5,8,"Client documents and documents")," "),i.xp6(3),i.Q6J("dataSource",u.projectDocumentsDataSource),i.xp6(13),i.Q6J("matHeaderRowDef",u.documentsDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.documentsDisplayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.VKq(10,Ge,u.projectDocumentsDataSource.data.length))}}function Hf(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Outgoing number")))}function Me(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.number," ")}}function An(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Importance")))}function Kf(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.priorityName," ")}}function _a(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Type")))}function Vf(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.outInBoxTypeName," ")}}function bp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"the date")))}function St(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.uploadDate,"yyyy-MM-dd")," ")}}function zf(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Archive file")))}function Xf(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.archiveFilesName," ")}}function bs(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"The entity")))}function qp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.sideFromName," ")}}function Wf(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"exported to")))}function $(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.sideToName," ")}}function Fe(c,_){1&c&&i._UZ(0,"tr",117)}function Ee(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",296),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return i.KtG(G.LoadOutboxFileGrid(C))}),i.qZA()}}function yo(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"File Name")))}function qs(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.fileName," ")}}function Hl(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"uploadDate")))}function Mt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.uploadDate,"yyyy-MM-dd")," ")}}function Kl(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"operations")))}function Ys(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",298),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadFile_InOutBox(D))}),i._UZ(1,"i",299),i.qZA()}}function ls(c,_){if(1&c&&(i.TgZ(0,"td",111),i.YNc(1,Ys,2,0,"button",297),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.Q6J("ngIf",u.fileUrl)}}function Xn(c,_){1&c&&i._UZ(0,"tr",117)}function Js(c,_){1&c&&i._UZ(0,"tr",215)}function Rs(c,_){if(1&c&&(i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"table",194),i.ynx(8,195),i.YNc(9,Hf,4,3,"th",196),i.YNc(10,Me,2,1,"td",102),i.BQk(),i.ynx(11,287),i.YNc(12,An,4,3,"th",196),i.YNc(13,Kf,2,1,"td",102),i.BQk(),i.ynx(14,281),i.YNc(15,_a,4,3,"th",196),i.YNc(16,Vf,2,1,"td",102),i.BQk(),i.ynx(17,252),i.YNc(18,bp,4,3,"th",196),i.YNc(19,St,3,4,"td",102),i.BQk(),i.ynx(20,288),i.YNc(21,zf,4,3,"th",196),i.YNc(22,Xf,2,1,"td",102),i.BQk(),i.ynx(23,289),i.YNc(24,bs,4,3,"th",196),i.YNc(25,qp,2,1,"td",102),i.BQk(),i.ynx(26,254),i.YNc(27,Wf,4,3,"th",196),i.YNc(28,$,2,1,"td",102),i.BQk(),i.YNc(29,Fe,1,0,"tr",107),i.YNc(30,Ee,1,0,"tr",290),i.qZA(),i._UZ(31,"mat-paginator",203,291)(33,"hr",292),i.TgZ(34,"table",194),i.ynx(35,293),i.YNc(36,yo,4,3,"th",196),i.YNc(37,qs,2,1,"td",102),i.BQk(),i.ynx(38,294),i.YNc(39,Hl,4,3,"th",196),i.YNc(40,Mt,3,4,"td",102),i.BQk(),i.ynx(41,201),i.YNc(42,Kl,4,3,"th",196),i.YNc(43,ls,2,1,"td",102),i.BQk(),i.YNc(44,Xn,1,0,"tr",107),i.YNc(45,Js,1,0,"tr",202),i.qZA()(),i._UZ(46,"mat-paginator",203,295),i.qZA()()),2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,10,"outgoing")),i.xp6(4),i.hij(" ",i.lcZ(5,12,"outgoing")," "),i.xp6(3),i.Q6J("dataSource",u.projectOutgoingDataSource),i.xp6(22),i.Q6J("matHeaderRowDef",u.projectOutgoingDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.projectOutgoingDisplayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.VKq(14,Ge,u.projectOutgoingDataSource.data.length)),i.xp6(3),i.Q6J("dataSource",u.projectOutgoingFilesDataSource),i.xp6(10),i.Q6J("matHeaderRowDef",u.projectOutgoingFilesDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.projectOutgoingFilesDisplayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.VKq(16,Ge,u.projectOutgoingFilesDataSource.data.length))}}function Es(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Ward number")))}function Bs(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.number," ")}}function Yp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Importance")))}function Jp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.priorityName," ")}}function Rp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Type")))}function Ep(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.outInBoxTypeName," ")}}function Bp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"the date")))}function Qp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.uploadDate,"yyyy-MM-dd")," ")}}function Gp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Archive file")))}function Hp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.archiveFilesName," ")}}function Kp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"The entity")))}function Vp(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.sideFromName," ")}}function zp(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Ward to")))}function Oe(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.sideToName," ")}}function $f(c,_){1&c&&i._UZ(0,"tr",117)}function t0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",296),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return i.KtG(G.LoadInboxFileGrid(C))}),i.qZA()}}function va(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"File Name")))}function e0(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.fileName," ")}}function nn(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"uploadDate")))}function on(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.ALo(2,"date"),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,u.uploadDate,"yyyy-MM-dd")," ")}}function Si(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"operations")))}function rn(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",298),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadFile_InOutBox(D))}),i._UZ(1,"i",299),i.qZA()}}function Xp(c,_){if(1&c&&(i.TgZ(0,"td",111),i.YNc(1,rn,2,0,"button",297),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.Q6J("ngIf",u.fileUrl)}}function Wp(c,_){1&c&&i._UZ(0,"tr",117)}function qi(c,_){1&c&&i._UZ(0,"tr",215)}function $p(c,_){if(1&c&&(i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"h4",54),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",191)(7,"table",194),i.ynx(8,195),i.YNc(9,Es,4,3,"th",196),i.YNc(10,Bs,2,1,"td",102),i.BQk(),i.ynx(11,287),i.YNc(12,Yp,4,3,"th",196),i.YNc(13,Jp,2,1,"td",102),i.BQk(),i.ynx(14,281),i.YNc(15,Rp,4,3,"th",196),i.YNc(16,Ep,2,1,"td",102),i.BQk(),i.ynx(17,252),i.YNc(18,Bp,4,3,"th",196),i.YNc(19,Qp,3,4,"td",102),i.BQk(),i.ynx(20,288),i.YNc(21,Gp,4,3,"th",196),i.YNc(22,Hp,2,1,"td",102),i.BQk(),i.ynx(23,289),i.YNc(24,Kp,4,3,"th",196),i.YNc(25,Vp,2,1,"td",102),i.BQk(),i.ynx(26,254),i.YNc(27,zp,4,3,"th",196),i.YNc(28,Oe,2,1,"td",102),i.BQk(),i.YNc(29,$f,1,0,"tr",107),i.YNc(30,t0,1,0,"tr",290),i.qZA(),i._UZ(31,"mat-paginator",203,300)(33,"hr",292),i.TgZ(34,"table",194),i.ynx(35,293),i.YNc(36,va,4,3,"th",196),i.YNc(37,e0,2,1,"td",102),i.BQk(),i.ynx(38,294),i.YNc(39,nn,4,3,"th",196),i.YNc(40,on,3,4,"td",102),i.BQk(),i.ynx(41,201),i.YNc(42,Si,4,3,"th",196),i.YNc(43,Xp,2,1,"td",102),i.BQk(),i.YNc(44,Wp,1,0,"tr",107),i.YNc(45,qi,1,0,"tr",202),i.qZA()(),i._UZ(46,"mat-paginator",203,301),i.qZA()()),2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,10,"Ward")),i.xp6(4),i.hij(" ",i.lcZ(5,12,"Ward")," "),i.xp6(3),i.Q6J("dataSource",u.projectWardDataSource),i.xp6(22),i.Q6J("matHeaderRowDef",u.projectWardDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.projectWardDisplayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.VKq(14,Ge,u.projectWardDataSource.data.length)),i.xp6(3),i.Q6J("dataSource",u.projectWardFilesDataSource),i.xp6(10),i.Q6J("matHeaderRowDef",u.projectWardFilesDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.projectWardFilesDisplayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.VKq(16,Ge,u.projectWardFilesDataSource.data.length))}}function i0(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"taskName")))}function n0(c,_){1&c&&(i.TgZ(0,"td",111),i._uU(1," \u0627\u0645\u0631\u0639\u0645\u0644 "),i.qZA())}function ct(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"task status")))}function o0(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.woStatustxt," ")}}function N(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"assigned")))}function Y(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.responsibleEngName," ")}}function r0(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Duration")))}function s0(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.strTime," ")}}function tc(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"task start")))}function ya(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.orderDate," ")}}function l0(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"task end")))}function u0(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.endDate," ")}}function ec(c,_){1&c&&i._UZ(0,"tr",117)}function Ce(c,_){1&c&&i._UZ(0,"tr",215)}function xt(c,_){if(1&c&&(i.TgZ(0,"tr",119)(1,"td",120),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c){i.oxw();const u=i.MAs(9);i.xp6(2),i.AsE(" ",i.lcZ(3,2,"noResult"),' "',u.value,'" ')}}function xo(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"div",52)(4,"h4",54),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"div",191)(8,"input",192,193),i.NdJ("keyup",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.applyFilteWorkOrders(D))}),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"table",194),i.ynx(12,280),i.YNc(13,i0,4,3,"th",196),i.YNc(14,n0,2,0,"td",102),i.BQk(),i.ynx(15,281),i.YNc(16,ct,4,3,"th",196),i.YNc(17,o0,2,1,"td",102),i.BQk(),i.ynx(18,198),i.YNc(19,N,4,3,"th",196),i.YNc(20,Y,2,1,"td",102),i.BQk(),i.ynx(21,302),i.YNc(22,r0,4,3,"th",196),i.YNc(23,s0,2,1,"td",102),i.BQk(),i.ynx(24,303),i.YNc(25,tc,4,3,"th",196),i.YNc(26,ya,2,1,"td",102),i.BQk(),i.ynx(27,304),i.YNc(28,l0,4,3,"th",196),i.YNc(29,u0,2,1,"td",102),i.BQk(),i.YNc(30,ec,1,0,"tr",107),i.YNc(31,Ce,1,0,"tr",202),i.YNc(32,xt,4,4,"tr",109),i.qZA()(),i._UZ(33,"mat-paginator",203,305),i.qZA()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,7,"Manegment tasks")),i.xp6(5),i.hij(" ",i.lcZ(6,9,"Manegment tasks")," "),i.xp6(3),i.s9C("placeholder",i.lcZ(10,11,"search")),i.xp6(3),i.Q6J("dataSource",u.workOrdersDataSource),i.xp6(19),i.Q6J("matHeaderRowDef",u.workOrdersDisplayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.workOrdersDisplayedColumns),i.xp6(2),i.Q6J("pageSizeOptions",i.VKq(13,Ge,u.workOrdersDataSource.data.length))}}function Cr(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"span",335),i._uU(4),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.hij(" ",i.lcZ(2,2,"OfferPrices")," "),i.xp6(3),i.hij(" ",null==u.QuotSerCondData?null:u.QuotSerCondData.OfferPrices.data.length," ")}}const fn=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0631\u0636",en:"offer id"}};function Gt(c,_){1&c&&(i.TgZ(0,"th",205),i._UZ(1,"span",22),i.qZA()),2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(2,fn)))}function Yi(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.offerNo," ")}}const Rn=function(){return{ar:"  \u0627\u0644\u062a\u0627\u0631\u064a\u062e",en:"Date  "}};function pe(c,_){1&c&&(i.TgZ(0,"th",205),i._UZ(1,"span",22),i.qZA()),2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(2,Rn)))}function Mn(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.offerDate," ")}}const Ji=function(){return{ar:"  \u0627\u0644\u0639\u0645\u064a\u0644",en:"Customer"}};function us(c,_){1&c&&(i.TgZ(0,"th",205),i._UZ(1,"span",22),i.qZA()),2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(2,Ji)))}function Kt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.customerName," ")}}const Zn=function(){return{ar:"\u0627\u0644\u0645\u0628\u0644\u063a  ",en:"price"}};function Bt(c,_){1&c&&(i.TgZ(0,"th",205),i._UZ(1,"span",22),i.qZA()),2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(2,Zn)))}function ge(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.offerValue," ")}}const _e=function(){return{ar:"  \u0645\u0642\u062f\u0645 \u0627\u0644\u0639\u0631\u0636",en:"  Presenter"}};function Ze(c,_){1&c&&(i.TgZ(0,"th",205),i._UZ(1,"span",22),i.qZA()),2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(2,_e)))}function Xt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.presenter," ")}}function a0(c,_){1&c&&i._UZ(0,"tr",117)}function vt(c,_){1&c&&i._UZ(0,"tr",336)}function w_(c,_){1&c&&(i.TgZ(0,"tr",119)(1,"td",337),i._uU(2),i.qZA()()),2&c&&(i.xp6(2),i.hij(" ","No result found for "," "))}function Vt(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"span",335),i._uU(4),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.hij(" ",i.lcZ(2,2,"services")," "),i.xp6(3),i.hij(" ",null==u.offerServices?null:u.offerServices.length," ")}}function h0(c,_){1&c&&(i.TgZ(0,"span",348),i._uU(1,"\u0631.\u0633"),i.qZA())}function Qs(c,_){1&c&&(i.TgZ(0,"span",348),i._uU(1,"\u0631.\u0633"),i.qZA())}function Vl(c,_){1&c&&(i.TgZ(0,"span",348),i._uU(1,"\u0631.\u0633"),i.qZA())}function A_(c,_){1&c&&(i.TgZ(0,"span",348),i._uU(1,"\u0631.\u0633"),i.qZA())}function p0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",338)(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td")(4,"input",339),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.accountJournaltxt=D)}),i.qZA()(),i.TgZ(5,"td")(6,"input",340),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.UnitConst=D)}),i.qZA()(),i.TgZ(7,"td")(8,"input",341),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.QtyConst=D)})("keyup",function(){i.CHM(u);const D=i.oxw(2);return i.KtG(D.CalculateTotal_Offer())}),i.qZA()(),i.TgZ(9,"td")(10,"div",70)(11,"input",342),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.Amounttxt=D)})("keyup",function(){i.CHM(u);const D=i.oxw(2);return i.KtG(D.CalculateTotal_Offer())}),i.qZA(),i.YNc(12,h0,2,0,"span",343),i.qZA()(),i.TgZ(13,"td")(14,"div",70)(15,"input",340),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.AmountBeforeTaxtxt=D)}),i.qZA(),i.YNc(16,Qs,2,0,"span",344),i.qZA()(),i.TgZ(17,"td")(18,"div",70)(19,"input",345),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.taxAmounttxt=D)}),i.qZA(),i.YNc(20,Vl,2,0,"span",343),i.qZA()(),i.TgZ(21,"td")(22,"div",70)(23,"input",345),i.NdJ("ngModelChange",function(D){const G=i.CHM(u).$implicit;return i.KtG(G.TotalAmounttxt=D)}),i.qZA(),i.YNc(24,A_,2,0,"span",343),i.qZA()(),i.TgZ(25,"td",70)(26,"button",346),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(125);return i.KtG(G.open(_t,C,"serviceDetails"))}),i._UZ(27,"i",347),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.idRow),i.xp6(2),i.MGl("name","os-name",u.idRow,""),i.Q6J("ngModel",u.accountJournaltxt),i.xp6(2),i.MGl("name","os-unit",u.idRow,""),i.Q6J("ngModel",u.UnitConst),i.xp6(2),i.MGl("name","os-amount",u.idRow,""),i.Q6J("ngModel",u.QtyConst),i.xp6(3),i.MGl("name","os-price",u.idRow,""),i.Q6J("ngModel",u.Amounttxt),i.xp6(1),i.Q6J("ngIf",u.Amounttxt),i.xp6(3),i.MGl("name","os-AmountBefore",u.idRow,""),i.Q6J("ngModel",u.AmountBeforeTaxtxt),i.xp6(1),i.Q6J("ngIf",u.AmountBeforeTaxtxt),i.xp6(3),i.MGl("name","os-vatTax",u.idRow,""),i.Q6J("ngModel",u.taxAmounttxt),i.xp6(1),i.Q6J("ngIf",u.taxAmounttxt),i.xp6(3),i.MGl("name","os-taxes",u.idRow,""),i.Q6J("ngModel",u.TotalAmounttxt),i.xp6(1),i.Q6J("ngIf",u.TotalAmounttxt)}}function xa(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"span",335),i._uU(4),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.hij(" ",i.lcZ(2,2,"Conditions")," "),i.xp6(3),i.hij(" ",null==u.QuotSerCondData?null:u.QuotSerCondData.Conditions.data.length," ")}}function ic(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"File Name")))}function zt(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.nameAr," ")}}function as(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"cost")))}function nc(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.cost," ")}}function oc(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"status")))}function c0(c,_){1&c&&i._UZ(0,"i",351)}function rc(c,_){1&c&&i._UZ(0,"i",352)}function nr(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.YNc(2,c0,1,0,"i",349),i.YNc(3,rc,1,0,"i",350),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.confirmStatustxt," "),i.xp6(1),i.Q6J("ngIf",u.confirmStatus),i.xp6(1),i.Q6J("ngIf",!u.confirmStatus)}}function d0(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"ExpiryDate")))}function hs(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.confirmStatusDate," ")}}function sc(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"username")))}function lc(c,_){if(1&c&&(i.TgZ(0,"td",111),i._uU(1),i.qZA()),2&c){const u=_.$implicit;i.xp6(1),i.hij(" ",u.addUserName," ")}}function f0(c,_){1&c&&(i.TgZ(0,"th",205)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&c&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"operations")))}function g0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",277),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.downloadFileConditions(D))}),i._UZ(1,"i",211),i.qZA()}}function m0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"button",355),i.NdJ("click",function(){i.CHM(u);const D=i.oxw().$implicit,C=i.oxw(2),G=i.MAs(119);return C.getCondRow(D),i.KtG(C.open(G,D,"deleteConditions"))}),i._UZ(1,"i",249),i.qZA()}}function _0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"td",111)(1,"button",277),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return i.KtG(G.ConfirmRequirementStatus(C))}),i._UZ(2,"i",353),i.qZA(),i.YNc(3,g0,2,0,"button",275),i.YNc(4,m0,2,0,"button",354),i.qZA()}if(2&c){const u=_.$implicit;i.xp6(3),i.Q6J("ngIf",u.attachmentUrl),i.xp6(1),i.Q6J("ngIf",!u.confirmStatus)}}function v0(c,_){1&c&&i._UZ(0,"tr",117)}function M_(c,_){1&c&&i._UZ(0,"tr",336)}function Z_(c,_){1&c&&(i.TgZ(0,"tr",119)(1,"td",356),i._uU(2),i.qZA()()),2&c&&(i.xp6(2),i.hij(" ","No result found for "," "))}function j_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tab",51),i.ALo(1,"translate"),i.TgZ(2,"div",52)(3,"mat-tab-group",306),i.NdJ("selectedTabChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.resetFilterLoad(D))}),i.ALo(4,"translate"),i.TgZ(5,"mat-tab"),i.YNc(6,Cr,5,4,"ng-template",307),i.TgZ(7,"div"),i._UZ(8,"div",308),i.TgZ(9,"div",309)(10,"div",310)(11,"table",194,311),i.ynx(13,312),i.YNc(14,Gt,2,3,"th",196),i.YNc(15,Yi,2,1,"td",102),i.BQk(),i.ynx(16,252),i.YNc(17,pe,2,3,"th",196),i.YNc(18,Mn,2,1,"td",102),i.BQk(),i.ynx(19,313),i.YNc(20,us,2,3,"th",196),i.YNc(21,Kt,2,1,"td",102),i.BQk(),i.ynx(22,314),i.YNc(23,Bt,2,3,"th",196),i.YNc(24,ge,2,1,"td",102),i.BQk(),i.ynx(25,315),i.YNc(26,Ze,2,3,"th",196),i.YNc(27,Xt,2,1,"td",102),i.BQk(),i.YNc(28,a0,1,0,"tr",107),i.YNc(29,vt,1,0,"tr",316),i.YNc(30,w_,3,1,"tr",109),i.qZA()(),i._UZ(31,"mat-paginator",203,317),i.qZA()()(),i.TgZ(33,"mat-tab"),i.YNc(34,Vt,5,4,"ng-template",307),i.TgZ(35,"div")(36,"div",318)(37,"div",319)(38,"table",241)(39,"thead",242)(40,"tr")(41,"th"),i._uU(42),i.ALo(43,"translate"),i.qZA(),i.TgZ(44,"th",320),i._uU(45),i.ALo(46,"translate"),i.qZA(),i.TgZ(47,"th"),i._uU(48),i.ALo(49,"translate"),i.qZA(),i.TgZ(50,"th"),i._uU(51),i.ALo(52,"translate"),i.qZA(),i.TgZ(53,"th"),i._uU(54),i.ALo(55,"translate"),i.qZA(),i.TgZ(56,"th"),i._uU(57),i.ALo(58,"translate"),i.qZA(),i.TgZ(59,"th"),i._uU(60),i.ALo(61,"translate"),i.qZA(),i.TgZ(62,"th"),i._uU(63),i.ALo(64,"translate"),i.qZA(),i.TgZ(65,"th"),i._uU(66),i.ALo(67,"translate"),i.qZA()()(),i.TgZ(68,"tbody"),i.YNc(69,p0,28,19,"tr",321),i.qZA()()(),i.TgZ(70,"div",322)(71,"div")(72,"label",323),i._uU(73),i.ALo(74,"translate"),i.qZA(),i.TgZ(75,"ng-select",324),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.modalDetailsOffer.taxtype=D)})("change",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.CalculateTotal_Offer())}),i.ALo(76,"translate"),i.TgZ(77,"ng-option",49),i._uU(78),i.ALo(79,"translate"),i.qZA(),i.TgZ(80,"ng-option",49),i._uU(81),i.ALo(82,"translate"),i.qZA()()(),i.TgZ(83,"div")(84,"label",325),i._uU(85),i.ALo(86,"translate"),i.qZA(),i.TgZ(87,"input",326),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.modalDetailsOffer.total_amount=D)}),i.qZA()(),i.TgZ(88,"div")(89,"label",327),i._uU(90),i.ALo(91,"translate"),i.qZA(),i.TgZ(92,"input",328),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.modalDetailsOffer.total_amount_text=D)}),i.qZA()()()()()(),i.TgZ(93,"mat-tab"),i.YNc(94,xa,5,4,"ng-template",307),i.TgZ(95,"div"),i._UZ(96,"div",308),i.TgZ(97,"div",309)(98,"div",310)(99,"table",194,311),i.ynx(101,329),i.YNc(102,ic,4,3,"th",196),i.YNc(103,zt,2,1,"td",102),i.BQk(),i.ynx(104,330),i.YNc(105,as,4,3,"th",196),i.YNc(106,nc,2,1,"td",102),i.BQk(),i.ynx(107,331),i.YNc(108,oc,4,3,"th",196),i.YNc(109,nr,4,3,"td",102),i.BQk(),i.ynx(110,332),i.YNc(111,d0,4,3,"th",196),i.YNc(112,hs,2,1,"td",102),i.BQk(),i.ynx(113,333),i.YNc(114,sc,4,3,"th",196),i.YNc(115,lc,2,1,"td",102),i.BQk(),i.ynx(116,201),i.YNc(117,f0,4,3,"th",196),i.YNc(118,_0,5,2,"td",102),i.BQk(),i.YNc(119,v0,1,0,"tr",107),i.YNc(120,M_,1,0,"tr",316),i.YNc(121,Z_,3,1,"tr",109),i.qZA()(),i._UZ(122,"mat-paginator",203,334),i.qZA()()()()()()}if(2&c){const u=i.oxw();i.s9C("heading",i.lcZ(1,32,"OfferPrices-Services-Conditions")),i.xp6(3),i.Q6J("dir",i.lcZ(4,34,"dir")),i.xp6(8),i.Q6J("dataSource",null==u.QuotSerCondData?null:u.QuotSerCondData.OfferPrices),i.xp6(17),i.Q6J("matHeaderRowDef",u.columnstab.OfferPrices),i.xp6(1),i.Q6J("matRowDefColumns",u.columnstab.OfferPrices),i.xp6(2),i.Q6J("pageSizeOptions",i.VKq(66,Ge,null==u.QuotSerCondData?null:u.QuotSerCondData.OfferPrices.data.length)),i.xp6(11),i.Oqu(i.lcZ(43,36,"ServiceNo")),i.xp6(3),i.Oqu(i.lcZ(46,38,"ServiceName")),i.xp6(3),i.Oqu(i.lcZ(49,40,"Unit")),i.xp6(3),i.Oqu(i.lcZ(52,42,"Quantity")),i.xp6(3),i.Oqu(i.lcZ(55,44,"price")),i.xp6(3),i.Oqu(i.lcZ(58,46,"totalBeforeTax")),i.xp6(3),i.Oqu(i.lcZ(61,48,"VATTax")),i.xp6(3),i.Oqu(i.lcZ(64,50,"netTax")),i.xp6(3),i.Oqu(i.lcZ(67,52,"action")),i.xp6(3),i.Q6J("ngForOf",u.offerServices),i.xp6(4),i.Oqu(i.lcZ(74,54,"tax type")),i.xp6(2),i.s9C("placeholder",i.lcZ(76,56,"Chose")),i.Q6J("ngModel",u.modalDetailsOffer.taxtype)("clearable",!1),i.xp6(2),i.Q6J("value",2),i.xp6(1),i.Oqu(i.lcZ(79,58,"Excluding tax")),i.xp6(2),i.Q6J("value",3),i.xp6(1),i.Oqu(i.lcZ(82,60,"Taxes included")),i.xp6(4),i.Oqu(i.lcZ(86,62,"Total amount")),i.xp6(2),i.Q6J("ngModel",u.modalDetailsOffer.total_amount),i.xp6(3),i.Oqu(i.lcZ(91,64,"total in writing")),i.xp6(2),i.Q6J("ngModel",u.modalDetailsOffer.total_amount_text),i.xp6(7),i.Q6J("dataSource",null==u.QuotSerCondData?null:u.QuotSerCondData.Conditions),i.xp6(20),i.Q6J("matHeaderRowDef",u.columnstab.Conditions),i.xp6(1),i.Q6J("matRowDefColumns",u.columnstab.Conditions),i.xp6(2),i.Q6J("pageSizeOptions",i.VKq(68,Ge,null==u.QuotSerCondData?null:u.QuotSerCondData.Conditions.data.length))}}function y0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",357)(1,"button",358),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.SaveProjectDetails())}),i._uU(2),i.ALo(3,"translate"),i.qZA()()}2&c&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"save")," "))}const wr=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0625\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u0647\u0645\u0629 \u0644\u0644\u0645\u0643\u0644\u0641 \u0628\u0647\u0627 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u061f",en:"Do you want to return the task assigned to it again?"}};function Le(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div")(3,"div",3)(4,"label",359),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"input",360),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.RetrievedReason=D)}),i.qZA()()(),i.TgZ(8,"div",361)(9,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw();return i.KtG(G.RestartTask(C))}),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.TgZ(12,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(13),i.ALo(14,"translate"),i.qZA()()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(12,wr)),i.xp6(4),i.hij(" ",i.lcZ(6,6,"reason")," "),i.xp6(2),i.Q6J("ngModel",u.RetrievedReason),i.xp6(3),i.hij(" ",i.lcZ(11,8,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(14,10,"No")," ")}}const uc=function(){return{ar:"\u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0645\u0644\u0641      ",en:"  Share File"}},zl=function(){return{ar:"\u0639\u0644\u064a\u0647 \u0645\u0647\u0627\u0645",en:"Project Task Exist"}},x0=function(){return{ar:"\u0645\u0634\u0627\u0647\u062f\u0629",en:"Watch"}};function P0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",364),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",365),i.qZA()(),i.TgZ(4,"div",366)(5,"form",null,367)(7,"div",218)(8,"div",62)(9,"div",368)(10,"label",369),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"input",370),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.FileShareData.ShareTimetxt=D)}),i.qZA()()(),i.TgZ(14,"div",62)(15,"div",368),i._UZ(16,"label",371),i.TgZ(17,"mat-radio-group",372),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.FileShareData.ShareTypeHour=D)}),i.TgZ(18,"mat-radio-button",373),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.TgZ(21,"mat-radio-button",374),i._uU(22),i.ALo(23,"translate"),i.qZA()()()(),i.TgZ(24,"div",62),i._UZ(25,"label",371),i.TgZ(26,"div",375),i._UZ(27,"input",376)(28,"label",377),i.qZA(),i.TgZ(29,"div",378)(30,"input",379),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.FileShareData.SelectmaterialCheckedShare=D)}),i.qZA(),i._UZ(31,"label",380),i.qZA()()()()(),i.TgZ(32,"div",381)(33,"button",382),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(34),i.ALo(35,"translate"),i.qZA(),i.TgZ(36,"button",383),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw();return i.KtG(G.share(C))}),i._uU(37),i.ALo(38,"translate"),i.qZA()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(27,uc)),i.xp6(10),i.Oqu(i.lcZ(12,17,"Durationofparticipation")),i.xp6(2),i.Q6J("ngModel",u.FileShareData.ShareTimetxt)("ngModelOptions",i.DdM(28,Jn)),i.xp6(4),i.Q6J("ngModel",u.FileShareData.ShareTypeHour)("ngModelOptions",i.DdM(29,Jn)),i.xp6(2),i.Oqu(i.lcZ(20,19,"hour")),i.xp6(3),i.Oqu(i.lcZ(23,21,"day")),i.xp6(6),i.Q6J("translate","name")("translateParams",i.DdM(30,zl)),i.xp6(2),i.Q6J("ngModel",u.FileShareData.SelectmaterialCheckedShare)("ngModelOptions",i.DdM(31,Jn)),i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(32,x0)),i.xp6(3),i.hij(" ",i.lcZ(35,23,"close")," "),i.xp6(3),i.hij(" ",i.lcZ(38,25,"confirem")," ")}}function _i(c,_){1&c&&(i.TgZ(0,"div",400)(1,"div",401),i.O4$(),i.TgZ(2,"svg",402),i._UZ(3,"path",403),i.qZA()(),i.kcU(),i.TgZ(4,"div",404),i._uU(5),i.ALo(6,"translate"),i.qZA()()),2&c&&(i.xp6(5),i.hij(" ",i.lcZ(6,1,"Upload File")," \u{1f636} "))}function Pa(c,_){if(1&c&&i.YNc(0,_i,7,3,"div",399),2&c){const u=i.oxw(2);i.Q6J("ngIf",0===u.control.size)}}function D0(c,_){if(1&c&&(i.O4$(),i.kcU(),i._UZ(0,"img",411),i.ALo(1,"async")),2&c){const u=i.oxw(4);i.Q6J("src",i.lcZ(1,1,u.uploadedFile),i.LSH)}}function S0(c,_){1&c&&(i.TgZ(0,"section")(1,"p"),i._uU(2,"\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0644\u0641 \u0628\u0646\u062c\u0627\u062d\u060c \u0648\u0644\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641 \u0639\u0644\u064a \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0636\u063a\u0637 \u0632\u0631 \u0631\u0641\u0639 \u0645\u0644\u0641 \u2705 "),i.qZA()())}function sn(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div")(1,"span",405),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.control.removeFile(D.file))}),i.TgZ(2,"span"),i._uU(3," \u062d\u0630\u0641 \u274c "),i.qZA(),i.O4$(),i.TgZ(4,"svg",406),i._UZ(5,"path",407),i.qZA()(),i.YNc(6,D0,2,3,"img",408),i.kcU(),i.TgZ(7,"section",409)(8,"span",410),i._uU(9,"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0644\u0641"),i.qZA(),i._UZ(10,"hr"),i.TgZ(11,"ul")(12,"li")(13,"span",397),i._uU(14,"Name: "),i.qZA(),i._uU(15),i.qZA(),i.TgZ(16,"li")(17,"span",397),i._uU(18,"Type: "),i.qZA(),i._uU(19),i.qZA(),i.TgZ(20,"li")(21,"span",397),i._uU(22,"Size: "),i.qZA(),i._uU(23),i.qZA()()(),i.YNc(24,S0,3,0,"section",226),i.qZA()}if(2&c){const u=i.oxw(),h=u.control,D=u.file;i.xp6(6),i.Q6J("ngIf",h.valid),i.xp6(9),i.Oqu(D.name),i.xp6(4),i.Oqu(D.type),i.xp6(4),i.hij("",D.size," bytes"),i.xp6(1),i.Q6J("ngIf",0!==h.size)}}function T0(c,_){1&c&&i.YNc(0,sn,25,5,"div",226),2&c&&i.Q6J("ngIf",_.file)}function ce(c,_){1&c&&(i.TgZ(0,"p",412),i._uU(1," \u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644 ... \u23f3 "),i.qZA())}const ac=function(){return{ar:"\u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u062a\u0639\u062a\u0645\u062f \u0641\u0642\u0637 \u0639\u0644\u0649 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0628\u0635\u064a\u063a\u0629 PDF      ",en:"  The verification service is based only on files in PDF format"}},Hs=function(){return{ar:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",en:"File name"}},Ks=function(){return{ar:"\u0627\u0639\u062a\u0645\u0627\u062f \u0627\u0644\u0645\u0644\u0641\u061f",en:"file approval?"}};function hc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",364),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",365),i.qZA()(),i.TgZ(4,"div",366)(5,"form",null,384)(7,"div",385)(8,"div",62)(9,"div",368),i._UZ(10,"label",386),i.TgZ(11,"input",387),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.FileName=D)}),i.qZA()()(),i.TgZ(12,"div",62)(13,"div",378)(14,"input",388),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.Certificate=D)}),i.qZA(),i._UZ(15,"label",389),i.qZA()(),i.TgZ(16,"div",62)(17,"div",3)(18,"label",4),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.TgZ(21,"div",70)(22,"ng-select",390),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.FileTypeValue=D)}),i.ALo(23,"translate"),i.qZA(),i.TgZ(24,"button",72),i.NdJ("click",function(){i.CHM(u);const D=i.oxw(),C=i.MAs(52);return D.resetFileType(),i.KtG(D.open(C))}),i._UZ(25,"i",73),i.qZA()()()(),i.TgZ(26,"div",391)(27,"file-upload",392),i.NdJ("click",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.clickfile(D))})("focus",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.focusfile(D))})("blur",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.blurfile(D))}),i.YNc(28,Pa,1,1,"ng-template",null,393,i.W1O),i.YNc(30,T0,1,1,"ng-template",null,394,i.W1O),i.qZA()(),i._UZ(32,"mat-progress-bar",237),i.YNc(33,ce,2,0,"p",395),i.TgZ(34,"p",396),i._uU(35,"\u064a\u0631\u062c\u064a \u0627\u0644\u0627\u0646\u062a\u0628\u0627\u0647 \u0644\u0644\u0627\u062a\u064a \u0639\u0646\u062f \u0631\u0641\u0639 \u0645\u0644\u0641 : "),i.qZA(),i.TgZ(36,"p")(37,"span",397),i._uU(38,"\u0623\u0648\u0644\u0627"),i.qZA(),i._uU(39," : \u062a\u0623\u0643\u062f \u0645\u0646 \u0641\u062d\u0635 \u0627\u0644\u0645\u0644\u0641 \u0628\u0648\u0627\u0633\u0637\u0629 \u0645\u0643\u0627\u0641\u062d \u0627\u0644\u0641\u064a\u0631\u0648\u0633\u0627\u062a \u0648\u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646\u0647 \u0642\u0628\u0644 \u0631\u0641\u0639\u0647 \u0639\u0644\u064a \u0627\u0644\u0646\u0638\u0627\u0645"),i.qZA(),i.TgZ(40,"p")(41,"span",397),i._uU(42,"\u062b\u0627\u0646\u064a\u0627"),i.qZA(),i._uU(43," : \u0644\u0627 \u062a\u0642\u0645 \u0628\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u062a\u064a \u0644\u0627 \u062a\u062e\u0635 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0644\u062a\u0648\u0641\u064a\u0631 \u0645\u0633\u0627\u062d\u0629 \u062a\u062e\u0632\u064a\u0646 \u0639\u0644\u064a \u0627\u0644\u0633\u064a\u0631\u0641\u0631 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643"),i.qZA(),i.TgZ(44,"p")(45,"span",397),i._uU(46,"\u062b\u0627\u0644\u062b\u0627"),i.qZA(),i._uU(47," : \u062e\u062f\u0645\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0648\u0627\u0644\u062a\u064a \u062a\u0648\u0641\u0631 \u0644\u0644\u0639\u0645\u064a\u0644 \u0645\u0639\u0631\u0641\u0629 \u0645\u0635\u062f\u0631 \u0627\u0644\u0645\u0644\u0641 \u062a\u062a\u0648\u0641\u0631 \u0628\u0635\u064a\u063a\u0629 PDF \u0641\u0642\u0637"),i.qZA()()()(),i.TgZ(48,"div",381)(49,"button",382),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(50),i.ALo(51,"translate"),i.qZA(),i.TgZ(52,"button",398),i.NdJ("click",function(){i.CHM(u);const D=i.MAs(6),C=i.oxw();return i.KtG(C.SaveprojectFiles("add",D.value))}),i._uU(53),i.ALo(54,"translate"),i.qZA()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(31,ac)),i.xp6(9),i.Q6J("translate","name")("translateParams",i.DdM(32,Hs)),i.xp6(1),i.Q6J("ngModelOptions",i.DdM(33,Jn))("ngModel",u.data.FileName),i.xp6(3),i.Q6J("ngModel",u.data.Certificate)("ngModelOptions",i.DdM(34,Jn)),i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(35,Ks)),i.xp6(4),i.hij(" ",i.lcZ(20,23,"File Type"),""),i.xp6(3),i.s9C("placeholder",i.lcZ(23,25,"Chose")),i.Q6J("required",!0)("ngModelOptions",i.DdM(36,Jn))("items",u.load_FileType)("clearable",!0)("ngModel",u.data.FileTypeValue),i.xp6(5),i.Q6J("control",u.control),i.xp6(5),i.s9C("value",u.progress),i.xp6(1),i.Q6J("ngIf",u.uploading),i.xp6(17),i.hij(" ",i.lcZ(51,27,"close")," "),i.xp6(2),i.Q6J("disabled",0===u.control.size||u.disableButtonSave_File),i.xp6(1),i.hij(" ",i.lcZ(54,29,"upload files")," ")}}function $e(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(52);return _t.setFileTypeInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.data.file.nameAr=C.name,G.data.file.nameEn=C.nameEn,i.KtG(G.data.file.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(54);return G.getFiletypeRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}const Ie=function(){return{ar:"\u062e\u064a\u0627\u0631\u0627\u062a",en:"Operations"}};function Vs(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",413)(1,"h4",414)(2,"span",415),i._uU(3," \u0646\u0648\u0639 \u0645\u0644\u0641 \u062c\u062f\u064a\u062f "),i.qZA()(),i.TgZ(4,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(5,"i",279),i.qZA()(),i.TgZ(6,"div",21)(7,"form",417,418)(9,"div",3)(10,"label",419),i._uU(11),i.ALo(12,"translate"),i.TgZ(13,"span",74),i._uU(14,"*"),i.qZA()(),i.TgZ(15,"input",420,421),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.file.nameAr=D)}),i.ALo(17,"translate"),i.ALo(18,"translate"),i.qZA()(),i.TgZ(19,"div",3)(20,"label",422),i._uU(21),i.ALo(22,"translate"),i.TgZ(23,"span",74),i._uU(24,"*"),i.qZA()(),i.TgZ(25,"div",423)(26,"input",424,425),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.data.file.nameEn=D)}),i.ALo(29,"translate"),i.ALo(30,"translate"),i.qZA(),i.TgZ(31,"a",426),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.data.file.nameEn=D.data.file.nameAr)}),i._UZ(32,"i",427),i.qZA()()()(),i.TgZ(33,"div",428)(34,"table",429)(35,"thead")(36,"tr")(37,"th"),i._uU(38),i.ALo(39,"translate"),i.qZA(),i.TgZ(40,"th"),i._uU(41),i.ALo(42,"translate"),i.qZA(),i._UZ(43,"th",22),i.qZA()(),i.TgZ(44,"tbody"),i.YNc(45,$e,10,2,"tr",430),i.qZA()()(),i.TgZ(46,"div",431)(47,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveFileType())}),i._uU(48),i.ALo(49,"translate"),i.qZA(),i.TgZ(50,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(51),i.ALo(52,"translate"),i.qZA(),i.TgZ(53,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetFileType())}),i._uU(54),i.ALo(55,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(8),h=i.oxw();i.xp6(11),i.hij(" ",i.lcZ(12,15,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.data.file.nameAr)("placeholder",i.lcZ(17,17,"Write")+" "+i.lcZ(18,19,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(22,21,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.data.file.nameEn)("placeholder",i.lcZ(29,23,"Write")+" "+i.lcZ(30,25,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(39,27,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(42,29,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(37,Ie)),i.xp6(2),i.Q6J("ngForOf",h.data.files),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(49,31,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(52,33,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(55,35,"\u062c\u062f\u064a\u062f")," ")}}const vi=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0635\u0641",en:"Are you sure to delete this row ?"}};function Ar(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmFiletypeDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function Wn(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",413)(1,"h4",414)(2,"span",415),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._UZ(6,"i",279),i.qZA()(),i.TgZ(7,"div",366)(8,"div",439)(9,"agm-map",440),i.NdJ("mapReady",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.onMapReady(D))}),i.TgZ(10,"agm-marker",441),i.NdJ("dragEnd",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.markerDragEnd(D))}),i.qZA()(),i.TgZ(11,"button",442),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.setCurrentLocation())}),i._UZ(12,"i",443),i.qZA()(),i.TgZ(13,"div",444)(14,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(null==C?null:C.dismiss())}),i._uU(15),i.ALo(16,"translate"),i.qZA()()()}if(2&c){const u=i.oxw();i.xp6(3),i.hij("",i.lcZ(4,8,"detect location")," "),i.xp6(6),i.Q6J("latitude",u.latitude)("longitude",u.longitude)("zoom",u.zoom),i.xp6(1),i.Q6J("markerDraggable",!0)("latitude",u.latitude)("longitude",u.longitude),i.xp6(5),i.hij(" ",i.lcZ(16,10,"close")," ")}}function $n(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(91);return _t.setRegionTypesInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.RegionTypes.nameAr=C.name,G.dataAddDetails.RegionTypes.nameEn=C.nameEn,i.KtG(G.dataAddDetails.RegionTypes.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(93);return G.getRegionTypesRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}const ln=function(){return{ar:"\u0627\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f\u0629",en:"Add New"}};function jn(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,445)(7,"div",3)(8,"label",446),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",447,448),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.RegionTypes.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",449),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",450,451),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.RegionTypes.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",452),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.RegionTypes.nameEn=D.dataAddDetails.RegionTypes.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,$n,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveRegionTypes())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetRegionTypes())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.RegionTypes.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.RegionTypes.nameEn)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.RegionTypesPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function Ti(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmRegionTypesDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function N_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(95);return _t.setProjectPiecesInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.ProjectPieces.nameAr=C.name,G.dataAddDetails.ProjectPieces.notes=C.notes,G.dataAddDetails.ProjectPieces.projectId=C.projectId,i.KtG(G.dataAddDetails.ProjectPieces.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(97);return G.getProjectPiecesRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.notes)}}function pc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,453)(7,"div",3)(8,"label",454),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",455,456),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.ProjectPieces.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",457),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",458,459),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.ProjectPieces.notes=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",460),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.ProjectPieces.notes=D.dataAddDetails.ProjectPieces.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,N_,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveProjectPieces())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetProjectPieces())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.ProjectPieces.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"Notes")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.ProjectPieces.notes)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"Notes")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"Notes")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.ProjectPiecesPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function C0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmProjectPiecesDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function w0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(99);return _t.setInstrumentSourcesInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.InstrumentSources.nameAr=C.name,G.dataAddDetails.InstrumentSources.nameEn=C.nameEn,i.KtG(G.dataAddDetails.InstrumentSources.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(101);return G.getInstrumentSourcesRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}function k_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,461)(7,"div",3)(8,"label",462),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",463,464),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.InstrumentSources.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",465),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",466,467),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.InstrumentSources.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",468),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.InstrumentSources.nameEn=D.dataAddDetails.InstrumentSources.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,w0,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveInstrumentSources())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetInstrumentSources())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.InstrumentSources.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.InstrumentSources.nameEn)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.InstrumentSourcesPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function zs(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmInstrumentSourcesDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function cc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(103);return _t.setContractorsInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td",23)(10,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.Contractors.nameAr=C.name,G.dataAddDetails.Contractors.nameEn=C.nameEn,G.dataAddDetails.Contractors.email=C.email,G.dataAddDetails.Contractors.commercialRegister=C.commercialRegister,G.dataAddDetails.Contractors.phoneNo=C.phoneNo,i.KtG(G.dataAddDetails.Contractors.id=C.id)}),i._UZ(11,"i",437),i.qZA(),i.TgZ(12,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(105);return G.getContractorsRow(C),i.KtG(G.open(_t))}),i._UZ(13,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.email),i.xp6(2),i.Oqu(u.commercialRegister),i.xp6(2),i.Oqu(u.phoneNo)}}function Xl(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,469)(7,"div",3)(8,"label",470),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",471,472),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Contractors.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",473),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",474,475),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Contractors.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",476),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.Contractors.nameEn=D.dataAddDetails.Contractors.nameAr)}),i._UZ(30,"i",427),i.qZA()()(),i.TgZ(31,"div",3)(32,"label",477),i._uU(33),i.ALo(34,"translate"),i.TgZ(35,"span",74),i._uU(36,"*"),i.qZA()(),i.TgZ(37,"input",478,479),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Contractors.email=D)}),i.ALo(39,"translate"),i.ALo(40,"translate"),i.qZA()(),i.TgZ(41,"div",3)(42,"label",480),i._uU(43),i.ALo(44,"translate"),i.TgZ(45,"span",74),i._uU(46,"*"),i.qZA()(),i.TgZ(47,"input",481,482),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Contractors.commercialRegister=D)}),i.ALo(49,"translate"),i.ALo(50,"translate"),i.qZA()(),i.TgZ(51,"div",3)(52,"label",483),i._uU(53),i.ALo(54,"translate"),i.TgZ(55,"span",74),i._uU(56,"*"),i.qZA()(),i.TgZ(57,"input",484,485),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Contractors.phoneNo=D)}),i.ALo(59,"translate"),i.ALo(60,"translate"),i.qZA()()(),i.TgZ(61,"div",428)(62,"table",429)(63,"thead")(64,"tr")(65,"th"),i._uU(66),i.ALo(67,"translate"),i.qZA(),i.TgZ(68,"th"),i._uU(69),i.ALo(70,"translate"),i.qZA(),i.TgZ(71,"th"),i._uU(72),i.ALo(73,"translate"),i.qZA(),i.TgZ(74,"th"),i._uU(75),i.ALo(76,"translate"),i.qZA(),i._UZ(77,"th",22),i.qZA()(),i.TgZ(78,"tbody"),i.YNc(79,cc,14,4,"tr",430),i.qZA()()(),i.TgZ(80,"div",431)(81,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveContractors())}),i._uU(82),i.ALo(83,"translate"),i.qZA(),i.TgZ(84,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(85),i.ALo(86,"translate"),i.qZA(),i.TgZ(87,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetRegionTypes())}),i._uU(88),i.ALo(89,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(72,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,28,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.Contractors.nameAr)("placeholder",i.lcZ(15,30,"Write")+" "+i.lcZ(16,32,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,34,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.Contractors.nameEn)("placeholder",i.lcZ(27,36,"Write")+" "+i.lcZ(28,38,"nameEn")),i.xp6(9),i.hij(" ",i.lcZ(34,40,"email")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.Contractors.email)("placeholder",i.lcZ(39,42,"Write")+" "+i.lcZ(40,44,"email")),i.xp6(6),i.hij(" ",i.lcZ(44,46,"Commercial Register")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.Contractors.commercialRegister)("placeholder",i.lcZ(49,48,"Write")+" "+i.lcZ(50,50,"Commercial Register")),i.xp6(6),i.hij(" ",i.lcZ(54,52,"Mobile")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.Contractors.phoneNo)("placeholder",i.lcZ(59,54,"Write")+" "+i.lcZ(60,56,"Mobile")),i.xp6(9),i.Oqu(i.lcZ(67,58,"Contractor's name")),i.xp6(3),i.Oqu(i.lcZ(70,60,"email")),i.xp6(3),i.Oqu(i.lcZ(73,62,"Commercial Register")),i.xp6(3),i.Oqu(i.lcZ(76,64,"Mobile")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(73,Ie)),i.xp6(2),i.Q6J("ngForOf",h.ContractorsPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(83,66,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(86,68,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(89,70,"\u062c\u062f\u064a\u062f")," ")}}function Wl(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmContractorsDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function Rt(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(107);return _t.setMunicipalsInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.Municipals.nameAr=C.name,G.dataAddDetails.Municipals.nameEn=C.nameEn,i.KtG(G.dataAddDetails.Municipals.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(109);return G.getMunicipalsRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}function I_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,486)(7,"div",3)(8,"label",487),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",488,489),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Municipals.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",490),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",491,492),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.Municipals.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",493),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.Municipals.nameEn=D.dataAddDetails.Municipals.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,Rt,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveMunicipals())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetMunicipals())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.Municipals.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.Municipals.nameEn)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.MunicipalsPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function A0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmMunicipalsDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function M0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(111);return _t.setSubMunicipalitysInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.SubMunicipalitys.nameAr=C.name,G.dataAddDetails.SubMunicipalitys.nameEn=C.nameEn,i.KtG(G.dataAddDetails.SubMunicipalitys.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(113);return G.getSubMunicipalitysRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}function Da(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,494)(7,"div",3)(8,"label",495),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",496,497),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.SubMunicipalitys.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",498),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",499,500),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.SubMunicipalitys.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",501),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.SubMunicipalitys.nameEn=D.dataAddDetails.SubMunicipalitys.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,M0,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveSubMunicipalitys())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetSubMunicipalitys())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.SubMunicipalitys.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.SubMunicipalitys.nameEn)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.SubMunicipalitysPopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function dc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmSubMunicipalitysDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function Sa(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"tr",435),i.NdJ("dblclick",function(){const C=i.CHM(u).$implicit,G=i.oxw().$implicit,_t=i.oxw(),wt=i.MAs(115);return _t.setBuildTypeInSelect(C,wt),i.KtG(G.dismiss("Cross click"))}),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td",23)(6,"button",436),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2);return G.dataAddDetails.BuildType.nameAr=C.name,G.dataAddDetails.BuildType.nameEn=C.nameEn,i.KtG(G.dataAddDetails.BuildType.id=C.id)}),i._UZ(7,"i",437),i.qZA(),i.TgZ(8,"button",438),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw(2),_t=i.MAs(117);return G.getBuildTypeRow(C),i.KtG(G.open(_t))}),i._UZ(9,"i",249),i.qZA()()()}if(2&c){const u=_.$implicit;i.xp6(2),i.Oqu(u.name),i.xp6(2),i.Oqu(u.nameEn)}}function U_(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",362),i._UZ(1,"h4",363),i.TgZ(2,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._UZ(3,"i",279),i.qZA()(),i.TgZ(4,"div",21)(5,"form",417,502)(7,"div",3)(8,"label",503),i._uU(9),i.ALo(10,"translate"),i.TgZ(11,"span",74),i._uU(12,"*"),i.qZA()(),i.TgZ(13,"input",504,505),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.BuildType.nameAr=D)}),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA()(),i.TgZ(17,"div",3)(18,"label",506),i._uU(19),i.ALo(20,"translate"),i.TgZ(21,"span",74),i._uU(22,"*"),i.qZA()(),i.TgZ(23,"div",423)(24,"input",507,508),i.NdJ("ngModelChange",function(D){i.CHM(u);const C=i.oxw();return i.KtG(C.dataAddDetails.BuildType.nameEn=D)}),i.ALo(27,"translate"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"a",509),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.dataAddDetails.BuildType.nameEn=D.dataAddDetails.BuildType.nameAr)}),i._UZ(30,"i",427),i.qZA()()()(),i.TgZ(31,"div",428)(32,"table",429)(33,"thead")(34,"tr")(35,"th"),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.TgZ(38,"th"),i._uU(39),i.ALo(40,"translate"),i.qZA(),i._UZ(41,"th",22),i.qZA()(),i.TgZ(42,"tbody"),i.YNc(43,Sa,10,2,"tr",430),i.qZA()()(),i.TgZ(44,"div",431)(45,"button",432),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.saveBuildType())}),i._uU(46),i.ALo(47,"translate"),i.qZA(),i.TgZ(48,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss("Cross click"))}),i._uU(49),i.ALo(50,"translate"),i.qZA(),i.TgZ(51,"button",434),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.resetBuildType())}),i._uU(52),i.ALo(53,"translate"),i.qZA()()()}if(2&c){const u=i.MAs(6),h=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(39,ln)),i.xp6(8),i.hij(" ",i.lcZ(10,17,"nameAr")," "),i.xp6(4),i.Q6J("ngModel",h.dataAddDetails.BuildType.nameAr)("placeholder",i.lcZ(15,19,"Write")+" "+i.lcZ(16,21,"nameAr")),i.xp6(6),i.hij(" ",i.lcZ(20,23,"nameEn")," "),i.xp6(5),i.Q6J("ngModel",h.dataAddDetails.BuildType.nameEn)("placeholder",i.lcZ(27,25,"Write")+" "+i.lcZ(28,27,"nameEn")),i.xp6(12),i.Oqu(i.lcZ(37,29,"nameAr")),i.xp6(3),i.Oqu(i.lcZ(40,31,"nameEn")),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(40,Ie)),i.xp6(2),i.Q6J("ngForOf",h.BuildTypePopup),i.xp6(2),i.Q6J("disabled",u.invalid),i.xp6(1),i.hij(" ",i.lcZ(47,33,"Save")," "),i.xp6(3),i.hij(" ",i.lcZ(50,35,"Back")," "),i.xp6(3),i.hij(" ",i.lcZ(53,37,"\u062c\u062f\u064a\u062f")," ")}}function fc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",361)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().confirmBuildTypeDelete(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function Z0(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",23)(3,"button",24),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.oxw().DeleteRequirement(),i.KtG(C.dismiss())}),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(7),i.ALo(8,"translate"),i.qZA()()()}2&c&&(i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(8,vi)),i.xp6(3),i.hij(" ",i.lcZ(5,4,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(8,6,"No")," "))}function $l(c,_){1&c&&(i.TgZ(0,"div")(1,"div",401),i.O4$(),i.TgZ(2,"svg",402),i._UZ(3,"path",403),i.qZA()(),i.kcU(),i.TgZ(4,"div",514),i._uU(5),i.ALo(6,"translate"),i.qZA()()),2&c&&(i.xp6(5),i.hij(" ",i.lcZ(6,1,"chooseFile")," "))}function tu(c,_){if(1&c&&i.YNc(0,$l,7,3,"div",226),2&c){const u=i.oxw(2);i.Q6J("ngIf",0===u.control.size)}}function Ta(c,_){if(1&c&&(i.O4$(),i.kcU(),i._UZ(0,"img",518),i.ALo(1,"async")),2&c){const u=i.oxw(3);i.Q6J("src",i.lcZ(1,1,u.uploadedFile),i.LSH)}}function gc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",515)(1,"span",516),i.NdJ("click",function(){const D=i.CHM(u);return i.KtG(D.control.removeFile(D.file))}),i.O4$(),i.TgZ(2,"svg",406),i._UZ(3,"path",407),i.qZA()(),i.YNc(4,Ta,2,3,"img",517),i.qZA()}if(2&c){const u=_.control;i.xp6(4),i.Q6J("ngIf",u.valid)}}const eu=function(){return{ar:"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 ",en:"Upload Image"}};function mc(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",21),i._UZ(1,"p",22),i.TgZ(2,"div",510)(3,"div",511)(4,"file-upload",512),i.YNc(5,tu,1,1,"ng-template",null,393,i.W1O),i.YNc(7,gc,5,1,"ng-template",null,394,i.W1O),i.qZA()()(),i.TgZ(9,"div",361)(10,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"button",513),i.NdJ("click",function(){const C=i.CHM(u).$implicit,G=i.oxw();return i.KtG(G.UploadHeadImage(C))}),i._uU(14),i.ALo(15,"translate"),i.qZA()()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(9,eu)),i.xp6(3),i.Q6J("control",u.control),i.xp6(7),i.hij(" ",i.lcZ(12,5,"close")," "),i.xp6(3),i.hij(" ",i.lcZ(15,7,"save")," ")}}function ps(c,_){if(1&c&&i._UZ(0,"img",578),2&c){const u=i.oxw(2);i.s9C("src",u.CustomDataSupervision.HeadImageUrl,i.LSH)}}function Ri(c,_){if(1&c&&i._UZ(0,"img",578),2&c){const u=i.oxw(2);i.s9C("src",u.CustomDataSupervision.HeadImageUrl2,i.LSH)}}function ko(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function _c(c,_){1&c&&i._UZ(0,"td",587)}function Ca(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function j0(c,_){1&c&&i._UZ(0,"td",585)}function F_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function O_(c,_){1&c&&i._UZ(0,"td",585)}function Xs(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ws(c,_){1&c&&i._UZ(0,"td")}function N0(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ko,2,0,"td",584),i.YNc(2,_c,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Ca,2,0,"td",586),i.YNc(9,j0,1,0,"td",586),i.YNc(10,F_,2,0,"td",586),i.YNc(11,O_,1,0,"td",586),i.YNc(12,Xs,2,0,"td",226),i.YNc(13,Ws,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function vc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function k0(c,_){1&c&&i._UZ(0,"td",587)}function wa(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function I0(c,_){1&c&&i._UZ(0,"td",585)}function Aa(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ma(c,_){1&c&&i._UZ(0,"td",585)}function Za(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function U0(c,_){1&c&&i._UZ(0,"td")}function F0(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,vc,2,0,"td",584),i.YNc(2,k0,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,wa,2,0,"td",586),i.YNc(9,I0,1,0,"td",586),i.YNc(10,Aa,2,0,"td",586),i.YNc(11,Ma,1,0,"td",586),i.YNc(12,Za,2,0,"td",226),i.YNc(13,U0,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+4]?null:h.SupervisionPrintData.supervision[u+4].note)}}function Be(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function ja(c,_){1&c&&i._UZ(0,"td",587)}function yc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function $s(c,_){1&c&&i._UZ(0,"td",585)}function O0(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function L0(c,_){1&c&&i._UZ(0,"td",585)}function b0(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function q0(c,_){1&c&&i._UZ(0,"td")}function Y0(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Be,2,0,"td",584),i.YNc(2,ja,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,yc,2,0,"td",586),i.YNc(9,$s,1,0,"td",586),i.YNc(10,O0,2,0,"td",586),i.YNc(11,L0,1,0,"td",586),i.YNc(12,b0,2,0,"td",226),i.YNc(13,q0,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].note)}}function to(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0627\u0644\u0627\u0639\u062f\u0627\u062f \u0648 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0648\u062b\u0627\u0626\u0642"),i.qZA()(),i.YNc(4,N0,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0645\u0631\u0627\u062c\u0639\u0629 \u0648 \u062a\u062f\u0642\u064a\u0642 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a \u0648\u0641\u0642 \u0646\u0645\u0627\u0630\u062c \u0645\u0631\u0627\u062c\u0639\u0629\u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a"),i.qZA()(),i.YNc(8,F0,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0648\u0642\u0627\u064a\u0629 \u0648\u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(12,Y0,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(8)),i.xp6(4),i.Q6J("ngForOf",u.counter(9))}}function L_(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function J0(c,_){1&c&&i._UZ(0,"td",587)}function xc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function R0(c,_){1&c&&i._UZ(0,"td",585)}function Qe(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function iu(c,_){1&c&&i._UZ(0,"td",585)}function b_(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Na(c,_){1&c&&i._UZ(0,"td")}function q_(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,L_,2,0,"td",584),i.YNc(2,J0,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,xc,2,0,"td",586),i.YNc(9,R0,1,0,"td",586),i.YNc(10,Qe,2,0,"td",586),i.YNc(11,iu,1,0,"td",586),i.YNc(12,b_,2,0,"td",226),i.YNc(13,Na,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function I(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function E0(c,_){1&c&&i._UZ(0,"td",587)}function tl(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function B0(c,_){1&c&&i._UZ(0,"td",585)}function Q0(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function G0(c,_){1&c&&i._UZ(0,"td",585)}function Pc(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Y_(c,_){1&c&&i._UZ(0,"td")}function nu(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,I,2,0,"td",584),i.YNc(2,E0,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,tl,2,0,"td",586),i.YNc(9,B0,1,0,"td",586),i.YNc(10,Q0,2,0,"td",586),i.YNc(11,G0,1,0,"td",586),i.YNc(12,Pc,2,0,"td",226),i.YNc(13,Y_,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+8]?null:h.SupervisionPrintData.supervision[u+8].note)}}function ka(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function Dc(c,_){1&c&&i._UZ(0,"td",587)}function H0(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function K0(c,_){1&c&&i._UZ(0,"td",585)}function J_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function R_(c,_){1&c&&i._UZ(0,"td",585)}function V0(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Nn(c,_){1&c&&i._UZ(0,"td")}function el(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ka,2,0,"td",584),i.YNc(2,Dc,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,H0,2,0,"td",586),i.YNc(9,K0,1,0,"td",586),i.YNc(10,J_,2,0,"td",586),i.YNc(11,R_,1,0,"td",586),i.YNc(12,V0,2,0,"td",226),i.YNc(13,Nn,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].note)}}function Sc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function Tc(c,_){1&c&&i._UZ(0,"td",587)}function E_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function B_(c,_){1&c&&i._UZ(0,"td",585)}function Q_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function cs(c,_){1&c&&i._UZ(0,"td",585)}function Cc(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function wc(c,_){1&c&&i._UZ(0,"td")}function Mr(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Sc,2,0,"td",584),i.YNc(2,Tc,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,E_,2,0,"td",586),i.YNc(9,B_,1,0,"td",586),i.YNc(10,Q_,2,0,"td",586),i.YNc(11,cs,1,0,"td",586),i.YNc(12,Cc,2,0,"td",226),i.YNc(13,wc,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].note)}}function ou(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"5"),i.qZA())}function z0(c,_){1&c&&i._UZ(0,"td",587)}function G_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ia(c,_){1&c&&i._UZ(0,"td",585)}function Io(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function H_(c,_){1&c&&i._UZ(0,"td",585)}function ti(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ac(c,_){1&c&&i._UZ(0,"td")}function Ua(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ou,2,0,"td",584),i.YNc(2,z0,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,G_,2,0,"td",586),i.YNc(9,Ia,1,0,"td",586),i.YNc(10,Io,2,0,"td",586),i.YNc(11,H_,1,0,"td",586),i.YNc(12,ti,2,0,"td",226),i.YNc(13,Ac,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].note)}}function Fa(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"6"),i.qZA())}function ru(c,_){1&c&&i._UZ(0,"td",587)}function il(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function X0(c,_){1&c&&i._UZ(0,"td",585)}function Mc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Zc(c,_){1&c&&i._UZ(0,"td",585)}function Uo(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function jc(c,_){1&c&&i._UZ(0,"td")}function Nc(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Fa,2,0,"td",584),i.YNc(2,ru,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,il,2,0,"td",586),i.YNc(9,X0,1,0,"td",586),i.YNc(10,Mc,2,0,"td",586),i.YNc(11,Zc,1,0,"td",586),i.YNc(12,Uo,2,0,"td",226),i.YNc(13,jc,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+30]?null:h.SupervisionPrintData.supervision[u+30].note)}}function kc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"7"),i.qZA())}function Oa(c,_){1&c&&i._UZ(0,"td",587)}function su(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function W0(c,_){1&c&&i._UZ(0,"td",585)}function Ic(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function $0(c,_){1&c&&i._UZ(0,"td",585)}function Fo(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function tg(c,_){1&c&&i._UZ(0,"td")}function K_(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,kc,2,0,"td",584),i.YNc(2,Oa,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,su,2,0,"td",586),i.YNc(9,W0,1,0,"td",586),i.YNc(10,Ic,2,0,"td",586),i.YNc(11,$0,1,0,"td",586),i.YNc(12,Fo,2,0,"td",226),i.YNc(13,tg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].note)}}function eg(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0627\u0644\u0625\u0639\u062f\u0627\u062f \u0648\u0627\u0644\u062a\u062c\u0647\u064a\u0632"),i.qZA()(),i.YNc(4,q_,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0641\u0631"),i.qZA()(),i.YNc(8,nu,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u064a\u0627\u0647 \u0645\u0646 \u0627\u0644\u0645\u0648\u0642\u0639"),i.qZA()(),i.YNc(12,el,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u0631\u0627\u0628\u0639\u0627\u064b: \u062a\u062c\u0647\u064a\u0632\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0635\u0628 \u0627\u0644\u062e\u0631\u0633\u0627\u0646\u0629"),i.qZA()(),i.YNc(16,Mr,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u062e\u0627\u0645\u0633\u0627\u064b: \u062a\u062c\u0647\u064a\u0632\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629 \u0648\u0641\u0642\u0627 \u0644\u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (SBC 701-720) "),i.qZA()(),i.YNc(20,Ua,16,11,"tr",582),i.TgZ(21,"tr",580)(22,"th",581),i._uU(23,"\u0633\u0627\u062f\u0633\u0627\u064b: \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629 \u0648 \u0627\u0644\u0637\u0627\u0642\u0629 \u0648\u0641\u0642\u0627\u0627 \u0644\u0623\u0643\u0648\u0627\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (SBC 401-601-602) "),i.qZA()(),i.YNc(24,Nc,16,11,"tr",582),i.TgZ(25,"tr",580)(26,"th",581),i._uU(27,"\u0633\u0627\u0628\u0639\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0648\u0642\u0627\u064a\u0629 \u0648\u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(28,K_,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(8)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(9)),i.xp6(4),i.Q6J("ngForOf",u.counter(5)),i.xp6(4),i.Q6J("ngForOf",u.counter(5)),i.xp6(4),i.Q6J("ngForOf",u.counter(2))}}function Uc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function Fc(c,_){1&c&&i._UZ(0,"td",587)}function Oo(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Oc(c,_){1&c&&i._UZ(0,"td",585)}function La(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ig(c,_){1&c&&i._UZ(0,"td",585)}function Lc(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ng(c,_){1&c&&i._UZ(0,"td")}function V_(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Uc,2,0,"td",584),i.YNc(2,Fc,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Oo,2,0,"td",586),i.YNc(9,Oc,1,0,"td",586),i.YNc(10,La,2,0,"td",586),i.YNc(11,ig,1,0,"td",586),i.YNc(12,Lc,2,0,"td",226),i.YNc(13,ng,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function og(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580),i._UZ(2,"th",581),i.qZA(),i.YNc(3,V_,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",u.counter(5))}}function bc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function rg(c,_){1&c&&i._UZ(0,"td",587)}function qc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function sg(c,_){1&c&&i._UZ(0,"td",585)}function Yc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Jc(c,_){1&c&&i._UZ(0,"td",585)}function lg(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ug(c,_){1&c&&i._UZ(0,"td")}function ag(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,bc,2,0,"td",584),i.YNc(2,rg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,qc,2,0,"td",586),i.YNc(9,sg,1,0,"td",586),i.YNc(10,Yc,2,0,"td",586),i.YNc(11,Jc,1,0,"td",586),i.YNc(12,lg,2,0,"td",226),i.YNc(13,ug,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function ba(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function hg(c,_){1&c&&i._UZ(0,"td",587)}function gn(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function nl(c,_){1&c&&i._UZ(0,"td",585)}function lu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ei(c,_){1&c&&i._UZ(0,"td",585)}function ol(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function qa(c,_){1&c&&i._UZ(0,"td")}function Rc(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ba,2,0,"td",584),i.YNc(2,hg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,gn,2,0,"td",586),i.YNc(9,nl,1,0,"td",586),i.YNc(10,lu,2,0,"td",586),i.YNc(11,Ei,1,0,"td",586),i.YNc(12,ol,2,0,"td",226),i.YNc(13,qa,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+10]?null:h.SupervisionPrintData.supervision[u+10].note)}}function pg(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function cg(c,_){1&c&&i._UZ(0,"td",587)}function dg(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function fg(c,_){1&c&&i._UZ(0,"td",585)}function gg(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Zr(c,_){1&c&&i._UZ(0,"td",585)}function Ec(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ds(c,_){1&c&&i._UZ(0,"td")}function Bc(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,pg,2,0,"td",584),i.YNc(2,cg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,dg,2,0,"td",586),i.YNc(9,fg,1,0,"td",586),i.YNc(10,gg,2,0,"td",586),i.YNc(11,Zr,1,0,"td",586),i.YNc(12,Ec,2,0,"td",226),i.YNc(13,ds,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+14]?null:h.SupervisionPrintData.supervision[u+14].note)}}function Qc(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function Gc(c,_){1&c&&i._UZ(0,"td",587)}function z_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function rl(c,_){1&c&&i._UZ(0,"td",585)}function mg(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function _g(c,_){1&c&&i._UZ(0,"td",585)}function X_(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function vg(c,_){1&c&&i._UZ(0,"td")}function sl(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Qc,2,0,"td",584),i.YNc(2,Gc,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,z_,2,0,"td",586),i.YNc(9,rl,1,0,"td",586),i.YNc(10,mg,2,0,"td",586),i.YNc(11,_g,1,0,"td",586),i.YNc(12,X_,2,0,"td",226),i.YNc(13,vg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",0==u),i.xp6(1),i.Q6J("ngIf",0!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+25]?null:h.SupervisionPrintData.supervision[u+25].note)}}function or(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function yg(c,_){1&c&&i._UZ(0,"td",587)}function xg(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ll(c,_){1&c&&i._UZ(0,"td",585)}function Ya(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Pg(c,_){1&c&&i._UZ(0,"td",585)}function eo(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Dg(c,_){1&c&&i._UZ(0,"td")}function uu(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,or,2,0,"td",584),i.YNc(2,yg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,xg,2,0,"td",586),i.YNc(9,ll,1,0,"td",586),i.YNc(10,Ya,2,0,"td",586),i.YNc(11,Pg,1,0,"td",586),i.YNc(12,eo,2,0,"td",226),i.YNc(13,Dg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].note)}}function fs(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0625\u0646\u0634\u0627\u0626\u064a\u0629"),i.qZA()(),i.YNc(4,ag,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0635\u062d\u064a"),i.qZA()(),i.YNc(8,Rc,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062a\u0627\u0628\u0639 \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0635\u062d\u064a"),i.qZA()(),i.YNc(12,Bc,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629"),i.qZA()(),i.YNc(16,sl,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u0631\u0627\u0628\u0639\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0648\u0642\u0627\u064a\u0629 \u0648\u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u064a\u0642 **"),i.qZA()(),i.YNc(20,uu,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(10)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(11)),i.xp6(4),i.Q6J("ngForOf",u.counter(1)),i.xp6(4),i.Q6J("ngForOf",u.counter(3))}}function jt(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function gs(c,_){1&c&&i._UZ(0,"td",587)}function Hc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function X(c,_){1&c&&i._UZ(0,"td",585)}function oe(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function te(c,_){1&c&&i._UZ(0,"td",585)}function En(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ue(c,_){1&c&&i._UZ(0,"td")}function be(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,jt,2,0,"td",584),i.YNc(2,gs,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Hc,2,0,"td",586),i.YNc(9,X,1,0,"td",586),i.YNc(10,oe,2,0,"td",586),i.YNc(11,te,1,0,"td",586),i.YNc(12,En,2,0,"td",226),i.YNc(13,Ue,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function mn(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : "),i.qZA()(),i.YNc(4,be,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(5))}}function au(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function hu(c,_){1&c&&i._UZ(0,"td",587)}function pu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function cu(c,_){1&c&&i._UZ(0,"td",585)}function me(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function jr(c,_){1&c&&i._UZ(0,"td",585)}function Sg(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Kc(c,_){1&c&&i._UZ(0,"td")}function Ja(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,au,2,0,"td",584),i.YNc(2,hu,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,pu,2,0,"td",586),i.YNc(9,cu,1,0,"td",586),i.YNc(10,me,2,0,"td",586),i.YNc(11,jr,1,0,"td",586),i.YNc(12,Sg,2,0,"td",226),i.YNc(13,Kc,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function Vc(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0642\u0628\u0644 \u0635\u0628 \u0627\u0644\u0623\u0639\u0645\u062f\u0629"),i.qZA()(),i.YNc(4,Ja,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(12))}}function Ra(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function Tg(c,_){1&c&&i._UZ(0,"td",587)}function W_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Cg(c,_){1&c&&i._UZ(0,"td",585)}function zc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Mi(c,_){1&c&&i._UZ(0,"td",585)}function Ea(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ul(c,_){1&c&&i._UZ(0,"td")}function kn(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Ra,2,0,"td",584),i.YNc(2,Tg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,W_,2,0,"td",586),i.YNc(9,Cg,1,0,"td",586),i.YNc(10,zc,2,0,"td",586),i.YNc(11,Mi,1,0,"td",586),i.YNc(12,Ea,2,0,"td",226),i.YNc(13,ul,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function du(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function Po(c,_){1&c&&i._UZ(0,"td",587)}function Ba(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ms(c,_){1&c&&i._UZ(0,"td",585)}function Xc(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function al(c,_){1&c&&i._UZ(0,"td",585)}function rr(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Lo(c,_){1&c&&i._UZ(0,"td")}function Bi(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,du,2,0,"td",584),i.YNc(2,Po,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Ba,2,0,"td",586),i.YNc(9,ms,1,0,"td",586),i.YNc(10,Xc,2,0,"td",586),i.YNc(11,al,1,0,"td",586),i.YNc(12,rr,2,0,"td",226),i.YNc(13,Lo,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].note)}}function _n(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function Nr(c,_){1&c&&i._UZ(0,"td",587)}function kr(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function wg(c,_){1&c&&i._UZ(0,"td",585)}function Qi(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Wc(c,_){1&c&&i._UZ(0,"td",585)}function bo(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Qa(c,_){1&c&&i._UZ(0,"td")}function hl(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,_n,2,0,"td",584),i.YNc(2,Nr,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,kr,2,0,"td",586),i.YNc(9,wg,1,0,"td",586),i.YNc(10,Qi,2,0,"td",586),i.YNc(11,Wc,1,0,"td",586),i.YNc(12,bo,2,0,"td",226),i.YNc(13,Qa,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",3==u),i.xp6(1),i.Q6J("ngIf",3!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+17]?null:h.SupervisionPrintData.supervision[u+17].note)}}function _s(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function sr(c,_){1&c&&i._UZ(0,"td",587)}function fu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ir(c,_){1&c&&i._UZ(0,"td",585)}function vs(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Bn(c,_){1&c&&i._UZ(0,"td",585)}function Ci(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ag(c,_){1&c&&i._UZ(0,"td")}function Mg(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,_s,2,0,"td",584),i.YNc(2,sr,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,fu,2,0,"td",586),i.YNc(9,Ir,1,0,"td",586),i.YNc(10,vs,2,0,"td",586),i.YNc(11,Bn,1,0,"td",586),i.YNc(12,Ci,2,0,"td",226),i.YNc(13,Ag,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",7==u),i.xp6(1),i.Q6J("ngIf",7!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].note)}}function Zg(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"5"),i.qZA())}function pl(c,_){1&c&&i._UZ(0,"td",587)}function $c(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function jg(c,_){1&c&&i._UZ(0,"td",585)}function Ng(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function td(c,_){1&c&&i._UZ(0,"td",585)}function gu(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ga(c,_){1&c&&i._UZ(0,"td")}function io(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Zg,2,0,"td",584),i.YNc(2,pl,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,$c,2,0,"td",586),i.YNc(9,jg,1,0,"td",586),i.YNc(10,Ng,2,0,"td",586),i.YNc(11,td,1,0,"td",586),i.YNc(12,gu,2,0,"td",226),i.YNc(13,Ga,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].note)}}function Do(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"6"),i.qZA())}function Ha(c,_){1&c&&i._UZ(0,"td",587)}function un(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ur(c,_){1&c&&i._UZ(0,"td",585)}function $_(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function mu(c,_){1&c&&i._UZ(0,"td",585)}function Pt(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function kg(c,_){1&c&&i._UZ(0,"td")}function Ig(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Do,2,0,"td",584),i.YNc(2,Ha,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,un,2,0,"td",586),i.YNc(9,Ur,1,0,"td",586),i.YNc(10,$_,2,0,"td",586),i.YNc(11,mu,1,0,"td",586),i.YNc(12,Pt,2,0,"td",226),i.YNc(13,kg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+40]?null:h.SupervisionPrintData.supervision[u+40].note)}}function ed(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"7"),i.qZA())}function cl(c,_){1&c&&i._UZ(0,"td",587)}function dl(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function So(c,_){1&c&&i._UZ(0,"td",585)}function id(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function nd(c,_){1&c&&i._UZ(0,"td",585)}function od(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function rd(c,_){1&c&&i._UZ(0,"td")}function Ug(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ed,2,0,"td",584),i.YNc(2,cl,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,dl,2,0,"td",586),i.YNc(9,So,1,0,"td",586),i.YNc(10,id,2,0,"td",586),i.YNc(11,nd,1,0,"td",586),i.YNc(12,od,2,0,"td",226),i.YNc(13,rd,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+49]?null:h.SupervisionPrintData.supervision[u+49].note)}}function ys(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"8"),i.qZA())}function sd(c,_){1&c&&i._UZ(0,"td",587)}function ld(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ka(c,_){1&c&&i._UZ(0,"td",585)}function fl(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ud(c,_){1&c&&i._UZ(0,"td",585)}function Ut(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Zi(c,_){1&c&&i._UZ(0,"td")}function ei(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ys,2,0,"td",584),i.YNc(2,sd,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,ld,2,0,"td",586),i.YNc(9,Ka,1,0,"td",586),i.YNc(10,fl,2,0,"td",586),i.YNc(11,ud,1,0,"td",586),i.YNc(12,Ut,2,0,"td",226),i.YNc(13,Zi,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].note)}}function no(c,_){1&c&&i._UZ(0,"td",587)}function gl(c,_){1&c&&i._UZ(0,"td",587)}function qo(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function To(c,_){1&c&&i._UZ(0,"td",585)}function Gi(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ml(c,_){1&c&&i._UZ(0,"td",585)}function _l(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Fg(c,_){1&c&&i._UZ(0,"td")}function de(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,no,1,0,"td",584),i.YNc(2,gl,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,qo,2,0,"td",586),i.YNc(9,To,1,0,"td",586),i.YNc(10,Gi,2,0,"td",586),i.YNc(11,ml,1,0,"td",586),i.YNc(12,_l,2,0,"td",226),i.YNc(13,Fg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+53]?null:h.SupervisionPrintData.supervision[u+53].note)}}function Va(c,_){1&c&&i._UZ(0,"td",587)}function za(c,_){1&c&&i._UZ(0,"td",587)}function Xa(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Wa(c,_){1&c&&i._UZ(0,"td",585)}function ad(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function $a(c,_){1&c&&i._UZ(0,"td",585)}function th(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function eh(c,_){1&c&&i._UZ(0,"td")}function ih(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Va,1,0,"td",584),i.YNc(2,za,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Xa,2,0,"td",586),i.YNc(9,Wa,1,0,"td",586),i.YNc(10,ad,2,0,"td",586),i.YNc(11,$a,1,0,"td",586),i.YNc(12,th,2,0,"td",226),i.YNc(13,eh,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+57]?null:h.SupervisionPrintData.supervision[u+57].note)}}function nh(c,_){1&c&&i._UZ(0,"td",587)}function _u(c,_){1&c&&i._UZ(0,"td",587)}function oh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function rh(c,_){1&c&&i._UZ(0,"td",585)}function Og(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function vu(c,_){1&c&&i._UZ(0,"td",585)}function O(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function hd(c,_){1&c&&i._UZ(0,"td")}function Lg(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,nh,1,0,"td",584),i.YNc(2,_u,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,oh,2,0,"td",586),i.YNc(9,rh,1,0,"td",586),i.YNc(10,Og,2,0,"td",586),i.YNc(11,vu,1,0,"td",586),i.YNc(12,O,2,0,"td",226),i.YNc(13,hd,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+61]?null:h.SupervisionPrintData.supervision[u+61].note)}}function sh(c,_){1&c&&i._UZ(0,"td",587)}function bg(c,_){1&c&&i._UZ(0,"td",587)}function pd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Co(c,_){1&c&&i._UZ(0,"td",585)}function Fr(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function qg(c,_){1&c&&i._UZ(0,"td",585)}function t2(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Yg(c,_){1&c&&i._UZ(0,"td")}function Jg(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,sh,1,0,"td",584),i.YNc(2,bg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,pd,2,0,"td",586),i.YNc(9,Co,1,0,"td",586),i.YNc(10,Fr,2,0,"td",586),i.YNc(11,qg,1,0,"td",586),i.YNc(12,t2,2,0,"td",226),i.YNc(13,Yg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",0==u),i.xp6(1),i.Q6J("ngIf",0!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+65]?null:h.SupervisionPrintData.supervision[u+65].note)}}function Rg(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b: \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u062e\u0631\u0633\u0627\u0646\u0629 \u0627\u0644\u0645\u0633\u0644\u062d\u0629 \u0648\u0641\u0642\u0627 \u0644\u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 \u0648\u0641\u0642\u0627 \u0644\u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (\u0627\u0644\u0641\u0635\u0644 \u0627\u0644\u062a\u0627\u0633\u0639 \u0639\u0634\u0631 SBC 201)"),i.qZA()(),i.YNc(4,kn,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0628\u0639\u062f \u0635\u0628 \u0627\u0644\u0623\u0639\u0645\u062f\u0629"),i.qZA()(),i.YNc(8,Bi,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0627\u0644\u0628\u0644\u0627\u0637\u0629 \u0627\u0644\u062e\u0631\u0633\u0627\u0646\u064a\u0629"),i.qZA()(),i.YNc(12,hl,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u062a\u0627\u0628\u0639 \u0631\u0627\u0628\u0639\u0627\u064b : \u0627\u0644\u0628\u0644\u0627\u0637\u0629 \u0627\u0644\u062e\u0631\u0633\u0627\u0646\u064a\u0629"),i.qZA()(),i.YNc(16,Mg,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u062e\u0627\u0645\u0633\u0627\u064b: \u062a\u062c\u0647\u064a\u0632\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629 \u0648\u0641\u0642\u0627 \u0644\u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (SBC 701-720) \u0648\u0645\u0646\u0647\u0627"),i.qZA()(),i.YNc(20,io,16,11,"tr",582),i.TgZ(21,"tr",580)(22,"th",581),i._uU(23,"\u0633\u0627\u062f\u0633\u0627\u064b: \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629 \u0648 \u0627\u0644\u0637\u0627\u0642\u0629 \u0648\u0641\u0642\u0627 \u0644\u0623\u0643\u0648\u0627\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (SBC 401-601-602) \u0648\u0645\u0646\u0647\u0627"),i.qZA()(),i.YNc(24,Ig,16,11,"tr",582),i.TgZ(25,"tr",580)(26,"th",581),i._uU(27,"\u0633\u0627\u0628\u0639\u0627\u064b: \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u0645\u0646 \u0648\u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0628\u0627\u0644\u0645\u0648\u0642\u0639"),i.qZA()(),i.YNc(28,Ug,16,11,"tr",582),i.TgZ(29,"tr",580)(30,"th",581),i._uU(31,"\u062b\u0627\u0645\u0646\u0627\u064b: \u062a\u062c\u0647\u064a\u0632\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629 \u0648\u0641\u0642\u0627 \u0644\u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 (SBC 701-702) \u0648\u0645\u0646\u0647\u0627"),i.qZA()(),i.YNc(32,ei,16,11,"tr",582),i.TgZ(33,"tr",580)(34,"th",581),i._uU(35,"\u0623\u0646\u0638\u0645\u0629 \u0627\u0644\u0625\u0637\u0641\u0627\u0621"),i.qZA()(),i.YNc(36,de,16,11,"tr",582),i.TgZ(37,"tr",580)(38,"th",581),i._uU(39,"\u0646\u0638\u0627\u0645 \u0627\u0644\u0625\u0646\u0630\u0627\u0631"),i.qZA()(),i.YNc(40,ih,16,11,"tr",582),i.TgZ(41,"tr",580)(42,"th",581),i._uU(43,"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u0644\u062f\u062e\u0627\u0646"),i.qZA()(),i.YNc(44,Lg,16,11,"tr",582),i.TgZ(45,"tr",580)(46,"th",581),i._uU(47,"\u0623\u0646\u0638\u0645\u0629 \u0623\u062e\u0631\u064a (...................)"),i.qZA()(),i.YNc(48,Jg,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(12)),i.xp6(4),i.Q6J("ngForOf",u.counter(5)),i.xp6(4),i.Q6J("ngForOf",u.counter(6)),i.xp6(4),i.Q6J("ngForOf",u.counter(15)),i.xp6(4),i.Q6J("ngForOf",u.counter(2)),i.xp6(4),i.Q6J("ngForOf",u.counter(9)),i.xp6(4),i.Q6J("ngForOf",u.counter(2)),i.xp6(4),i.Q6J("ngForOf",u.counter(2)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(1))}}function Yo(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function cd(c,_){1&c&&i._UZ(0,"td",587)}function dd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function fd(c,_){1&c&&i._UZ(0,"td",585)}function gd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Eg(c,_){1&c&&i._UZ(0,"td",585)}function Bg(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Qg(c,_){1&c&&i._UZ(0,"td")}function an(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Yo,2,0,"td",584),i.YNc(2,cd,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,dd,2,0,"td",586),i.YNc(9,fd,1,0,"td",586),i.YNc(10,gd,2,0,"td",586),i.YNc(11,Eg,1,0,"td",586),i.YNc(12,Bg,2,0,"td",226),i.YNc(13,Qg,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function e2(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0628\u0639\u062f \u0627\u0644\u0635\u0628 \u0627\u0644\u0628\u0644\u0627\u0637\u0629 \u0627\u0644\u062e\u0631\u0633\u0627\u0646\u064a\u0629"),i.qZA()(),i.YNc(4,an,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(3))}}function yu(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function Gg(c,_){1&c&&i._UZ(0,"td",587)}function lh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function md(c,_){1&c&&i._UZ(0,"td",585)}function _d(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function vd(c,_){1&c&&i._UZ(0,"td",585)}function uh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Qn(c,_){1&c&&i._UZ(0,"td")}function Hg(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,yu,2,0,"td",584),i.YNc(2,Gg,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,lh,2,0,"td",586),i.YNc(9,md,1,0,"td",586),i.YNc(10,_d,2,0,"td",586),i.YNc(11,vd,1,0,"td",586),i.YNc(12,uh,2,0,"td",226),i.YNc(13,Qn,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function Kg(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function vn(c,_){1&c&&i._UZ(0,"td",587)}function wo(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Hi(c,_){1&c&&i._UZ(0,"td",585)}function le(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ah(c,_){1&c&&i._UZ(0,"td",585)}function hh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function yd(c,_){1&c&&i._UZ(0,"td")}function xu(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Kg,2,0,"td",584),i.YNc(2,vn,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,wo,2,0,"td",586),i.YNc(9,Hi,1,0,"td",586),i.YNc(10,le,2,0,"td",586),i.YNc(11,ah,1,0,"td",586),i.YNc(12,hh,2,0,"td",226),i.YNc(13,yd,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].note)}}function ph(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function ut(c,_){1&c&&i._UZ(0,"td",587)}function Or(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function vl(c,_){1&c&&i._UZ(0,"td",585)}function xd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ch(c,_){1&c&&i._UZ(0,"td",585)}function dh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Lr(c,_){1&c&&i._UZ(0,"td")}function Vg(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,ph,2,0,"td",584),i.YNc(2,ut,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Or,2,0,"td",586),i.YNc(9,vl,1,0,"td",586),i.YNc(10,xd,2,0,"td",586),i.YNc(11,ch,1,0,"td",586),i.YNc(12,dh,2,0,"td",226),i.YNc(13,Lr,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+20]?null:h.SupervisionPrintData.supervision[u+20].note)}}function zg(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function oo(c,_){1&c&&i._UZ(0,"td",587)}function Pd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Dd(c,_){1&c&&i._UZ(0,"td",585)}function kt(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Gn(c,_){1&c&&i._UZ(0,"td",585)}function Xg(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Pu(c,_){1&c&&i._UZ(0,"td")}function Sd(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,zg,2,0,"td",584),i.YNc(2,oo,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Pd,2,0,"td",586),i.YNc(9,Dd,1,0,"td",586),i.YNc(10,kt,2,0,"td",586),i.YNc(11,Gn,1,0,"td",586),i.YNc(12,Xg,2,0,"td",226),i.YNc(13,Pu,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+23]?null:h.SupervisionPrintData.supervision[u+23].note)}}function yl(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"5"),i.qZA())}function yn(c,_){1&c&&i._UZ(0,"td",587)}function Du(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Wg(c,_){1&c&&i._UZ(0,"td",585)}function $g(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function fh(c,_){1&c&&i._UZ(0,"td",585)}function gh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Td(c,_){1&c&&i._UZ(0,"td")}function t1(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,yl,2,0,"td",584),i.YNc(2,yn,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Du,2,0,"td",586),i.YNc(9,Wg,1,0,"td",586),i.YNc(10,$g,2,0,"td",586),i.YNc(11,fh,1,0,"td",586),i.YNc(12,gh,2,0,"td",226),i.YNc(13,Td,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+28]?null:h.SupervisionPrintData.supervision[u+28].note)}}function Cd(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"6"),i.qZA())}function e1(c,_){1&c&&i._UZ(0,"td",587)}function wd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function mh(c,_){1&c&&i._UZ(0,"td",585)}function Su(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function i1(c,_){1&c&&i._UZ(0,"td",585)}function i2(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ad(c,_){1&c&&i._UZ(0,"td")}function n1(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Cd,2,0,"td",584),i.YNc(2,e1,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,wd,2,0,"td",586),i.YNc(9,mh,1,0,"td",586),i.YNc(10,Su,2,0,"td",586),i.YNc(11,i1,1,0,"td",586),i.YNc(12,i2,2,0,"td",226),i.YNc(13,Ad,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+32]?null:h.SupervisionPrintData.supervision[u+32].note)}}function _h(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"7"),i.qZA())}function Md(c,_){1&c&&i._UZ(0,"td",587)}function Tu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function o1(c,_){1&c&&i._UZ(0,"td",585)}function ai(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function vh(c,_){1&c&&i._UZ(0,"td",585)}function Zd(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ro(c,_){1&c&&i._UZ(0,"td")}function hi(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,_h,2,0,"td",584),i.YNc(2,Md,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Tu,2,0,"td",586),i.YNc(9,o1,1,0,"td",586),i.YNc(10,ai,2,0,"td",586),i.YNc(11,vh,1,0,"td",586),i.YNc(12,Zd,2,0,"td",226),i.YNc(13,ro,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+36]?null:h.SupervisionPrintData.supervision[u+36].note)}}function xl(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"8"),i.qZA())}function Pl(c,_){1&c&&i._UZ(0,"td",587)}function r1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function yh(c,_){1&c&&i._UZ(0,"td",585)}function n2(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function s1(c,_){1&c&&i._UZ(0,"td",585)}function l1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function u1(c,_){1&c&&i._UZ(0,"td")}function Dl(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,xl,2,0,"td",584),i.YNc(2,Pl,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,r1,2,0,"td",586),i.YNc(9,yh,1,0,"td",586),i.YNc(10,n2,2,0,"td",586),i.YNc(11,s1,1,0,"td",586),i.YNc(12,l1,2,0,"td",226),i.YNc(13,u1,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].note)}}function Sl(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"9"),i.qZA())}function o2(c,_){1&c&&i._UZ(0,"td",587)}function Jo(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function xh(c,_){1&c&&i._UZ(0,"td",585)}function r2(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function a1(c,_){1&c&&i._UZ(0,"td",585)}function Ph(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function qe(c,_){1&c&&i._UZ(0,"td")}function jd(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Sl,2,0,"td",584),i.YNc(2,o2,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Jo,2,0,"td",586),i.YNc(9,xh,1,0,"td",586),i.YNc(10,r2,2,0,"td",586),i.YNc(11,a1,1,0,"td",586),i.YNc(12,Ph,2,0,"td",226),i.YNc(13,qe,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+51]?null:h.SupervisionPrintData.supervision[u+51].note)}}function W(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u0628\u0627\u0646\u064a"),i.qZA()(),i.YNc(4,Hg,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0621"),i.qZA()(),i.YNc(8,xu,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u063a\u0627\u0632"),i.qZA()(),i.YNc(12,Vg,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u0631\u0627\u0628\u0639\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0639\u0632\u0644 \u0627\u0644\u062d\u0631\u0627\u0631\u064a \u0648\u0627\u0644\u0645\u0627\u0626\u064a"),i.qZA()(),i.YNc(16,Sd,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u062e\u0627\u0645\u0633\u0627\u064b:\u0623\u0646\u0638\u0645\u0629 \u0627\u0644\u062a\u062f\u0641\u0626\u0629 \u0648\u0627\u0644\u062a\u0647\u0648\u064a\u0629 \u0648\u0627\u0644\u062a\u0643\u064a\u064a\u0641 "),i.qZA()(),i.YNc(20,t1,16,11,"tr",582),i.TgZ(21,"tr",580)(22,"th",581),i._uU(23,"\u0633\u0627\u062f\u0633\u0627\u064b: \u062a\u0631\u0643\u064a\u0628 \u0623\u0646\u0638\u0645\u0629 \u062a\u0633\u062e\u064a\u0646 \u0627\u0644\u0645\u064a\u0627\u0647 "),i.qZA()(),i.YNc(24,n1,16,11,"tr",582),i.TgZ(25,"tr",580)(26,"th",581),i._uU(27,"\u0633\u0627\u0628\u0639\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u0635\u0648\u0627\u0639\u0642/\u0627\u0644\u062a\u0623\u0631\u064a\u0636"),i.qZA()(),i.YNc(28,hi,16,11,"tr",582),i.TgZ(29,"tr",580)(30,"th",581),i._uU(31,"\u062b\u0627\u0645\u0646\u0627\u064b: \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642"),i.qZA()(),i.YNc(32,Dl,16,11,"tr",582),i.TgZ(33,"tr",580)(34,"th",581),i._uU(35,"\u062a\u0627\u0633\u0639\u0627\u064b: \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u0645\u0646 \u0648\u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0628\u0627\u0644\u0645\u0648\u0642\u0639"),i.qZA()(),i.YNc(36,jd,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(12)),i.xp6(4),i.Q6J("ngForOf",u.counter(8)),i.xp6(4),i.Q6J("ngForOf",u.counter(3)),i.xp6(4),i.Q6J("ngForOf",u.counter(5)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(2)),i.xp6(4),i.Q6J("ngForOf",u.counter(13)),i.xp6(4),i.Q6J("ngForOf",u.counter(2))}}function pi(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function Nd(c,_){1&c&&i._UZ(0,"td",587)}function s2(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Dh(c,_){1&c&&i._UZ(0,"td",585)}function h1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ro(c,_){1&c&&i._UZ(0,"td",585)}function p1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function br(c,_){1&c&&i._UZ(0,"td")}function c1(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,pi,2,0,"td",584),i.YNc(2,Nd,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,s2,2,0,"td",586),i.YNc(9,Dh,1,0,"td",586),i.YNc(10,h1,2,0,"td",586),i.YNc(11,Ro,1,0,"td",586),i.YNc(12,p1,2,0,"td",226),i.YNc(13,br,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",7==u),i.xp6(1),i.Q6J("ngIf",7!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function d1(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function f1(c,_){1&c&&i._UZ(0,"td",587)}function g1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function m1(c,_){1&c&&i._UZ(0,"td",585)}function kd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function lr(c,_){1&c&&i._UZ(0,"td",585)}function Id(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ud(c,_){1&c&&i._UZ(0,"td")}function ur(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,d1,2,0,"td",584),i.YNc(2,f1,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,g1,2,0,"td",586),i.YNc(9,m1,1,0,"td",586),i.YNc(10,kd,2,0,"td",586),i.YNc(11,lr,1,0,"td",586),i.YNc(12,Id,2,0,"td",226),i.YNc(13,Ud,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",8==u),i.xp6(1),i.Q6J("ngIf",8!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].note)}}function Sh(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function Fd(c,_){1&c&&i._UZ(0,"td",587)}function _1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Od(c,_){1&c&&i._UZ(0,"td",585)}function v1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function ar(c,_){1&c&&i._UZ(0,"td",585)}function y1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function mt(c,_){1&c&&i._UZ(0,"td")}function Ld(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Sh,2,0,"td",584),i.YNc(2,Fd,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,_1,2,0,"td",586),i.YNc(9,Od,1,0,"td",586),i.YNc(10,v1,2,0,"td",586),i.YNc(11,ar,1,0,"td",586),i.YNc(12,y1,2,0,"td",226),i.YNc(13,mt,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+31]?null:h.SupervisionPrintData.supervision[u+31].note)}}function B(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0639\u0632\u0644"),i.qZA()(),i.YNc(4,c1,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(8,ur,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u0645\u0646 \u0648\u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0628\u0627\u0644\u0645\u0648\u0642\u0639"),i.qZA()(),i.YNc(12,Ld,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(15)),i.xp6(4),i.Q6J("ngForOf",u.counter(16)),i.xp6(4),i.Q6J("ngForOf",u.counter(2))}}function Eo(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function x1(c,_){1&c&&i._UZ(0,"td",587)}function P1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function D1(c,_){1&c&&i._UZ(0,"td",585)}function wi(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function S1(c,_){1&c&&i._UZ(0,"td",585)}function Th(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ch(c,_){1&c&&i._UZ(0,"td")}function Cu(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Eo,2,0,"td",584),i.YNc(2,x1,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,P1,2,0,"td",586),i.YNc(9,D1,1,0,"td",586),i.YNc(10,wi,2,0,"td",586),i.YNc(11,S1,1,0,"td",586),i.YNc(12,Th,2,0,"td",226),i.YNc(13,Ch,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function T1(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function C1(c,_){1&c&&i._UZ(0,"td",587)}function bd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function w1(c,_){1&c&&i._UZ(0,"td",585)}function A1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function M1(c,_){1&c&&i._UZ(0,"td",585)}function Z1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function l2(c,_){1&c&&i._UZ(0,"td")}function wh(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,T1,2,0,"td",584),i.YNc(2,C1,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,bd,2,0,"td",586),i.YNc(9,w1,1,0,"td",586),i.YNc(10,A1,2,0,"td",586),i.YNc(11,M1,1,0,"td",586),i.YNc(12,Z1,2,0,"td",226),i.YNc(13,l2,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+11]?null:h.SupervisionPrintData.supervision[u+11].note)}}function qd(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function rt(c,_){1&c&&i._UZ(0,"td",587)}function Yd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Jd(c,_){1&c&&i._UZ(0,"td",585)}function j1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function N1(c,_){1&c&&i._UZ(0,"td",585)}function ii(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function L(c,_){1&c&&i._UZ(0,"td")}function Tl(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,qd,2,0,"td",584),i.YNc(2,rt,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Yd,2,0,"td",586),i.YNc(9,Jd,1,0,"td",586),i.YNc(10,j1,2,0,"td",586),i.YNc(11,N1,1,0,"td",586),i.YNc(12,ii,2,0,"td",226),i.YNc(13,L,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",9==u),i.xp6(1),i.Q6J("ngIf",9!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+16]?null:h.SupervisionPrintData.supervision[u+16].note)}}function k1(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function Bo(c,_){1&c&&i._UZ(0,"td",587)}function Ah(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Rd(c,_){1&c&&i._UZ(0,"td",585)}function Mh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Cl(c,_){1&c&&i._UZ(0,"td",585)}function Zh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Ed(c,_){1&c&&i._UZ(0,"td")}function Bd(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,k1,2,0,"td",584),i.YNc(2,Bo,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Ah,2,0,"td",586),i.YNc(9,Rd,1,0,"td",586),i.YNc(10,Mh,2,0,"td",586),i.YNc(11,Cl,1,0,"td",586),i.YNc(12,Zh,2,0,"td",226),i.YNc(13,Ed,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+34]?null:h.SupervisionPrintData.supervision[u+34].note)}}function jh(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"5"),i.qZA())}function xs(c,_){1&c&&i._UZ(0,"td",587)}function Qd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ps(c,_){1&c&&i._UZ(0,"td",585)}function u2(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function a2(c,_){1&c&&i._UZ(0,"td",585)}function qr(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Nh(c,_){1&c&&i._UZ(0,"td")}function I1(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,jh,2,0,"td",584),i.YNc(2,xs,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Qd,2,0,"td",586),i.YNc(9,Ps,1,0,"td",586),i.YNc(10,u2,2,0,"td",586),i.YNc(11,a2,1,0,"td",586),i.YNc(12,qr,2,0,"td",226),i.YNc(13,Nh,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+44]?null:h.SupervisionPrintData.supervision[u+44].note)}}function wu(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"6"),i.qZA())}function Au(c,_){1&c&&i._UZ(0,"td",587)}function Ds(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ss(c,_){1&c&&i._UZ(0,"td",585)}function Gd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function h2(c,_){1&c&&i._UZ(0,"td",585)}function p2(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function U1(c,_){1&c&&i._UZ(0,"td")}function ni(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,wu,2,0,"td",584),i.YNc(2,Au,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Ds,2,0,"td",586),i.YNc(9,Ss,1,0,"td",586),i.YNc(10,Gd,2,0,"td",586),i.YNc(11,h2,1,0,"td",586),i.YNc(12,p2,2,0,"td",226),i.YNc(13,U1,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].note)}}function ji(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0645\u064a\u0627\u0647"),i.qZA()(),i.YNc(4,Cu,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0639\u0632\u0644 \u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u064a\u0627\u0647 \u0648\u0627\u0644\u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0645\u0628\u0644\u0644\u0629"),i.qZA()(),i.YNc(8,wh,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u062a\u0631\u0643\u064a\u0628\u0627\u062a \u0627\u0644\u0635\u0631\u0641 \u0627\u0644\u0635\u062d\u064a"),i.qZA()(),i.YNc(12,Tl,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u0631\u0627\u0628\u0639\u0627\u064b: \u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(16,Bd,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u062e\u0627\u0645\u0633\u0627\u064b: \u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u0631\u0627\u0641\u0642 \u0627\u0644\u062e\u0627\u0631\u062c\u064a\u0629 "),i.qZA()(),i.YNc(20,I1,16,11,"tr",582),i.TgZ(21,"tr",580)(22,"th",581),i._uU(23,"\u0633\u0627\u062f\u0633\u0627\u064b: \u0627\u0644\u062a\u0645\u062f\u064a\u062f\u0627\u062a \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629 "),i.qZA()(),i.YNc(24,ni,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(11)),i.xp6(4),i.Q6J("ngForOf",u.counter(5)),i.xp6(4),i.Q6J("ngForOf",u.counter(18)),i.xp6(4),i.Q6J("ngForOf",u.counter(10)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(13))}}function Qo(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function wl(c,_){1&c&&i._UZ(0,"td",587)}function Mu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function kh(c,_){1&c&&i._UZ(0,"td",585)}function Ih(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Zu(c,_){1&c&&i._UZ(0,"td",585)}function ju(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Nu(c,_){1&c&&i._UZ(0,"td")}function Hd(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Qo,2,0,"td",584),i.YNc(2,wl,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Mu,2,0,"td",586),i.YNc(9,kh,1,0,"td",586),i.YNc(10,Ih,2,0,"td",586),i.YNc(11,Zu,1,0,"td",586),i.YNc(12,ju,2,0,"td",226),i.YNc(13,Nu,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",3==u),i.xp6(1),i.Q6J("ngIf",3!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function Uh(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function ku(c,_){1&c&&i._UZ(0,"td",587)}function Iu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Fh(c,_){1&c&&i._UZ(0,"td",585)}function F1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function O1(c,_){1&c&&i._UZ(0,"td",585)}function Uu(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Oh(c,_){1&c&&i._UZ(0,"td")}function Fu(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Uh,2,0,"td",584),i.YNc(2,ku,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Iu,2,0,"td",586),i.YNc(9,Fh,1,0,"td",586),i.YNc(10,F1,2,0,"td",586),i.YNc(11,O1,1,0,"td",586),i.YNc(12,Uu,2,0,"td",226),i.YNc(13,Oh,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+7]?null:h.SupervisionPrintData.supervision[u+7].note)}}function Al(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function so(c,_){1&c&&i._UZ(0,"td",587)}function L1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function lo(c,_){1&c&&i._UZ(0,"td",585)}function Lh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function bh(c,_){1&c&&i._UZ(0,"td",585)}function b1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function q1(c,_){1&c&&i._UZ(0,"td")}function Go(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Al,2,0,"td",584),i.YNc(2,so,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,L1,2,0,"td",586),i.YNc(9,lo,1,0,"td",586),i.YNc(10,Lh,2,0,"td",586),i.YNc(11,bh,1,0,"td",586),i.YNc(12,b1,2,0,"td",226),i.YNc(13,q1,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",10==u),i.xp6(1),i.Q6J("ngIf",10!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+15]?null:h.SupervisionPrintData.supervision[u+15].note)}}function Yr(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function Ml(c,_){1&c&&i._UZ(0,"td",587)}function Kd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Vd(c,_){1&c&&i._UZ(0,"td",585)}function Ts(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function c2(c,_){1&c&&i._UZ(0,"td",585)}function Y1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function zd(c,_){1&c&&i._UZ(0,"td")}function Yt(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Yr,2,0,"td",584),i.YNc(2,Ml,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Kd,2,0,"td",586),i.YNc(9,Vd,1,0,"td",586),i.YNc(10,Ts,2,0,"td",586),i.YNc(11,c2,1,0,"td",586),i.YNc(12,Y1,2,0,"td",226),i.YNc(13,zd,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",3==u),i.xp6(1),i.Q6J("ngIf",3!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+35]?null:h.SupervisionPrintData.supervision[u+35].note)}}function hr(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"5"),i.qZA())}function Ou(c,_){1&c&&i._UZ(0,"td",587)}function It(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function J1(c,_){1&c&&i._UZ(0,"td",585)}function Xd(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Wd(c,_){1&c&&i._UZ(0,"td",585)}function d2(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function $d(c,_){1&c&&i._UZ(0,"td")}function fe(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,hr,2,0,"td",584),i.YNc(2,Ou,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,It,2,0,"td",586),i.YNc(9,J1,1,0,"td",586),i.YNc(10,Xd,2,0,"td",586),i.YNc(11,Wd,1,0,"td",586),i.YNc(12,d2,2,0,"td",226),i.YNc(13,$d,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+41]?null:h.SupervisionPrintData.supervision[u+41].note)}}function tf(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0628\u0644\u0627\u0637"),i.qZA()(),i.YNc(4,Hd,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0646\u0648\u0627\u0641\u0630"),i.qZA()(),i.YNc(8,Fu,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0623\u0628\u0648\u0627\u0628"),i.qZA()(),i.YNc(12,Go,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u0631\u0627\u0628\u0639\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u064a\u0642 ** "),i.qZA()(),i.YNc(16,Yt,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u0627\u0644\u062a\u0634\u0637\u064a\u0628\u0627\u062a \u0627\u0644\u062f\u0627\u062e\u0644\u064a\u0629"),i.qZA()(),i.YNc(20,fe,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(7)),i.xp6(4),i.Q6J("ngForOf",u.counter(8)),i.xp6(4),i.Q6J("ngForOf",u.counter(20)),i.xp6(4),i.Q6J("ngForOf",u.counter(6)),i.xp6(4),i.Q6J("ngForOf",u.counter(4))}}function Ai(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"1"),i.qZA())}function we(c,_){1&c&&i._UZ(0,"td",587)}function R1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function qh(c,_){1&c&&i._UZ(0,"td",585)}function Lu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Yh(c,_){1&c&&i._UZ(0,"td",585)}function In(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function ef(c,_){1&c&&i._UZ(0,"td")}function Jh(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Ai,2,0,"td",584),i.YNc(2,we,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,R1,2,0,"td",586),i.YNc(9,qh,1,0,"td",586),i.YNc(10,Lu,2,0,"td",586),i.YNc(11,Yh,1,0,"td",586),i.YNc(12,In,2,0,"td",226),i.YNc(13,ef,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u]?null:h.SupervisionPrintData.supervision[u].note)}}function bu(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"2"),i.qZA())}function Rh(c,_){1&c&&i._UZ(0,"td",587)}function Tt(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function E1(c,_){1&c&&i._UZ(0,"td",585)}function B1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function nf(c,_){1&c&&i._UZ(0,"td",585)}function Q1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function of(c,_){1&c&&i._UZ(0,"td")}function rf(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,bu,2,0,"td",584),i.YNc(2,Rh,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Tt,2,0,"td",586),i.YNc(9,E1,1,0,"td",586),i.YNc(10,B1,2,0,"td",586),i.YNc(11,nf,1,0,"td",586),i.YNc(12,Q1,2,0,"td",226),i.YNc(13,of,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",4==u),i.xp6(1),i.Q6J("ngIf",4!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+3]?null:h.SupervisionPrintData.supervision[u+3].note)}}function Eh(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function G1(c,_){1&c&&i._UZ(0,"td",587)}function H1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function K1(c,_){1&c&&i._UZ(0,"td",585)}function ve(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function V1(c,_){1&c&&i._UZ(0,"td",585)}function z1(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function X1(c,_){1&c&&i._UZ(0,"td")}function Ki(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Eh,2,0,"td",584),i.YNc(2,G1,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,H1,2,0,"td",586),i.YNc(9,K1,1,0,"td",586),i.YNc(10,ve,2,0,"td",586),i.YNc(11,V1,1,0,"td",586),i.YNc(12,z1,2,0,"td",226),i.YNc(13,X1,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",5==u),i.xp6(1),i.Q6J("ngIf",5!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+12]?null:h.SupervisionPrintData.supervision[u+12].note)}}function Bh(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"3"),i.qZA())}function z(c,_){1&c&&i._UZ(0,"td",587)}function Zl(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function W1(c,_){1&c&&i._UZ(0,"td",585)}function $1(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function tm(c,_){1&c&&i._UZ(0,"td",585)}function Qh(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function pr(c,_){1&c&&i._UZ(0,"td")}function em(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Bh,2,0,"td",584),i.YNc(2,z,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Zl,2,0,"td",586),i.YNc(9,W1,1,0,"td",586),i.YNc(10,$1,2,0,"td",586),i.YNc(11,tm,1,0,"td",586),i.YNc(12,Qh,2,0,"td",226),i.YNc(13,pr,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+22]?null:h.SupervisionPrintData.supervision[u+22].note)}}function oi(c,_){1&c&&i._UZ(0,"td",587)}function sf(c,_){1&c&&i._UZ(0,"td",587)}function ri(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function f2(c,_){1&c&&i._UZ(0,"td",585)}function ue(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function cr(c,_){1&c&&i._UZ(0,"td",585)}function im(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function nm(c,_){1&c&&i._UZ(0,"td")}function Un(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,oi,1,0,"td",584),i.YNc(2,sf,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,ri,2,0,"td",586),i.YNc(9,f2,1,0,"td",586),i.YNc(10,ue,2,0,"td",586),i.YNc(11,cr,1,0,"td",586),i.YNc(12,im,2,0,"td",226),i.YNc(13,nm,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",6==u),i.xp6(1),i.Q6J("ngIf",6!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+26]?null:h.SupervisionPrintData.supervision[u+26].note)}}function Fn(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"4"),i.qZA())}function qu(c,_){1&c&&i._UZ(0,"td",587)}function Gh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function lf(c,_){1&c&&i._UZ(0,"td",585)}function Yu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function uf(c,_){1&c&&i._UZ(0,"td",585)}function ee(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function qt(c,_){1&c&&i._UZ(0,"td")}function om(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Fn,2,0,"td",584),i.YNc(2,qu,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Gh,2,0,"td",586),i.YNc(9,lf,1,0,"td",586),i.YNc(10,Yu,2,0,"td",586),i.YNc(11,uf,1,0,"td",586),i.YNc(12,ee,2,0,"td",226),i.YNc(13,qt,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+38]?null:h.SupervisionPrintData.supervision[u+38].note)}}function xn(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"7"),i.qZA())}function re(c,_){1&c&&i._UZ(0,"td",587)}function rm(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function g2(c,_){1&c&&i._UZ(0,"td",585)}function sm(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Ju(c,_){1&c&&i._UZ(0,"td",585)}function dt(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function lm(c,_){1&c&&i._UZ(0,"td")}function Ni(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,xn,2,0,"td",584),i.YNc(2,re,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,rm,2,0,"td",586),i.YNc(9,g2,1,0,"td",586),i.YNc(10,sm,2,0,"td",586),i.YNc(11,Ju,1,0,"td",586),i.YNc(12,dt,2,0,"td",226),i.YNc(13,lm,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",3==u),i.xp6(1),i.Q6J("ngIf",3!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+42]?null:h.SupervisionPrintData.supervision[u+42].note)}}function jl(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"6"),i.qZA())}function Hh(c,_){1&c&&i._UZ(0,"td",587)}function Nl(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function um(c,_){1&c&&i._UZ(0,"td",585)}function am(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function af(c,_){1&c&&i._UZ(0,"td",585)}function hm(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Kh(c,_){1&c&&i._UZ(0,"td")}function si(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,jl,2,0,"td",584),i.YNc(2,Hh,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Nl,2,0,"td",586),i.YNc(9,um,1,0,"td",586),i.YNc(10,am,2,0,"td",586),i.YNc(11,af,1,0,"td",586),i.YNc(12,hm,2,0,"td",226),i.YNc(13,Kh,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",1==u),i.xp6(1),i.Q6J("ngIf",1!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+48]?null:h.SupervisionPrintData.supervision[u+48].note)}}function Qt(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"7"),i.qZA())}function Ru(c,_){1&c&&i._UZ(0,"td",587)}function Eu(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function Bu(c,_){1&c&&i._UZ(0,"td",585)}function pm(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function cm(c,_){1&c&&i._UZ(0,"td",585)}function dm(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function fm(c,_){1&c&&i._UZ(0,"td")}function gm(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,Qt,2,0,"td",584),i.YNc(2,Ru,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,Eu,2,0,"td",586),i.YNc(9,Bu,1,0,"td",586),i.YNc(10,pm,2,0,"td",586),i.YNc(11,cm,1,0,"td",586),i.YNc(12,dm,2,0,"td",226),i.YNc(13,fm,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",8==u),i.xp6(1),i.Q6J("ngIf",8!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+50]?null:h.SupervisionPrintData.supervision[u+50].note)}}function hf(c,_){1&c&&(i.TgZ(0,"td",587),i._uU(1,"8"),i.qZA())}function Vh(c,_){1&c&&i._UZ(0,"td",587)}function zh(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function m2(c,_){1&c&&i._UZ(0,"td",585)}function Pn(c,_){1&c&&(i.TgZ(0,"td",585),i._uU(1,"\u063a.\u0645\u0637\u0627\u0628\u0642"),i.qZA())}function dr(c,_){1&c&&i._UZ(0,"td",585)}function Ho(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u063a.\u0645\u062a\u0648\u0641\u0631"),i.qZA())}function Dn(c,_){1&c&&i._UZ(0,"td")}function li(c,_){if(1&c&&(i.TgZ(0,"tr",583),i.YNc(1,hf,2,0,"td",584),i.YNc(2,Vh,1,0,"td",584),i.TgZ(3,"td")(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"td",585),i._uU(7),i.qZA(),i.YNc(8,zh,2,0,"td",586),i.YNc(9,m2,1,0,"td",586),i.YNc(10,Pn,2,0,"td",586),i.YNc(11,dr,1,0,"td",586),i.YNc(12,Ho,2,0,"td",226),i.YNc(13,Dn,1,0,"td",226),i.TgZ(14,"td"),i._uU(15),i.qZA()()),2&c){const u=_.index,h=i.oxw(3);i.xp6(1),i.Q6J("ngIf",2==u),i.xp6(1),i.Q6J("ngIf",2!=u),i.xp6(3),i.Oqu(u+1),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].nameAr),i.xp6(1),i.Q6J("ngIf",1==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(1),i.Q6J("ngIf",1!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(1),i.Q6J("ngIf",0==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(1),i.Q6J("ngIf",0!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(1),i.Q6J("ngIf",2==(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(1),i.Q6J("ngIf",2!=(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].isRead)),i.xp6(2),i.Oqu(null==h.SupervisionPrintData||null==h.SupervisionPrintData.supervision[u+67]?null:h.SupervisionPrintData.supervision[u+67].note)}}function fr(c,_){if(1&c&&(i.TgZ(0,"tbody",579)(1,"tr",580)(2,"th",581),i._uU(3,"\u0623\u0648\u0644\u0627\u064b : \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0625\u0646\u0634\u0627\u0626\u064a\u0629"),i.qZA()(),i.YNc(4,Jh,16,11,"tr",582),i.TgZ(5,"tr",580)(6,"th",581),i._uU(7,"\u062b\u0627\u0646\u064a\u0627\u064b : \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0631\u0643\u064a\u0628\u0627\u062a \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629"),i.qZA()(),i.YNc(8,rf,16,11,"tr",582),i.TgZ(9,"tr",580)(10,"th",581),i._uU(11,"\u062b\u0627\u0644\u062b\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(12,Ki,16,11,"tr",582),i.TgZ(13,"tr",580)(14,"th",581),i._uU(15,"\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 **"),i.qZA()(),i.YNc(16,em,16,11,"tr",582),i.TgZ(17,"tr",580)(18,"th",581),i._uU(19,"\u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062a\u062c\u0647\u064a\u0632\u0627\u062a \u0627\u0644\u062e\u0627\u0635\u0629 "),i.qZA()(),i.YNc(20,Un,16,11,"tr",582),i.TgZ(21,"tr",580)(22,"th",581),i._uU(23,"\u0631\u0627\u0628\u0639\u0627\u064b: \u0627\u0644\u0645\u0633\u0627\u0628\u062d \u0648\u062d\u0645\u0627\u0645\u0627\u062a \u0627\u0644\u0628\u062e\u0627\u0631 "),i.qZA()(),i.YNc(24,om,16,11,"tr",582),i.TgZ(25,"tr",580)(26,"th",581),i._uU(27,"\u062e\u0627\u0645\u0633\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0646\u0648\u0627\u0641\u0630 \u0648\u0627\u0644\u062a\u062b\u0628\u064a\u062a"),i.qZA()(),i.YNc(28,Ni,16,11,"tr",582),i.TgZ(29,"tr",580)(30,"th",581),i._uU(31,"\u0633\u0627\u062f\u0633\u0627\u064b: \u0623\u0646\u0638\u0645\u0629 \u062a\u0633\u062e\u064a\u0646 \u0627\u0644\u0645\u064a\u0627\u0647"),i.qZA()(),i.YNc(32,si,16,11,"tr",582),i.TgZ(33,"tr",580)(34,"th",581),i._uU(35,"\u0633\u0627\u0628\u0639\u0627\u064b: \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u062f\u0641\u0626\u0629 \u0648\u0627\u0644\u062a\u0647\u0648\u064a\u0629 \u0648\u0627\u0644\u062a\u0643\u064a\u064a\u0641"),i.qZA()(),i.YNc(36,gm,16,11,"tr",582),i.TgZ(37,"tr",580)(38,"th",581),i._uU(39,"\u062b\u0627\u0645\u0646\u0627\u064b: \u0627\u0644\u0623\u0628\u0648\u0627\u0628"),i.qZA()(),i.YNc(40,li,16,11,"tr",582),i.qZA()),2&c){const u=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",u.counter(3)),i.xp6(4),i.Q6J("ngForOf",u.counter(9)),i.xp6(4),i.Q6J("ngForOf",u.counter(10)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(12)),i.xp6(4),i.Q6J("ngForOf",u.counter(4)),i.xp6(4),i.Q6J("ngForOf",u.counter(6)),i.xp6(4),i.Q6J("ngForOf",u.counter(2)),i.xp6(4),i.Q6J("ngForOf",u.counter(17)),i.xp6(4),i.Q6J("ngForOf",u.counter(4))}}function Jr(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt1)}}function kl(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt2)}}function Xh(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt3)}}function Wh(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt1)}}function $h(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt2)}}function tp(c,_){if(1&c&&(i.TgZ(0,"li"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2);i.xp6(1),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt3)}}function Il(c,_){if(1&c&&i._UZ(0,"img",588),2&c){const u=i.oxw(2);i.s9C("src",u.CustomDataSupervision.stampUrl,i.LSH)}}function ep(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",366)(1,"div",519)(2,"div",520)(3,"div",521)(4,"div",522),i._UZ(5,"img",523),i.qZA(),i.TgZ(6,"div",524)(7,"p",58),i._uU(8),i.qZA(),i.TgZ(9,"p",58),i._uU(10),i.qZA()()(),i.TgZ(11,"div",525)(12,"div",217)(13,"div",318)(14,"div",526)(15,"div",527)(16,"span",528),i._uU(17,":\u0627\u0644\u062d\u064a"),i.qZA(),i.TgZ(18,"span",529),i._uU(19,"District:"),i.qZA()(),i.TgZ(20,"div",530)(21,"span"),i._uU(22),i.qZA()()(),i.TgZ(23,"div",526)(24,"div",531)(25,"span",528),i._uU(26,":\u0627\u0644\u0628\u0644\u062f\u06cc\u0629"),i.qZA(),i.TgZ(27,"span",529),i._uU(28,"Sub-Municipality:"),i.qZA()(),i.TgZ(29,"div",532)(30,"span"),i._uU(31),i.qZA()()(),i.TgZ(32,"div",526)(33,"div",527)(34,"span",528),i._uU(35,":\u0627\u0644\u0623\u0645\u0627\u0646\u0629"),i.qZA(),i.TgZ(36,"span",529),i._uU(37,"Municipal:"),i.qZA()(),i.TgZ(38,"div",530)(39,"span"),i._uU(40),i.qZA()()()(),i.TgZ(41,"div",318)(42,"div",533)(43,"div",534)(44,"span",535),i._uU(45,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0648 \u0639\u0646\u0648\u0627\u0646\u06be:"),i.qZA()()(),i.TgZ(46,"div",536)(47,"div",537)(48,"span"),i._uU(49),i.qZA()()(),i.TgZ(50,"div",533)(51,"div",538)(52,"span"),i._uU(53,"Project Name and Address "),i.qZA()()()(),i.TgZ(54,"div",318)(55,"div",539)(56,"div",527)(57,"span",528),i._uU(58,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0627\u0644\u0643:"),i.qZA(),i.TgZ(59,"span",529),i._uU(60,":Owner Name"),i.qZA()(),i.TgZ(61,"div",530)(62,"span"),i._uU(63),i.qZA()()(),i.TgZ(64,"div",539)(65,"div",540)(66,"span",528),i._uU(67,":\u0631\u0642\u0645 \u0631\u062e\u0635\u0629 \u0627\u0644\u0628\u0646\u0627\u0621"),i.qZA(),i.TgZ(68,"span",529),i._uU(69,"Building Permit Number:"),i.qZA()(),i.TgZ(70,"div",532)(71,"span"),i._uU(72),i.qZA()()()(),i.TgZ(73,"div",318)(74,"div",539)(75,"div",531)(76,"span",528),i._uU(77,"\u0631\u0642\u0645 \u0642\u0637\u0639\u0629 \u0627\u0644\u0623\u0631\u0636:"),i.qZA(),i.TgZ(78,"span",529),i._uU(79,":Land Number"),i.qZA()(),i.TgZ(80,"div",532)(81,"span"),i._uU(82),i.qZA()()(),i.TgZ(83,"div",539)(84,"div",540)(85,"span",528),i._uU(86,":\u0631\u0642\u0645 \u0627\u0644\u0645\u062e\u0637\u0637"),i.qZA(),i.TgZ(87,"span",529),i._uU(88,"Plans Number:"),i.qZA()(),i.TgZ(89,"div",532)(90,"span"),i._uU(91),i.qZA()()()(),i.TgZ(92,"div",318)(93,"div",526)(94,"div",527)(95,"span",528),i._uU(96,":\u0646\u0648\u0639 \u0627\u0644\u0628\u0646\u0627\u0621"),i.qZA(),i.TgZ(97,"span",529),i._uU(98,"Building Type:"),i.qZA()(),i.TgZ(99,"div",530)(100,"span"),i._uU(101),i.qZA()()(),i.TgZ(102,"div",526)(103,"div",531)(104,"span",528),i._uU(105,":\u0648\u0635\u0641 \u0627\u0644\u0628\u0646\u0627\u0621"),i.qZA(),i.TgZ(106,"span",529),i._uU(107,"Building description:"),i.qZA()(),i.TgZ(108,"div",532)(109,"span"),i._uU(110),i.qZA()()(),i.TgZ(111,"div",526)(112,"div",527)(113,"span",528),i._uU(114,":\u0639\u062f\u062f \u0627\u0644\u0623\u062f\u0648\u0627\u0631"),i.qZA(),i.TgZ(115,"span",529),i._uU(116,"Number of Floor:"),i.qZA()(),i.TgZ(117,"div",530)(118,"span"),i._uU(119),i.qZA()()()(),i.TgZ(120,"div",318)(121,"div",539)(122,"div",531)(123,"span",528),i._uU(124,":\u0645\u0643\u062a\u0628 \u0627\u0644\u0645\u0635\u0645\u0645 \u0627\u0644\u0645\u0639\u062a\u0645\u062f"),i.qZA(),i.TgZ(125,"span",529),i._uU(126,"Certified designer Office:"),i.qZA()(),i.TgZ(127,"div",532)(128,"span"),i._uU(129),i.qZA()()(),i.TgZ(130,"div",539)(131,"div",540)(132,"span",528),i._uU(133,": \u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u06be\u0646\u062f\u0633\u064a \u0627\u0644\u0645\u0634\u0631\u0641"),i.qZA(),i.TgZ(134,"span",529),i._uU(135,"Supervising designer office:"),i.qZA()(),i.TgZ(136,"div",532)(137,"span"),i._uU(138),i.qZA()()()(),i.TgZ(139,"div",318)(140,"div",539)(141,"div",527)(142,"span",528),i._uU(143,":\u0645\u0642\u0627\u0648\u0644 \u0627\u0644\u0628\u0646\u0627\u0621"),i.qZA(),i.TgZ(144,"span",529),i._uU(145,"Construction Contractor:"),i.qZA()(),i.TgZ(146,"div",530)(147,"span"),i._uU(148),i.qZA()()(),i.TgZ(149,"div",539)(150,"div",540)(151,"span",528),i._uU(152,":\u0627\u0633\u0645 \u0627\u0644\u06be\u0646\u062f\u0633\u064a \u0627\u0644\u0645\u0634\u0631\u0641"),i.qZA(),i.TgZ(153,"span",529),i._uU(154,"Supervising Engineer Name:"),i.qZA()(),i.TgZ(155,"div",532)(156,"span"),i._uU(157),i.qZA()()()(),i.TgZ(158,"div",318)(159,"div",539)(160,"div",527)(161,"span",528),i._uU(162,"\u062a\u0627\u0631\u06cc\u062e \u0627\u0644\u062a\u0642\u0631\u06cc\u0631:"),i.qZA(),i.TgZ(163,"span",529),i._uU(164,":Report date"),i.qZA()(),i.TgZ(165,"div",530)(166,"span"),i._uU(167),i.qZA()()(),i.TgZ(168,"div",539)(169,"div",540)(170,"span",528),i._uU(171,"\u0646\u062a\u06cc\u062c\u0629 \u0641\u062d\u0635 \u0627\u0644\u0645\u0631\u062d\u0644\u0629:"),i.qZA(),i.TgZ(172,"span",529),i._uU(173,":Check Result"),i.qZA()(),i.TgZ(174,"div",541)(175,"div",542)(176,"span",543),i._uU(177," \u0645\u0642\u0628\u0648\u0644"),i.qZA(),i.TgZ(178,"span",543),i._uU(179," \u0645\u0631\u0641\u0648\u0636"),i.qZA(),i.TgZ(180,"span"),i._uU(181," \u0645\u0644\u0627\u062d\u0638\u0627\u062a"),i.qZA()()()()(),i.TgZ(182,"div",318)(183,"div",544)(184,"div",531)(185,"span",528),i._uU(186,"\u0635\u0648\u0631 \u0641\u0648\u062a\u0648\u063a\u0631\u0627\u0641\u06cc\u0629 \u0645\u0646 \u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639:"),i.qZA(),i.TgZ(187,"span",529),i._uU(188,":Photo"),i.qZA()(),i.TgZ(189,"div",532)(190,"div",218)(191,"div",539)(192,"div",545),i.YNc(193,ps,1,1,"img",546),i.qZA(),i.TgZ(194,"span",547),i._uU(195,"\u0635\u0648\u0631\u0629 \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0646\u0641\u06cc\u0630 (1) "),i.qZA()(),i.TgZ(196,"div",539)(197,"div",545),i.YNc(198,Ri,1,1,"img",546),i.qZA(),i.TgZ(199,"span",547),i._uU(200,"\u0635\u0648\u0631\u0629 \u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u062a\u0646\u0641\u06cc\u0630 (2) "),i.qZA()()()()()()()()(),i.TgZ(201,"div",548)(202,"div",521)(203,"div",522),i._UZ(204,"img",523),i.qZA(),i.TgZ(205,"div",524)(206,"p",58),i._uU(207),i.qZA(),i.TgZ(208,"p",58),i._uU(209),i.qZA()()(),i.TgZ(210,"div",549)(211,"table",550)(212,"thead")(213,"tr",551),i._UZ(214,"th",552),i.TgZ(215,"th",552),i._uU(216,"\u0645"),i.qZA(),i.TgZ(217,"th",553),i._uU(218,"\u0627\u0644\u0645\u0647\u0645\u0629"),i.qZA(),i.TgZ(219,"th",552),i._uU(220,"\u0645\u0637\u0627\u0628\u0642"),i.qZA(),i.TgZ(221,"th",554),i._uU(222,"\u063a\u064a\u0631 \u0645\u0637\u0627\u0628\u0642"),i.qZA(),i.TgZ(223,"th",554),i._uU(224,"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"),i.qZA(),i.TgZ(225,"th",552),i._uU(226,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),i.qZA()()(),i.YNc(227,to,13,3,"tbody",555),i.YNc(228,eg,29,7,"tbody",555),i.YNc(229,og,4,1,"tbody",555),i.YNc(230,fs,21,5,"tbody",555),i.YNc(231,mn,5,1,"tbody",555),i.YNc(232,Vc,5,1,"tbody",555),i.YNc(233,Rg,49,12,"tbody",555),i.YNc(234,e2,5,1,"tbody",555),i.YNc(235,W,37,9,"tbody",555),i.YNc(236,B,13,3,"tbody",555),i.YNc(237,ji,25,6,"tbody",555),i.YNc(238,tf,21,5,"tbody",555),i.YNc(239,fr,41,10,"tbody",555),i.qZA()(),i.TgZ(240,"div",556)(241,"div",217)(242,"div",557)(243,"div",558)(244,"div",559)(245,"span",528),i._uU(246,"\u0627\u0644\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a \u0627\u0644\u0645\u0639\u062a\u0645\u062f\u0629 \u0627\u0644\u062a\u064a \u0623\u0642\u0631\u06be\u0627 \u0627\u0644\u0645\u0635\u0645\u0645 \u0627\u0644\u0645\u062a\u0639\u0645\u062f:"),i.qZA(),i.TgZ(247,"span",529),i._uU(248,"changes to approved plans authorized by RDP:"),i.qZA()(),i.TgZ(249,"div",560)(250,"ol",561),i.YNc(251,Jr,2,1,"li",226),i.YNc(252,kl,2,1,"li",226),i.YNc(253,Xh,2,1,"li",226),i.qZA(),i.TgZ(254,"span",562),i._uU(255,"\u062a\u0631\u0641\u0642 \u0635\u0648\u0631\u0629 \u0645\u0646 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a \u0627\u0644\u0645\u0639\u062a\u0645\u062f\u0629 \u0628\u0639\u062f \u0627\u0644\u062a\u063a\u06cc\u06cc\u0631\u0645\u0646 \u0627\u0644\u0645\u0635\u0645\u0645 \u0627\u0644\u0645\u062a\u0639\u0645\u062f "),i.qZA()()()(),i.TgZ(256,"div",557)(257,"div",558)(258,"div",559)(259,"span",528),i._uU(260," \u0627\u0644\u0628\u0646\u0648\u062f \u0627\u0644\u062a\u064a \u0644\u0645 \u062a\u0630\u0643\u0631 \u0641\u064a \u0627\u0644\u062a\u0642\u0631\u06cc\u0631: "),i.qZA(),i.TgZ(261,"span",529),i._uU(262,"Items needing correction:"),i.qZA()(),i.TgZ(263,"div",560)(264,"span",563),i._uU(265," \u062a\u0631\u0641\u0642 \u0635\u0648\u0631\u0629 \u0645\u0646 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a \u0627\u0644\u0645\u0639\u062a\u0645\u062f\u0629 \u0628\u0639\u062f \u0627\u0644\u062a\u063a\u06cc\u06cc\u0631\u0645\u0646 \u0627\u0644\u0645\u0635\u0645\u0645 \u0627\u0644\u0645\u062a\u0639\u0645\u062f "),i.qZA(),i.TgZ(266,"ol",561),i.YNc(267,Wh,2,1,"li",226),i.YNc(268,$h,2,1,"li",226),i.YNc(269,tp,2,1,"li",226),i.qZA()()()(),i.TgZ(270,"div",557)(271,"div",558)(272,"div",559)(273,"span",528),i._uU(274," :\u0625\u0642\u0631\u0627\u0631 \u062a\u062d\u0645\u0644 \u0627\u0644\u0645\u0633\u0626\u0648\u0644\u06cc\u0629/\u0627\u0644\u062a\u0639\u06be\u062f "),i.qZA(),i.TgZ(275,"span",529),i._uU(276,":Acknowledgement of responsibility"),i.qZA()(),i.TgZ(277,"div",560)(278,"span",564),i._uU(279," \u0623\u062a\u0639\u06be\u062f \u0623\u0646\u0627 \u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u06be\u0646\u062f\u0633\u064a \u0627\u0644\u0645\u0634\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0628\u0623\u0646\u06be \u0642\u062f \u062a\u0645 \u0641\u062d\u0635 \u0648 \u0645\u0631\u0627\u062c\u0639\u0629 \u0643\u0627\u0641\u0629 \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0628\u0627\u0644\u0645\u0648\u0642\u0639 \u0648\u0641\u0642\u0627\u064b \u0644\u0644\u0623\u0635\u0648\u0644 \u0627\u0644\u0641\u0646\u06cc\u0629 \u0644\u0645\u0645\u0627\u0631\u0633\u0629 \u0627\u0644\u0645\u06be\u0646\u0629 \u0648 \u0625\u0646\u0642\u0627\u0630 \u0643\u0627\u0641\u0629 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 \u0627\u0644\u0633\u0639\u0648\u062f\u064a \u0648\u062e\u0627\u0635\u0629 \u0641\u06cc\u0645\u0627 \u06cc\u062a\u0639\u0644\u0642 \u0628\u0627\u0644\u0623\u0643\u0648\u0627\u062f \u0631\u0642\u0645: -SBC-1101-1102/ SBC-801/ SBC-701-702/ SBC- 601-602/ SBC 501/ SBC-401/ SBC-303-306/ SBC-201\u0628\u0627\u0633\u062a\u062b\u0646\u0627\u0621 \u0645\u0627 \u06be\u0648 \u0645\u0630\u0643\u0648\u0631 \u0628\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0648\u0639\u0644\u0649 \u0630\u0644\u0643 \u0641\u0642\u062f \u0627\u0639\u062a\u0645\u062f\u062a \u0646\u062a\u06cc\u062c\u0629 \u0627\u0644\u0645\u0631\u062d\u0644\u0629 \u0648\u06be\u0630\u0627 \u0625\u0642\u0631\u0627\u0631 \u0645\u0646\u064a \u0628\u0630\u0644\u0643 "),i.qZA()()()(),i.TgZ(280,"div",565)(281,"div",566),i._UZ(282,"img",523),i.TgZ(283,"p",567),i._uU(284," \u0627\u0639\u062a\u0645\u0627\u062f \u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u06be\u0646\u062f\u0633\u064a \u0627\u0644\u0645\u0634\u0631\u0641 "),i.qZA()(),i.TgZ(285,"div",568)(286,"div",569)(287,"p",535),i._uU(288,"\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 :"),i.qZA(),i.TgZ(289,"p",535),i._uU(290,"Full Name : "),i.TgZ(291,"span"),i._uU(292),i.qZA()()(),i.TgZ(293,"div",570)(294,"p"),i._uU(295,"\u0631\u0642\u0645 \u0627\u0644\u06be\u0648\u06cc\u0629/\u0627\u0644\u0634\u06be\u0627\u062f\u0629:"),i.qZA(),i.TgZ(296,"p"),i._uU(297," Certificate No./ID : "),i.TgZ(298,"span"),i._uU(299),i.qZA()()()(),i.TgZ(300,"div",568)(301,"div",571)(302,"p"),i._uU(303,"\u0627\u0644\u062a\u0648\u0642\u06cc\u0639:"),i.qZA(),i.TgZ(304,"p"),i._uU(305,":Signature"),i.qZA()(),i.TgZ(306,"div",570)(307,"p"),i._uU(308,"\u0627\u0644\u0645\u0643\u062a\u0628 \u0627\u0644\u06be\u0646\u062f\u0633\u064a \u0627\u0644\u0645\u0634\u0631\u0641:"),i.qZA(),i.TgZ(309,"p"),i._uU(310," Stamp : "),i.TgZ(311,"span"),i._uU(312),i.qZA()()()()(),i.TgZ(313,"div",572)(314,"p",573)(315,"span"),i._uU(316,"* \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631 \u0648\u0641\u0642 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0643\u0648\u062f \u0627\u0644\u0628\u0646\u0627\u0621 \u0627\u0644\u0633\u0639\u0648\u062f\u064a \u0648 \u0627\u0644\u0645\u062e\u0637\u0637\u0627\u062a \u0627\u0644\u0645\u0639\u062a\u0645\u062f\u0629"),i.qZA()(),i.TgZ(317,"p",574)(318,"span"),i._uU(319,"** \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0648\u0642\u0627\u064a\u0629 \u0648\u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u062d\u0631\u0627\u0626\u0642 \u063a\u064a\u0631 \u0645\u0644\u0632\u0645\u0629 \u0644\u0644\u0645\u0628\u0627\u0646\u064a \u0627\u0644\u0633\u0643\u0646\u064a\u0629 \u0627\u0644\u062a\u064a \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062b\u0644\u0627\u062b\u0629 \u0623\u062f\u0648\u0627\u0631 \u0648\u0623\u0642\u0644"),i.qZA()(),i.TgZ(320,"p",574),i.YNc(321,Il,1,1,"img",575),i.qZA()()()()()()(),i.TgZ(322,"div",576)(323,"button",247),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.printDiv("report"))}),i._UZ(324,"i",577),i.qZA(),i.TgZ(325,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(326),i.ALo(327,"translate"),i.qZA()()}if(2&c){const u=i.oxw();i.xp6(5),i.Q6J("src",u.CustomDataSupervision.BaladyImg,i.LSH),i.xp6(3),i.hij(" \u062a\u0642\u0631\u064a\u0631 ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.note,""),i.xp6(2),i.hij(" \u062a\u0642\u0631\u064a\u0631 ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.nameAr,""),i.xp6(12),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].districtName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].subMunicipalityName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].municipalName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].projectDiscName),i.xp6(14),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].customerName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].licenseNo),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].pieceNo),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].outlineNo),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].buildTypeName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].proBuildingDisc),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].adwARid),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].officeName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.org_VD?null:u.SupervisionPrintData.org_VD.nameAr),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].contractorName),i.xp6(9),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].receivedUserName),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].superDateConfirm),i.xp6(9),i.Q6J("ngClass",2==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].superStatus)?"circleAccept":"notselected"),i.xp6(2),i.Q6J("ngClass",3==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].superStatus)?"circleRefuse":"notselected"),i.xp6(15),i.Q6J("ngIf",u.CustomDataSupervision.HeadImageUrl),i.xp6(5),i.Q6J("ngIf",u.CustomDataSupervision.HeadImageUrl2),i.xp6(6),i.Q6J("src",u.CustomDataSupervision.BaladyImg,i.LSH),i.xp6(3),i.hij(" \u062a\u0642\u0631\u064a\u0631 ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.note,""),i.xp6(2),i.hij(" \u062a\u0642\u0631\u064a\u0631 ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.nameAr,""),i.xp6(18),i.Q6J("ngIf",1==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",2==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",3==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",4==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",5==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",6==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",7==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",8==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",9==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",10==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",11==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",12==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(1),i.Q6J("ngIf",13==(null==u.SupervisionPrintData||null==u.SupervisionPrintData.phase?null:u.SupervisionPrintData.phase.phaseId)),i.xp6(12),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt1),i.xp6(1),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt2),i.xp6(1),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headOutlineChangetxt3),i.xp6(14),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt1),i.xp6(1),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt2),i.xp6(1),i.Q6J("ngIf",null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].headPointsNotWrittentxt3),i.xp6(13),i.Q6J("src",u.CustomDataSupervision.hammerCourt,i.LSH),i.xp6(10),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].receivedUserName),i.xp6(7),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.supervision[0]?null:u.SupervisionPrintData.supervision[0].supEngineerCert),i.xp6(13),i.Oqu(null==u.SupervisionPrintData||null==u.SupervisionPrintData.org_VD?null:u.SupervisionPrintData.org_VD.nameAr),i.xp6(9),i.Q6J("ngIf",u.CustomDataSupervision.stampUrl),i.xp6(5),i.hij(" ",i.lcZ(327,51,"No")," ")}}function Cs(c,_){if(1&c&&(i.TgZ(0,"li")(1,"div",592),i._UZ(2,"i",593),i.TgZ(3,"span",594),i._uU(4),i.qZA()()()),2&c){const u=_.$implicit;i.xp6(4),i.Oqu(null==u?null:u.name)}}function Qu(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",413)(1,"h4",414)(2,"span",415),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"button",416),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._UZ(6,"i",279),i.qZA()(),i.TgZ(7,"div",366)(8,"ul",589),i.YNc(9,Cs,5,1,"li",590),i.qZA(),i.TgZ(10,"div",591)(11,"button",433),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(null==C?null:C.dismiss())}),i._uU(12),i.ALo(13,"translate"),i.qZA()()()}if(2&c){const u=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,3,"servicesList")),i.xp6(6),i.Q6J("ngForOf",u.serviceDetails),i.xp6(3),i.hij(" ",i.lcZ(13,5,"Back")," ")}}function Ul(c,_){if(1&c&&i._UZ(0,"img",614),2&c){const u=i.oxw(2);i.s9C("src",u.CustomDataPrintBase.OrgImg,i.LSH)}}function Gu(c,_){if(1&c&&(i.TgZ(0,"tr")(1,"td",615),i._uU(2),i.qZA(),i.TgZ(3,"td",615),i._uU(4),i.qZA(),i.TgZ(5,"td",615),i._uU(6),i.qZA()()),2&c){const u=_.$implicit,h=i.oxw(2);i.xp6(2),i.hij(" ",u.nameAr," "),i.xp6(2),i.hij(" ",h.GetStatusName(u)," "),i.xp6(2),i.hij(" ",u.note," ")}}const Ko=function(){return{direction:"rtl"}},ip=function(){return{ar:"\u0637\u0644\u0639\u0629 \u0627\u0634\u0631\u0627\u0641",en:"supervision"}},Ne=function(){return{ar:"\u0627\u0644\u0639\u0645\u064a\u0644",en:"customer name"}},mm=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",en:"project number"}},_2=function(){return{ar:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u062d\u0644\u0629",en:"phase name"}},v2=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0627\u0634\u0631\u0627\u0641",en:"supervision number"}},y2=function(){return{ar:"\u062a\u0627\u0631\u064a\u062e\u0647",en:"date"}},x2=function(){return{ar:"\u0627\u0644\u0645\u0642\u0627\u0648\u0644",en:"Contractor"}},_m=function(){return{ar:"\u0627\u0644\u0645\u0643\u0644\u0641 \u0628\u0647\u0627",en:"Received UserName"}},vm=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0631\u062e\u0635\u0647",en:"license number"}},ym=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0645\u062e\u0637\u0637",en:"Outline number"}},P2=function(){return{ar:"\u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0639\u0629",en:"Piece No"}},xm=function(){return{ar:"\u0645\u0643\u062a\u0628 \u0627\u0644\u0645\u062a\u0639\u0627\u0648\u0646",en:"Office Name"}},ws=function(){return{ar:"\u0627\u0633\u0645 \u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645",en:"phase name"}},Hu=function(){return{ar:"\u0627\u0644\u062d\u0627\u0644\u0629",en:"status"}},Ku=function(){return{ar:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",en:"notes"}};function np(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",366)(1,"div",595)(2,"div",596)(3,"div",597),i.YNc(4,Ul,1,1,"img",598),i.qZA(),i.TgZ(5,"div",599)(6,"h1",600),i._uU(7),i.qZA(),i.TgZ(8,"h1",601),i._uU(9),i.qZA(),i.TgZ(10,"div",602),i._UZ(11,"span",603)(12,"span",604),i.qZA(),i._UZ(13,"h3",605),i.qZA()(),i.TgZ(14,"div",606)(15,"table",607)(16,"tr"),i._UZ(17,"td",608),i.TgZ(18,"td",609),i._uU(19),i.qZA()(),i.TgZ(20,"tr"),i._UZ(21,"td",608),i.TgZ(22,"td",609),i._uU(23),i.qZA()(),i.TgZ(24,"tr"),i._UZ(25,"td",608),i.TgZ(26,"td",609),i._uU(27),i.qZA()(),i.TgZ(28,"tr"),i._UZ(29,"td",608),i.TgZ(30,"td",609),i._uU(31),i.qZA()(),i.TgZ(32,"tr"),i._UZ(33,"td",608),i.TgZ(34,"td",609),i._uU(35),i.qZA()(),i.TgZ(36,"tr"),i._UZ(37,"td",608),i.TgZ(38,"td",609),i._uU(39),i.qZA()(),i.TgZ(40,"tr"),i._UZ(41,"td",608),i.TgZ(42,"td",609),i._uU(43),i.qZA()(),i.TgZ(44,"tr"),i._UZ(45,"td",608),i.TgZ(46,"td",609),i._uU(47),i.qZA()(),i.TgZ(48,"tr"),i._UZ(49,"td",608),i.TgZ(50,"td",609),i._uU(51),i.qZA()(),i.TgZ(52,"tr"),i._UZ(53,"td",608),i.TgZ(54,"td",609),i._uU(55),i.qZA()(),i.TgZ(56,"tr"),i._UZ(57,"td",608),i.TgZ(58,"td",609),i._uU(59),i.qZA()()()(),i.TgZ(60,"div",610)(61,"div",52)(62,"table",611)(63,"thead"),i._UZ(64,"td",612)(65,"td",612)(66,"td",613),i.qZA(),i.TgZ(67,"tbody"),i.YNc(68,Gu,7,3,"tr",590),i.qZA()()()()()(),i.TgZ(69,"div",576)(70,"button",247),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.printDiv("report"))}),i._UZ(71,"i",577),i.qZA(),i.TgZ(72,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(73),i.ALo(74,"translate"),i.qZA()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("ngStyle",i.DdM(49,Ko)),i.xp6(3),i.Q6J("ngIf",u.CustomDataPrintBase.OrgImg),i.xp6(3),i.hij(" ",null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.org_VD?null:u.SupervisionPrintBase.org_VD.nameAr," "),i.xp6(2),i.hij(" ",null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.org_VD?null:u.SupervisionPrintBase.org_VD.nameEn," "),i.xp6(4),i.Q6J("translate","name")("translateParams",i.DdM(50,ip)),i.xp6(4),i.Q6J("translate","name")("translateParams",i.DdM(51,Ne)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].customerName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(52,mm)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].projectNo),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(53,_2)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].phaseName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(54,v2)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].supervisionNumber),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(55,y2)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].date),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(56,x2)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].contractorName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(57,_m)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].receivedUserName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(58,vm)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].licenseNo),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(59,ym)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].outlineNo),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(60,P2)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].contractorName),i.xp6(2),i.Q6J("translate","name")("translateParams",i.DdM(61,xm)),i.xp6(2),i.Oqu(null==u.SupervisionPrintBase||null==u.SupervisionPrintBase.supervision[0]?null:u.SupervisionPrintBase.supervision[0].officeName),i.xp6(5),i.Q6J("translate","name")("translateParams",i.DdM(62,ws)),i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(63,Hu)),i.xp6(1),i.Q6J("translate","name")("translateParams",i.DdM(64,Ku)),i.xp6(2),i.Q6J("ngForOf",null==u.SupervisionPrintBase?null:u.SupervisionPrintBase.supervision),i.xp6(5),i.hij(" ",i.lcZ(74,47,"No")," ")}}function Ct(c,_){if(1&c&&i._UZ(0,"img",614),2&c){const u=i.oxw(2);i.s9C("src",u.CustomDataSupervision.OrgImg,i.LSH)}}function pf(c,_){1&c&&i._UZ(0,"div",632)}function ci(c,_){1&c&&i._UZ(0,"div",623)}function Vi(c,_){1&c&&i._UZ(0,"div",632)}function Pm(c,_){1&c&&i._UZ(0,"div",623)}function op(c,_){1&c&&i._UZ(0,"div",632)}function cf(c,_){1&c&&i._UZ(0,"div",623)}function Dm(c,_){1&c&&(i.TgZ(0,"p",622),i._uU(1,"\u0627\u062e\u0631\u064a ..........................."),i.qZA())}function Vu(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(3);i.xp6(1),i.Oqu(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)}}function df(c,_){if(1&c&&(i.TgZ(0,"p",622),i._uU(1,"\u0623\u062e\u0631\u064a : "),i.YNc(2,Vu,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(2);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function D2(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.hij(" ",null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].nameAr,"")}}function Sm(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.hij(" ",null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].theNumber,"")}}function Tm(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.hij(" ",null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].theLocation,"")}}function ff(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a: ......................"),i.qZA())}function Cm(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2).index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)}}function wm(c,_){if(1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a : "),i.YNc(2,Cm,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(3);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function Am(c,_){if(1&c&&(i.TgZ(0,"tr"),i._UZ(1,"td",633),i.TgZ(2,"td"),i.YNc(3,D2,2,1,"span",226),i.qZA(),i.TgZ(4,"td"),i._uU(5,"\u0639\u062f\u062f"),i.qZA(),i.TgZ(6,"td"),i.YNc(7,Sm,2,1,"span",226),i.qZA(),i.TgZ(8,"td"),i._uU(9,"\u0645\u0648\u0642\u0639"),i.qZA(),i.TgZ(10,"td"),i.YNc(11,Tm,2,1,"span",226),i.qZA(),i.YNc(12,ff,2,0,"td",226),i.YNc(13,wm,3,1,"td",226),i.qZA()),2&c){const u=_.index,h=i.oxw(2);i.xp6(3),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(1),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note))),i.xp6(1),i.Q6J("ngIf",!((null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+4].note))))}}function Mm(c,_){1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0627\u062e\u0631\u064a: "),i.qZA())}function Zm(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(3);i.xp6(1),i.Oqu(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)}}function jm(c,_){if(1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0623\u062e\u0631\u064a : "),i.YNc(2,Zm,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(2);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function Nm(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].nameAr)}}function rp(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].theNumber)}}function hn(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].theLocation)}}function Fl(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a: ......................"),i.qZA())}function S2(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2).index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)}}function gf(c,_){if(1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a : "),i.YNc(2,S2,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(3);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function T2(c,_){if(1&c&&(i.TgZ(0,"tr"),i._UZ(1,"td",633),i.TgZ(2,"td"),i.YNc(3,Nm,2,1,"span",226),i.qZA(),i.TgZ(4,"td"),i._uU(5,"\u0639\u062f\u062f"),i.qZA(),i.TgZ(6,"td"),i.YNc(7,rp,2,1,"span",226),i.qZA(),i.TgZ(8,"td"),i._uU(9,"\u0645\u0648\u0642\u0639"),i.qZA(),i.TgZ(10,"td"),i.YNc(11,hn,2,1,"span",226),i.qZA(),i.YNc(12,Fl,2,0,"td",226),i.YNc(13,gf,3,1,"td",226),i.qZA()),2&c){const u=_.index,h=i.oxw(2);i.xp6(3),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(1),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note))),i.xp6(1),i.Q6J("ngIf",!((null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+9].note))))}}function C2(c,_){1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0627\u062e\u0631\u064a: "),i.qZA())}function km(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(3);i.xp6(1),i.Oqu(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)}}function Im(c,_){if(1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0623\u062e\u0631\u064a : "),i.YNc(2,km,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(2);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function w2(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].nameAr)}}function A2(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].theNumber)}}function M2(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw().index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].theLocation)}}function sp(c,_){1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a: ......................"),i.qZA())}function Um(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(2).index,h=i.oxw(2);i.xp6(1),i.Oqu(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)}}function Fm(c,_){if(1&c&&(i.TgZ(0,"td"),i._uU(1,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a : "),i.YNc(2,Um,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(3);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}function Z2(c,_){if(1&c&&(i.TgZ(0,"tr"),i._UZ(1,"td",633),i.TgZ(2,"td"),i.YNc(3,w2,2,1,"span",226),i.qZA(),i.TgZ(4,"td"),i._uU(5,"\u0639\u062f\u062f"),i.qZA(),i.TgZ(6,"td"),i.YNc(7,A2,2,1,"span",226),i.qZA(),i.TgZ(8,"td"),i._uU(9,"\u0645\u0648\u0642\u0639"),i.qZA(),i.TgZ(10,"td"),i.YNc(11,M2,2,1,"span",226),i.qZA(),i.YNc(12,sp,2,0,"td",226),i.YNc(13,Fm,3,1,"td",226),i.qZA()),2&c){const u=_.index,h=i.oxw(2);i.xp6(3),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(4),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0),i.xp6(1),i.Q6J("ngIf",(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note))),i.xp6(1),i.Q6J("ngIf",!((null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision.length)>0&&(null==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||""==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||"null"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note)||"NULL"==(null==h.SupervisionPrintData?null:h.SupervisionPrintData.supervision[u+21].note))))}}function lp(c,_){1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0627\u062e\u0631\u064a: "),i.qZA())}function gr(c,_){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const u=i.oxw(3);i.xp6(1),i.Oqu(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)}}function mr(c,_){if(1&c&&(i.TgZ(0,"p",634),i._uU(1,"\u0623\u062e\u0631\u064a : "),i.YNc(2,gr,2,1,"span",226),i.qZA()),2&c){const u=i.oxw(2);i.xp6(2),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0)}}const up=function(){return{ar:"\u062a\u0642\u0631\u064a\u0631 \u0632\u064a\u0627\u0631\u0629 \u0645\u0634\u0631\u0648\u0639",en:"Project visit report"}};function mf(c,_){if(1&c){const u=i.EpF();i.TgZ(0,"div",366)(1,"div",595)(2,"div",596)(3,"div",597),i.YNc(4,Ct,1,1,"img",598),i.qZA(),i.TgZ(5,"div",599)(6,"h1",600),i._uU(7),i.qZA(),i.TgZ(8,"h1",601),i._uU(9),i.qZA(),i.TgZ(10,"div",602),i._UZ(11,"span",603)(12,"span",604),i.qZA(),i._UZ(13,"h3",605),i.qZA()(),i.TgZ(14,"div",610)(15,"div",52)(16,"p"),i._uU(17),i.qZA(),i.TgZ(18,"h4",616),i._uU(19,"\u0628\u063a\u0631\u0636: "),i.qZA(),i.TgZ(20,"div",617)(21,"div",618)(22,"div",619),i.YNc(23,pf,1,0,"div",620),i.YNc(24,ci,1,0,"div",621),i.TgZ(25,"p",622),i._uU(26,"\u0645\u0637\u0627\u0628\u0642\u0629 \u0648\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0646\u0638\u0645\u0629 \u0627\u0644\u0633\u0644\u0627\u0645\u0629"),i.qZA()()(),i.TgZ(27,"div",618)(28,"div",619),i.YNc(29,Vi,1,0,"div",620),i.YNc(30,Pm,1,0,"div",621),i.TgZ(31,"p",622),i._uU(32,"\u0645\u0644\u0627\u0626\u0645\u0629 \u0627\u0646\u0638\u0645\u0629 \u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0644\u0644\u0645\u0634\u0631\u0648\u0639"),i.qZA()()(),i.TgZ(33,"div",618)(34,"div",619),i.YNc(35,op,1,0,"div",620),i.YNc(36,cf,1,0,"div",621),i.TgZ(37,"p",622),i._uU(38,"\u062a\u0642\u0631\u064a\u0631 \u0641\u0646\u064a \u0627\u0633\u062a\u0634\u0627\u0631\u064a"),i.qZA()()(),i.TgZ(39,"div",618)(40,"div",619),i._UZ(41,"div",623),i.YNc(42,Dm,2,0,"p",624),i.YNc(43,df,3,1,"p",624),i.qZA()()(),i.TgZ(44,"h4",616),i._uU(45,"\u0648\u0627\u062f\u0646\u0627\u0647 \u062a\u062c\u062f\u0648\u0646 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a: "),i.qZA(),i.TgZ(46,"div",625)(47,"h2",626),i._uU(48,"\u0627\u0648\u0644\u0627/ \u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0627\u0644\u0645\u0639\u0645\u0627\u0631\u064a\u0629"),i.qZA(),i.TgZ(49,"table",627)(50,"tbody"),i.YNc(51,Am,14,5,"tr",590),i.qZA()(),i.YNc(52,Mm,2,0,"p",628),i.YNc(53,jm,3,1,"p",628),i.qZA(),i.TgZ(54,"div",625)(55,"h2",626),i._uU(56,"\u062b\u0627\u0646\u064a\u0627/ \u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0627\u0644\u0643\u0647\u0631\u0628\u0627\u0626\u064a\u0629"),i.qZA(),i.TgZ(57,"table",627)(58,"tbody"),i.YNc(59,T2,14,5,"tr",590),i.qZA()(),i.YNc(60,C2,2,0,"p",628),i.YNc(61,Im,3,1,"p",628),i.qZA(),i.TgZ(62,"div",625)(63,"h2",626),i._uU(64,"\u062b\u0627\u0644\u062b\u0627/ \u0627\u0644\u0633\u0644\u0627\u0645\u0629 \u0627\u0644\u0645\u064a\u0643\u0627\u0646\u064a\u0643\u064a\u0629"),i.qZA(),i.TgZ(65,"table",627)(66,"tbody"),i.YNc(67,Z2,14,5,"tr",590),i.qZA()(),i.YNc(68,lp,2,0,"p",628),i.YNc(69,mr,3,1,"p",628),i.qZA(),i.TgZ(70,"p",629),i._uU(71),i.qZA(),i.TgZ(72,"div",630)(73,"div",618)(74,"p"),i._uU(75,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e:"),i.qZA()(),i.TgZ(76,"div",618)(77,"p"),i._uU(78,"\u0627\u0644\u062a\u0648\u0642\u064a\u0639:"),i.qZA()(),i.TgZ(79,"div",618)(80,"p"),i._uU(81,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641:"),i.qZA()()(),i.TgZ(82,"div",631)(83,"div",618)(84,"p"),i._uU(85,"\u0627\u0644\u0627\u0633\u062a\u0634\u0627\u0631\u064a: \u0645."),i.qZA()(),i.TgZ(86,"div",618)(87,"p"),i._uU(88,"\u0627\u0644\u062a\u0648\u0642\u064a\u0639:"),i.qZA()(),i.TgZ(89,"div",618)(90,"p"),i._uU(91,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641:"),i.qZA()()()()()()(),i.TgZ(92,"div",576)(93,"button",247),i.NdJ("click",function(){i.CHM(u);const D=i.oxw();return i.KtG(D.printDiv("report"))}),i._UZ(94,"i",577),i.qZA(),i.TgZ(95,"button",25),i.NdJ("click",function(){const C=i.CHM(u).$implicit;return i.KtG(C.dismiss())}),i._uU(96),i.ALo(97,"translate"),i.qZA()()}if(2&c){const u=i.oxw();i.xp6(1),i.Q6J("ngStyle",i.DdM(28,Ko)),i.xp6(3),i.Q6J("ngIf",u.CustomDataSupervision.OrgImg),i.xp6(3),i.hij(" ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.org_VD?null:u.SupervisionPrintData.org_VD.nameAr," "),i.xp6(2),i.hij(" ",null==u.SupervisionPrintData||null==u.SupervisionPrintData.org_VD?null:u.SupervisionPrintData.org_VD.nameEn," "),i.xp6(4),i.Q6J("translate","name")("translateParams",i.DdM(29,up)),i.xp6(4),i.hij(" ",null==u.SupervisionPrintData?null:u.SupervisionPrintData.textStringTemp," "),i.xp6(6),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[0].isRead)),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[0].isRead))),i.xp6(5),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[1].isRead)),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[1].isRead))),i.xp6(5),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[2].isRead)),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&1==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[2].isRead))),i.xp6(6),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note))),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[3].note)))),i.xp6(8),i.Q6J("ngForOf",u.counter(4)),i.xp6(1),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note))),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[8].note)))),i.xp6(6),i.Q6J("ngForOf",u.counter(11)),i.xp6(1),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note))),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[20].note)))),i.xp6(6),i.Q6J("ngForOf",u.counter(13)),i.xp6(1),i.Q6J("ngIf",(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note))),i.xp6(1),i.Q6J("ngIf",!((null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision.length)>0&&(null==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||""==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||"null"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)||"NULL"==(null==u.SupervisionPrintData?null:u.SupervisionPrintData.supervision[34].note)))),i.xp6(2),i.hij(" ",null==u.SupervisionPrintData?null:u.SupervisionPrintData.textStringTempEnd," "),i.xp6(25),i.hij(" ",i.lcZ(97,26,"No")," ")}}const zu=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629",en:"Are you sure to cancel this file share ?"}},Xu=ft(4545),ap=Xu.default,hp=Xu.toHijri;let pp=(()=>{class c{constructor(u,h,D,C,G,_t,wt,Sn,Tn,ki,zi,Ii){this.modalService=u,this._phasestaskService=h,this._projectdetailsService=D,this._fileuploadcenterService=C,this.authenticationService=G,this._sharedService=_t,this.toast=wt,this._offerpriceService=Sn,this._supervisionsService=Tn,this.print=ki,this.translate=zi,this._outinbox=Ii,this.dateNow=new Date,this.isEditable={},this.userG={},this.TasksDisplayedColumns=["taskName","taskStatus","assigned","duration","start_date","end_date","operations"],this.projectFilesDisplayedColumns=["uploadDate","fileName","fileType","filePageInsert","user","notes","operations"],this.noticesDisplayedColumns=["title","date","from","to"],this.documentsDisplayedColumns=["name","type","comment","operations"],this.projectOutgoingDisplayedColumns=["id","important","type","date","archive","entity","to"],this.projectOutgoingFilesDisplayedColumns=["FileName","uploadDate","operations"],this.projectWardDisplayedColumns=["id","important","type","date","archive","entity","to"],this.projectWardFilesDisplayedColumns=["FileName","uploadDate","operations"],this.workOrdersDisplayedColumns=["name","type","assigned","duration","start","end"],this.supervisionDisplayedColumns=["id","stage","assigned","Commissioning_date","status","operations"],this.projectFilesDataSource=new Zt.by,this.uploadedFile=new Wt.X(""),this.control=new et.LK({listVisible:!0,discardInvalid:!0,multiple:!1},[et.Fz.filesLimit(1)]),this.Licensedate_Convert=null,this.addedImg=null,this.managerImg=null,this.percentagePro=0,this.projectSupervisionDataSource=new Zt.by,this.projectNoticesDataSource=new Zt.by,this.workOrdersDataSource=new Zt.by,this.TaskNameSearch=null,this.projectTasksDataSource=new Zt.by,this.FileData_phase={selected:!1,Obj:null},this.TaskData={selected:!1,Obj:null,TaskTimeFrom_Merge:null,TaskTimeTo_Merge:null,priorty:null,goalcheck:!1,goalname:null,notesStrVac:null,AchievementStatus:null},this.phasePriValue="1",this.phasePriValueTemp="1",this.taskLongDesc="",this.taskLongDescTemp="",this.statuscolor="",this.loadTasksTreeObj=[],this.RetrievedReason=null,this.superimgtype=1,this.projectDocumentsDataSource=new Zt.by,this.projectOutgoingDataSource=new Zt.by,this.projectOutgoingFilesDataSource=new Zt.by,this.projectWardDataSource=new Zt.by,this.projectWardFilesDataSource=new Zt.by,this.data={filter:{enable:!1,date:null,isChecked:!1,filetypesearch:null,FileNameSearch:null},file:{nameAr:null,nameEn:null,id:0},files:{nameAr:null,nameEn:null,id:0},FileId:0,FileName:null,FileTypeValue:null,Certificate:!1,allProjectNumbers:[],allProjectNumbersTemp:[],fileTemp:[]},this.FileShareData={ShareTimetxt:1,ShareTypeHour:"1",SelectmaterialCheckedShare:!1},this.uploadedFiles=[],this.progress=0,this.uploading=!1,this.disableButtonSave_File=!1,this.loadFilesTreeObj=[],this.FileData={selected:!1,Obj:null},this.options={mode:R.Ci.SingleSelect,checkboxes:!1,alwaysEmitSelected:!1,allowParentSelection:!0,hasCollapseExpand:!0},this.latitude=24.72030293127678,this.longitude=46.698462762671475,this.mapReady=!1,this.dataAddDetails={RegionTypes:{id:0,nameAr:null,nameEn:null},ProjectPieces:{id:0,nameAr:null,notes:null,projectId:null},InstrumentSources:{id:0,nameAr:null,nameEn:null},Contractors:{id:0,nameAr:null,nameEn:null,email:null,commercialRegister:null,phoneNo:null},Municipals:{id:0,nameAr:null,nameEn:null},SubMunicipalitys:{id:0,nameAr:null,nameEn:null},BuildType:{id:0,nameAr:null,nameEn:null,description:null}},this.hideInstruments=!1,this.InstrumentsData={id:0,InstrumentNo:null,Date:null,SourceId:null,HijriDate:null,ProjectId:null},this.AllInstrumentsList=[],this.projectInstrumentsColumns=["InstrumentNo","Instrumentdate","instrumentsource","choose"],this.columnstab={OfferPrices:["offer_id","date","customer","price","user"],Services:["invoiceNumber","InvoiceDate","InvoiceAmount","PaymentType","InvoiceStatus","PostingDate","customerName","projectNumber"],Conditions:["fileName","cost","confirmStatustxt","confirmStatusDate","addUserName","operations"]},this.QuotSerCondData={OfferPrices:new Zt.by,Conditions:new Zt.by},this.publicCondRow=null,this.temptaxtype=2,this.modalDetailsOffer={taxtype:2,total_amount:null,total_amount_text:null},this.offerServices=[],this.SupervisionPrintData=null,this.CustomDataSupervision={OrgImg:null,BaladyImg:null,hammerCourt:null,HeadImageUrl:null,HeadImageUrl2:null,stampUrl:null},this.SupervisionPrintBase=null,this.CustomDataPrintBase={OrgImg:null},this.selectedDateType=ne.Uv.Hijri,this.status="initial",this.userG=this.authenticationService.userGlobalObj,console.log(this.userG)}ngOnInit(){this.SetNullValues(),""!=this.projectDetails?.licensedate&&null!=this.projectDetails?.licensedate&&(this.Licensedate_Convert=this._sharedService.String_TO_date(this.projectDetails.licensedate)),""!=this.projectDetails?.addedUserImg&&null!=this.projectDetails?.addedUserImg&&(this.addedImg=Lt.N.PhotoURL+this.projectDetails?.addedUserImg),this.percentagePro=this.SetPerProjectDetails(this.projectDetails),this.GetProDetailsReadyVm(),this.GetAllSupervisions(),this.LoadTasksGrid(),this.GetAllNotifications(),this.loadallFilesTree(),this.data.files=[],this.data.allProjectNumbers=[],this.FillFileTypeSelect(),this.GetAllCustomerFiles(),this.LoadInboxGrid(),this.LoadOutboxGrid(),this.GetAllInstruments(),this.LoadOfferPrices(),this.LoadServices(),this.LoadConditions()}SetNullValues(){this.resetInstruments(),(0==this.projectDetails.regionTypeId||""==this.projectDetails.regionTypeId)&&(this.projectDetails.regionTypeId=null),(0==this.projectDetails.pieceNo||""==this.projectDetails.pieceNo)&&(this.projectDetails.pieceNo=null),(0==this.projectDetails.contractorSelectId||""==this.projectDetails.contractorSelectId)&&(this.projectDetails.contractorSelectId=null),(0==this.projectDetails.cityId||""==this.projectDetails.cityId)&&(this.projectDetails.cityId=null),(0==this.projectDetails.buildingType||""==this.projectDetails.buildingType)&&(this.projectDetails.buildingType=null),(0==this.projectDetails.municipalId||""==this.projectDetails.municipalId)&&(this.projectDetails.municipalId=null),(0==this.projectDetails.subMunicipalityId||""==this.projectDetails.subMunicipalityId)&&(this.projectDetails.subMunicipalityId=null),(0==this.projectDetails.adwAR||""==this.projectDetails.adwAR)&&(this.projectDetails.adwAR=null),console.log(this.projectDetails),console.log(this.projectDetails.stopProjectType),console.log(this.projectDetails.status)}GetServicesPriceByParentId(u){this.serviceDetails=[],null!=u.AccJournalid&&this._offerpriceService.GetServicesPriceVouByParentId(u.AccJournalid,u.offerId).subscribe(h=>{this.serviceDetails=h.result})}open(u,h,D){"serviceDetails"==D&&h&&this.GetServicesPriceByParentId(h),this.modalService.open(u,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0}).result.then(C=>{this.closeResult=`Closed with: ${C}`},C=>{this.closeResult=`Dismissed ${this.getDismissReason(C)}`})}getDismissReason(u,h){return u===wn.If.ESC?"by pressing ESC":u===wn.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${u}`}GetProDetailsReadyVm(){this._projectdetailsService.GetProDetailsReadyVm(this.projectDetails.projectId,this.projectDetails.mangerId).subscribe(u=>{this.ProDetailsReadyVm=u,this.workOrdersDataSource=new Zt.by(u.workOrder.result),this.workOrdersDataSource.paginator=this.paginatorWorkorder,""!=u.users.result.imgUrl&&null!=u.users.result.imgUrl&&(this.managerImg=Lt.N.PhotoURL+u.users.result.imgUrl),this.InstrumentSourcesPopup=this.InstrumentSources=this.ProDetailsReadyVm?.prodetailsInstrumentSources_DropLoad,this.RegionTypesPopup=this.RegionTypes=this.ProDetailsReadyVm?.projectDetailsRegion_DropLoad,this.ProjectPiecesPopup=this.ProjectPieces=this.ProDetailsReadyVm?.workOrderProDetPicNo_DropLoad,this.ContractorsPopup=this.Contractors=this.ProDetailsReadyVm?.contractor_DropLoad,this.MunicipalsPopup=this.Municipals=this.ProDetailsReadyVm?.municipal_DropLoad,this.SubMunicipalitysPopup=this.SubMunicipalitys=this.ProDetailsReadyVm?.subMunicipality_DropLoad,this.BuildTypePopup=this.BuildType=this.ProDetailsReadyVm?.proBuilding_DropLoad})}SetPerProjectDetails(u){var h=new Date(u.projectExpireDate),C=new Date(u.projectDate),G=(0==u.status?new Date:null!=u.finishDate?this._sharedService.String_TO_date(u.finishDate):new Date).getTime()-C.getTime(),_t=h.getTime()-C.getTime(),wt=parseInt((G/864e5).toString()),Sn=parseInt((_t/864e5).toString());return parseInt((wt/Sn*100).toString())}resetcontractorData(){this.projectDetails.contractorEmail_T=null,this.projectDetails.contractorPhone_T=null,this.projectDetails.contractorCom_T=null}GetAllSupervisions(){this._projectdetailsService.GetAllSupervisions(this.projectDetails.projectId).subscribe(u=>{console.log(u),this.projectSupervisionDataSource=new Zt.by(u),this.projectSupervisionDataSource.paginator=this.paginatorSupervision})}GetAllNotifications(){this._projectdetailsService.GetAllNotifications(this.projectDetails.projectId).subscribe(u=>{this.projectNoticesDataSource=new Zt.by(u.result),this.projectNoticesDataSource.paginator=this.paginatorNoti})}GetAllWorkOrdersyProjectId(){this._projectdetailsService.GetAllWorkOrdersyProjectId(this.projectDetails.projectId).subscribe(u=>{this.workOrdersDataSource=new Zt.by(u.result),this.workOrdersDataSource.paginator=this.paginatorWorkorder})}GetFilesById_phase(u){if(0==parseInt(u))return this.FileData_phase={selected:this.FileData_phase.selected,Obj:{nameAr:null,pageInsertName:null}},this.FileData_phase.Obj.nameAr="\u0644\u0627 \u064a\u0648\u062c\u062f",void(this.FileData_phase.Obj.pageInsertName="\u0644\u0627 \u064a\u0648\u062c\u062f");this._fileuploadcenterService.GetAllProjectRequirementById(u).subscribe(h=>{console.log(h),this.FileData_phase.Obj=h[0]})}GetTaskListtxt(u){this._phasestaskService.GetTaskListtxt(u).subscribe(h=>{if(this.TaskData.Obj=h.result,console.log(this.TaskData.Obj),""==h.result.taskTimeFrom||""==h.result.taskTimeTo?(this.TaskData.TaskTimeFrom_Merge=h.result.taskStart,this.TaskData.TaskTimeTo_Merge=h.result.endDateCalc):(this.TaskData.TaskTimeFrom_Merge=JSON.stringify(h.result.taskStart+" - "+h.result.taskTimeFrom),this.TaskData.TaskTimeTo_Merge=JSON.stringify(h.result.endDateCalc+" - "+h.result.taskTimeTo)),this.TaskData.priorty=1==h.result.phasePriority?"\u0645\u0646\u062e\u0641\u0636":2==h.result.phasePriority?"\u0645\u062a\u0648\u0633\u0637":3==h.result.phasePriority?"\u0645\u0631\u062a\u0641\u0639":4==h.result.phasePriority?"\u0639\u0627\u062c\u0644":"\u0628\u062f\u0648\u0646",this.TaskData.notesStrVac=null,this.TaskData.Obj.numAdded>0&&2==this.TaskData.Obj.timeType){var C;C=1==this.TaskData.Obj.timeType?this.TaskData.Obj.timeMinutes+" \u0633\u0627\u0639\u0629 ":this.TaskData.Obj.timeMinutes+" \u064a\u0648\u0645 ";var G=this.TaskData.Obj.numAdded.toString(),_t=(this.TaskData.Obj.numAdded+this.TaskData.Obj.timeMinutes).toString();this.TaskData.notesStrVac=` \u0627\u0644\u0645\u0647\u0645\u0629 \u0645\u062f\u062a\u0647\u0627 ${C} \u0648\u0628\u064a\u0646\u0647\u0645 ${G} \u064a\u0648\u0645 \u0623\u062c\u0627\u0632\u0629 \u0623\u0635\u0628\u062d\u062a ${_t} \u064a\u0648\u0645 `}this.phasePriValue=String(h.result.phasePriority),this.phasePriValueTemp=this.phasePriValue,this.taskLongDesc=h.result.taskLongDesc,this.taskLongDescTemp=this.taskLongDesc;var wt=[];if(4==h.result.status){var Sn=h.result.remaining;if(null!=Sn)if(Sn>0){this.statuscolor="greenCla",wt.push("\u0623\u0646\u062c\u0632\u062a \u0642\u0628\u0644 \u0645\u0648\u0639\u062f\u0647\u0627 \u0628 : ");var Tn=Sn,ki={\u0633\u0646\u0629:525600,\u0634\u0647\u0631:43200,\u0627\u0633\u0628\u0648\u0639:10080,\u064a\u0648\u0645:1440,\u0633\u0627\u0639\u0629:60,\u062f\u0642\u064a\u0642\u0629:1};for(var zi in ki)1==(Ii=Math.floor(Tn/ki[zi]))&&wt.push(Ii+" "+zi),Ii>=2&&wt.push(Ii+" "+zi),Tn%=ki[zi]}else if(Sn<0)for(var zi in Sn*=-1,this.statuscolor="redCla",wt.push("\u0623\u0646\u062c\u0632\u062a \u0628\u0639\u062f \u0645\u0648\u0639\u062f\u0647\u0627 \u0628 : "),Tn=Sn,ki={\u0633\u0646\u0629:525600,\u0634\u0647\u0631:43200,\u0627\u0633\u0628\u0648\u0639:10080,\u064a\u0648\u0645:1440,\u0633\u0627\u0639\u0629:60,\u062f\u0642\u064a\u0642\u0629:1}){var Ii;1==(Ii=Math.floor(Tn/ki[zi]))&&wt.push(Ii+" "+zi),Ii>=2&&wt.push(Ii+" "+zi),Tn%=ki[zi]}else this.statuscolor="yellowCla",wt.push("\u0641\u064a \u0627\u0644\u0645\u0639\u0627\u062f \u0628\u0627\u0644\u062a\u062d\u062f\u064a\u062f")}else this.statuscolor="",wt.push("\u0644\u0645 \u062a\u0646\u062a\u0647\u064a \u0627\u0644\u0645\u0647\u0645\u0629 \u0628\u0639\u062f");this.TaskData.AchievementStatus=wt})}ShowImgAdded_phase(){return Lt.N.PhotoURL+this.FileData_phase.Obj?.addedFileImg}ShowImgManager_phase(){return Lt.N.PhotoURL+this.FileData_phase.Obj?.projectManagerImg}selectTask_phase(){null!=this.selectedFile1_phase[0]?(this.FileData_phase.selected=!0,this.GetFilesById_phase(parseInt(this.selectedFile1_phase[0].phaseid)),this.GetTaskListtxt(parseInt(this.selectedFile1_phase[0].phaseTaskId))):this.FileData_phase.selected=!1}LoadTasksGrid(){const u=new FormData;null!=this.projectDetails.projectId&&u.append("ProjectId",this.projectDetails.projectId),null!=this.TaskNameSearch&&u.append("SearchText",this.TaskNameSearch),this.selectedFile1_phase?.length&&null!=this.selectedFile1_phase[0]&&(this.GetFilesById_phase(parseInt(this.selectedFile1_phase[0].phaseid)),this.GetTaskListtxt(parseInt(this.selectedFile1_phase[0].phaseTaskId))),this._projectdetailsService.LoadTasksGridTree(u).subscribe(h=>{this.loadTasksTreeObj=h,console.log(this.loadTasksTreeObj)})}mergeS(u){return 0===Object.keys(u).length?"":""==u.taskTimeFrom||null==u.taskTimeFrom?u.taskStart:JSON.stringify(u.taskStart+" - "+u.taskTimeFrom)}mergeE(u){return 0===Object.keys(u).length?"":""==u.taskTimeTo||null==u.taskTimeTo?u.endDateCalc:JSON.stringify(u.endDateCalc+" - "+u.taskTimeTo)}getAchievementStatus(u){var h=[];if(4==u.status){var D=u.remaining;if(null!=D)if(D>0){var C=D,G={\u0633\u0646\u0629:525600,\u0634\u0647\u0631:43200,\u0627\u0633\u0628\u0648\u0639:10080,\u064a\u0648\u0645:1440,\u0633\u0627\u0639\u0629:60,\u062f\u0642\u064a\u0642\u0629:1};for(var _t in G)1==(wt=Math.floor(C/G[_t]))&&h.push(wt+" "+_t),wt>=2&&h.push(wt+" "+_t),C%=G[_t]}else if(D<0)for(var _t in C=D*=-1,G={\u0633\u0646\u0629:525600,\u0634\u0647\u0631:43200,\u0627\u0633\u0628\u0648\u0639:10080,\u064a\u0648\u0645:1440,\u0633\u0627\u0639\u0629:60,\u062f\u0642\u064a\u0642\u0629:1}){var wt;1==(wt=Math.floor(C/G[_t]))&&h.push(wt+" "+_t),wt>=2&&h.push(wt+" "+_t),C%=G[_t]}else h.push("\u0641\u064a \u0627\u0644\u0645\u0639\u0627\u062f \u0628\u0627\u0644\u062a\u062d\u062f\u064a\u062f")}else h.push("\u0644\u0645 \u062a\u0646\u062a\u0647\u064a \u0627\u0644\u0645\u0647\u0645\u0629 \u0628\u0639\u062f");return h}getAchievementStatusColor(u){let h="";return 4==u.status?null!=u.remaining&&(h=u.remaining>0?"greenCla":u.remaining<0?"redCla":"yellowCla"):h="",h}getTaskRow(u){this.TaskRowSelected=u}RestartTask(u){null!=this.RetrievedReason&&""!=this.RetrievedReason?this._projectdetailsService.RestartTask(this.TaskRowSelected.phaseTaskId,this.RetrievedReason).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.RetrievedReason=null,u.dismiss(),this.LoadTasksGrid()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))}):this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0627\u0644\u0633\u0628\u0628",this.translate.instant("Message"))}GetSuperRow(u,h){this.SupervisionRow=u,this.superimgtype=h}UploadHeadImage(u){if(this.control?.value.length>0){var h=new FormData;h.append("uploadesgiles",this.control?.value[0]),h.append("SupervisionId",this.SupervisionRow.supervisionId),1==this.superimgtype?this._projectdetailsService.UploadHeadImageFir(h).subscribe(D=>{200==D.statusCode?(this.toast.success(this.translate.instant(D.reasonPhrase),this.translate.instant("Message")),this.control.clear(),u?.dismiss(),this.GetAllSupervisions()):this.toast.error(this.translate.instant(D.reasonPhrase),this.translate.instant("Message"))}):this._projectdetailsService.UploadHeadImageSec(h).subscribe(D=>{200==D.statusCode?(this.toast.success(this.translate.instant(D.reasonPhrase),this.translate.instant("Message")),this.control.clear(),u?.dismiss(),this.GetAllSupervisions()):this.toast.error(this.translate.instant(D.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062e\u062a\u0631 \u0645\u0644\u0641 \u0623\u0648\u0644\u0627 ",this.translate.instant("Message"))}downloadimageUrlSupervision(u){try{window.open(Lt.N.PhotoURL+u.imageUrl,"_blank")}catch{this.toast.error("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0645\u0644\u0641","\u0631\u0633\u0627\u0644\u0629")}}downloadimageUrl2_Supervision(u){try{window.open(Lt.N.PhotoURL+u.imageUrl2,"_blank")}catch{this.toast.error("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0645\u0644\u0641","\u0631\u0633\u0627\u0644\u0629")}}GetAllCustomerFiles(){this._projectdetailsService.GetAllCustomerFiles(this.projectDetails.customerId).subscribe(u=>{this.projectDocumentsDataSource=new Zt.by(u.result),this.projectDocumentsDataSource.paginator=this.paginatorCustomerFiles})}downloadFile_Customer(u){try{window.open(Lt.N.PhotoURL+u.fileUrl,"_blank")}catch{this.toast.error("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0645\u0644\u0641","\u0631\u0633\u0627\u0644\u0629")}}getsendname(u){return 1==u.sendUserId?"SysNotification":u.sendUserName}LoadInboxGrid(){this._projectdetailsService.GetOutInboxProjectFiles(2,this.projectDetails.projectId).subscribe(u=>{this.projectWardDataSource=new Zt.by(u.result),this.projectWardDataSource.paginator=this.paginatorInbox})}LoadInboxFileGrid(u){this._projectdetailsService.GetAllFiles(u.outInBoxId).subscribe(h=>{this.projectWardFilesDataSource=new Zt.by(h.result),this.projectWardFilesDataSource.paginator=this.paginatorInboxFile})}LoadOutboxGrid(){this._projectdetailsService.GetOutInboxProjectFiles(1,this.projectDetails.projectId).subscribe(u=>{this.projectOutgoingDataSource=new Zt.by(u.result),this.projectOutgoingDataSource.paginator=this.paginatorOutbox})}LoadOutboxFileGrid(u){this._projectdetailsService.GetAllFiles(u.outInBoxId).subscribe(h=>{this.projectOutgoingFilesDataSource=new Zt.by(h.result),this.projectOutgoingFilesDataSource.paginator=this.paginatorOutboxFile})}downloadFile_InOutBox(u){try{window.open(Lt.N.PhotoURL+u.fileUrl,"_blank")}catch{this.toast.error("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0645\u0644\u0641","\u0631\u0633\u0627\u0644\u0629")}}resetfileshare(){this.FileShareData={ShareTimetxt:1,ShareTypeHour:"1",SelectmaterialCheckedShare:!1}}share(u){if(this.FileShareData.ShareTimetxt<=0)this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0643\u062a\u0628 \u0645\u062f\u0629 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0628\u0637\u0631\u064a\u0642\u0629 \u0635\u062d\u064a\u062d\u0629","\u0631\u0633\u0627\u0644\u0629");else if(0!=this.FileShareData.SelectmaterialCheckedShare){var h={};h.FileId=this.FileRowSelected.fileId,h.ViewShare=this.FileShareData.SelectmaterialCheckedShare,h.DonwloadShare=!1,h.IsShare=!0,h.TimeShare=this.FileShareData.ShareTimetxt,h.TimeTypeShare=parseInt(this.FileShareData.ShareTypeHour),this._projectdetailsService.UpdateFileShare(h).subscribe(D=>{200==D?.statusCode?(this.toast.success(D?.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.loadallFilesTree(),this.resetfileshare(),u.dismiss("Cross click")):this.toast.error(D?.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062e\u062a\u0631 \u0645\u0634\u0627\u0647\u062f\u0629","\u0631\u0633\u0627\u0644\u0629")}confirmCancelFileShare(){var u={};u.FileId=this.FileRowSelected.fileId,this._projectdetailsService.NotUpdateFileShare(u).subscribe(h=>{200==h?.statusCode?(this.toast.success(h?.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.loadallFilesTree()):this.toast.error(h?.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}checkExistbtn(u){var h=(new Date).getTime(),D=new Date(u?.timeShareDate).getTime();return!(u?.isShare&&D-h>0)}GetAllFilesForProject(){this._fileuploadcenterService.GetAllFilesForProject(this.projectDetails.projectId,null,null,null,null).subscribe(u=>{this.projectFilesDataSource=new Zt.by(u),this.projectFilesDataSource.paginator=this.paginatorFile})}getDataCert(){this._fileuploadcenterService.GetAllCertificateFiles(this.projectDetails.projectId,this.data.filter.isChecked).subscribe(u=>{this.projectFilesDataSource=new Zt.by(u),this.projectFilesDataSource.paginator=this.paginatorFile})}downloadFile(u){window.open(Lt.N.PhotoURL+u.fileUrl,"_blank")}downloadFileW(u){window.open(Lt.N.PhotoURL+u.fileUrlW,"_blank")}downloadFileReq(u){window.open(Lt.N.PhotoURL+u.attachmentUrl,"_blank")}confirmDelete_phase(){this._fileuploadcenterService.DeleteRequirement(this.FileRowSelected.requirementId).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.selectedFile1_phase[0]=null,this.FileData_phase.selected=!1,this.LoadTasksGrid()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}confirmDelete(){this._fileuploadcenterService.DeleteFile(this.FileRowSelected.fileId).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.selectedFile1[0]=null,this.FileData.selected=!1,this.loadallFilesTree()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}confirmFiletypeDelete(){this._fileuploadcenterService.DeleteFileType(this.FileTypeRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillFileTypeSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}getRow(u){this.FileRowSelected=u}getFiletypeRow(u){this.FileTypeRowSelected=u}CheckDate(u){if(null!=u){var h=this._sharedService.date_TO_String(u[0]),D=this._sharedService.date_TO_String(u[1]);this.data.filter.DateFrom_P=h,this.data.filter.DateTo_P=D,this.loadallFilesTree()}else this.data.filter.DateFrom_P=null,this.data.filter.DateTo_P=null,this.loadallFilesTree()}RefreshData_ByDate(u,h){this._fileuploadcenterService.GetAllFilesForProject(this.projectDetails.projectId,null,u,h,this.data.filter.filetypesearch).subscribe(D=>{this.projectFilesDataSource=new Zt.by(D),this.projectFilesDataSource.paginator=this.paginatorFile})}Refreshfiles(){this._fileuploadcenterService.GetAllFilesForProject(this.projectDetails.projectId,null,this.data.filter.DateFrom_P,this.data.filter.DateTo_P,this.data.filter.filetypesearch).subscribe(u=>{this.projectFilesDataSource=new Zt.by(u),this.projectFilesDataSource.paginator=this.paginatorFile})}checkValue(u){this.loadallFilesTree()}applyFilterFiles(u){this.projectFilesDataSource.filter=u.target.value.trim().toLowerCase()}applyFilterFileType(u){const h=u.target.value.toLowerCase(),D=this.data.fileTemp.filter(function(C){return-1!==C.name?.trim().toLowerCase().indexOf(h)||!h||-1!==C.nameEn?.trim().toLowerCase().indexOf(h)||!h});this.data.files=D}FillProjectSelect(){this._fileuploadcenterService.FillProjectSelect().subscribe(u=>{this.load_Project=u,this.data.allProjectNumbers=u,this.data.allProjectNumbersTemp=u})}FillFileTypeSelect(){this._fileuploadcenterService.FillFileTypeSelect().subscribe(u=>{this.load_FileType=u,this.data.files=u,this.data.fileTemp=u})}AddPopup(){this.ClearField(),this.FillProjectSelect(),this.FillFileTypeSelect()}resetprog(){this.disableButtonSave_File=!1,this.progress=0,this.uploading=!1}selectFile(u){this.selectedFiles=u.target.files}SaveprojectFiles(u,h){null!=this.data.FileName&&null!=this.data.FileTypeValue?(this._projectFiles=new ht.g,this._projectFiles.fileId="add"==u?0:this.data.FileId,this._projectFiles.projectId=this.projectDetails.projectId,this._projectFiles.fileName=this.data.FileName,this._projectFiles.isCertified=this.data.Certificate,this._projectFiles.typeId=this.data.FileTypeValue,this._projectFiles.notes=null,this._projectFiles.pageInsert=3,this.progress=0,this.disableButtonSave_File=!0,this.uploading=!0,setTimeout(()=>{this.resetprog()},6e4),this.control?.value.length>0?this._fileuploadcenterService.SaveprojectFiles(this.control?.value[0],this._projectFiles).subscribe(C=>{C.type===se.dt.UploadProgress&&(this.progress=Math.round(100*C.loaded/C.total)),200==C?.body?.statusCode?(this.control.removeFile(this.control?.value[0]),this.toast.success(this.translate.instant(C?.body?.reasonPhrase),"\u0631\u0633\u0627\u0644\u0629"),this.loadallFilesTree(),this.ClearField(),this.resetprog()):C?.type>=0||(this.toast.error(this.translate.instant(C?.body?.reasonPhrase),"\u0631\u0633\u0627\u0644\u0629"),this.resetprog())}):this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062e\u062a\u0631 \u0645\u0644\u0641","\u0631\u0633\u0627\u0644\u0629")):this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a ","\u0631\u0633\u0627\u0644\u0629")}ClearField(){this.data.FileId=0,this.data.FileName=null,this.data.FileTypeValue=null,this.data.Certificate=!1,this.selectedFiles=void 0,this.uploadedFiles=[]}setFileTypeInSelect(u,h){this.data.FileTypeValue=u.id}ngAfterViewInit(){setTimeout(()=>{this.tree.collapseAll()},1e3),setTimeout(()=>{this.tree_phase.collapseAll()},1e3)}loadallFilesTree(){const u=new FormData;null!=this.data.filter.DateFrom_P&&u.append("DateFrom",this.data.filter.DateFrom_P),null!=this.data.filter.DateTo_P&&u.append("DateTo",this.data.filter.DateTo_P),null!=this.data.filter.filetypesearch&&u.append("Filetype",this.data.filter.filetypesearch),null!=this.data.filter.isChecked&&u.append("IsCertified",this.data.filter.isChecked),null!=this.projectDetails.projectId&&u.append("ProjectId",this.projectDetails.projectId),null!=this.data.filter.FileNameSearch&&u.append("SearchText",this.data.filter.FileNameSearch),this.selectedFile1?.length&&null!=this.selectedFile1[0]&&this.GetFilesById(parseInt(this.selectedFile1[0].phaseid)),this._fileuploadcenterService.GetAllFilesTree(u).subscribe(h=>{this.loadFilesTreeObj=h,console.log(this.loadFilesTreeObj)})}GetFilesById(u){this._fileuploadcenterService.GetFilesById(u).subscribe(h=>{console.log(h),this.FileData.Obj=h})}ShowImgAdded(){return Lt.N.PhotoURL+this.FileData.Obj?.addedFileImg}ShowImgManager(){return Lt.N.PhotoURL+this.FileData.Obj?.projectManagerImg}selectTask(){null!=this.selectedFile1[0]?(this.FileData.selected=!0,this.GetFilesById(parseInt(this.selectedFile1[0].phaseid))):this.FileData.selected=!1}saveFileType(){if(null!=this.data.file.nameAr&&null!=this.data.file.nameEn){var u={};u.FileTypeId=this.data.file.id,u.NameAr=this.data.file.nameAr,u.NameEn=this.data.file.nameEn,this._fileuploadcenterService.SaveFileType(u).subscribe(D=>{200==D.statusCode?(this.toast.success(this.translate.instant(D.reasonPhrase),this.translate.instant("Message")),this.resetFileType(),this.FillFileTypeSelect()):this.toast.error(this.translate.instant(D.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}resetFileType(){this.data.file.id=0,this.data.file.nameAr=null,this.data.file.nameEn=null}SaveProjectDetails(){if(null!=this.projectDetails.mangerId){var u=this.projectDetails;console.log(u),this._projectdetailsService.SaveProjectDetails(u).subscribe(h=>{200==h.statusCode?this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062e\u062a\u0631 \u0645\u062f\u064a\u0631 \u0627\u0644\u0645\u0634\u0631\u0648\u0639","\u0631\u0633\u0627\u0644\u0629")}saveOption(u){}confirm(){}uploadFile(u){}applyFilter(u){this.projectTasksDataSource.filter=u.target.value.trim().toLowerCase()}applyFilterNotices(u){this.projectNoticesDataSource.filter=u.target.value.trim().toLowerCase()}applyFilteWorkOrders(u){this.workOrdersDataSource.filter=u.target.value.trim().toLowerCase()}applyFilterSupervision(u){this.projectSupervisionDataSource.filter=u.target.value.trim().toLowerCase()}getImage(u){if(FileReader&&u){const h=new FileReader;h.onload=D=>this.uploadedFile.next(D.target.result),h.readAsDataURL(u)}else this.uploadedFile.next("")}setCurrentLocation(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(u=>{this.latitude=u.coords.latitude,this.longitude=u.coords.longitude,this.zoom=16,this.getAddress(this.latitude,this.longitude)})}onMapReady(u){u&&(u.setOptions({streetViewControl:!1,fullscreenControl:!1}),google.maps.event.addListener(u,"click",h=>{this.setLocation(h.latLng.lat(),h.latLng.lng())}))}setLocation(u,h){this.latitude=u,this.longitude=h,this.getAddress(u,h)}markerDragEnd(u){this.latitude=u.latLng.lat(),this.longitude=u.latLng.lng(),this.getAddress(this.latitude,this.longitude)}getAddress(u,h){this.latitude=u,this.longitude=h,this.geoCoder?.geocode({location:{lat:u,lng:h}},(D,C)=>{"OK"===C?D[0]?(this.zoom=16,this.address=D[1].formatted_address):window.alert("No results found"):window.alert("Geocoder failed due to: "+C)})}FillRegionTypesSelect(){this._projectdetailsService.FillRegionTypesSelect().subscribe(u=>{this.RegionTypes=u,this.RegionTypesPopup=u})}getRegionTypesRow(u){this.RegionTypesRowSelected=u}setRegionTypesInSelect(u,h){this.projectDetails.regionTypeId=u.id}resetRegionTypes(){this.dataAddDetails.RegionTypes.id=0,this.dataAddDetails.RegionTypes.nameAr=null,this.dataAddDetails.RegionTypes.nameEn=null}saveRegionTypes(){if(null!=this.dataAddDetails.RegionTypes.nameAr&&null!=this.dataAddDetails.RegionTypes.nameEn){var u={};u.RegionTypeId=this.dataAddDetails.RegionTypes.id,u.NameAr=this.dataAddDetails.RegionTypes.nameAr,u.NameEn=this.dataAddDetails.RegionTypes.nameEn,this._projectdetailsService.SaveRegionTypes(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetRegionTypes(),this.FillRegionTypesSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmRegionTypesDelete(){this._projectdetailsService.DeleteRegionTypes(this.RegionTypesRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillRegionTypesSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillProjectPiecesSelect(){this._projectdetailsService.FillProjectPieces(this.projectDetails.projectId).subscribe(u=>{this.ProjectPieces=u,this.ProjectPiecesPopup=u})}getProjectPiecesRow(u){this.ProjectPiecesRowSelected=u}setProjectPiecesInSelect(u,h){this.projectDetails.pieceNo=u.id}resetProjectPieces(){this.dataAddDetails.ProjectPieces.id=0,this.dataAddDetails.ProjectPieces.nameAr=null,this.dataAddDetails.ProjectPieces.nameEn=null,this.dataAddDetails.RegionTypes.projectId=null}saveProjectPieces(){if(null!=this.dataAddDetails.ProjectPieces.nameAr&&null!=this.dataAddDetails.ProjectPieces.notes){var u={};u.PieceId=this.dataAddDetails.ProjectPieces.id,u.PieceNo=this.dataAddDetails.ProjectPieces.nameAr,u.Notes=this.dataAddDetails.ProjectPieces.notes,u.ProjectId=this.projectDetails.projectId,this._projectdetailsService.SaveProjectPieces(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetProjectPieces(),this.FillProjectPiecesSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmProjectPiecesDelete(){this._projectdetailsService.DeleteProjectPieces(this.ProjectPiecesRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillProjectPiecesSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillInstrumentSourcesSelect(){this._projectdetailsService.FillInstrumentSourcesSelect().subscribe(u=>{this.InstrumentSources=u,this.InstrumentSourcesPopup=u})}getInstrumentSourcesRow(u){this.InstrumentSourcesRowSelected=u}setInstrumentSourcesInSelect(u,h){this.projectDetails.regionTypeId=u.id}resetInstrumentSources(){this.dataAddDetails.InstrumentSources.id=0,this.dataAddDetails.InstrumentSources.nameAr=null,this.dataAddDetails.InstrumentSources.nameEn=null}saveInstrumentSources(){if(null!=this.dataAddDetails.InstrumentSources.nameAr&&null!=this.dataAddDetails.InstrumentSources.nameEn){var u={};u.SourceId=this.dataAddDetails.InstrumentSources.id,u.NameAr=this.dataAddDetails.InstrumentSources.nameAr,u.NameEn=this.dataAddDetails.InstrumentSources.nameEn,this._projectdetailsService.SaveInstrumentSources(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetInstrumentSources(),this.FillInstrumentSourcesSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmInstrumentSourcesDelete(){this._projectdetailsService.DeleteInstrumentSources(this.InstrumentSourcesRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillInstrumentSourcesSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillContractorsSelect(){this._projectdetailsService.FillContractorsSelect().subscribe(u=>{console.log("FillContractorsSelect"),console.log(u),this.Contractors=u,this.ContractorsPopup=u})}ContractorChange(){this.projectDetails.contractorSelectId?(this.projectDetails.contractorEmail_T=this.Contractors.filter(u=>u.id==this.projectDetails.contractorSelectId)[0].email,this.projectDetails.contractorPhone_T=this.Contractors.filter(u=>u.id==this.projectDetails.contractorSelectId)[0].phoneNo,this.projectDetails.contractorCom_T=this.Contractors.filter(u=>u.id==this.projectDetails.contractorSelectId)[0].commercialRegister):this.resetcontractorData()}getContractorsRow(u){this.ContractorsRowSelected=u}setContractorsInSelect(u,h){this.projectDetails.contractorSelectId=u.id}resetContractors(){this.dataAddDetails.Contractors.id=0,this.dataAddDetails.Contractors.nameAr=null,this.dataAddDetails.Contractors.nameEn=null,this.dataAddDetails.Contractors.email=null,this.dataAddDetails.Contractors.commercialRegister=null,this.dataAddDetails.Contractors.phoneNo=null}saveContractors(){if(null!=this.dataAddDetails.Contractors.nameAr&&null!=this.dataAddDetails.Contractors.nameEn){var u={};u.ContractorId=this.dataAddDetails.Contractors.id,u.NameAr=this.dataAddDetails.Contractors.nameAr,u.NameEn=this.dataAddDetails.Contractors.nameEn,u.Email=this.dataAddDetails.Contractors.email,u.CommercialRegister=this.dataAddDetails.Contractors.commercialRegister,u.PhoneNo=this.dataAddDetails.Contractors.phoneNo,this._projectdetailsService.SaveSuperContractor(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetContractors(),this.FillContractorsSelect(),this.ContractorChange()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmContractorsDelete(){this._projectdetailsService.DeleteSuperContractor(this.ContractorsRowSelected.id).subscribe(u=>{200==u.statusCode?(this.projectDetails.contractorSelectId=null,this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillContractorsSelect(),this.ContractorChange()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillMunicipalsSelect(){this._projectdetailsService.FillMunicipalsSelect().subscribe(u=>{this.Municipals=u,this.MunicipalsPopup=u})}getMunicipalsRow(u){this.MunicipalsRowSelected=u}setMunicipalsInSelect(u,h){this.projectDetails.municipalId=u.id}resetMunicipals(){this.dataAddDetails.Municipals.id=0,this.dataAddDetails.Municipals.nameAr=null,this.dataAddDetails.Municipals.nameEn=null}saveMunicipals(){if(null!=this.dataAddDetails.Municipals.nameAr&&null!=this.dataAddDetails.Municipals.nameEn){var u={};u.MunicipalId=this.dataAddDetails.Municipals.id,u.NameAr=this.dataAddDetails.Municipals.nameAr,u.NameEn=this.dataAddDetails.Municipals.nameEn,this._projectdetailsService.SaveMunicipal(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetMunicipals(),this.FillMunicipalsSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmMunicipalsDelete(){this._projectdetailsService.DeleteMunicipal(this.MunicipalsRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillMunicipalsSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillSubMunicipalitysSelect(){this._projectdetailsService.FillSubMunicipalitysSelect().subscribe(u=>{this.SubMunicipalitys=u,this.SubMunicipalitysPopup=u})}getSubMunicipalitysRow(u){this.SubMunicipalitysRowSelected=u}setSubMunicipalitysInSelect(u,h){this.projectDetails.subMunicipalityId=u.id}resetSubMunicipalitys(){this.dataAddDetails.SubMunicipalitys.id=0,this.dataAddDetails.SubMunicipalitys.nameAr=null,this.dataAddDetails.SubMunicipalitys.nameEn=null}saveSubMunicipalitys(){if(null!=this.dataAddDetails.SubMunicipalitys.nameAr&&null!=this.dataAddDetails.SubMunicipalitys.nameEn){var u={};u.SubMunicipalityId=this.dataAddDetails.SubMunicipalitys.id,u.NameAr=this.dataAddDetails.SubMunicipalitys.nameAr,u.NameEn=this.dataAddDetails.SubMunicipalitys.nameEn,this._projectdetailsService.SaveSubMunicipality(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetSubMunicipalitys(),this.FillSubMunicipalitysSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmSubMunicipalitysDelete(){this._projectdetailsService.DeleteSubMunicipality(this.SubMunicipalitysRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillSubMunicipalitysSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}FillBuildTypeSelect(){this._projectdetailsService.FillBuildTypeSelect().subscribe(u=>{this.BuildType=u,this.BuildTypePopup=u})}getBuildTypeRow(u){this.BuildTypeRowSelected=u}setBuildTypeInSelect(u,h){this.projectDetails.buildingType=u.id}resetBuildType(){this.dataAddDetails.BuildType.id=0,this.dataAddDetails.BuildType.nameAr=null,this.dataAddDetails.BuildType.nameEn=null}saveBuildType(){if(null!=this.dataAddDetails.BuildType.nameAr&&null!=this.dataAddDetails.BuildType.nameEn){var u={};u.BuildTypeId=this.dataAddDetails.BuildType.id,u.NameAr=this.dataAddDetails.BuildType.nameAr,u.NameEn=this.dataAddDetails.BuildType.nameEn,u.Description=null,this._projectdetailsService.SaveBuildTypes(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetBuildType(),this.FillBuildTypeSelect()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}confirmBuildTypeDelete(){this._projectdetailsService.DeleteBuildTypes(this.BuildTypeRowSelected.id).subscribe(u=>{200==u.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.FillBuildTypeSelect()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}GetAllInstruments(){this._projectdetailsService.GetAllInstruments(this.projectDetails.projectId).subscribe(u=>{this.AllInstrumentsList=u.result})}getInstrumentsRow(u){this.InstrumentsRowSelected=u}resetInstruments(){this.InstrumentsData.id=0,this.InstrumentsData.InstrumentNo=null,this.InstrumentsData.Date=null,this.InstrumentsData.SourceId=null,this.InstrumentsData.HijriDate=null,this.InstrumentsData.ProjectId=null}saveInstruments(){if(null!=this.InstrumentsData.InstrumentNo&&null!=this.InstrumentsData.Date&&null!=this.InstrumentsData.SourceId){var u={};if(u.InstrumentId=this.InstrumentsData.id,u.InstrumentNo=this.InstrumentsData.InstrumentNo,null!=this.InstrumentsData.Date){u.Date=this._sharedService.date_TO_String(this.InstrumentsData.Date);const h=hp(this.InstrumentsData.Date);u.HijriDate=this._sharedService.hijri_TO_String(h)}u.SourceId=this.InstrumentsData.SourceId,u.ProjectId=this.projectDetails.projectId,this._projectdetailsService.SaveInstrument(u).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.resetInstruments(),this.GetAllInstruments()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}editInstruments(u){this.InstrumentsData={id:u.instrumentId,InstrumentNo:u.instrumentNo,Date:this._sharedService.String_TO_date(u.date),SourceId:u.sourceId,HijriDate:null,ProjectId:u.projectId}}deleteInstruments(u){this._projectdetailsService.DeleteInstruments(u.instrumentId).subscribe(h=>{200==h.statusCode?(this.toast.success(this.translate.instant(h.reasonPhrase),this.translate.instant("Message")),this.GetAllInstruments()):this.toast.error(this.translate.instant(h.reasonPhrase),this.translate.instant("Message"))})}resetFilterLoad(u){}LoadOfferPrices(){this._projectdetailsService.GetAllOffersByProjectId(this.projectDetails.projectId).subscribe(u=>{this.QuotSerCondData.OfferPrices=new Zt.by(u.result),this.QuotSerCondData.OfferPrices.paginator=this.paginatorOfferPrices})}LoadConditions(){this._projectdetailsService.GetAllRequirementsByProjectId(this.projectDetails.projectId).subscribe(u=>{this.QuotSerCondData.Conditions=new Zt.by(u.result),this.QuotSerCondData.Conditions.paginator=this.paginatorConditions})}downloadFileConditions(u){window.open(Lt.N.PhotoURL+u.attachmentUrl,"_blank")}getCondRow(u){this.publicCondRow=u}ConfirmRequirementStatus(u){this._projectdetailsService.ConfirmRequirementStatus(u.requirementId,!u.confirmStatus).subscribe(D=>{200==D?.statusCode?(this.toast.success(this.translate.instant(D.reasonPhrase),this.translate.instant("Message")),this.LoadConditions()):this.toast.error(this.translate.instant(D.reasonPhrase),this.translate.instant("Message"))})}DeleteRequirement(){this._projectdetailsService.DeleteRequirement(this.publicCondRow.requirementId).subscribe(u=>{200==u?.statusCode?(this.toast.success(this.translate.instant(u.reasonPhrase),this.translate.instant("Message")),this.LoadConditions()):this.toast.error(this.translate.instant(u.reasonPhrase),this.translate.instant("Message"))})}LoadServices(){this._projectdetailsService.GetOfferservicenByProjectId(this.projectDetails.projectId).subscribe(u=>{u.forEach(h=>{this.modalDetailsOffer.taxtype=h.taxType,this.GetServicesPriceByServiceId_Offer(h)})})}GetServicesPriceByServiceId_Offer(u){this._offerpriceService.GetServicesPriceByServiceId(u.serviceId).subscribe(h=>{var D;D=this.offerServices.length>0?Math.max(...this.offerServices.map(C=>C.idRow)):0,this.setServiceRowValueNew_Offer(D+1,h.result,u.serviceQty,u.serviceamountval,u.offerId)})}setServiceRowValueNew_Offer(u,h,D,C,G){this.addService(),this.offerServices.filter(_t=>_t.idRow==u)[0].AccJournalid=h.servicesId,this.offerServices.filter(_t=>_t.idRow==u)[0].UnitConst=h.serviceTypeName,this.offerServices.filter(_t=>_t.idRow==u)[0].QtyConst=D,this.offerServices.filter(_t=>_t.idRow==u)[0].accountJournaltxt=h.name,this.offerServices.filter(_t=>_t.idRow==u)[0].Amounttxt=C,this.offerServices.filter(_t=>_t.idRow==u)[0].offerId=G,this.CalculateTotal_Offer()}addService(){var u;u=this.offerServices.length>0?Math.max(...this.offerServices.map(h=>h.idRow)):0,this.offerServices?.push({idRow:u+1,AccJournalid:null,UnitConst:null,QtyConst:null,accountJournaltxt:null,Amounttxt:null,AmountBeforeTaxtxt:null,taxAmounttxt:null,TotalAmounttxt:null,offerId:null,MeterPrice1:null,MeterPrice2:null,MeterPrice3:null,PackageRatio1:null,PackageRatio2:null,PackageRatio3:null})}CalculateTotal_Offer(){var G=parseFloat(this.userG.orgVAT??0);this.offerServices.forEach(_t=>{var wt=parseFloat((_t.Amounttxt??0).toString()).toFixed(2),Sn=+wt*_t.QtyConst,Tn=Sn,ki=0,zi=0,Ii=parseFloat((+parseFloat((+wt*G).toString()).toFixed(2)/100).toString()).toFixed(2),at=parseFloat((+wt-+parseFloat((+wt/(G/100+1)).toString()).toFixed(2)).toString()).toFixed(2);2==this.modalDetailsOffer.taxtype?(ki=+Ii,zi=+parseFloat((+parseFloat(wt)+ +parseFloat(Ii)).toString()).toFixed(2)):(ki=+at,Tn=+parseFloat((+parseFloat(wt).toFixed(2)-+at).toString()).toFixed(2),zi=+parseFloat(wt).toFixed(2)),this.offerServices.filter(Wu=>Wu.idRow==_t.idRow)[0].AmountBeforeTaxtxt=parseFloat(Tn.toString()).toFixed(2),this.offerServices.filter(Wu=>Wu.idRow==_t.idRow)[0].taxAmounttxt=parseFloat(ki.toString()).toFixed(2),this.offerServices.filter(Wu=>Wu.idRow==_t.idRow)[0].TotalAmounttxt=parseFloat((zi*_t.QtyConst).toString()).toFixed(2)}),this.CalcSumTotal()}CalcSumTotal(){let u=0;this.offerServices.forEach(h=>{u=+u+ +parseFloat(h.TotalAmounttxt??0).toFixed(2)}),this.modalDetailsOffer.total_amount=parseFloat(u.toString()).toFixed(2),this.ConvertNumToString_Offer(this.modalDetailsOffer.total_amount)}ConvertNumToString_Offer(u){this._offerpriceService.ConvertNumToString(u).subscribe(h=>{this.modalDetailsOffer.total_amount_text=h?.reasonPhrase})}applyOfferPrices(u){this.QuotSerCondData.OfferPrices.filter=u.target.value.trim().toLowerCase()}applyServices(u){this.QuotSerCondData.Services.filter=u.target.value.trim().toLowerCase()}applyConditions(u){this.QuotSerCondData.Conditions.filter=u.target.value.trim().toLowerCase()}SupervisionReport(u){this._supervisionsService.ChangeSupervision(u.supervisionId,u.superCode).subscribe(h=>{this.SupervisionPrintData=h,this.CustomDataSupervision.BaladyImg="/assets/images/logo_Balady.png",this.CustomDataSupervision.hammerCourt="/assets/images/hammerCourt.png",console.log("this.SupervisionPrintData"),console.log("-------------------------------------"),console.log(this.SupervisionPrintData),console.log(this.CustomDataSupervision.stampUrl),this.CustomDataSupervision.HeadImageUrl=this.SupervisionPrintData.supervision.length>0&&this.SupervisionPrintData?.supervision[0].headImageUrl?Lt.N.PhotoURL+this.SupervisionPrintData?.supervision[0].headImageUrl:null,this.CustomDataSupervision.HeadImageUrl2=this.SupervisionPrintData.supervision.length>0&&this.SupervisionPrintData?.supervision[0].headImageUrl2?Lt.N.PhotoURL+this.SupervisionPrintData?.supervision[0].headImageUrl2:null,this.CustomDataSupervision.stampUrl=this.SupervisionPrintData?.stampUrl?Lt.N.PhotoURL+"/"+this.SupervisionPrintData?.stampUrl:null,this.CustomDataSupervision.OrgImg=this.SupervisionPrintData?.org_VD.logoUrl?Lt.N.PhotoURL+this.SupervisionPrintData?.org_VD.logoUrl:null})}printDiv(u){this.print.print(u,Lt.N.printConfig)}counter(u){return new Array(u)}resetCustomDataContract(){this.SupervisionPrintBase=null,this.CustomDataPrintBase={OrgImg:null}}PrintSupervisionBase(u){this._supervisionsService.PrintSupervisionMail(u.supervisionId).subscribe(h=>{this.SupervisionPrintBase=h,this.CustomDataPrintBase.OrgImg=this.SupervisionPrintBase?.org_VD.logoUrl?Lt.N.PhotoURL+this.SupervisionPrintBase?.org_VD.logoUrl:null,console.log(u),console.log(this.SupervisionPrintBase)})}GetStatusName(u){return 1==u.isRead?"\u062a\u0645 \u0627\u0644\u0623\u0633\u062a\u0644\u0627\u0645":1==u.isRead?"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"}ChangeInstrumentsDataGre(u){if(null!=u){const D=hp(this.InstrumentsData.Date);var h=new ap(D._year,D._month,D._date);h._day=h._date,this.InstrumentsData.HijriDate=h}else this.InstrumentsData.HijriDate=null}ChangeInstrumentsDateHijri(u){if(null!=u){const D=new ap(u.year,u.month,u.day).toGregorian();this.InstrumentsData.Date=D}else this.InstrumentsData.Date=null}clickfile(u){console.log(u)}focusfile(u){console.log(u)}blurfile(u){console.log(u)}Getoutbox(){this._outinbox.GetOutInboxProjectFiles(1,this.projectDetails.projectId).subscribe(u=>{console.log(u),this.OutboxData=u.result})}GetInbox(){this._outinbox.GetOutInboxProjectFiles(2,this.projectDetails.projectId).subscribe(u=>{console.log(u),this.InboxData=u.result})}}return c.\u0275fac=function(u){return new(u||c)(i.Y36(wn.FF),i.Y36(go.f),i.Y36($r),i.Y36(Ye.P),i.Y36(pa.$),i.Y36(z2.F1),i.Y36(X2._W),i.Y36(n_.h),i.Y36(o_.x),i.Y36(r_.XU),i.Y36(jf.sK),i.Y36(W2.f))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-project-details"]],viewQuery:function(u,h){if(1&u&&(i.Gf(Ht.nE,5),i.Gf(tt.YE,5),i.Gf(rv,5),i.Gf(sv,5),i.Gf(lv,5),i.Gf(uv,5),i.Gf(av,5),i.Gf(hv,5),i.Gf(pv,5),i.Gf(cv,5),i.Gf(dv,5),i.Gf(h_,5),i.Gf(fv,5),i.Gf(gv,5),i.Gf(mv,5),i.Gf(p_,5),i.Gf(c_,5)),2&u){let D;i.iGM(D=i.CRH())&&(h.table=D.first),i.iGM(D=i.CRH())&&(h.sort=D.first),i.iGM(D=i.CRH())&&(h.paginatorSupervision=D.first),i.iGM(D=i.CRH())&&(h.paginatorTask=D.first),i.iGM(D=i.CRH())&&(h.paginatorNoti=D.first),i.iGM(D=i.CRH())&&(h.paginatorFile=D.first),i.iGM(D=i.CRH())&&(h.paginatorWorkorder=D.first),i.iGM(D=i.CRH())&&(h.paginatorInbox=D.first),i.iGM(D=i.CRH())&&(h.paginatorOutbox=D.first),i.iGM(D=i.CRH())&&(h.paginatorInboxFile=D.first),i.iGM(D=i.CRH())&&(h.paginatorOutboxFile=D.first),i.iGM(D=i.CRH())&&(h.paginatorCustomerFiles=D.first),i.iGM(D=i.CRH())&&(h.tree=D.first),i.iGM(D=i.CRH())&&(h.tree_phase=D.first),i.iGM(D=i.CRH())&&(h.paginatorOfferPrices=D.first),i.iGM(D=i.CRH())&&(h.paginatorServices=D.first),i.iGM(D=i.CRH())&&(h.paginatorConditions=D.first)}},inputs:{projectDetails:"projectDetails"},decls:130,vars:61,consts:[[1,"project-details"],[1,"info","row","items-center","bg-base","text-white","p-2","rounded"],[1,"col-md-3","col-lg-2"],[1,"form-group"],[1,"col-form-label"],["type","text","name","projectType","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3","col-lg-3"],["type","text","name","customerName","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","user",1,"w-full","p-0",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["alt","logo","class","img-fluid","style","width: 100px; height: 100px; border-radius: 50px",3,"src",4,"ngIf"],[1,"navigator"],[3,"heading",4,"ngIf"],["class","flex w-100 justify-end mt-4",4,"ngIf"],["returnModal",""],["shareFileModal",""],["uploadFileModal",""],["fileTypeModal",""],["deleteFileType",""],["bsModal","","tabindex","-1","role","dialog",1,"modal","fade","ngxModal","center"],["deleteFileModal","bs-modal"],[1,"modal-body","text-center"],[3,"translate","translateParams"],[1,"flex","gap-2","justify-center"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","button","mat-raised-button","","color","basic",3,"click"],["deleteFileModal_phase","bs-modal"],["cancelFileShareModal","bs-modal"],["mapModal",""],["RegionTypesModal",""],["deleteRegionTypes",""],["ProjectPiecesModal",""],["deleteProjectPieces",""],["InstrumentSourcesModal",""],["deleteInstrumentSources",""],["ContractorsModal",""],["deleteContractors",""],["MunicipalsModal",""],["deleteMunicipals",""],["SubMunicipalitysModal",""],["deleteSubMunicipalitys",""],["BuildTypeModal",""],["deleteBuildType",""],["deleteConditionsModal",""],["UploadModal",""],["printDivModal",""],["serviceDetailsModal",""],["PrintSupervisionBaseModal",""],["PrintSupervisionsecurityModal",""],[3,"value"],["alt","logo",1,"img-fluid",2,"width","100px","height","100px","border-radius","50px",3,"src"],[3,"heading"],[1,"content"],[1,"box"],[1,"bg-base","text-white","px-3","py-2","mb-3","rounded"],[1,"data","flex","items-center","gap-8","mb-4"],[1,"delay","bg-gray","text-danger","p-2"],[1,"delayInfo","flex","items-center","justify-between","gap-8","w-100"],[1,"mb-0"],[1,"d-block"],["class","progress","style","min-width: 300px; height: 40px",4,"ngIf"],[1,"row","items-center"],[1,"col-md-4","mb-3"],["name","region",3,"ngModel","ngModelChange"],["name","Description",1,"form-control",3,"ngModel","ngModelChange"],[1,"user","flex","items-center","gap-4"],["class","img-fluid","style","width: 100px; height: 100px; border-radius: 50px",3,"src",4,"ngIf"],[2,"margin-inline-end","10px"],["class","box",4,"ngIf"],[1,"col-md-3","mb-3"],[1,"flex"],["name","region_type",3,"ngModel","ngModelChange"],["type","button",1,"btn","bg-base","text-white",2,"padding","5px 10px",3,"click"],[1,"fa","fa-plus"],[1,"text-danger"],["name","piece_number",3,"ngModel","ngModelChange"],["class","col-md-2 mb-3",4,"ngIf"],[1,"col-md-2","mb-3"],["name","Neighborhood","autocomplete","off",3,"ngModel","ngModelChange"],[1,"text-right","col-form-label","block"],[1,"form-group","timeInput"],["autocomplete","off","name","street","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"progress",2,"min-width","300px","height","40px"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","100%"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],[1,"img-fluid",2,"width","100px","height","100px","border-radius","50px",3,"src"],["name","Instrument_No","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["ngModel","","name","Instrument_date","type","text","bsDatepicker","","autocomplete","off",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],[1,"form-group","hijri-gregorianReciept"],["for","Corresponding",1,"text-right","col-form-label","block"],["autocomplete","off",3,"selectedDate","hijriLabel","selectedDateType","dir","selectedDateChange"],["name","instrument_source",3,"ngModel","ngModelChange"],[1,"col-md-3","mb-3","gap-2","mt-3","pt-3"],["type","button",1,"btn","bg-base","text-white",2,"margin-right","6px",3,"click"],[1,"btn","bg-base","text-white",2,"margin-right","6px",3,"click"],["style","background-color:#30874b ; margin-right: 6px;","class","btn text-white",3,"click",4,"ngIf"],["class","table",4,"ngIf"],[1,"btn","text-white",2,"background-color","#30874b","margin-right","6px",3,"click"],[1,"table"],["mat-table","",1,"mat-elevation-z8","table","table-responsive","table-striped","table-bordered","text-center",2,"vertical-align","middle","font-size","14px",3,"dataSource"],["matColumnDef","InstrumentNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","","class","bg-blue-100",4,"matFooterCellDef"],["matColumnDef","Instrumentdate"],["matColumnDef","instrumentsource"],["matColumnDef","choose"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell","",1,"bg-blue-100"],["type","button","data-toggle","tooltip","data-placement","top","title","\u062a\u0639\u062f\u064a\u0644","data-original-title","\u062a\u0639\u062f\u064a\u0644",1,"btn","btn-outline-primary","btn-sm","waves-effect",3,"click"],[1,"fa","fa-edit"],["type","button","title","\u062d\u0630\u0641",1,"btn","btn-outline-danger","btn-sm","waves-effect",3,"click"],[1,"fa","fa-trash"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"bg-base","text-white","px-3","py-2","mb-1","rounded"],[1,"p-2","rounded-lg","bg-red-200"],["name","honesty",3,"ngModel","ngModelChange"],["name","licenseNo","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","catego","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","proBuildingDisc","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","AdwAR","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Contractorname",3,"ngModel","change","ngModelChange"],["name","contractorEmail_T","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","contractorPhone_T","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Commercial Register","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Collaborativeoffice","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","co_opOfficeEmail","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","co_opOfficePhone","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","mb-1"],["name","Numberturns","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Basement","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Ground","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","thefirst","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Repeated","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Topaccessory","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Groundextension","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Areaaccordingtotheproportionofconstruction","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Landareaafterrecoil","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","GeneralLocation","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Landarea","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Projections","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Entrances","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","FloorEstablishing","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Roof","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Airconditionertype","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","electricityroom","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","theelevator","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","mb-3"],["name","Notes","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","mb-3"],["name","scheme","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","planned","type","text","autocomplete","off",3,"ngModel","ngModelChange"],["projectSpaceForm","ngForm"],["name","Neighborhood","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","region_type2",3,"ngModel","ngModelChange"],["name","buildingType",3,"ngModel","ngModelChange"],["name","instrument","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","nature","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","contract_number","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","contract","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","location","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","bouncing","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","protrusion","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Building","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","use","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","x coordinate","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","y-coordinate","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","office","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Surveyor","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Area","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","arrangement","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","limits","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Boundaries","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["type","button","title","\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0645\u0648\u0642\u0639 \u0639\u0644\u064a \u0627\u0644\u062e\u0631\u064a\u0637\u0629",1,"btn","bg-base","text-white",3,"click"],[1,"col-12","mb-3"],["name","notes","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","license_number","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","License_date","type","text","ngModel","","bsDatepicker","","autocomplete","off",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],["dpr","bsDatepicker"],["name","plannedNo","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","streetName","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-8","mb-3"],["name","term","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","Construction","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"overflow-auto","mt-4"],[1,"form-control","mb-2",2,"max-width","300px",3,"placeholder","keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8","rounded-t-lg","overflow-hidden","w-max",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","stage"],["matColumnDef","assigned"],["matColumnDef","Commissioning_date"],["matColumnDef","status"],["matColumnDef","operations"],["mat-row","","class","duration-300 hover:bg-slate-100","style","cursor: pointer",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginatorSupervision",""],["mat-header-cell","","mat-sort-header",""],["class","p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],["class","p-2 bg-blue-100 hover:bg-blue-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],["class","p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],[1,"p-2","bg-sky-100","hover:bg-sky-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"fa-solid","fa-image"],[1,"fa-solid","fa-eye"],[1,"p-2","bg-blue-100","hover:bg-blue-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"fa-solid","fa-print"],["mat-row","",1,"duration-300","hover:bg-slate-100",2,"cursor","pointer"],[1,"form-control","mb-2",2,"max-width","300px",3,"ngModel","placeholder","ngModelChange","keyup"],[1,"container-fluid"],[1,"row"],[1,"col-lg-6","mb-5","mb-lg-0"],[1,"px-3","py-2","rounded","text-white",2,"text-align","center","background-color","#158e64",3,"translate","translateParams"],[1,"tree"],[3,"nodeItems","options","selectedItems","click"],["tree_phase",""],["nodeCollapsibleTemplate",""],["class","col-lg-6 mb-5 mb-lg-0",4,"ngIf"],[4,"ngIf"],[1,"fa-solid","fa-folder-plus","tree-icon"],[1,"fa-solid","fa-folder-minus","tree-icon"],[1,"px-3","py-2","rounded","text-white",2,"text-align","center","background-color","#11456c",3,"translate","translateParams"],[1,"col-md-12","selectedFile1","mb-5"],[1,"mb-4","d-flex","items-center","flex-wrap","gap-8","fs-6"],[2,"margin-inline-end","20px","color","red","font-weight","700",3,"translate","translateParams"],[1,"d-flex","items-center","justify-between","flex-wrap","gap-8","fs-6"],[1,"mb-3"],[2,"margin-inline-end","20px","color","red","font-weight","700"],[1,"mb-4"],["mode","determinate",2,"height","12px",3,"value"],[1,"date","flex","items-center","justify-between"],[2,"unicode-bidi","plaintext"],["style","text-align: center;color: red;","class","p-1 bg-red-100",4,"ngIf"],[1,"table","table-responsive","table-striped","table-bordered","text-center",2,"vertical-align","middle","font-size","14px"],[1,"bg-base","text-white",2,"line-height","30px","font-size","13px"],["class","min-w-max p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],["class","min-w-max p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],["type","button","class","t-delete-Project btn btn-outline-danger btn-sm waves-effect","title","\u0627\u0633\u062a\u0631\u062c\u0627\u0639",3,"click",4,"ngIf"],[1,"p-1","bg-red-100",2,"text-align","center","color","red"],[1,"min-w-max","p-2","bg-sky-100","hover:bg-sky-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"min-w-max","p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-solid","fa-trash-can"],["type","button","title","\u0627\u0633\u062a\u0631\u062c\u0627\u0639",1,"t-delete-Project","btn","btn-outline-danger","btn-sm","waves-effect",3,"click"],["matColumnDef","title"],["matColumnDef","date"],["matColumnDef","from"],["matColumnDef","to"],["paginatorNoti",""],[1,"flex","gap-2","flex-wrap","items-end"],[1,"max-w-xs"],["for","",3,"translate","translateParams"],[1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup"],["bindLabel","name","bindValue","id",1,"w-full","p-0",3,"required","ngModelOptions","items","clearable","ngModel","placeholder","change","ngModelChange"],[1,"btn","btn-primary",3,"translate","translateParams","click"],["class","form-group col-md-2 timeInput",4,"ngIf"],[1,"form-check"],["for","allProjects",1,"form-check-label",3,"translate","translateParams"],["type","checkbox","value","","id","allProjects",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"flex","justify-end","gap-2","items-center","flex-wrap",2,"margin-right","10% !important"],["type","button","class","btn bg-base text-white mt-4",3,"click",4,"ngIf"],[1,"container-fluid",2,"margin-top","2% !important"],["tree",""],[1,"form-group","col-md-2","timeInput"],["type","text","bsDaterangepicker","",1,"form-control",3,"placeholder","ngModel","bsConfig","ngModelChange"],["dpr","bsDaterangepicker"],["type","button",1,"btn","bg-base","text-white","mt-4",3,"click"],["class","min-w-max p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],["class","p-2 bg-sky-100 hover:bg-sky-500 rounded-lg duration-300 hover:text-white w-10 mx-1",3,"click",4,"ngIf"],[1,"min-w-max","p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"p-2","bg-sky-100","hover:bg-sky-500","rounded-lg","duration-300","hover:text-white","w-10","mx-1",3,"click"],[1,"fa-solid","fa-share"],[1,"fa-solid","fa-xmark"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","comment"],["paginatorCustomerFiles",""],["type","button","class","p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],["type","button",1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"fa","fa-eye"],["matColumnDef","important"],["matColumnDef","archive"],["matColumnDef","entity"],["mat-row","","class","duration-300 hover:bg-slate-100","style","cursor: pointer",3,"dblclick",4,"matRowDef","matRowDefColumns"],["paginatorOutbox",""],[1,"my-3"],["matColumnDef","FileName"],["matColumnDef","uploadDate"],["paginatorOutboxFile",""],["mat-row","",1,"duration-300","hover:bg-slate-100",2,"cursor","pointer",3,"dblclick"],["class","p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white w-10 mx-1",3,"click",4,"ngIf"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10","mx-1",3,"click"],[1,"fa-regular","fa-eye"],["paginatorInbox",""],["paginatorInboxFile",""],["matColumnDef","duration"],["matColumnDef","start"],["matColumnDef","end"],["paginatorWorkorder",""],[3,"dir","selectedTabChange"],["mat-tab-label",""],[1,"flex","gap-2","flex-wrap","items-center","justify-between","my-3"],[1,"overflow-hidden"],[1,"overflow-auto"],["tasksSort",""],["matColumnDef","offer_id"],["matColumnDef","customer"],["matColumnDef","price"],["matColumnDef","user"],["mat-row","","class","duration-300 hover:bg-slate-100",4,"matRowDef","matRowDefColumns"],["paginatorOfferPrices",""],[1,"row","mb-3"],[1,"editable","shadow","mb-4",2,"overflow-x","auto"],[2,"width","30% !important"],["style","line-height: 5px",4,"ngFor","ngForOf"],[1,"box-info"],["for","include_tax"],["name","include_tax","disabled","",1,"p-0",3,"placeholder","ngModel","clearable","ngModelChange","change"],["for","total_amount"],["type","number","id","total_amount","name","total_amount","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","total_amount_text"],["type","text","id","total_amount_text","name","total_amount_text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["matColumnDef","fileName"],["matColumnDef","cost"],["matColumnDef","confirmStatustxt"],["matColumnDef","confirmStatusDate"],["matColumnDef","addUserName"],["paginatorConditions",""],[1,"aspect-square","w-8","border-2","border-white","end-4","p-1","rounded-full","text-center","bg-orange-500","text-white"],["mat-row","",1,"duration-300","hover:bg-slate-100"],["colspan","5",1,"mat-cell"],[2,"line-height","5px"],["type","text","ngModel","","readonly","",3,"name","ngModel","ngModelChange"],["type","text","readonly","",3,"name","ngModel","ngModelChange"],["type","text","readonly","",3,"name","ngModel","ngModelChange","keyup"],["type","number","readonly","",3,"name","ngModel","ngModelChange","keyup"],["style","align-self: center;",4,"ngIf"],["style","align-self: center",4,"ngIf"],["type","number","readonly","",3,"name","ngModel","ngModelChange"],["title","",1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10",2,"margin-inline-end","6px",3,"click"],[1,"fa-solid","fa-info"],[2,"align-self","center"],["style","color: green;font-size: 23px;","class","fa-solid fa-circle-check",4,"ngIf"],["style","color: red;font-size: 23px;","class","fa-solid fa-circle-xmark",4,"ngIf"],[1,"fa-solid","fa-circle-check",2,"color","green","font-size","23px"],[1,"fa-solid","fa-circle-xmark",2,"color","red","font-size","23px"],[1,"fa-solid","fa-arrow-rotate-right"],["class","p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white w-10 mx-1",3,"click",4,"ngIf"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","w-10","mx-1",3,"click"],["colspan","9",1,"mat-cell"],[1,"flex","w-100","justify-end","mt-4"],["type","button",1,"btn","bg-base","text-white","px-5","py-2",3,"click"],["for","returntask",1,"text-right","col-form-label","block"],["type","text","id","returntask","name","returntask",1,"form-control",3,"ngModel","ngModelChange"],[1,"flex","gap-2","justify-center","mt-3"],[1,"modal-header","bg-base","text-white"],["id","modal-basic-title",1,"modal-title","mb-0",3,"translate","translateParams"],["type","button",1,"m-0",3,"click"],[1,"fa","fa-close"],[1,"modal-body"],["shareForm","ngForm"],[1,"form-input-group"],["for","",1,"block","mb-3"],["type","number","min","1","autocomplete","off","name","share_duration",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"block","mb-3"],["aria-label","Select an option","name","status",3,"ngModel","ngModelOptions","ngModelChange"],["value","1",1,"text-warning"],["value","2",1,"text-success"],[1,"form-check","form-switch",2,"display","none"],["type","checkbox","role","switch","id","flexSwitchCheckDefault1",1,"form-check-input"],["for","flexSwitchCheckDefault1",1,"form-check-label",3,"translate","translateParams"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault2",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","flexSwitchCheckDefault2",1,"form-check-label",3,"translate","translateParams"],[1,"modal-footer","justify-content-end",2,"border-top","none"],["type","button",1,"btn","btn-light","py-2","px-3","mt-0",3,"click"],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"click"],["uploadForm","ngForm"],[1,"row","items-end","uploadDiv"],["for","",1,"block",3,"translate","translateParams"],["type","text","name","file_name","autocomplete","off",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],["type","checkbox","role","switch","id","flexSwitchCheckDefault","name","approval",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label",3,"translate","translateParams"],["bindLabel","name","bindValue","id",1,"w-full","p-0",3,"required","ngModelOptions","items","clearable","ngModel","placeholder","ngModelChange"],[1,"upload","row-span-2"],[1,"h-full",3,"control","click","focus","blur"],["placeholder",""],["item",""],["style","text-align: center;color: #950101;",4,"ngIf"],[2,"font-weight","700"],[2,"color","red"],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"disabled","click"],["class","px-5 flex flex-column justify-center items-center gap-2",4,"ngIf"],[1,"px-5","flex","flex-column","justify-center","items-center","gap-2"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 640 512"],["d","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"],[1,"upload-text"],[1,"delete-button",2,"display","flex",3,"click"],["viewBox","0 0 448 512"],["d","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"],["class","max-h-44",3,"src",4,"ngIf"],[1,"file-info"],[2,"font-size","16px","font-weight","700"],[1,"max-h-44",3,"src"],[2,"text-align","center","color","#950101"],[1,"modal-header","text-white","flex","justify-between","items-center",2,"background-color","var(--base-color)"],[1,"m-0"],[1,"text-2xl"],["type","button",1,"text-2xl","text-white","m-0",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["addFileType","ngForm"],["for","FileNameArtxt3",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","FileNameArtxt3","name","FileNameArtxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["FileNameAr","ngModel"],["for","FileNameEntxt3",1,"text-right","col-form-label","block"],[2,"display","inline-flex","width","100%"],["required","","ngModel","","type","text","id","FileNameEntxt3","name","FileNameEntxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["FileNameEnValue","","FileNameEn","ngModel"],["id","CopyFileName2",1,"btn",3,"click"],[1,"fa","fa-copy"],[1,"max-h-80","overflow-auto","px-2"],[1,"table","table-hover"],[3,"dblclick",4,"ngFor","ngForOf"],[1,"flex","gap-2","mt-3","pt-3","border-t","border-neutral-300"],["type","submit",1,"btn","bg-base","text-white",3,"disabled","click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","bg-base","text-white",3,"click"],[3,"dblclick"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-regular","fa-pen-to-square"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"relative","rounded-lg","overflow-hidden"],[2,"height","60vh",3,"latitude","longitude","zoom","mapReady"],[3,"markerDraggable","latitude","longitude","dragEnd"],[1,"bottom-[120px]","right-[10px]","shadow","rounded-sm","border-neutral-400","text-neutral-500","absolute","h-10","w-10","bg-white","flex","justify-center","items-center","z-20",3,"click"],[1,"fa","fa-map-marker"],[1,"text-end","mt-2"],["addRegionTypes","ngForm"],["for","RegionTypesNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","RegionTypesNameArtxt","name","RegionTypesNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["RegionTypesNameAr","ngModel"],["for","RegionTypesNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","RegionTypesNameEntxt","name","RegionTypesNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["RegionTypesNameEnValue","","RegionTypesNameEn","ngModel"],["id","CopyRegionTypesName2",1,"btn",3,"click"],["addProjectPieces","ngForm"],["for","ProjectPiecesNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ProjectPiecesNameArtxt","name","ProjectPiecesNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ProjectPiecesNameAr","ngModel"],["for","ProjectPiecesNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ProjectPiecesNameEntxt","name","ProjectPiecesNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ProjectPiecesNameEnValue","","ProjectPiecesNameEn","ngModel"],["id","CopyProjectPiecesName2",1,"btn",3,"click"],["addInstrumentSources","ngForm"],["for","InstrumentSourcesNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","InstrumentSourcesNameArtxt","name","InstrumentSourcesNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["InstrumentSourcesNameAr","ngModel"],["for","InstrumentSourcesNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","InstrumentSourcesNameEntxt","name","InstrumentSourcesNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["InstrumentSourcesNameEnValue","","InstrumentSourcesNameEn","ngModel"],["id","CopyInstrumentSourcesName2",1,"btn",3,"click"],["addContractors","ngForm"],["for","ContractorsNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ContractorsNameArtxt","name","ContractorsNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ContractorsNameAr","ngModel"],["for","ContractorsNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ContractorsNameEntxt","name","ContractorsNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ContractorsNameEnValue","","ContractorsNameEn","ngModel"],["id","CopyContractorsName2",1,"btn",3,"click"],["for","Contractorsemailtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","Contractorsemailtxt","name","Contractorsemailtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["Contractorsemail","ngModel"],["for","ContractorsCommercialtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ContractorsCommercialtxt","name","ContractorsCommercialtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ContractorsCommercial","ngModel"],["for","ContractorsphoneNotxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","ContractorsphoneNotxt","name","ContractorsphoneNotxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["ContractorsphoneNo","ngModel"],["addMunicipals","ngForm"],["for","MunicipalsNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","MunicipalsNameArtxt","name","MunicipalsNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["MunicipalsNameAr","ngModel"],["for","MunicipalsNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","MunicipalsNameEntxt","name","MunicipalsNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["MunicipalsNameEnValue","","MunicipalsNameEn","ngModel"],["id","CopyMunicipalsName2",1,"btn",3,"click"],["addSubMunicipalitys","ngForm"],["for","SubMunicipalitysNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","SubMunicipalitysNameArtxt","name","SubMunicipalitysNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["SubMunicipalitysNameAr","ngModel"],["for","SubMunicipalitysNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","SubMunicipalitysNameEntxt","name","SubMunicipalitysNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["SubMunicipalitysNameEnValue","","SubMunicipalitysNameEn","ngModel"],["id","CopySubMunicipalitysName2",1,"btn",3,"click"],["addBuildType","ngForm"],["for","BuildTypeNameArtxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","BuildTypeNameArtxt","name","BuildTypeNameArtxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["BuildTypeNameAr","ngModel"],["for","BuildTypeNameEntxt",1,"text-right","col-form-label","block"],["required","","ngModel","","type","text","id","BuildTypeNameEntxt","name","BuildTypeNameEntxt","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["BuildTypeNameEnValue","","BuildTypeNameEn","ngModel"],["id","CopyBuildTypeName2",1,"btn",3,"click"],[1,"flex","items-center","justify-center","w-100","my-3","gap-8"],[1,"upload","w-100"],[2,"min-height","300px",3,"control"],["type","button","mat-raised-button","","color","basic",1,"bg-base","text-white",3,"click"],[1,"upload-text",2,"width","max-content","padding","0px 20px"],[1,"overlay"],[1,"delete-button",3,"click"],[3,"src",4,"ngIf"],[3,"src"],["id","report","dir","rtl",1,"customReport"],[1,"firstPage"],[1,"header"],[1,"text-start"],["alt","logo",2,"height","50px","width","120px",3,"src"],[1,"header-title"],[1,"info"],[1,"col-4"],[1,"title","d-flex","w-100",2,"background-color","#0d706e","border-radius","15px 15px 0 0","padding","5px 10px","color","#fff","flex-direction","row","align-items","center","height","50%"],[2,"text-align","right","flex","1"],[2,"text-align","left","flex","1"],[1,"value",2,"background-color","rgb(199, 194, 194)","padding","0px 10px 5px","border-radius","0 0 15px 15px","text-align","center","display","flex","flex-direction","row","align-items","center","justify-content","center","height","50%"],[1,"title","d-flex","w-100",2,"background-color","#0d706e","border-radius","15px 15px 0 0","padding","5px 10px","color","#fff"],[1,"value",2,"background-color","rgb(199, 194, 194)","padding","0px 10px 5px","border-radius","0 0 15px 15px","text-align","center"],[1,"col-2"],[1,"title",2,"background-color","#0d706e","border-radius","0px 15px 15px 0px","padding","5px 10px","color","#fff","display","flex","align-items","center","justify-content","start","width","100%","height","100%"],[2,"text-align","right"],[1,"col-8"],[1,"value",2,"background-color","rgb(199, 194, 194)","padding","0px 10px 5px","text-align","center","display","flex","align-items","center","justify-content","center","width","100%","height","100%"],[1,"title",2,"background-color","#86bf47","border-radius","15px 0 0 15px","padding","5px 10px","color","#fff","text-align","end","display","flex","align-items","center","justify-content","end","width","100%","height","100%"],[1,"col-6"],[1,"title","d-flex","w-100",2,"background-color","#86bf47","border-radius","15px 15px 0 0","padding","5px 10px","color","#fff"],[1,"value",2,"background-color","rgb(199, 194, 194)","border-radius","0 0 15px 15px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"gap","40px","padding","5px 10px"],[3,"ngClass"],[1,"col-12"],[1,"photo",2,"margin","7px","width","100%","height","200px","border","3px solid #0d706e","background-color","#fff","border-radius","50px","display","flex","align-items","center","justify-content","center"],["alt","photo","style","\n                            width: calc(100% - 50px);\n                            height: 90%;\n                            border-radius: 15px;\n                            object-fit: cover;\n                          ",3,"src",4,"ngIf"],[2,"text-align","start","display","block","margin-inline-start","20px"],[1,"secondPage"],[1,"first-tabel"],["cellspacing","0","cellpadding","0",1,"table","table-striped",2,"text-align","center","vertical-align","middle"],[1,"green-dark","text-center",2,"font-size","14px"],["scope","col"],["scope","col","colspan","2",1,"col-md-6"],["scope","col","colspan","2"],["class","text-center","style","font-size: 13px",4,"ngIf"],[1,"boxes"],[1,"row","mb-2"],[1,"col-12","h-100"],[1,"title","d-flex","w-100",2,"background-color","#0d706e","border-radius","15px 15px 0 0","padding","5px 10px","color","#fff","flex-direction","row","align-items","center","height","50%","font-size","14px"],[1,"value",2,"background-color","rgb(199, 194, 194)","padding","0px 10px 5px","border-radius","0 0 15px 15px","text-align","start","font-size","14px"],[2,"list-style","decimal","padding-right","16px"],[2,"background-color","#0d706e","color","#fff","display","inline-block","margin-top","3px"],[2,"background-color","#dfebe7","color","#0d706e","display","inline-block","margin-bottom","3px"],[2,"color","#0d706e","display","inline-block","margin","3px 0px","font-weight","400"],[1,"d-flex","align-items-stretch","office_data","mb-3",2,"border-radius","18px 18px 0px 0px"],[1,"box",2,"width","20%","background-color","#0d706e","padding","5px 0px","color","#fff","display","flex","align-items","center","justify-content","center","flex-direction","column","text-align","center","gap","24px","border-radius","0px 15px 0px 0px"],[1,"mb-0",2,"border-right","none !important"],[1,"box",2,"width","40%","height","100%"],[1,"title","w-100",2,"background-color","#0d706e","padding","10px 0px 5px","color","#fff","height","50%","font-size","14px"],[1,"value",2,"background-color","#d1dfce","color","#0c6f6d","padding","10px 0px 5px","text-align","start","font-size","14px"],[1,"title","w-100",2,"background-color","#0d706e","padding","10px 0px 5px","color","#fff","height","50%","font-size","14px","border-radius","15px 0px 0px 0px"],[2,"font-size","13px"],[1,"lastLines","mb-3"],[1,"lastLines"],["alt","photo","style","\n                    width: calc(20% - 10px);\n                    height: 50%;\n                    border-radius: 15px;\n                    object-fit: cover;\n                  ",3,"src",4,"ngIf"],[1,"modal-footer"],[1,"fa","fa-print"],["alt","photo",2,"width","calc(100% - 50px)","height","90%","border-radius","15px","object-fit","cover",3,"src"],[1,"text-center",2,"font-size","13px"],[1,"light-greentbl",2,"text-align","right"],["scope","col","colspan","10",2,"padding","5px"],["class","table-light",4,"ngFor","ngForOf"],[1,"table-light"],["class","big-font light-greentbl",4,"ngIf"],["colspan","2"],["colspan","2",4,"ngIf"],[1,"big-font","light-greentbl"],["alt","photo",2,"width","calc(20% - 10px)","height","50%","border-radius","15px","object-fit","cover",3,"src"],[1,"service_item_details"],[4,"ngFor","ngForOf"],[1,"flex","gap-2","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],[1,"col-md-11"],[1,"fa","fa-check","text-success"],[1,"text-base","mx-2"],["id","report",3,"ngStyle"],[1,"report-header",2,"display","flex","align-items","center","gap","100px","padding","3px 0px","margin-bottom","20px"],[1,"headerNe-right-side"],["alt","logo","style","height: 150px; width: 200px; max-width: 200px; object-fit: fill",3,"src",4,"ngIf"],[1,"headerNe-lefy-side",2,"width","100%"],[2,"letter-spacing","0.25px","font-size","20px","margin","0","margin-bottom","1px"],[2,"letter-spacing","0.25px","font-size","20px","margin","0","margin-bottom","4px"],[1,"line",2,"position","relative","padding","5px 0px 10px"],[2,"position","absolute","right","0","width","100%","height","2px","background-color","#e5e5e5","z-index","1"],[2,"position","absolute","right","0","width","70%","height","2px","background-color","#ec1c24","z-index","2"],[2,"margin-bottom","0","font-size","22px","color","#0c8191","margin-bottom","0","margin-top","10px","font-weight","500",3,"translate","translateParams"],[1,"info",2,"overflow","auto","margin-bottom","20px"],[1,"table","table-bordered","m-0",2,"width","100%","color","white","text-align","center","vertical-align","middle","min-width","max-content"],[2,"padding-inline","0px !important","background-color","#f7f7f7","font-size","18px","color","#21403f","font-weight","600","border","1px solid #dce0e4",3,"translate","translateParams"],[2,"padding-inline","0px !important","background-color","#f7f7f7","font-size","18px","color","#21403f","font-weight","600","border","1px solid #dce0e4"],[1,"services",2,"width","100%","margin-bottom","20px"],[2,"text-align","center","vertical-align","middle","width","100%"],[2,"font-size","16px","background-color","#fff","padding","14px 4px","text-align","center","color","#272727","word-wrap","break-word","border-inline-start","1px dashed #0c8191","border","1px dashed #272727","font-weight","600",3,"translate","translateParams"],[2,"font-size","16px","background-color","#f7f7f7","padding","14px 4px","text-align","center","color","#272727","word-wrap","break-word","border-inline-start","1px dashed #0c8191","border","1px dashed #272727","font-weight","600",3,"translate","translateParams"],["alt","logo",2,"height","150px","width","200px","max-width","200px","object-fit","fill",3,"src"],[2,"background-color","#fff","font-size","15px","font-weight","500","padding","10px 0px","color","#272727","border-inline-start","1px dashed #272727","border-bottom","1px dashed #272727"],[1,"titleSup"],[1,"grid-container2"],[1,"grid-item"],[1,"c_options",2,"display","inline-flex"],["style","color:green;background-color:green","class","square",4,"ngIf"],["class","square",4,"ngIf"],[2,"margin-right","10px","margin-top","6px"],[1,"square"],["style","margin-right: 10px;margin-top: 6px;",4,"ngIf"],[1,"main-card",2,"border","solid 1px #000000","padding","8px","margin-top","30px"],[2,"font-size","17px","font-weight","bold"],[1,"table","text-center","py-3","tablesuper"],["style","padding-bottom: 130px;",4,"ngIf"],[2,"padding","1%"],[1,"grid-container2","text-center",2,"padding-right","6%"],[1,"grid-container2","text-center"],[1,"square",2,"color","green","background-color","green"],[2,"padding","5px"],[2,"padding-bottom","130px"]],template:function(u,h){if(1&u){const D=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"input",5),i.NdJ("ngModelChange",function(G){return h.projectDetails.projectTypesName=G}),i.qZA()()(),i.TgZ(8,"div",2)(9,"div",3)(10,"label",4),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"input",5),i.NdJ("ngModelChange",function(G){return h.projectDetails.projectNo=G}),i.qZA()()(),i.TgZ(14,"div",6)(15,"div",3)(16,"label",4),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"input",7),i.NdJ("ngModelChange",function(G){return h.projectDetails.customerName=G}),i.qZA()()(),i.TgZ(20,"div",6)(21,"div",3)(22,"label",4),i._uU(23),i.ALo(24,"translate"),i.qZA(),i.TgZ(25,"ng-select",8),i.NdJ("ngModelChange",function(G){return h.projectDetails.mangerId=G}),i.ALo(26,"translate"),i.YNc(27,d_,2,2,"ng-option",9),i.qZA()()(),i.TgZ(28,"div",2),i.YNc(29,f_,1,1,"img",10),i.qZA()(),i.TgZ(30,"div",11)(31,"tabset"),i.YNc(32,Ap,99,67,"tab",12),i.YNc(33,At,166,107,"tab",12),i.YNc(34,pt,64,43,"tab",12),i.YNc(35,Dt,34,15,"tab",12),i.YNc(36,H,21,21,"tab",12),i.YNc(37,lt,28,15,"tab",12),i.YNc(38,Yf,37,45,"tab",12),i.YNc(39,Gf,24,12,"tab",12),i.YNc(40,Rs,48,18,"tab",12),i.YNc(41,$p,48,18,"tab",12),i.YNc(42,xo,35,15,"tab",12),i.YNc(43,j_,124,70,"tab",12),i.qZA(),i.YNc(44,y0,4,3,"div",13),i.qZA()(),i.YNc(45,Le,15,13,"ng-template",null,14,i.W1O),i.YNc(47,P0,39,33,"ng-template",null,15,i.W1O),i.YNc(49,hc,55,37,"ng-template",null,16,i.W1O),i.YNc(51,Vs,56,38,"ng-template",null,17,i.W1O),i.YNc(53,Ar,9,9,"ng-template",null,18,i.W1O),i.TgZ(55,"div",19,20)(57,"div",21),i._UZ(58,"p",22),i.TgZ(59,"div",23)(60,"button",24),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(56);return h.confirmDelete(),i.KtG(G.hide())}),i._uU(61),i.ALo(62,"translate"),i.qZA(),i.TgZ(63,"button",25),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(56);return i.KtG(G.hide())}),i._uU(64),i.ALo(65,"translate"),i.qZA()()()(),i.TgZ(66,"div",19,26)(68,"div",21),i._UZ(69,"p",22),i.TgZ(70,"div",23)(71,"button",24),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(67);return h.confirmDelete_phase(),i.KtG(G.hide())}),i._uU(72),i.ALo(73,"translate"),i.qZA(),i.TgZ(74,"button",25),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(67);return i.KtG(G.hide())}),i._uU(75),i.ALo(76,"translate"),i.qZA()()()(),i.TgZ(77,"div",19,27)(79,"div",21),i._UZ(80,"p",22),i.TgZ(81,"div",23)(82,"button",24),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(78);return h.confirmCancelFileShare(),i.KtG(G.hide())}),i._uU(83),i.ALo(84,"translate"),i.qZA(),i.TgZ(85,"button",25),i.NdJ("click",function(){i.CHM(D);const G=i.MAs(78);return i.KtG(G.hide())}),i._uU(86),i.ALo(87,"translate"),i.qZA()()()(),i.YNc(88,Wn,17,12,"ng-template",null,28,i.W1O),i.YNc(90,jn,54,41,"ng-template",null,29,i.W1O),i.YNc(92,Ti,9,9,"ng-template",null,30,i.W1O),i.YNc(94,pc,54,41,"ng-template",null,31,i.W1O),i.YNc(96,C0,9,9,"ng-template",null,32,i.W1O),i.YNc(98,k_,54,41,"ng-template",null,33,i.W1O),i.YNc(100,zs,9,9,"ng-template",null,34,i.W1O),i.YNc(102,Xl,90,74,"ng-template",null,35,i.W1O),i.YNc(104,Wl,9,9,"ng-template",null,36,i.W1O),i.YNc(106,I_,54,41,"ng-template",null,37,i.W1O),i.YNc(108,A0,9,9,"ng-template",null,38,i.W1O),i.YNc(110,Da,54,41,"ng-template",null,39,i.W1O),i.YNc(112,dc,9,9,"ng-template",null,40,i.W1O),i.YNc(114,U_,54,41,"ng-template",null,41,i.W1O),i.YNc(116,fc,9,9,"ng-template",null,42,i.W1O),i.YNc(118,Z0,9,9,"ng-template",null,43,i.W1O),i.YNc(120,mc,16,10,"ng-template",null,44,i.W1O),i.YNc(122,ep,328,53,"ng-template",null,45,i.W1O),i.YNc(124,Qu,14,7,"ng-template",null,46,i.W1O),i.YNc(126,np,75,65,"ng-template",null,47,i.W1O),i.YNc(128,mf,98,30,"ng-template",null,48,i.W1O)}2&u&&(i.xp6(5),i.hij(" ",i.lcZ(6,36,"Project Type"),""),i.xp6(2),i.Q6J("ngModel",h.projectDetails.projectTypesName),i.xp6(4),i.hij(" ",i.lcZ(12,38,"Project No"),""),i.xp6(2),i.Q6J("ngModel",h.projectDetails.projectNo),i.xp6(4),i.hij(" ",i.lcZ(18,40,"Customer Name"),""),i.xp6(2),i.Q6J("ngModel",h.projectDetails.customerName),i.xp6(4),i.hij(" ",i.lcZ(24,42,"Project Maneger"),""),i.xp6(2),i.s9C("placeholder",i.lcZ(26,44,"Chose")),i.Q6J("ngModel",h.projectDetails.mangerId),i.xp6(2),i.Q6J("ngForOf",null==h.ProDetailsReadyVm?null:h.ProDetailsReadyVm.proManger_DropLoad),i.xp6(2),i.Q6J("ngIf",h.managerImg),i.xp6(3),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",2==h.projectDetails.typeCode||4==h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",1==h.projectDetails.typeCode||2==h.projectDetails.typeCode||7==h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",3==h.projectDetails.typeCode||6==h.projectDetails.typeCode||7==h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",0!=h.projectDetails.typeCode),i.xp6(1),i.Q6J("ngIf",((null==h.userG?null:h.userG.userPrivileges.includes(1118))||(null==h.userG?null:h.userG.isAdmin)||h.projectDetails.update)&&0==h.projectDetails.status&&1!=h.projectDetails.stopProjectType),i.xp6(14),i.Q6J("translate","name")("translateParams",i.DdM(58,vi)),i.xp6(3),i.hij(" ",i.lcZ(62,46,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(65,48,"No")," "),i.xp6(5),i.Q6J("translate","name")("translateParams",i.DdM(59,vi)),i.xp6(3),i.hij(" ",i.lcZ(73,50,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(76,52,"No")," "),i.xp6(5),i.Q6J("translate","name")("translateParams",i.DdM(60,zu)),i.xp6(3),i.hij(" ",i.lcZ(84,54,"Yes")," "),i.xp6(3),i.hij(" ",i.lcZ(87,56,"No")," "))},dependencies:[Bl.mk,Bl.sg,Bl.O5,Bl.PC,ir._Y,ir.Fj,ir.wV,ir.Wl,ir.JJ,ir.JL,ir.Q7,ir.qQ,ir.On,ir.F,jf.Pi,$2.Lv,tv.lW,ev.oB,s_.w9,s_.jq,Cp.Np,Cp.Y5,Cp.FR,Cp.TB,et.Yr,Nf.SP,Nf.uD,Nf.uX,Zt.BZ,Zt.fO,Zt.as,Zt.w1,Zt.Dz,Zt.nj,Zt.mD,Zt.ge,Zt.ev,Zt.yh,Zt.XQ,Zt.Gk,Zt.Ee,iv.NW,tt.YE,tt.nU,ne.g4,l_.VQ,l_.U0,u_.wW,u_.AH,nv.pW,a_.SA,a_.pt,R.yQ,ov.F,Bl.Ov,Bl.uU,jf.X$],styles:['@charset "UTF-8";.content[_ngcontent-%COMP%]{padding-top:30px}.delay[_ngcontent-%COMP%]{background:#ccc;border-radius:5px;padding:12px 14px!important;width:160px;text-align:center}.late[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));padding:10px 14px!important;display:inline-block;min-width:150px;border-radius:5px;text-align:center}.uploadDiv[_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{max-height:170px!important}  .uploadDiv .ng-dropdown-panel .ng-dropdown-panel-items{max-height:170px!important}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]){width:100%;height:100%;background:transparent;text-align:center;appearance:none;-webkit-appearance:none}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]):focus-visible{outline:none}.box-info[_ngcontent-%COMP%]{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{min-width:unset!important;width:80%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:200px;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}.circleAccept[_ngcontent-%COMP%]{background-color:#fff;border:3px solid #86bf47;border-radius:33%;width:32%}.circleRefuse[_ngcontent-%COMP%]{background-color:#fff;border:3px solid #e41313;border-radius:33%;width:32%}.circleNote[_ngcontent-%COMP%]{background-color:#fff;border:3px solid #0d706e;border-radius:33%;width:32%}.header-title[_ngcontent-%COMP%]{position:relative;text-align:center;color:#559b0b;font-size:19px!important;line-height:1.3em;margin-bottom:20px!important}.header-title[_ngcontent-%COMP%]:after, .header-title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;transform:translateY(-50%);width:25%;height:10px;background-color:#0d706e}.header-title[_ngcontent-%COMP%]:after{inset-inline-start:0}.header-title[_ngcontent-%COMP%]:before{inset-inline-end:0}.firstPage[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-left:5px!important;padding-right:5px!important}.firstPage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.firstPage[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#fff;border-radius:50px;padding:3px 10px;border:2px solid #86bf47}.first-tabel[_ngcontent-%COMP%]   .green-dark[_ngcontent-%COMP%]{background-color:#0d706e;color:#fff;font-size:25px}.first-tabel[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:3px solid #fff;font-size:12px}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:auto!important;margin:0}.light-greentbl[_ngcontent-%COMP%]{background-color:#85bd48!important;box-shadow:none!important}.light-bluetbl[_ngcontent-%COMP%]{background-color:#41c1cb!important}.light-graytbl[_ngcontent-%COMP%]{background-color:#a6a6a6!important}.dark_greentbl[_ngcontent-%COMP%]{background-color:#07706d!important}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .light-green[_ngcontent-%COMP%]{color:#fff;font-size:30px;border-color:#fff!important}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .light-green[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-right:20px!important}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .edit-f[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:40%}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .big-font[_ngcontent-%COMP%]{font-size:17px!important;color:#fff}.first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .first-tabel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0px;border-right:1px solid #fff;border-left:1px solid #fff}.borderless[_ngcontent-%COMP%]{border:0px!important}.lastLines[_ngcontent-%COMP%]{text-align:right}.lastLines[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:maroon!important;color:#fff}.office_data[_ngcontent-%COMP%]{border:2px solid #0d706e}.office_data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(i){font-size:13px!important}.office_data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:2px 10px;margin:3px 0!important;border-right:1px solid #fff}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.grid-container2[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto}.grid-container3[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto}.totals[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px dashed}.square[_ngcontent-%COMP%]{content:"\\2713";height:30px;width:30px;border:1px solid #000000}.titleSup[_ngcontent-%COMP%]{background:rgba(0,0,0,.05)!important;font-weight:600}.tree[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;overflow-x:hidden}.tree-icon[_ngcontent-%COMP%]{font-size:24px;width:30px;height:24px;display:flex;line-height:24px;color:#158e64;align-items:center;justify-content:center}  .node-name{color:var(--gray-color);letter-spacing:.5px;font-size:16px;padding:6px 14px!important;cursor:pointer}  .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper{border-inline-start:1px dashed #ccc;margin-inline-start:6px}  .collapsible-wrapper .node-name{font-size:14px;color:var(--gray-color);letter-spacing:.5px;cursor:pointer}  .collapsible-wrapper .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper node-icon-wrapper{position:relative}  .collapsible-wrapper node-icon-wrapper:after{content:"";position:absolute;top:50%;inset-inline-start:0;width:90%;height:1px;border:1px dashed #ccc}.greenCla[_ngcontent-%COMP%]{color:#046f04!important;font-weight:700!important}.redCla[_ngcontent-%COMP%]{color:#d30e0e!important;font-weight:700!important}.yellowCla[_ngcontent-%COMP%]{color:#d9bf06!important;font-weight:700!important}']}),c})()},4813:(zn,Pi,ft)=>{ft.d(Pi,{$u:()=>ht,E9:()=>et,FJ:()=>n_,KX:()=>r_,Me:()=>v_,NB:()=>m_,S0:()=>h_,Vm:()=>__,ZA:()=>Zt,Zt:()=>ne,al:()=>g_,bn:()=>f_,bx:()=>p_,jE:()=>d_,rv:()=>o_,s_:()=>c_,z6:()=>se}),zn=ft.hmd(zn),function(){var x;function x_(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function mi(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:x_(t)}}function kf(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var wp,P_="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)wp=Object.setPrototypeOf;else{var Ap;t:{var If={};try{If.__proto__={a:!0},Ap=If.a;break t}catch{}Ap=!1}wp=Ap?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var Uf=wp;function At(t,e){if(t.prototype=P_(e.prototype),t.prototype.constructor=t,Uf)Uf(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var o=Object.getOwnPropertyDescriptor(e,n);o&&Object.defineProperty(t,n,o)}else t[n]=e[n];t.QA=e.prototype}var pt=typeof global<"u"&&null!=global?global:self,S_="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},T_="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function Ff(t,e){if(e){var n=pt;t=t.split(".");for(var o=0;o<t.length-1;o++){var r=t[o];r in n||(n[r]={}),n=n[r]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&T_(n,t,{writable:!0,value:e})}}Ff("Object.assign",function(t){return t||S_}),Ff("Array.prototype.fill",function(t){return t||function(e,n,o){var r=this.length||0;for(0>n&&(n=Math.max(0,r+n)),(null==o||o>r)&&(o=r),0>(o=Number(o))&&(o=Math.max(0,r+o)),n=Number(n||0);n<o;n++)this[n]=e;return this}});var nt="object"==typeof globalThis&&globalThis||"object"==typeof global&&global.global===global&&global||"object"==typeof self&&self.self===self&&self||{};function ts(){}function Mp(t,e){var n=-1;return function(){var o=this,r=arguments;-1!==n&&nt.clearTimeout(n),n=Tr(function(){n=-1,t.apply(o,r)},e)}}function Tr(t,e){return nt.setTimeout(t,e)}function Yn(t){return nt.document.createElement(t)}function q(t){throw Error(t)}function gt(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),q(t)}function Jt(t,e,n,o){n=null===n?"*":"string"==typeof n?n:"function"==typeof n&&"string"==typeof n.className?n.className:"",void 0!==o&&(n+="."+o),q(n+" is not in the range "+e+": "+t)}function Di(t){nt.console&&nt.console.log(t)}function Et(t){return"object"==typeof t&&null!==t}function De(t){return Array.isArray(t)||nt.NodeList&&t instanceof nt.NodeList||nt.HTMLCollection&&t instanceof nt.HTMLCollection}function Os(t){return Array.prototype.slice.call(t)}function Ls(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):q("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)}function es(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):q("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function bt(){var t=Zp.pop();return void 0===t?[]:t}function Nt(t){t.length=0,Zp.push(t)}function is(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(Et(t)&&t.constructor)return is(t.constructor);return typeof t}function cn(t){var e=t;return Et(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function Of(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var n=t.CA;if(n&&n[e])return!0;t=Object.getPrototypeOf(t)}return!1}function Ge(t,e,n){Object.defineProperty(Vt.prototype,t,{get:e,set:n})}function Dt(t){for(var e=[],n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t),n=[];for(var o=0,r=0;r<t.length;r+=2)n[o++]=e[t.substr(r,2)];for(t=""===(t=n.join(""))?"0":t,e=[],n=0;256>n;n++)e[n]=n;for(n=o=0;256>n;n++)r=e[n],e[n]=e[o=(o+e[n]+119)%256],e[o]=r;o=n=0;for(var s="",l=0;l<t.length;l++)r=e[n=(n+1)%256],e[n]=e[o=(o+e[n])%256],e[o]=r,s+=String.fromCharCode(t.charCodeAt(l)^e[(e[n]+e[o])%256]);return s}void 0===nt.requestAnimationFrame&&(nt.requestAnimationFrame=void 0===nt.setImmediate?function(t){nt.setTimeout(t,0)}:nt.setImmediate);var C_=void 0!==nt.navigator&&0<nt.navigator.userAgent.indexOf("Trident/7"),No=void 0!==nt.navigator&&void 0!==nt.navigator.platform&&null!==nt.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i),Zp=[];function Q(t,e,n){ye(this),this.j=t,this.xa=e,this.o=n}function ns(t,e){return null==e||""===e?null:t[e]}function ca(){this.ew=[]}function en(){}Object.freeze([]),ts.className="Util",ts.Dx="32ab5ff3b26f42dc0ed90f21472913b5",ts.adym="gojs.net",ts.vfo="28e645fdb266",ts.className="Util",Q.prototype.toString=function(){return"EnumValue."+this.xa},pt.Object.defineProperties(Q.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.xa}},value:{get:function(){return this.o}}}),Q.className="EnumValue",ca.prototype.toString=function(){return this.ew.join("")},ca.prototype.add=function(t){""!==t&&this.ew.push(t)},ca.className="StringBuilder",en.className="PropertyCollection";var dn,Ql={EA:!1,JA:!1,GA:!1,IA:!1,NA:!1,LA:!1,nx:!1,FA:null,trace:function(t){nt.console&&nt.console.log(t)},HA:function(t,e,n,o){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(n,n),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(o.left,o.top+20),t.lineTo(o.left,o.top),t.lineTo(o.left+20,o.top),t.moveTo(o.right,o.bottom-20),t.lineTo(o.right,o.bottom),t.lineTo(o.right-20,o.bottom),t.stroke(),t.fillText("DB: "+Math.round(o.x)+", "+Math.round(o.y)+", "+Math.round(o.width)+", "+Math.round(o.height),o.left,o.top-5)},DA:function(t){var n,e={};for(n in t){if(e.x=n,"licenseKey"!==e.x){var o=t[e.x];if(void 0!==o.prototype){e.Zl=Object.getOwnPropertyNames(o.prototype);for(var r={Tj:0};r.Tj<e.Zl.length;(r={Tj:r.Tj}).Tj++){var s=Object.getOwnPropertyDescriptor(o.prototype,e.Zl[r.Tj]);void 0!==s.get&&void 0===s.set&&Object.defineProperty(o.prototype,e.Zl[r.Tj],{set:function(l,a){return function(){throw Error("Property "+l.Zl[a.Tj]+" of "+l.x+" is read-only.")}}(e,r)})}}}e={Zl:e.Zl,x:e.x}}}};function Je(){}function Se(t){this.key=-1,this.value=t}function Te(t){this.Bb=t,this.qf=null,t.Sa=null,this.qa=t.Ja,this.Za=-1}function He(t){this.Bb=t,t.Hg=null,this.qa=t.Ja,this.Za=t.s.length}function H(t){ye(this),this._isFrozen=!1,this.s=[],this.Ja=0,this.Hg=this.Sa=null,"string"==typeof t&&q("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function Ke(t){this.eg=t,t.Sa=null,this.qa=t.Ja,this.sa=null}function E(t){ye(this),this._isFrozen=!1,this.Tb={},this.Sb=0,this.Sa=null,this.Ja=0,this.kf=this.ea=null,"string"==typeof t&&q("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function ye(t){t.__gohashid=rs++}function os(t){var e=t.__gohashid;return void 0===e&&(e=rs++,t.__gohashid=e),e}function ui(t){return t.__gohashid}Je.prototype.reset=function(){},Je.prototype.next=function(){return!1},Je.prototype.Ad=function(){return!1},Je.prototype.first=function(){return null},Je.prototype.any=function(){return!1},Je.prototype.all=function(){return!0},Je.prototype.each=function(){return this},Je.prototype.map=function(){return this},Je.prototype.filter=function(){return this},Je.prototype.de=function(){},Je.prototype.toString=function(){return"EmptyIterator"},pt.Object.defineProperties(Je.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Je.prototype.first=Je.prototype.first,Je.prototype.hasNext=Je.prototype.Ad,Je.prototype.next=Je.prototype.next,Je.prototype.reset=Je.prototype.reset,Je.className="EmptyIterator",dn=new Je,Se.prototype.reset=function(){this.key=-1},Se.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Se.prototype.Ad=function(){return this.next()},Se.prototype.first=function(){return this.key=0,this.value},Se.prototype.any=function(t){return this.key=-1,t(this.value)},Se.prototype.all=function(t){return this.key=-1,t(this.value)},Se.prototype.each=function(t){return this.key=-1,t(this.value),this},Se.prototype.map=function(t){return new Se(t(this.value))},Se.prototype.filter=function(t){return t(this.value)?new Se(this.value):dn},Se.prototype.de=function(){this.value=null},Se.prototype.toString=function(){return"SingletonIterator("+this.value+")"},pt.Object.defineProperties(Se.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Se.prototype.first=Se.prototype.first,Se.prototype.hasNext=Se.prototype.Ad,Se.prototype.next=Se.prototype.next,Se.prototype.reset=Se.prototype.reset,Se.className="SingletonIterator",Te.prototype.reset=function(){var t=this.Bb;t.Sa=null,this.qa=t.Ja,this.Za=-1},Te.prototype.next=function(){var t=this.Bb;if(t.Ja!==this.qa&&0>this.key)return!1;var e=(t=t.s).length,n=++this.Za,o=this.qf;if(null!==o)for(;n<e;){var r=t[n];if(o(r))return this.key=this.Za=n,this.value=r,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.de()}return!1},Te.prototype.Ad=function(){return this.next()},Te.prototype.first=function(){var t=this.Bb;this.qa=t.Ja,this.Za=0;var e=(t=t.s).length,n=this.qf;if(null!==n){for(var o=0;o<e;){var r=t[o];if(n(r))return this.key=this.Za=o,this.value=r;o++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},Te.prototype.any=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var n=(e=e.s).length,o=this.qf,r=0;r<n;r++){var s=e[r];if((null===o||o(s))&&t(s))return!0}return!1},Te.prototype.all=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var n=(e=e.s).length,o=this.qf,r=0;r<n;r++){var s=e[r];if((null===o||o(s))&&!t(s))return!1}return!0},Te.prototype.each=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var n=(e=e.s).length,o=this.qf,r=0;r<n;r++){var s=e[r];(null===o||o(s))&&t(s)}return this},Te.prototype.map=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var n=[],o=(e=e.s).length,r=this.qf,s=0;s<o;s++){var l=e[s];(null===r||r(l))&&n.push(t(l))}return(t=new H).s=n,t.xb(),t.iterator},Te.prototype.filter=function(t){var e=this.Bb;e.Sa=null,this.Za=-1;for(var n=[],o=(e=e.s).length,r=this.qf,s=0;s<o;s++){var l=e[s];(null===r||r(l))&&t(l)&&n.push(l)}return(t=new H).s=n,t.xb(),t.iterator},Te.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.qf=null,this.Bb.Sa=this},Te.prototype.toString=function(){return"ListIterator@"+this.Za+"/"+this.Bb.count},pt.Object.defineProperties(Te.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.qf},set:function(t){this.qf=t}},count:{get:function(){var t=this.qf;if(null!==t){for(var e=0,n=this.Bb.s,o=n.length,r=0;r<o;r++)t(n[r])&&e++;return e}return this.Bb.s.length}}}),Te.prototype.first=Te.prototype.first,Te.prototype.hasNext=Te.prototype.Ad,Te.prototype.next=Te.prototype.next,Te.prototype.reset=Te.prototype.reset,Te.className="ListIterator",He.prototype.reset=function(){var t=this.Bb;t.Hg=null,this.qa=t.Ja,this.Za=t.s.length},He.prototype.next=function(){var t=this.Bb;if(t.Ja!==this.qa&&0>this.key)return!1;var e=--this.Za;return 0<=e?(this.key=e,this.value=t.s[e],!0):(this.de(),!1)},He.prototype.Ad=function(){return this.next()},He.prototype.first=function(){var t=this.Bb;this.qa=t.Ja;var e=t.s;return this.Za=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},He.prototype.any=function(t){var e=this.Bb;e.Hg=null;var n=(e=e.s).length;for(this.Za=n,--n;0<=n;n--)if(t(e[n]))return!0;return!1},He.prototype.all=function(t){var e=this.Bb;e.Hg=null;var n=(e=e.s).length;for(this.Za=n,--n;0<=n;n--)if(!t(e[n]))return!1;return!0},He.prototype.each=function(t){var e=this.Bb;e.Hg=null;var n=(e=e.s).length;for(this.Za=n,--n;0<=n;n--)t(e[n]);return this},He.prototype.map=function(t){var e=this.Bb;e.Hg=null;var n=[],o=(e=e.s).length;for(this.Za=o,--o;0<=o;o--)n.push(t(e[o]));return(t=new H).s=n,t.xb(),t.iterator},He.prototype.filter=function(t){var e=this.Bb;e.Hg=null;var n=[],o=(e=e.s).length;for(this.Za=o,--o;0<=o;o--){var r=e[o];t(r)&&n.push(r)}return(t=new H).s=n,t.xb(),t.iterator},He.prototype.de=function(){this.key=-1,this.value=null,this.qa=-1,this.Bb.Hg=this},He.prototype.toString=function(){return"ListIteratorBackwards("+this.Za+"/"+this.Bb.count+")"},pt.Object.defineProperties(He.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Bb.s.length}}}),He.prototype.first=He.prototype.first,He.prototype.hasNext=He.prototype.Ad,He.prototype.next=He.prototype.next,He.prototype.reset=He.prototype.reset,He.className="ListIteratorBackwards",(x=H.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return this._isFrozen=!1,this},x.toString=function(){return"List()#"+ui(this)},x.add=function(t){return null===t||(this._isFrozen&&gt(this,t),this.s.push(t),this.xb()),this},x.push=function(t){this.add(t)},x.addAll=function(t){if(null===t)return this;this._isFrozen&&gt(this);var e=this.s;if(De(t))for(var n=t.length,o=0;o<n;o++)e.push(t[o]);else for(t=t.iterator;t.next();)e.push(t.value);return this.xb(),this},x.clear=function(){this._isFrozen&&gt(this),this.s.length=0,this.xb()},x.contains=function(t){return null!==t&&-1!==this.s.indexOf(t)},x.has=function(t){return this.contains(t)},x.indexOf=function(t){return null===t?-1:this.s.indexOf(t)},x.M=function(t){var e=this.s;return(0>t||t>=e.length)&&Jt(t,"0 <= i < length",H,"elt:i"),e[t]},x.get=function(t){return this.M(t)},x.cd=function(t,e){var n=this.s;(0>t||t>=n.length)&&Jt(t,"0 <= i < length",H,"setElt:i"),this._isFrozen&&gt(this,t),n[t]=e},x.set=function(t,e){this.cd(t,e)},x.first=function(){var t=this.s;return 0===t.length?null:t[0]},x.jc=function(){var t=this.s,e=t.length;return 0<e?t[e-1]:null},x.pop=function(){this._isFrozen&&gt(this);var t=this.s;return 0<t.length?t.pop():null},H.prototype.any=function(t){for(var e=this.s,n=e.length,o=0;o<n;o++)if(t(e[o]))return!0;return!1},H.prototype.all=function(t){for(var e=this.s,n=e.length,o=0;o<n;o++)if(!t(e[o]))return!1;return!0},H.prototype.each=function(t){for(var e=this.s,n=e.length,o=0;o<n;o++)t(e[o]);return this},H.prototype.map=function(t){for(var e=new H,n=[],o=this.s,r=o.length,s=0;s<r;s++)n.push(t(o[s]));return e.s=n,e.xb(),e},H.prototype.filter=function(t){for(var e=new H,n=[],o=this.s,r=o.length,s=0;s<r;s++){var l=o[s];t(l)&&n.push(l)}return e.s=n,e.xb(),e},(x=H.prototype).Gb=function(t,e){0>t&&Jt(t,">= 0",H,"insertAt:i"),this._isFrozen&&gt(this,t);var n=this.s;t>=n.length?n.push(e):n.splice(t,0,e),this.xb()},x.remove=function(t){if(null===t)return!1;this._isFrozen&&gt(this,t);var e=this.s;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.xb(),!0)},x.delete=function(t){return this.remove(t)},x.mb=function(t){var e=this.s;(0>t||t>=e.length)&&Jt(t,"0 <= i < length",H,"removeAt:i"),this._isFrozen&&gt(this,t),t===e.length-1?e.pop():e.splice(t,1),this.xb()},x.removeRange=function(t,e){var n=this.s,o=n.length;if(0>t)t=0;else if(t>=o)return this;if(0>e)return this;if(e>=o&&(e=o-1),t>e)return this;this._isFrozen&&gt(this);for(var r=t,s=e+1;s<o;)n[r++]=n[s++];return n.length=o-(e-t+1),this.xb(),this},H.prototype.copy=function(){var t=new H,e=this.s;return 0<e.length&&(t.s=Array.prototype.slice.call(e)),t},(x=H.prototype).Fa=function(){for(var t=this.s,e=this.count,n=Array(e),o=0;o<e;o++)n[o]=t[o];return n},x.Iv=function(){for(var t=new E,e=this.s,n=this.count,o=0;o<n;o++)t.add(e[o]);return t},x.sort=function(t){return this._isFrozen&&gt(this),this.s.sort(t),this.xb(),this},x.zi=function(t,e,n){var o=this.s,r=o.length;void 0===e&&(e=0),void 0===n&&(n=r),this._isFrozen&&gt(this);var s=n-e;if(1>=s)return this;if((0>e||e>=r-1)&&Jt(e,"0 <= from < length",H,"sortRange:from"),2===s)return 0<t(n=o[e],r=o[e+1])&&(o[e]=r,o[e+1]=n,this.xb()),this;if(0===e)if(n>=r)o.sort(t);else for((e=o.slice(0,n)).sort(t),t=0;t<n;t++)o[t]=e[t];else if(n>=r)for((n=o.slice(e)).sort(t),t=e;t<r;t++)o[t]=n[t-e];else for((r=o.slice(e,n)).sort(t),t=e;t<n;t++)o[t]=r[t-e];return this.xb(),this},x.reverse=function(){return this._isFrozen&&gt(this),this.s.reverse(),this.xb(),this},pt.Object.defineProperties(H.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return dn;var t=this.Sa;return null!==t?(t.reset(),t):new Te(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return dn;var t=this.Hg;return null!==t?(t.reset(),t):new He(this)}}}),H.prototype.reverse=H.prototype.reverse,H.prototype.sortRange=H.prototype.zi,H.prototype.sort=H.prototype.sort,H.prototype.toSet=H.prototype.Iv,H.prototype.toArray=H.prototype.Fa,H.prototype.removeRange=H.prototype.removeRange,H.prototype.removeAt=H.prototype.mb,H.prototype.delete=H.prototype.delete,H.prototype.remove=H.prototype.remove,H.prototype.insertAt=H.prototype.Gb,H.prototype.pop=H.prototype.pop,H.prototype.last=H.prototype.jc,H.prototype.first=H.prototype.first,H.prototype.set=H.prototype.set,H.prototype.setElt=H.prototype.cd,H.prototype.get=H.prototype.get,H.prototype.elt=H.prototype.M,H.prototype.indexOf=H.prototype.indexOf,H.prototype.has=H.prototype.has,H.prototype.contains=H.prototype.contains,H.prototype.clear=H.prototype.clear,H.prototype.addAll=H.prototype.addAll,H.prototype.push=H.prototype.push,H.prototype.add=H.prototype.add,H.prototype.thaw=H.prototype.ka,H.prototype.freeze=H.prototype.freeze,H.className="List",Ke.prototype.reset=function(){var t=this.eg;t.Sa=null,this.qa=t.Ja,this.sa=null},Ke.prototype.next=function(){var t=this.eg;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.va)?(this.sa=e,this.value=e.value,this.key=e.key,!0):(this.de(),!1)},Ke.prototype.Ad=function(){return this.next()},Ke.prototype.first=function(){var t=this.eg;if(this.qa=t.Ja,null!==(t=t.ea)){this.sa=t;var e=t.value;return this.key=t.key,this.value=e}return null},Ke.prototype.any=function(t){var e=this.eg;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.va}return!1},Ke.prototype.all=function(t){var e=this.eg;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.va}return!0},Ke.prototype.each=function(t){var e=this.eg;for(this.sa=e.Sa=null,e=e.ea;null!==e;)t(e.value),e=e.va;return this},Ke.prototype.map=function(t){var e=this.eg;e.Sa=null;var n=new H;for(e=e.ea;null!==e;)n.add(t(e.value)),e=e.va;return n.iterator},Ke.prototype.filter=function(t){var e=this.eg;e.Sa=null;var n=new H;for(e=e.ea;null!==e;){var o=e.value;t(o)&&n.add(o),e=e.va}return n.iterator},Ke.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.eg.Sa=this},Ke.prototype.toString=function(){return null!==this.sa?"SetIterator@"+this.sa.value:"SetIterator"},pt.Object.defineProperties(Ke.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.eg.Sb}}}),Ke.prototype.first=Ke.prototype.first,Ke.prototype.hasNext=Ke.prototype.Ad,Ke.prototype.next=Ke.prototype.next,Ke.prototype.reset=Ke.prototype.reset,Ke.className="SetIterator",(x=E.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return this._isFrozen=!1,this},x.toString=function(){return"Set()#"+ui(this)},x.add=function(t){if(null===t)return this;this._isFrozen&&gt(this,t);var e=t;return Et(t)&&(e=os(t)),void 0===this.Tb[e]&&(this.Sb++,t=new Gl(t,t),this.Tb[e]=t,null===(e=this.kf)?this.ea=t:(t.ll=e,e.va=t),this.kf=t,this.xb()),this},x.addAll=function(t){if(null===t)return this;if(this._isFrozen&&gt(this),De(t))for(var e=t.length,n=0;n<e;n++)this.add(t[n]);else for(t=t.iterator;t.next();)this.add(t.value);return this},x.contains=function(t){if(null===t)return!1;var e=t;return(!Et(t)||void 0!==(e=ui(t)))&&void 0!==this.Tb[e]},x.has=function(t){return this.contains(t)},x.Sy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},x.Ty=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},x.first=function(){var t=this.ea;return null===t?null:t.value},E.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e.value))return!0;e=e.va}return!1},E.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e.value))return!1;e=e.va}return!0},E.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e.value),e=e.va;return this},E.prototype.map=function(t){for(var e=new E,n=this.ea;null!==n;)e.add(t(n.value)),n=n.va;return e},E.prototype.filter=function(t){for(var e=new E,n=this.ea;null!==n;){var o=n.value;t(o)&&e.add(o),n=n.va}return e},(x=E.prototype).remove=function(t){if(null===t)return!1;this._isFrozen&&gt(this,t);var e=t;if(Et(t)&&void 0===(e=ui(t))||void 0===(t=this.Tb[e]))return!1;var n=t.va,o=t.ll;return null!==n&&(n.ll=o),null!==o&&(o.va=n),this.ea===t&&(this.ea=n),this.kf===t&&(this.kf=o),delete this.Tb[e],this.Sb--,this.xb(),!0},x.delete=function(t){return this.remove(t)},x.hp=function(t){if(null===t)return this;if(this._isFrozen&&gt(this),De(t))for(var e=t.length,n=0;n<e;n++)this.remove(t[n]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},x.pA=function(t){if(null===t||0===this.count)return this;this._isFrozen&&gt(this);var e=new E;e.addAll(t),t=[];for(var n=this.iterator;n.next();){var o=n.value;e.contains(o)||t.push(o)}return this.hp(t),this},x.clear=function(){this._isFrozen&&gt(this),this.Tb={},this.Sb=0,null!==this.Sa&&this.Sa.reset(),this.kf=this.ea=null,this.xb()},E.prototype.copy=function(){var n,t=new E,e=this.Tb;for(n in e)t.add(e[n].value);return t},E.prototype.Fa=function(){var o,t=Array(this.Sb),e=this.Tb,n=0;for(o in e)t[n]=e[o].value,n++;return t},E.prototype.Hv=function(){var n,t=new H,e=this.Tb;for(n in e)t.add(e[n].value);return t},pt.Object.defineProperties(E.prototype,{count:{get:function(){return this.Sb}},size:{get:function(){return this.Sb}},iterator:{get:function(){if(0>=this.Sb)return dn;var t=this.Sa;return null!==t?(t.reset(),t):new Ke(this)}}}),E.prototype.toList=E.prototype.Hv,E.prototype.toArray=E.prototype.Fa,E.prototype.clear=E.prototype.clear,E.prototype.retainAll=E.prototype.pA,E.prototype.removeAll=E.prototype.hp,E.prototype.delete=E.prototype.delete,E.prototype.remove=E.prototype.remove,E.prototype.first=E.prototype.first,E.prototype.containsAny=E.prototype.Ty,E.prototype.containsAll=E.prototype.Sy,E.prototype.has=E.prototype.has,E.prototype.contains=E.prototype.contains,E.prototype.addAll=E.prototype.addAll,E.prototype.add=E.prototype.add,E.prototype.thaw=E.prototype.ka,E.prototype.freeze=E.prototype.freeze;var mo,jp,Np,kp,da,rs=1;function Re(t){this.ma=t,this.qa=t.Ja,this.sa=null}function $t(t){E.call(this),ye(this),this._isFrozen=!0,this.ma=t}function Ve(t){this.ma=t,t.jf=null,this.qa=t.Ja,this.sa=null}function Gl(t,e){this.key=t,this.value=e,this.ll=this.va=null}function ze(t){this.ma=t,t.Sa=null,this.qa=t.Ja,this.sa=null}function lt(t){ye(this),this._isFrozen=!1,this.Tb={},this.Sb=0,this.jf=this.Sa=null,this.Ja=0,this.kf=this.ea=null,"string"==typeof t&&q("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function w(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):q("Invalid arguments to Point constructor: "+t+", "+e),this._isFrozen=!1}function Lf(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var o=t[e++];o&&(n=parseFloat(o));for(var r=0;""===t[e];)e++;return(o=t[e++])&&(r=parseFloat(o)),new w(n,r)}return new w}function bf(t){return t.x.toString()+" "+t.y.toString()}function qf(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function Xe(t,e){return e.Cd(t),t}function We(t,e,n,o,r,s){var l=r-n,a=s-o,p=l*l+a*a,d=-(n-=t)*l-(o-=e)*a;return 0>=d||d>=p?(l=r-t,a=s-e,Math.min(n*n+o*o,l*l+a*a)):(t=l*o-a*n)*t/p}function _o(t,e,n,o){return(t=n-t)*t+(e=o-e)*e}function Ip(t,e,n,o){return e=o-e,0==(t=n-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(o=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?o=0>e?o+180:180-o:0>e&&(o=360-o),o)}E.className="Set",E.uniqueHash=ye,E.hashIdUnique=os,E.hashId=ui,Re.prototype.reset=function(){this.qa=this.ma.Ja,this.sa=null},Re.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.va)?(this.sa=e,this.value=this.key=t=e.key,!0):(this.de(),!1)},Re.prototype.Ad=function(){return this.next()},Re.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,null!==(t=t.ea)?(this.sa=t,this.value=this.key=t=t.key):null},Re.prototype.any=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;){if(t(e.key))return!0;e=e.va}return!1},Re.prototype.all=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;){if(!t(e.key))return!1;e=e.va}return!0},Re.prototype.each=function(t){var e=this.ma;for(this.sa=null,e=e.ea;null!==e;)t(e.key),e=e.va;return this},Re.prototype.map=function(t){var e=this.ma;this.sa=null;var n=new H;for(e=e.ea;null!==e;)n.add(t(e.key)),e=e.va;return n.iterator},Re.prototype.filter=function(t){var e=this.ma;this.sa=null;var n=new H;for(e=e.ea;null!==e;){var o=e.key;t(o)&&n.add(o),e=e.va}return n.iterator},Re.prototype.de=function(){this.value=this.key=null,this.qa=-1},Re.prototype.toString=function(){return null!==this.sa?"MapKeySetIterator@"+this.sa.value:"MapKeySetIterator"},pt.Object.defineProperties(Re.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Sb}}}),Re.prototype.first=Re.prototype.first,Re.prototype.hasNext=Re.prototype.Ad,Re.prototype.next=Re.prototype.next,Re.prototype.reset=Re.prototype.reset,Re.className="MapKeySetIterator",At($t,E),(x=$t.prototype).freeze=function(){return this},x.ka=function(){return this},x.toString=function(){return"MapKeySet("+this.ma.toString()+")"},x.add=function(){q("This Set is read-only: "+this.toString())},x.contains=function(t){return this.ma.contains(t)},x.has=function(t){return this.contains(t)},x.remove=function(){q("This Set is read-only: "+this.toString())},x.delete=function(t){return this.remove(t)},x.clear=function(){q("This Set is read-only: "+this.toString())},x.first=function(){var t=this.ma.ea;return null!==t?t.key:null},$t.prototype.any=function(t){for(var e=this.ma.ea;null!==e;){if(t(e.key))return!0;e=e.va}return!1},$t.prototype.all=function(t){for(var e=this.ma.ea;null!==e;){if(!t(e.key))return!1;e=e.va}return!0},$t.prototype.each=function(t){for(var e=this.ma.ea;null!==e;)t(e.key),e=e.va;return this},$t.prototype.map=function(t){for(var e=new E,n=this.ma.ea;null!==n;)e.add(t(n.key)),n=n.va;return e},$t.prototype.filter=function(t){for(var e=new E,n=this.ma.ea;null!==n;){var o=n.key;t(o)&&e.add(o),n=n.va}return e},$t.prototype.copy=function(){return new $t(this.ma)},$t.prototype.Iv=function(){var n,t=new E,e=this.ma.Tb;for(n in e)t.add(e[n].key);return t},$t.prototype.Fa=function(){var o,t=this.ma.Tb,e=Array(this.ma.Sb),n=0;for(o in t)e[n]=t[o].key,n++;return e},$t.prototype.Hv=function(){var n,t=new H,e=this.ma.Tb;for(n in e)t.add(e[n].key);return t},pt.Object.defineProperties($t.prototype,{count:{get:function(){return this.ma.Sb}},size:{get:function(){return this.ma.Sb}},iterator:{get:function(){return 0>=this.ma.Sb?dn:new Re(this.ma)}}}),$t.prototype.toList=$t.prototype.Hv,$t.prototype.toArray=$t.prototype.Fa,$t.prototype.toSet=$t.prototype.Iv,$t.prototype.first=$t.prototype.first,$t.prototype.clear=$t.prototype.clear,$t.prototype.delete=$t.prototype.delete,$t.prototype.remove=$t.prototype.remove,$t.prototype.has=$t.prototype.has,$t.prototype.contains=$t.prototype.contains,$t.prototype.add=$t.prototype.add,$t.prototype.thaw=$t.prototype.ka,$t.prototype.freeze=$t.prototype.freeze,$t.className="MapKeySet",Ve.prototype.reset=function(){var t=this.ma;t.jf=null,this.qa=t.Ja,this.sa=null},Ve.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.va)?(this.sa=e,this.value=e.value,this.key=e.key,!0):(this.de(),!1)},Ve.prototype.Ad=function(){return this.next()},Ve.prototype.first=function(){var t=this.ma;if(this.qa=t.Ja,null!==(t=t.ea)){this.sa=t;var e=t.value;return this.key=t.key,this.value=e}return null},Ve.prototype.any=function(t){var e=this.ma;for(this.sa=e.jf=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.va}return!1},Ve.prototype.all=function(t){var e=this.ma;for(this.sa=e.jf=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.va}return!0},Ve.prototype.each=function(t){var e=this.ma;for(this.sa=e.jf=null,e=e.ea;null!==e;)t(e.value),e=e.va;return this},Ve.prototype.map=function(t){var e=this.ma;this.sa=e.jf=null;var n=new H;for(e=e.ea;null!==e;)n.add(t(e.value)),e=e.va;return n.iterator},Ve.prototype.filter=function(t){var e=this.ma;this.sa=e.jf=null;var n=new H;for(e=e.ea;null!==e;){var o=e.value;t(o)&&n.add(o),e=e.va}return n.iterator},Ve.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.jf=this},Ve.prototype.toString=function(){return null!==this.sa?"MapValueSetIterator@"+this.sa.value:"MapValueSetIterator"},pt.Object.defineProperties(Ve.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Sb}}}),Ve.prototype.first=Ve.prototype.first,Ve.prototype.hasNext=Ve.prototype.Ad,Ve.prototype.next=Ve.prototype.next,Ve.prototype.reset=Ve.prototype.reset,Ve.className="MapValueSetIterator",Gl.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Gl.className="KeyValuePair",ze.prototype.reset=function(){var t=this.ma;t.Sa=null,this.qa=t.Ja,this.sa=null},ze.prototype.next=function(){var t=this.ma;if(t.Ja!==this.qa&&null===this.key)return!1;var e=this.sa;return null!==(e=null===e?t.ea:e.va)?(this.sa=e,this.key=e.key,this.value=e.value,!0):(this.de(),!1)},ze.prototype.Ad=function(){return this.next()},ze.prototype.first=function(){var t=this.ma;return this.qa=t.Ja,null!==(t=t.ea)?(this.sa=t,this.key=t.key,this.value=t.value,t):null},ze.prototype.any=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(t(e))return!0;e=e.va}return!1},ze.prototype.all=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;){if(!t(e))return!1;e=e.va}return!0},ze.prototype.each=function(t){var e=this.ma;for(this.sa=e.Sa=null,e=e.ea;null!==e;)t(e),e=e.va;return this},ze.prototype.map=function(t){var e=this.ma;this.sa=e.Sa=null;var n=new H;for(e=e.ea;null!==e;)n.add(t(e)),e=e.va;return n.iterator},ze.prototype.filter=function(t){var e=this.ma;this.sa=e.Sa=null;var n=new H;for(e=e.ea;null!==e;)t(e)&&n.add(e),e=e.va;return n.iterator},ze.prototype.de=function(){this.value=this.key=null,this.qa=-1,this.ma.Sa=this},ze.prototype.toString=function(){return null!==this.sa?"MapIterator@"+this.sa:"MapIterator"},pt.Object.defineProperties(ze.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Sb}}}),ze.prototype.first=ze.prototype.first,ze.prototype.hasNext=ze.prototype.Ad,ze.prototype.next=ze.prototype.next,ze.prototype.reset=ze.prototype.reset,ze.className="MapIterator",(x=lt.prototype).xb=function(){var t=this.Ja;999999999<++t&&(t=0),this.Ja=t},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return this._isFrozen=!1,this},x.toString=function(){return"Map()#"+ui(this)},x.add=function(t,e){this._isFrozen&&gt(this,t);var n=t;Et(t)&&(n=os(t));var o=this.Tb[n];return void 0===o?(this.Sb++,t=new Gl(t,e),this.Tb[n]=t,null===(n=this.kf)?this.ea=t:(t.ll=n,n.va=t),this.kf=t,this.xb()):o.value=e,this},x.set=function(t,e){return this.add(t,e)},x.addAll=function(t){if(null===t)return this;if(De(t))for(var e=t.length,n=0;n<e;n++){var o=t[n];this.add(o.key,o.value)}else if(t instanceof lt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)this.add((e=t.value).key,e.value);return this},x.first=function(){return this.ea},lt.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e))return!0;e=e.va}return!1},lt.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e))return!1;e=e.va}return!0},lt.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e),e=e.va;return this},lt.prototype.map=function(t){for(var e=new lt,n=this.ea;null!==n;)e.add(n.key,t(n)),n=n.va;return e},lt.prototype.filter=function(t){for(var e=new lt,n=this.ea;null!==n;)t(n)&&e.add(n.key,n.value),n=n.va;return e},(x=lt.prototype).contains=function(t){var e=t;return(!Et(t)||void 0!==(e=ui(t)))&&void 0!==this.Tb[e]},x.has=function(t){return this.contains(t)},x.I=function(t){var e=t;return Et(t)&&void 0===(e=ui(t))||void 0===(t=this.Tb[e])?null:t.value},x.get=function(t){return this.I(t)},x.remove=function(t){if(null===t)return!1;this._isFrozen&&gt(this,t);var e=t;if(Et(t)&&void 0===(e=ui(t))||void 0===(t=this.Tb[e]))return!1;var n=t.va,o=t.ll;return null!==n&&(n.ll=o),null!==o&&(o.va=n),this.ea===t&&(this.ea=n),this.kf===t&&(this.kf=o),delete this.Tb[e],this.Sb--,this.xb(),!0},x.delete=function(t){return this.remove(t)},x.clear=function(){this._isFrozen&&gt(this),this.Tb={},this.Sb=0,null!==this.Sa&&this.Sa.reset(),null!==this.jf&&this.jf.reset(),this.kf=this.ea=null,this.xb()},lt.prototype.copy=function(){var n,t=new lt,e=this.Tb;for(n in e){var o=e[n];t.add(o.key,o.value)}return t},lt.prototype.Fa=function(){var o,t=this.Tb,e=Array(this.Sb),n=0;for(o in t){var r=t[o];e[n]=new Gl(r.key,r.value),n++}return e},lt.prototype.Lf=function(){return new $t(this)},pt.Object.defineProperties(lt.prototype,{count:{get:function(){return this.Sb}},size:{get:function(){return this.Sb}},iterator:{get:function(){if(0>=this.count)return dn;var t=this.Sa;return null!==t?(t.reset(),t):new ze(this)}},iteratorKeys:{get:function(){return 0>=this.count?dn:new Re(this)}},iteratorValues:{get:function(){if(0>=this.count)return dn;var t=this.jf;return null!==t?(t.reset(),t):new Ve(this)}}}),lt.prototype.toKeySet=lt.prototype.Lf,lt.prototype.toArray=lt.prototype.Fa,lt.prototype.clear=lt.prototype.clear,lt.prototype.delete=lt.prototype.delete,lt.prototype.remove=lt.prototype.remove,lt.prototype.get=lt.prototype.get,lt.prototype.getValue=lt.prototype.I,lt.prototype.has=lt.prototype.has,lt.prototype.contains=lt.prototype.contains,lt.prototype.first=lt.prototype.first,lt.prototype.addAll=lt.prototype.addAll,lt.prototype.set=lt.prototype.set,lt.prototype.add=lt.prototype.add,lt.prototype.thaw=lt.prototype.ka,lt.prototype.freeze=lt.prototype.freeze,lt.className="Map",w.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},w.prototype.h=function(t,e){return this.x=t,this.y=e,this},w.prototype.sg=function(t,e){return this.x=t,this.y=e,this},w.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},w.prototype.copy=function(){var t=new w;return t.x=this.x,t.y=this.y,t},(x=w.prototype).ja=function(){return this._isFrozen=!0,Object.freeze(this),this},x.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this},x.toString=function(){return"Point("+this.x+","+this.y+")"},x.D=function(t){return t instanceof w&&this.x===t.x&&this.y===t.y},x.hi=function(t,e){return this.x===t&&this.y===e},x.Xa=function(t){return N.B(this.x,t.x)&&N.B(this.y,t.y)},x.add=function(t){return this.x+=t.x,this.y+=t.y,this},x.re=function(t){return this.x-=t.x,this.y-=t.y,this},x.offset=function(t,e){return this.x+=t,this.y+=e,this},w.prototype.rotate=function(t){if(0===t)return this;var e=this.x,n=this.y;if(0===e&&0===n)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var o=1}else 180===t?(t=-1,o=0):270===t?(t=0,o=-1):(o=t*Math.PI/180,t=Math.cos(o),o=Math.sin(o));return this.x=t*e-o*n,this.y=o*e+t*n,this},(x=w.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},x.Bf=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},x.zd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},x.normalize=function(){var t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return 0<n&&(this.x=t/n,this.y=e/n),this},x.ab=function(t){return qf(t.x-this.x,t.y-this.y)},x.direction=function(t,e){return qf(t-this.x,e-this.y)},x.Ry=function(t,e){return N.Fl(t.x,t.y,e.x,e.y,this.x,this.y)},x.fA=function(t,e,n,o){return N.qh(t,e,n,o,this.x,this.y,this),this},x.gA=function(t,e){return N.qh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},x.uA=function(t,e,n,o){return N.No(this.x,this.y,t,e,n,o,this),this},x.vA=function(t,e){return N.No(this.x,this.y,t.x,t.y,e.width,e.height,this),this},x.xi=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},x.yi=function(t,e,n,o,r){return this.x=t+r.x*n+r.offsetX,this.y=e+r.y*o+r.offsetY,this},x.transform=function(t){return t.Ga(this),this},x.w=function(){return isFinite(this.x)&&isFinite(this.y)},w.alloc=function(){var t=Up.pop();return void 0===t?new w:t},w.allocAt=function(t,e){var n=Up.pop();return void 0===n?new w(t,e):(n.x=t,n.y=e,n)},w.free=function(t){Up.push(t)},w.prototype.isReal=w.prototype.w,w.prototype.setSpot=w.prototype.yi,w.prototype.setRectSpot=w.prototype.xi,w.prototype.snapToGridPoint=w.prototype.vA,w.prototype.snapToGrid=w.prototype.uA,w.prototype.projectOntoLineSegmentPoint=w.prototype.gA,w.prototype.projectOntoLineSegment=w.prototype.fA,w.intersectingLineSegments=function(t,e,n,o,r,s,l,a){return N.Rl(t,e,n,o,r,s,l,a)},w.prototype.compareWithLineSegmentPoint=w.prototype.Ry,w.compareWithLineSegment=function(t,e,n,o,r,s){return N.Fl(t,e,n,o,r,s)},w.prototype.direction=w.prototype.direction,w.prototype.directionPoint=w.prototype.ab,w.prototype.normalize=w.prototype.normalize,w.prototype.distanceSquared=w.prototype.zd,w.prototype.distanceSquaredPoint=w.prototype.Bf,w.prototype.scale=w.prototype.scale,w.prototype.rotate=w.prototype.rotate,w.prototype.offset=w.prototype.offset,w.prototype.subtract=w.prototype.re,w.prototype.add=w.prototype.add,w.prototype.equalsApprox=w.prototype.Xa,w.prototype.equalTo=w.prototype.hi,w.prototype.equals=w.prototype.D,w.prototype.set=w.prototype.set,w.prototype.setTo=w.prototype.sg;var Jn,fa,Fp,ss,Yf,Op,ga,Up=[];function ot(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):q("Invalid arguments to Size constructor: "+t+", "+e),this._isFrozen=!1}function Jf(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var o=t[e++];o&&(n=parseFloat(o));for(var r=0;""===t[e];)e++;return(o=t[e++])&&(r=parseFloat(o)),new ot(n,r)}return new ot}function Rf(t){return t.width.toString()+" "+t.height.toString()}w.className="Point",w.parse=Lf,w.stringify=bf,w.distanceLineSegmentSquared=We,w.distanceSquared=_o,w.direction=Ip,w.Origin=mo=new w(0,0).ja(),w.InfiniteTopLeft=jp=new w(-1/0,-1/0).ja(),w.InfiniteBottomRight=Np=new w(1/0,1/0).ja(),w.SixPoint=kp=new w(6,6).ja(),w.NoPoint=da=new w(NaN,NaN).ja(),w.parse=Lf,w.stringify=bf,w.distanceLineSegmentSquared=We,w.distanceSquared=_o,w.direction=Ip,ot.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},ot.prototype.h=function(t,e){return this.width=t,this.height=e,this},ot.prototype.sg=function(t,e){return this.width=t,this.height=e,this},ot.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},ot.prototype.copy=function(){var t=new ot;return t.width=this.width,t.height=this.height,t},(x=ot.prototype).ja=function(){return this._isFrozen=!0,Object.freeze(this),this},x.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this},x.toString=function(){return"Size("+this.width+","+this.height+")"},x.D=function(t){return t instanceof ot&&this.width===t.width&&this.height===t.height},x.hi=function(t,e){return this.width===t&&this.height===e},x.Xa=function(t){return N.B(this.width,t.width)&&N.B(this.height,t.height)},x.Bc=function(t,e){return this.width=0<=(t=this.width+t)?t:0,this.height=0<=(e=this.height+e)?e:0,this},x.w=function(){return isFinite(this.width)&&isFinite(this.height)},ot.alloc=function(){var t=Ef.pop();return void 0===t?new ot:t},ot.free=function(t){Ef.push(t)},ot.prototype.isReal=ot.prototype.w,ot.prototype.inflate=ot.prototype.Bc,ot.prototype.equalsApprox=ot.prototype.Xa,ot.prototype.equalTo=ot.prototype.hi,ot.prototype.equals=ot.prototype.D,ot.prototype.set=ot.prototype.set,ot.prototype.setTo=ot.prototype.sg;var Ef=[];function U(t,e,n,o){void 0===t?this.height=this.width=this.y=this.x=0:"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&(0<=n||isNaN(n))&&"number"==typeof o&&(0<=o||isNaN(o))?(this.x=t,this.y=e,this.width=n,this.height=o):t instanceof w?(n=t.x,t=t.y,e instanceof w?(o=e.x,e=e.y,this.x=Math.min(n,o),this.y=Math.min(t,e),this.width=Math.abs(n-o),this.height=Math.abs(t-e)):e instanceof ot?(this.x=n,this.y=t,this.width=e.width,this.height=e.height):q("Incorrect second argument supplied to Rect constructor "+e)):q("Invalid arguments to Rect constructor: "+t+", "+e+", "+n+", "+o),this._isFrozen=!1}function vo(t,e,n){t.width=e,t.height=n}function Bf(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var o=t[e++];o&&(n=parseFloat(o));for(var r=0;""===t[e];)e++;(o=t[e++])&&(r=parseFloat(o));for(var s=0;""===t[e];)e++;(o=t[e++])&&(s=parseFloat(o));for(var l=0;""===t[e];)e++;return(o=t[e++])&&(l=parseFloat(o)),new U(n,r,s,l)}return new U}function Qf(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function Lp(t,e){return N.$(t.x,e.x)&&N.$(t.y,e.y)&&N.$(t.width,e.width)&&N.$(t.height,e.height)}function ma(t,e,n,o,r){var s=t.width;return n+r<=-s?(t.x+=s/2,t.width=0):(t.x-=r,t.width+=n+r),e+o<=-(n=t.height)?(t.y+=n/2,t.height=0):(t.y-=e,t.height+=e+o),t}function Gf(t,e,n,o,r){var s=Math.max(t.x,e),l=Math.max(t.y,n);return e=Math.min(t.x+t.width,e+o),n=Math.min(t.y+t.height,n+r),t.x=s,t.y=l,t.width=Math.max(0,e-s),t.height=Math.max(0,n-l),t}function Hf(t,e){var n=t.width,o=t.x,r=e.x-10;return!(o>e.width+10+10+r||r>n+o||(n=t.height,(t=t.y)>e.height+10+10+(o=e.y-10)||o>n+t))}function Me(t,e,n,o,r){var s=Math.min(t.x,e),l=Math.min(t.y,n);return e=Math.max(t.x+t.width,e+o),n=Math.max(t.y+t.height,n+r),t.x=s,t.y=l,t.width=e-s,t.height=n-l,t}function An(t,e,n,o,r,s,l,a){return void 0===l&&(l=0),void 0===a&&(a=0),t<=r&&r+l<=t+n&&e<=s&&s+a<=e+o}function Kf(t,e,n,o,r,s,l,a){return!(t>l+r||r>n+t||e>a+s||s>o+e)}ot.className="Size",ot.parse=Jf,ot.stringify=Rf,ot.ZeroSize=Jn=new ot(0,0).ja(),ot.OneSize=fa=new ot(1,1).ja(),ot.SixSize=Fp=new ot(6,6).ja(),ot.EightSize=ss=new ot(8,8).ja(),ot.TenSize=Yf=new ot(10,10).ja(),ot.InfiniteSize=Op=new ot(1/0,1/0).ja(),ot.NoSize=ga=new ot(NaN,NaN).ja(),ot.parse=Jf,ot.stringify=Rf,(x=U.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},x.h=function(t,e,n,o){return this.x=t,this.y=e,this.width=n,this.height=o,this},x.sg=function(t,e,n,o){return this.x=t,this.y=e,this.width=n,this.height=o,this},x.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},x.dd=function(t){return this.x=t.x,this.y=t.y,this},x.tA=function(t){return this.width=t.width,this.height=t.height,this},U.prototype.copy=function(){var t=new U;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(x=U.prototype).ja=function(){return this._isFrozen=!0,Object.freeze(this),this},x.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this},x.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},x.D=function(t){return t instanceof U&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},x.hi=function(t,e,n,o){return this.x===t&&this.y===e&&this.width===n&&this.height===o},x.Xa=function(t){return N.B(this.x,t.x)&&N.B(this.y,t.y)&&N.B(this.width,t.width)&&N.B(this.height,t.height)},x.ca=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},x.Re=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},x.contains=function(t,e,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),this.x<=t&&t+n<=this.x+this.width&&this.y<=e&&e+o<=this.y+this.height},x.offset=function(t,e){return this.x+=t,this.y+=e,this},x.Bc=function(t,e){return ma(this,e,t,e,t)},x.Co=function(t){return ma(this,t.top,t.right,t.bottom,t.left)},x.Fv=function(t){return ma(this,-t.top,-t.right,-t.bottom,-t.left)},x.Hz=function(t,e,n,o){return ma(this,t,e,n,o)},x.Ex=function(t){return Gf(this,t.x,t.y,t.width,t.height)},x.Uu=function(t,e,n,o){return Gf(this,t,e,n,o)},x.Yc=function(t){return this.Vu(t.x,t.y,t.width,t.height)},x.Vu=function(t,e,n,o){var r=this.width,s=this.x;return!(r!==1/0&&n!==1/0&&(r+=s,n+=t,isNaN(n)||isNaN(r)||s>n||t>r)||(n=this.y,(t=this.height)!==1/0&&o!==1/0&&(t+=n,o+=e,isNaN(o)||isNaN(t)||n>o||e>t)))},x.Ye=function(t){return Me(this,t.x,t.y,0,0)},x.ed=function(t){return Me(this,t.x,t.y,t.width,t.height)},x.Kv=function(t,e,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),Me(this,t,e,n,o)},x.yi=function(t,e,n){return this.x=t-n.offsetX-n.x*this.width,this.y=e-n.offsetY-n.y*this.height,this},x.w=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},x.Mz=function(){return 0===this.width&&0===this.height},U.alloc=function(){var t=bp.pop();return void 0===t?new U:t},U.allocAt=function(t,e,n,o){var r=bp.pop();return void 0===r?new U(t,e,n,o):r.h(t,e,n,o)},U.free=function(t){bp.push(t)},pt.Object.defineProperties(U.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new w(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new ot(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new w(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),U.prototype.isEmpty=U.prototype.Mz,U.prototype.isReal=U.prototype.w,U.intersectsLineSegment=function(t,e,n,o,r,s,l,a){return N.Fx(t,e,n,o,r,s,l,a)},U.prototype.setSpot=U.prototype.yi,U.prototype.union=U.prototype.Kv,U.prototype.unionRect=U.prototype.ed,U.prototype.unionPoint=U.prototype.Ye,U.prototype.intersects=U.prototype.Vu,U.prototype.intersectsRect=U.prototype.Yc,U.prototype.intersect=U.prototype.Uu,U.prototype.intersectRect=U.prototype.Ex,U.prototype.grow=U.prototype.Hz,U.prototype.subtractMargin=U.prototype.Fv,U.prototype.addMargin=U.prototype.Co,U.prototype.inflate=U.prototype.Bc,U.prototype.offset=U.prototype.offset,U.prototype.contains=U.prototype.contains,U.prototype.containsRect=U.prototype.Re,U.prototype.containsPoint=U.prototype.ca,U.prototype.equalsApprox=U.prototype.Xa,U.prototype.equalTo=U.prototype.hi,U.prototype.equals=U.prototype.D,U.prototype.setSize=U.prototype.tA,U.prototype.setPoint=U.prototype.dd,U.prototype.set=U.prototype.set,U.prototype.setTo=U.prototype.sg;var _a=null,Vf=null,bp=[];function St(t,e,n,o){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==o?(this.top=t,this.right=e,this.bottom=n,this.left=o):q("Invalid arguments to Margin constructor: "+t+", "+e+", "+n+", "+o),this._isFrozen=!1}function zf(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var o=t[e++];if(o&&(n=parseFloat(o)),isNaN(n))return new St;for(var r=NaN;""===t[e];)e++;if((o=t[e++])&&(r=parseFloat(o)),isNaN(r))return new St(n);for(var s=NaN;""===t[e];)e++;if((o=t[e++])&&(s=parseFloat(o)),isNaN(s))return new St(n,r);for(var l=NaN;""===t[e];)e++;return(o=t[e++])&&(l=parseFloat(o)),isNaN(l)?new St(n,r):new St(n,r,s,l)}return new St}function Xf(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}U.className="Rect",U.parse=Bf,U.stringify=Qf,U.contains=An,U.intersects=Kf,U.ZeroRect=_a=new U(0,0,0,0).ja(),U.NoRect=Vf=new U(NaN,NaN,NaN,NaN).ja(),U.parse=Bf,U.stringify=Qf,U.contains=An,U.intersects=Kf,St.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},St.prototype.sg=function(t,e,n,o){return this.top=t,this.right=e,this.bottom=n,this.left=o,this},St.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},St.prototype.copy=function(){var t=new St;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(x=St.prototype).ja=function(){return this._isFrozen=!0,Object.freeze(this),this},x.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this},x.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},x.D=function(t){return t instanceof St&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left},x.hi=function(t,e,n,o){return this.top===t&&this.right===e&&this.bottom===n&&this.left===o},x.Xa=function(t){return N.B(this.top,t.top)&&N.B(this.right,t.right)&&N.B(this.bottom,t.bottom)&&N.B(this.left,t.left)},x.w=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},St.alloc=function(){var t=Wf.pop();return void 0===t?new St:t},St.free=function(t){Wf.push(t)},St.prototype.isReal=St.prototype.w,St.prototype.equalsApprox=St.prototype.Xa,St.prototype.equalTo=St.prototype.hi,St.prototype.equals=St.prototype.D,St.prototype.set=St.prototype.set,St.prototype.setTo=St.prototype.sg;var Fe,Ee,yo,qs,Hl,Mt,Kl,Ys,ls,Xn,Js,Rs,Es,Bs,Yp,Jp,Rp,Ep,Bp,Qp,Gp,Hp,Kp,Vp,zp,Oe,$f,t0,va,e0,nn,on,Si,rn,Xp,Wp,bs=null,qp=null,Wf=[];function $(t,e,n,o){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=o),this._isFrozen=!1}function qi(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function $p(t){if("string"==typeof t){if("None"===(t=t.trim()))return Fe;if("TopLeft"===t)return Ee;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return yo;if("TopRight"===t)return qs;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return Hl;if("Center"===t)return Mt;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return Kl;if("BottomLeft"===t)return Ys;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return ls;if("BottomRight"===t)return Xn;if("TopSide"===t)return Js;if("LeftSide"===t)return Rs;if("RightSide"===t)return Es;if("BottomSide"===t)return Bs;if("TopBottomSides"===t)return Yp;if("LeftRightSides"===t)return Jp;if("TopLeftSides"===t)return Rp;if("TopRightSides"===t)return Ep;if("BottomLeftSides"===t)return Bp;if("BottomRightSides"===t)return Qp;if("NotTopSide"===t)return Gp;if("NotLeftSide"===t)return Hp;if("NotRightSide"===t)return Kp;if("NotBottomSide"===t)return Vp;if("AllSides"===t)return zp;if("Default"===t)return Oe;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var o=t[e++];void 0!==o&&0<o.length&&(n=parseFloat(o));for(var r=0;""===t[e];)e++;void 0!==(o=t[e++])&&0<o.length&&(r=parseFloat(o));for(var s=0;""===t[e];)e++;void 0!==(o=t[e++])&&0<o.length&&(s=parseFloat(o));for(var l=0;""===t[e];)e++;return void 0!==(o=t[e++])&&0<o.length&&(l=parseFloat(o)),new $(n,r,s,l)}return new $}function i0(t){return t.sb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}St.className="Margin",St.parse=zf,St.stringify=Xf,St.ZeroMargin=bs=new St(0,0,0,0).ja(),St.TwoMargin=qp=new St(2,2,2,2).ja(),St.parse=zf,St.stringify=Xf,$.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},$.prototype.sg=function(t,e,n,o){return this.x=t,this.y=e,this.offsetX=n,this.offsetY=o,this},$.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},$.prototype.copy=function(){var t=new $;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(x=$.prototype).ja=function(){return this._isFrozen=!0,Object.freeze(this),this},x.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this},x.toString=function(){return this.sb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.D(Fe)?"None":this.D(Ee)?"TopLeft":this.D(yo)?"Top":this.D(qs)?"TopRight":this.D(Hl)?"Left":this.D(Mt)?"Center":this.D(Kl)?"Right":this.D(Ys)?"BottomLeft":this.D(ls)?"Bottom":this.D(Xn)?"BottomRight":this.D(Js)?"TopSide":this.D(Rs)?"LeftSide":this.D(Es)?"RightSide":this.D(Bs)?"BottomSide":this.D(Yp)?"TopBottomSides":this.D(Jp)?"LeftRightSides":this.D(Rp)?"TopLeftSides":this.D(Ep)?"TopRightSides":this.D(Bp)?"BottomLeftSides":this.D(Qp)?"BottomRightSides":this.D(Gp)?"NotTopSide":this.D(Hp)?"NotLeftSide":this.D(Kp)?"NotRightSide":this.D(Vp)?"NotBottomSide":this.D(zp)?"AllSides":this.D(Oe)?"Default":"None"},x.D=function(t){return t instanceof $&&(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY},x.gv=function(){return new $(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},x.Hf=function(t){if(!this.$c())return!1;if(!t.$c())if(t.D($f))t=Rs;else if(t.D(t0))t=Es;else if(t.D(va))t=Js;else{if(!t.D(e0))return!1;t=Bs}return(this.offsetY&(t=t.offsetY))===t},x.sb=function(){return!isNaN(this.x)&&!isNaN(this.y)},x.Mc=function(){return isNaN(this.x)||isNaN(this.y)},x.$c=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},x.ys=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},x.Xb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},$.alloc=function(){var t=n0.pop();return void 0===t?new $:t},$.free=function(t){n0.push(t)},$.prototype.isDefault=$.prototype.Xb,$.prototype.isNone=$.prototype.ys,$.prototype.isSide=$.prototype.$c,$.prototype.isNoSpot=$.prototype.Mc,$.prototype.isSpot=$.prototype.sb,$.prototype.includesSide=$.prototype.Hf,$.prototype.opposite=$.prototype.gv,$.prototype.equals=$.prototype.D,$.prototype.set=$.prototype.set,$.prototype.setTo=$.prototype.sg;var n0=[];function ct(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}$.className="Spot",$.parse=$p,$.stringify=i0,$.None=Fe=qi(new $(0,0,0,0),0).ja(),$.Default=Oe=qi(new $(0,0,-1,0),-1).ja(),$.TopLeft=Ee=new $(0,0,0,0).ja(),$.TopCenter=yo=new $(.5,0,0,0).ja(),$.TopRight=qs=new $(1,0,0,0).ja(),$.LeftCenter=Hl=new $(0,.5,0,0).ja(),$.Center=Mt=new $(.5,.5,0,0).ja(),$.RightCenter=Kl=new $(1,.5,0,0).ja(),$.BottomLeft=Ys=new $(0,1,0,0).ja(),$.BottomCenter=ls=new $(.5,1,0,0).ja(),$.BottomRight=Xn=new $(1,1,0,0).ja(),$.MiddleTop=nn=yo,$.MiddleLeft=on=Hl,$.MiddleRight=Si=Kl,$.MiddleBottom=rn=ls,$.Top=va=yo,$.Left=$f=Hl,$.Right=t0=Kl,$.Bottom=e0=ls,$.TopSide=Js=qi(new $(0,0,1,1),1).ja(),$.LeftSide=Rs=qi(new $(0,0,1,2),1).ja(),$.RightSide=Es=qi(new $(0,0,1,4),1).ja(),$.BottomSide=Bs=qi(new $(0,0,1,8),1).ja(),$.TopBottomSides=Yp=qi(new $(0,0,1,9),1).ja(),$.LeftRightSides=Jp=qi(new $(0,0,1,6),1).ja(),$.TopLeftSides=Rp=qi(new $(0,0,1,3),1).ja(),$.TopRightSides=Ep=qi(new $(0,0,1,5),1).ja(),$.BottomLeftSides=Bp=qi(new $(0,0,1,10),1).ja(),$.BottomRightSides=Qp=qi(new $(0,0,1,12),1).ja(),$.NotTopSide=Gp=qi(new $(0,0,1,14),1).ja(),$.NotLeftSide=Hp=qi(new $(0,0,1,13),1).ja(),$.NotRightSide=Kp=qi(new $(0,0,1,11),1).ja(),$.NotBottomSide=Vp=qi(new $(0,0,1,7),1).ja(),$.AllSides=zp=qi(new $(0,0,1,15),1).ja(),Xp=new $(.156,.156).ja(),Wp=new $(.844,.844).ja(),$.parse=$p,$.stringify=i0,ct.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},ct.prototype.setTransform=function(t,e,n,o,r,s){return this.m11=t,this.m12=e,this.m21=n,this.m22=o,this.dx=r,this.dy=s,this},ct.prototype.copy=function(){var t=new ct;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},ct.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},ct.prototype.D=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},ct.prototype.ws=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},ct.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},ct.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,n=this.m12*t.m11+this.m22*t.m12,o=this.m11*t.m21+this.m21*t.m22,r=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=n,this.m21=o,this.m22=r,this},ct.prototype.bv=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,o=-t.m12*e,r=-t.m21*e,s=t.m11*e,l=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*n+this.m21*o,n=this.m12*n+this.m22*o,o=this.m11*r+this.m21*s,r=this.m12*r+this.m22*s,this.dx=this.m11*l+this.m21*t+this.dx,this.dy=this.m12*l+this.m22*t+this.dy,this.m11=e,this.m12=n,this.m21=o,this.m22=r,this},ct.prototype.Vj=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,o=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),s=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=o,this.dx=r,this.dy=s,this},ct.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,n),90===t){t=0;var o=1}else 180===t?(t=-1,o=0):270===t?(t=0,o=-1):(o=t*Math.PI/180,t=Math.cos(o),o=Math.sin(o));var r=this.m12*t+this.m22*o,s=this.m11*-o+this.m21*t,l=this.m12*-o+this.m22*t;return this.m11=this.m11*t+this.m21*o,this.m12=r,this.m21=s,this.m22=l,this.translate(-e,-n),this},(x=ct.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},x.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},x.Ga=function(t){var e=t.x,n=t.y;return t.h(e*this.m11+n*this.m21+this.dx,e*this.m12+n*this.m22+this.dy)},x.Cd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=t.x,o=t.y;return t.h(n*this.m22*e+o*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*e+o*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},x.Eu=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=1.25*t.x,o=1.2*t.y;return t.h(n*this.m22*e+o*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*e+o*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},x.pp=function(t){var e=t.x,n=t.y,o=e+t.width,r=n+t.height,s=this.m11,l=this.m12,a=this.m21,p=this.m22,d=this.dx,f=this.dy,g=e*s+n*a+d,m=e*l+n*p+f,v=o*s+n*a+d,y=o*l+n*p+f;return n=e*s+r*a+d,e=e*l+r*p+f,s=o*s+r*a+d,o=o*l+r*p+f,r=Math.min(g,v),g=Math.max(g,v),v=Math.min(m,y),m=Math.max(m,y),r=Math.min(r,n),g=Math.max(g,n),v=Math.min(v,e),m=Math.max(m,e),r=Math.min(r,s),g=Math.max(g,s),v=Math.min(v,o),m=Math.max(m,o),t.h(r,v,g-r,m-v),t},ct.alloc=function(){var t=o0.pop();return void 0===t?new ct:t},ct.free=function(t){o0.push(t)},ct.prototype.transformRect=ct.prototype.pp,ct.prototype.transformPoint=ct.prototype.Ga,ct.prototype.scale=ct.prototype.scale,ct.prototype.translate=ct.prototype.translate,ct.prototype.rotate=ct.prototype.rotate,ct.prototype.invert=ct.prototype.Vj,ct.prototype.multiplyInverted=ct.prototype.bv,ct.prototype.multiply=ct.prototype.multiply,ct.prototype.reset=ct.prototype.reset,ct.prototype.isIdentity=ct.prototype.ws,ct.prototype.equals=ct.prototype.D,ct.prototype.setTransform=ct.prototype.setTransform,ct.prototype.set=ct.prototype.set;var o0=[];ct.className="Transform",ct.xF="54a702f3e53909c447824c6706603faf4c";var N={AA:"7da71ca0ad381e90",wg:(Math.sqrt(2)-1)/3*4,Uv:null,sqrt:function(t){if(0>=t)return 0;var e=N.Uv;if(null===e){e=[];for(var n=0;2e3>=n;n++)e[n]=Math.sqrt(n);N.Uv=e}return 1>t?2e3>=(n=1/t)?1/e[0|n]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},B:function(t,e){return.5>(t-=e)&&-.5<t},$:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Yb:function(t,e,n,o,r,s,l){if(0>=r&&(r=1e-6),t<n)var a=t,p=n;else a=n,p=t;if(e<o)var d=e,f=o;else d=o,f=e;if(t===n)return d<=l&&l<=f&&t-r<=s&&s<=t+r;if(e===o)return a<=s&&s<=p&&e-r<=l&&l<=e+r;if(p+=r,(a-=r)<=s&&s<=p&&(f+=r,(d-=r)<=l&&l<=f))if(p-a>f-d){if(!(t-n>r||n-t>r))return!0;if((s=(o-e)/(n-t)*(s-t)+e)-r<=l&&l<=s+r)return!0}else{if(!(e-o>r||o-e>r))return!0;if((l=(n-t)/(o-e)*(l-e)+t)-r<=s&&s<=l+r)return!0}return!1},cs:function(t,e,n,o,r,s,l,a,p,d,f,g){if(N.Yb(t,e,l,a,g,n,o)&&N.Yb(t,e,l,a,g,r,s))return N.Yb(t,e,l,a,g,d,f);var m=(t+n)/2,v=(e+o)/2,y=(n+r)/2,P=(o+s)/2,T=((o=(m+y)/2)+(y=(y+(r=(r+l)/2))/2))/2,S=((n=(v+P)/2)+(P=(P+(s=(s+a)/2))/2))/2;return N.cs(t,e,m,v,o,n,T,S,p,d,f,g)||N.cs(T,S,y,P,r,s,l,a,p,d,f,g)},ax:function(t,e,n,o,r,s,l,a,p){var d=(n+r)/2,f=(o+s)/2;return p.h((((t+n)/2+d)/2+(d+(r+l)/2)/2)/2,(((e+o)/2+f)/2+(f+(s+a)/2)/2)/2),p},My:function(t,e,n,o,r,s,l,a){var p=(n+r)/2,d=(o+s)/2;return Ip(((t+n)/2+p)/2,((e+o)/2+d)/2,(p+(r+l)/2)/2,(d+(s+a)/2)/2)},Dl:function(t,e,n,o,r,s,l,a,p,d){if(N.Yb(t,e,l,a,p,n,o)&&N.Yb(t,e,l,a,p,r,s))Me(d,t,e,0,0),Me(d,l,a,0,0);else{var f=(t+n)/2,g=(e+o)/2,m=(n+r)/2,v=(o+s)/2,y=((o=(f+m)/2)+(m=(m+(r=(r+l)/2))/2))/2,P=((n=(g+v)/2)+(v=(v+(s=(s+a)/2))/2))/2;N.Dl(t,e,f,g,o,n,y,P,p,d),N.Dl(y,P,m,v,r,s,l,a,p,d)}return d},Qe:function(t,e,n,o,r,s,l,a,p,d){if(N.Yb(t,e,l,a,p,n,o)&&N.Yb(t,e,l,a,p,r,s))0===d.length&&(d.push(t),d.push(e)),d.push(l),d.push(a);else{var f=(t+n)/2,g=(e+o)/2,m=(n+r)/2,v=(o+s)/2,y=((o=(f+m)/2)+(m=(m+(r=(r+l)/2))/2))/2,P=((n=(g+v)/2)+(v=(v+(s=(s+a)/2))/2))/2;N.Qe(t,e,f,g,o,n,y,P,p,d),N.Qe(y,P,m,v,r,s,l,a,p,d)}return d},jv:function(t,e,n,o,r,s,l,a,p,d){if(N.Yb(t,e,r,s,d,n,o))return N.Yb(t,e,r,s,d,a,p);var f=(t+n)/2,g=(e+o)/2,m=(f+(n=(n+r)/2))/2,v=(g+(o=(o+s)/2))/2;return N.jv(t,e,f,g,m,v,l,a,p,d)||N.jv(m,v,n,o,r,s,l,a,p,d)},OA:function(t,e,n,o,r,s,l){return l.h(((t+n)/2+(n+r)/2)/2,((e+o)/2+(o+s)/2)/2),l},iv:function(t,e,n,o,r,s,l,a){if(N.Yb(t,e,r,s,l,n,o))Me(a,t,e,0,0),Me(a,r,s,0,0);else{var p=(t+n)/2,d=(e+o)/2,f=(p+(n=(n+r)/2))/2,g=(d+(o=(o+s)/2))/2;N.iv(t,e,p,d,f,g,l,a),N.iv(f,g,n,o,r,s,l,a)}return a},ep:function(t,e,n,o,r,s,l,a){if(N.Yb(t,e,r,s,l,n,o))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(s);else{var p=(t+n)/2,d=(e+o)/2,f=(p+(n=(n+r)/2))/2,g=(d+(o=(o+s)/2))/2;N.ep(t,e,p,d,f,g,l,a),N.ep(f,g,n,o,r,s,l,a)}return a},Eo:function(t,e,n,o,r,s,l,a,p,d,f,g,m,v){if(N.Yb(t,e,l,a,m,n,o)&&N.Yb(t,e,l,a,m,r,s))return!(!N.Rl(t,e,l,a,p,d,f,g)||(m=(t-l)*(d-g)-(e-a)*(p-f),0===m)||(v.h(((t*a-e*l)*(p-f)-(t-l)*(p*g-d*f))/m,((t*a-e*l)*(d-g)-(e-a)*(p*g-d*f))/m),0));var y=(t+n)/2,P=(e+o)/2,T=(n+r)/2,S=(o+s)/2,A=((o=(y+T)/2)+(T=(T+(r=(r+l)/2))/2))/2,M=((n=(P+S)/2)+(S=(S+(s=(s+a)/2))/2))/2,Z=1/0,j=!1,k=0,J=0;return N.Eo(t,e,y,P,o,n,A,M,p,d,f,g,m,v)&&(t=(v.x-p)*(v.x-p)+(v.y-d)*(v.y-d))<Z&&(Z=t,j=!0,k=v.x,J=v.y),N.Eo(A,M,T,S,r,s,l,a,p,d,f,g,m,v)&&(v.x-p)*(v.x-p)+(v.y-d)*(v.y-d)<Z&&(j=!0,k=v.x,J=v.y),j&&(v.x=k,v.y=J),j},Fo:function(t,e,n,o,r,s,l,a,p,d,f,g,m){var v=0;if(N.Yb(t,e,l,a,m,n,o)&&N.Yb(t,e,l,a,m,r,s)){if(0==(m=(t-l)*(d-g)-(e-a)*(p-f)))return v;var y=((t*a-e*l)*(p-f)-(t-l)*(p*g-d*f))/m,P=((t*a-e*l)*(d-g)-(e-a)*(p*g-d*f))/m;if(y>=f)return v;if((p>f?p-f:f-p)<(d>g?d-g:g-d)){if(e<a?(p=e,t=a):(p=a,t=e),P<p||P>t)return v}else if(t<l?(p=t,t=l):p=l,y<p||y>t)return v;0<m?v++:0>m&&v--}else{P=(e+o)/2;var T=(n+r)/2,S=(o+s)/2,A=((o=((y=(t+n)/2)+T)/2)+(T=(T+(r=(r+l)/2))/2))/2,M=((n=(P+S)/2)+(S=(S+(s=(s+a)/2))/2))/2;v+=N.Fo(t,e,y,P,o,n,A,M,p,d,f,g,m),v+=N.Fo(A,M,T,S,r,s,l,a,p,d,f,g,m)}return v},qh:function(t,e,n,o,r,s,l){return N.$(t,n)?(e<o?(n=e,e=o):n=o,s<n?(l.h(t,n),!1):s>e?(l.h(t,e),!1):(l.h(t,s),!0)):N.$(e,o)?(t<n?(o=t,t=n):o=n,r<o?(l.h(o,e),!1):r>t?(l.h(t,e),!1):(l.h(r,e),!0)):-5e-6>(r=((t-r)*(t-n)+(e-s)*(e-o))/((n-t)*(n-t)+(o-e)*(o-e)))?(l.h(t,e),!1):1.000005<r?(l.h(n,o),!1):(l.h(t+r*(n-t),e+r*(o-e)),!0)},Ve:function(t,e,n,o,r,s,l,a,p){return N.B(t,n)&&N.B(e,o)?(p.h(t,e),!1):N.$(r,l)?N.$(t,n)?(N.qh(t,e,n,o,r,s,p),!1):N.qh(t,e,n,o,r,(o-e)/(n-t)*(r-t)+e,p):(a=(a-s)/(l-r),N.$(t,n)?(n=a*(t-r)+s,e<o?(r=e,e=o):r=o,n<r?(p.h(t,r),!1):n>e?(p.h(t,e),!1):(p.h(t,n),!0)):N.$(a,l=(o-e)/(n-t))?(N.qh(t,e,n,o,r,s,p),!1):(r=(l*t-a*r+s-e)/(l-a),N.$(l,0)?(t<n?(o=t,t=n):o=n,r<o?(p.h(o,e),!1):r>t?(p.h(t,e),!1):(p.h(r,e),!0)):N.qh(t,e,n,o,r,l*(r-t)+e,p)))},MA:function(t,e,n,o,r){return N.Ve(n.x,n.y,o.x,o.y,t.x,t.y,e.x,e.y,r)},KA:function(t,e,n,o,r,s,l,a,p,d){function f(T,S){var A=(T-t)*(T-t)+(S-e)*(S-e);A<g&&(g=A,p.h(T,S))}var g=1/0;f(p.x,p.y);var m=0,v=0,y=0,P=0;if(r<l?(m=r,v=l):(m=l,v=r),s<a?(y=r,P=l):(y=l,P=r),m=(v-m)/2+d,d=(P-y)/2+d,r=(r+l)/2,s=(s+a)/2,0===m||0===d)return p;if(.5>(n>t?n-t:t-n)){if(0>(m=1-(n-r)*(n-r)/(m*m)))return p;o=-d*(m=Math.sqrt(m))+s,f(n,d*m+s),f(n,o)}else{if(0>(m=(a=2*(n=(o-e)/(n-t))*(e-n*t)/(d*d)-2*n*s/(d*d)-2*r/(m*m))*a-4*(o=1/(m*m)+n*n/(d*d))*(2*n*t*s/(d*d)-2*e*s/(d*d)+s*s/(d*d)+r*r/(m*m)-1+(e-n*t)*(e-n*t)/(d*d))))return p;f(d=(-a+(m=Math.sqrt(m)))/(2*o),n*d-n*t+e),f(m=(-a-m)/(2*o),n*m-n*t+e)}return p},Ff:function(t,e,n,o,r,s,l,a,p){var d=1e21,f=t,g=e;if(N.Ve(t,e,t,o,r,s,l,a,p)){var m=(p.x-r)*(p.x-r)+(p.y-s)*(p.y-s);m<d&&(d=m,f=p.x,g=p.y)}return N.Ve(n,e,n,o,r,s,l,a,p)&&(m=(p.x-r)*(p.x-r)+(p.y-s)*(p.y-s))<d&&(d=m,f=p.x,g=p.y),N.Ve(t,e,n,e,r,s,l,a,p)&&(e=(p.x-r)*(p.x-r)+(p.y-s)*(p.y-s))<d&&(d=e,f=p.x,g=p.y),N.Ve(t,o,n,o,r,s,l,a,p)&&(t=(p.x-r)*(p.x-r)+(p.y-s)*(p.y-s))<d&&(d=t,f=p.x,g=p.y),p.h(f,g),1e21>d},us:function(t,e,n){return N.Fx(t.x,t.y,t.width,t.height,e.x,e.y,n.x,n.y)},Fx:function(t,e,n,o,r,s,l,a){var p=t+n,d=e+o;return r===l?(s<a?(l=s,s=a):l=a,t<=r&&r<=p&&l<=d&&s>=e):s===a?(r<l?(a=r,r=l):a=l,e<=s&&s<=d&&a<=p&&r>=t):!!(An(t,e,n,o,r,s)||An(t,e,n,o,l,a)||N.Rl(t,e,p,e,r,s,l,a)||N.Rl(p,e,p,d,r,s,l,a)||N.Rl(p,d,t,d,r,s,l,a)||N.Rl(t,d,t,e,r,s,l,a))},Rl:function(t,e,n,o,r,s,l,a){return t===n&&e===o&&r===l&&s===a?t===r&&e===s:0>=N.Fl(t,e,n,o,r,s)*N.Fl(t,e,n,o,l,a)&&0>=N.Fl(r,s,l,a,t,e)*N.Fl(r,s,l,a,n,o)},Fl:function(t,e,n,o,r,s){return n-=t,0==(s=(t=r-t)*(o-=e)-(e=s-e)*n)&&0<(s=t*n+e*o)&&0>(s=(t-n)*n+(e-o)*o)&&(s=0),s},bp:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},jx:function(t,e,n,o,r,s){var l=Math.PI;s||(o*=l/180,r*=l/180);var a=o>r?-1:1;s=[];var p=l/2,d=o;if(1e-5>(o=Math.min(2*l,Math.abs(r-o))))return p=d+a*Math.min(o,p),a=t+n*Math.cos(d),d=e+n*Math.sin(d),t+=n*Math.cos(p),e+=n*Math.sin(p),s.push([a,d,n=(a+t)/2,p=(d+e)/2,n,p,t,e]),s;for(;1e-5<o;)r=d+a*Math.min(o,p),s.push(N.Vy(n,d,r,t,e)),o-=Math.abs(r-d),d=r;return s},Vy:function(t,e,n,o,r){var s=(n-e)/2,l=t*Math.cos(s),a=t*Math.sin(s),p=-a,d=l*l+p*p,f=d+l*l+p*a;return a=l-(d=4/3*(Math.sqrt(2*d*f)-f)/(l*a-p*l))*p,p=-(l=p+d*l),d=s+e,s=Math.cos(d),d=Math.sin(d),[o+t*Math.cos(e),r+t*Math.sin(e),o+a*s-l*d,r+a*d+l*s,o+a*s-p*d,r+a*d+p*s,o+t*Math.cos(n),r+t*Math.sin(n)]},No:function(t,e,n,o,r,s,l){var a=n=Math.floor((t-n)/r)*r+n;return n+r-t<r/2&&(a=n+r),t=o=Math.floor((e-o)/s)*s+o,o+s-e<s/2&&(t=o+s),l.h(a,t),l},vx:function(t,e){var o,n=Math.max(t,e);t=Math.min(t,e);do{e=n%t,n=o=t,t=e}while(0<e);return o},$y:function(t,e,n,o){var r=0>n,s=0>o;if(t<e)var l=1,a=0;else l=0,a=1;var p=0===l?t:e,d=0===l?n:o;return(0===l?r:s)&&(d=-d),n=0===(l=a)?n:o,(0===l?r:s)&&(n=-n),N.az(p,0===l?t:e,d,n,0,0)},az:function(t,e,n,o,r,s){if(0<o)if(0<n){r=t*t,t*=n;var l=e*o,a=-(s=e*e)+l,p=-s+Math.sqrt(t*t+l*l);e=a;for(var d=0;9999999999>d&&(e=.5*(a+p))!==a&&e!==p;++d){var f=t/(e+r),g=l/(e+s);if(0<(f=f*f+g*g-1))a=e;else{if(!(0>f))break;p=e}}n=r*n/(e+r)-n,o=s*o/(e+s)-o,n=Math.sqrt(n*n+o*o)}else n=Math.abs(o-e);else(s=t*n)<(o=t*t-e*e)?(o=s/o,s=e*Math.sqrt(Math.abs(1-o*o)),n=t*o-n,n=Math.sqrt(n*n+s*s)):n=Math.abs(n-t);return n},Ze:new en,um:new en,Mf:new en,Nf:0,vm:100};function Y(t){ye(this),this.l=2,void 0===t&&(t=Y.o),this.na=t,this.Ec=this.Dc=this.pd=this.od=0,t===Y.o?this.ee=new H:(null===Y.V&&(Y.V=(new H).freeze()),this.ee=Y.V),this.aq=this.ee.Ja,this.Ip=(new U).freeze(),this.ym=this.tk=null,this.zm=NaN,this.fg=Ee,this.gg=Xn,this.Rk=this.Sk=NaN,this.Uf=oe}function r0(t,e){return t.type===Y.j&&e.type===Y.o&&!!(1===e.figures.count&&(e=e.figures.M(0),1===e.segments.count&&N.B(t.startX,e.startX)&&N.B(t.startY,e.startY)&&(e=e.segments.M(0),e.type===Gt&&N.B(t.endX,e.endX)&&N.B(t.endY,e.endY))))}function s0(t,e,n){switch(t.type){case Y.j:case Y.u:case Y.F:n?e.h(t.od,t.pd,0,0):Me(e,t.od,t.pd,0,0),Me(e,t.Dc,t.Ec,0,0);break;case Y.o:var o=t.figures;t=o.s,o=o.length;for(var r=0;r<o;r++){var s=t[r];n&&0===r?e.h(s.startX,s.startY,0,0):Me(e,s.startX,s.startY,0,0);for(var l=s.segments.s,a=l.length,p=s.startX,d=s.startY,f=0;f<a;f++){var g=l[f];switch(g.type){case Gt:case fn:Me(e,p=g.endX,d=g.endY,0,0);break;case Yi:N.Dl(p,d,g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY,.5,e),p=g.endX,d=g.endY;break;case Rn:N.iv(p,d,g.point1X,g.point1Y,g.endX,g.endY,.5,e),p=g.endX,d=g.endY;break;case pe:case Mn:var m=g.type===pe?xo(g,s):Cr(g,s,p,d),v=m.length;if(0===v){Me(e,p=g.type===pe?g.centerX:g.endX,d=g.type===pe?g.centerY:g.endY,0,0);break}g=null;for(var y=0;y<v;y++)N.Dl((g=m[y])[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],.5,e);null!==g&&(p=g[6],d=g[7]);break;default:q("Unknown Segment type: "+g.type)}}}break;default:q("Unknown Geometry type: "+t.type)}}function tc(t,e,n,o,r){var s=e.x;e=e.y;for(var p,d,f,g,l=t.bounds.x-20,a=0,m=t.figures.s,v=m.length,y=0;y<v;y++){var P=m[y],T=!P.isEvenOdd;if(P.isFilled){if(o&&P.ca(s,e,n))return!0;for(var S=P.segments,A=p=P.startX,M=d=P.startY,Z=S.s,j=0;j<=S.length;j++){var k=void 0;if(j!==S.length){var J=(k=Z[j]).type;t=k.endX,g=k.endY}else J=Gt,t=A,g=M;switch(J){case fn:if(A=ya(s,e,l,e,p,d,A,M),isNaN(A))return!0;a+=A,A=t,M=g;break;case Gt:if(p=ya(s,e,l,e,p,d,t,g),isNaN(p))return!0;a+=p;break;case Yi:a+=f=N.Fo(p,d,k.point1X,k.point1Y,k.point2X,k.point2Y,t,g,l,e,s,e,.5);break;case Rn:a+=f=N.Fo(p,d,(p+2*k.point1X)/3,(d+2*k.point1Y)/3,(2*k.point1X+t)/3,(2*k.point1Y+g)/3,t,g,l,e,s,e,.5);break;case pe:case Mn:var V=(J=k.type===pe?xo(k,P):Cr(k,P,p,d)).length;if(0===V){if(p=ya(s,e,l,e,p,d,k.type===pe?k.centerX:k.endX,k.type===pe?k.centerY:k.endY),isNaN(p))return!0;a+=p;break}k=null;for(var K=0;K<V;K++){if(k=J[K],0===K){if(f=ya(s,e,l,e,p,d,k[0],k[1]),isNaN(f))return!0;a+=f}a+=f=N.Fo(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],l,e,s,e,.5)}null!==k&&(t=k[6],g=k[7]);break;default:q("Unknown Segment type: "+k.type)}p=t,d=g}if(T){if(0!==a)return!0}else if(a%2!=0)return!0;a=0}else if(P.ca(s,e,r?n:n+2))return!0}return!1}function ya(t,e,n,o,r,s,l,a){if(N.Yb(r,s,l,a,.05,t,e))return NaN;var p=(t-n)*(s-a);if(0===p)return 0;var d=((t*o-e*n)*(r-l)-(t-n)*(r*a-s*l))/p;if(e=(t*o-e*n)*(s-a)/p,d>=t)return 0;if((r>l?r-l:l-r)<(s>a?s-a:a-s)){if(s<a){if(e<s||e>a)return 0}else if(e<a||e>s)return 0}else if(r<l){if(d<r||d>l)return 0}else if(d<l||d>r)return 0;return 0<p?1:-1}function l0(t,e,n,o){for(var r=(t=t.figures.s).length,s=0;s<r;s++)if(t[s].ca(e,n,o))return!0;return!1}function u0(t){if(null===t.tk){var e=t.tk=[],n=t.ym=[],o=[],r=[];if(t.type===Y.j)o.push(t.startX),o.push(t.startY),o.push(t.endX),o.push(t.endY),e.push(o),r.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),n.push(r);else if(t.type===Y.u)o.push(t.startX),o.push(t.startY),o.push(t.endX),o.push(t.startY),o.push(t.endX),o.push(t.endY),o.push(t.startX),o.push(t.endY),o.push(t.startX),o.push(t.startY),e.push(o),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),n.push(r);else if(t.type===Y.F){var s=new Ce;s.startX=t.endX,s.startY=(t.startY+t.endY)/2;var l=new xt(pe);if(l.startAngle=0,l.sweepAngle=360,l.centerX=(t.startX+t.endX)/2,l.centerY=(t.startY+t.endY)/2,l.radiusX=Math.abs(t.startX-t.endX)/2,l.radiusY=Math.abs(t.startY-t.endY)/2,s.add(l),0===(r=(t=xo(l,s)).length))o.push(l.centerX),o.push(l.centerY);else{l=s.startX,s=s.startY;for(var a=0;a<r;a++){var p=t[a];N.Qe(l,s,p[2],p[3],p[4],p[5],p[6],p[7],.5,o),l=p[6],s=p[7]}}e.push(o),n.push(ec(o))}else for(t=t.figures.iterator;t.next();){(o=[]).push((r=t.value).startX),o.push(r.startY),a=l=r.startX,p=s=r.startY;for(var d=r.segments.s,f=d.length,g=0;g<f;g++){var m=d[g];switch(m.type){case fn:4<=o.length&&(e.push(o),n.push(ec(o))),(o=[]).push(m.endX),o.push(m.endY),a=l=m.endX,p=s=m.endY;break;case Gt:o.push(m.endX),o.push(m.endY),l=m.endX,s=m.endY;break;case Yi:N.Qe(l,s,m.point1X,m.point1Y,m.point2X,m.point2Y,m.endX,m.endY,.5,o),l=m.endX,s=m.endY;break;case Rn:N.ep(l,s,m.point1X,m.point1Y,m.endX,m.endY,.5,o),l=m.endX,s=m.endY;break;case pe:var v=xo(m,r),y=v.length;if(0===y){o.push(m.centerX),o.push(m.centerY),l=m.centerX,s=m.centerY;break}for(var P=0;P<y;P++){var T=v[P];N.Qe(l,s,T[2],T[3],T[4],T[5],T[6],T[7],.5,o),l=T[6],s=T[7]}break;case Mn:if(v=Cr(m,r,l,s),P=m.endX,T=m.endY,0===(y=v.length)){o.push(P),o.push(T),l=P,s=T;break}for(P=0;P<y;P++)N.Qe(l,s,(T=v[P])[2],T[3],T[4],T[5],T[6],T[7],.5,o),l=T[6],s=T[7];break;default:q("Segment not of valid type: "+m.type)}m.isClosed&&(o.push(a),o.push(p))}4<=o.length&&(e.push(o),n.push(ec(o)))}}}function ec(t){for(var e=[],n=0,o=0,r=t.length,s=0;s<r;s+=2){var l=t[s],a=t[s+1];0!==s&&e.push(Math.sqrt(_o(n,o,l,a))),n=l,o=a}return e}function Ce(t,e,n,o,r){ye(this),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===r&&(r=!1),this.l=2|(n?4:0)|(o?8:0)|(r?16:0),this.od=void 0!==t?t:0,this.pd=void 0!==e?e:0,this.pl=new H,this.sr=this.pl.Ja,this.fw=null}function xt(t,e,n,o,r,s,l,a){ye(this),void 0===t&&(t=Gt),this.na=t,this.l=2,this.Dc=void 0!==e?e:0,this.Ec=void 0!==n?n:0,void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===l&&(l=0),t===Mn?(0>(t=s%360)&&(t+=360),this.Ne=t,this.Vh=0,this.Wh=Math.max(o,0),this.Pg=Math.max(r,0),"boolean"==typeof l?l&&(this.isLargeArc=!0):"number"==typeof l&&l&&(this.isLargeArc=!0),a&&(this.isClockwiseArc=!0)):(this.Ne=o,this.Vh=r,t===pe&&(s=Math.max(s,0)),this.Wh=s,"number"==typeof l?(t===pe&&(l=Math.max(l,0)),this.Pg=l):this.Pg=0),this.ae=null}function xo(t,e){if(null!==t.ae&&!1===e._isInvalidBounds)return t.ae;var n=t.radiusX,o=t.radiusY;if(void 0===o&&(o=n),0===n||0===o)return t.ae=[],t.ae;e=t.Ne;var r=t.Vh,s=N.jx(0,0,n<o?n:o,t.startAngle,t.startAngle+t.sweepAngle,!1);if(n!==o){var l=ct.alloc();l.reset(),n<o?l.scale(1,o/n):l.scale(n/o,1),Y.Ha(s,l),ct.free(l)}for(n=s.length,o=0;o<n;o++)(l=s[o])[0]+=e,l[1]+=r,l[2]+=e,l[3]+=r,l[4]+=e,l[5]+=r,l[6]+=e,l[7]+=r;return t.ae=s,t.ae}function Cr(t,e,n,o){function r(P,T,S,A){return(P*A<T*S?-1:1)*Math.acos((P*S+T*A)/(Math.sqrt(P*P+T*T)*Math.sqrt(S*S+A*A)))}if(null!==t.ae&&!1===e._isInvalidBounds)return t.ae;if(0===t.radiusX||0===t.radiusY)return t.ae=[],t.ae;var s=t.Pg;0===(e=t.Wh)&&(e=1e-4),0===s&&(s=1e-4);var l=Math.PI/180*t.Ne,a=t.isLargeArc,p=t.isClockwiseArc,d=t.Dc,f=t.Ec,g=Math.cos(l),m=Math.sin(l),v=g*(n-d)/2+m*(o-f)/2,y=v*v/(e*e)+(l=-m*(n-d)/2+g*(o-f)/2)*l/(s*s);return 1<y&&(e*=Math.sqrt(y),s*=Math.sqrt(y)),y=(a===p?-1:1)*Math.sqrt((e*e*s*s-e*e*l*l-s*s*v*v)/(e*e*l*l+s*s*v*v)),isNaN(y)&&(y=0),a=y*e*l/s,y=y*-s*v/e,isNaN(a)&&(a=0),isNaN(y)&&(y=0),n=(n+d)/2+g*a-m*y,o=(o+f)/2+m*a+g*y,f=r(1,0,(v-a)/e,(l-y)/s),l=r(g=(v-a)/e,d=(l-y)/s,v=(-v-a)/e,a=(-l-y)/s),-1>=(v=(g*v+d*a)/(Math.sqrt(g*g+d*d)*Math.sqrt(v*v+a*a)))?l=Math.PI:1<=v&&(l=0),!p&&0<l&&(l-=2*Math.PI),p&&0>l&&(l+=2*Math.PI),p=e>s?1:e/s,v=e>s?s/e:1,e=N.jx(0,0,e>s?e:s,f,f+l,!0),(s=ct.alloc()).reset(),s.translate(n,o),s.rotate(t.Ne,0,0),s.scale(p,v),Y.Ha(e,s),ct.free(s),t.ae=e,t.ae}N.za=N.AA,Y.prototype.copy=function(){var t=new Y;if(t.l=-2&this.l,t.na=this.na,t.od=this.od,t.pd=this.pd,t.Dc=this.Dc,t.Ec=this.Ec,this.na===Y.o){for(var e=this.ee.s,n=t.ee,o=0;o<e.length;o++)n.add(e[o].copy());t.ee=n}else t.ee=this.ee;return t.aq=this.aq,t.Ip.assign(this.Ip),t.tk=this.tk,t.ym=this.ym,t.zm=this.zm,t.fg=this.fg.J(),t.gg=this.gg.J(),t.Sk=this.Sk,t.Rk=this.Rk,t.Uf=this.Uf,t},Y.prototype.ja=function(){return this.freeze(),Object.freeze(this),this},Y.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==Y.o)return this;var t=this.figures;t.freeze();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].freeze();return this},Y.prototype.ka=function(){if(Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==Y.o)return this;var t=this.figures;t.ka();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].ka();return this},Y.prototype.Xa=function(t){if(!(t instanceof Y))return!1;if(this.type!==t.type)return this.type===Y.j&&t.type===Y.o?r0(this,t):t.type===Y.j&&this.type===Y.o&&r0(t,this);if(this.type===Y.o){var e=this.figures.s,n=e.length;if(n!==(t=t.figures.s).length)return!1;for(var o=0;o<n;o++)if(!e[o].Xa(t[o]))return!1;return!0}return N.B(this.startX,t.startX)&&N.B(this.startY,t.startY)&&N.B(this.endX,t.endX)&&N.B(this.endY,t.endY)},Y.ia=function(t){return t.toString()},Y.prototype.qb=function(t){t.classType===Y&&(this.type=t)},Y.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Y.j:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case Y.u:var e=new U(this.startX,this.startY,0,0);return e.Kv(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Y.F:if((e=new U(this.startX,this.startY,0,0)).Kv(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var n=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n;case Y.o:e="";for(var o=(n=this.figures.s).length,r=0;r<o;r++){var s=n[r];0<r&&(e+=" x "),s.isFilled&&(e+="F "),e+=s.toString(t)}return e;default:return this.type.toString()}},Y.nb=function(t){for(var e=(t=t.split(/[Xx]/)).length,n="",o=0;o<e;o++){var r=t[o];n=null!==r.match(/[Ff]/)?0===o?n+r:n+"X"+(" "===r[0]?"":" ")+r:n+(0===o?"":"X ")+"F"+(" "===r[0]?"":" ")+r}return n},Y.parse=function(t,e){function n(){return P>=Z-1||null!==d[P+1].match(j)}function o(){return P++,d[P]}function r(st){var it=parseFloat(o()),yt=parseFloat(o());T===T.toLowerCase()&&(it=M.x+it,yt=M.y+yt),st.h(it,yt)}function s(){return r(M),M}function l(){return r(A),A}function a(){var st=S.toLowerCase();return"c"!==st&&"s"!==st&&"q"!==st&&"t"!==st?M:new w(2*M.x-A.x,2*M.y-A.y)}void 0===e&&(e=!1);var p=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,d=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(p,"$1 $2")).replace(p,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2")).replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<d.length;t++){var f=d[t];if(null!==f.match(/(\.[0-9]*)(\.)/gm)){p=bt();for(var g="",m=!1,v=0;v<f.length;v++){var y=f[v];"."!==y||m?"."===y?(p.push(g),g="."):g+=y:(m=!0,g+=y)}for(p.push(g),d.splice(t,1),f=0;f<p.length;f++)d.splice(t+f,0,p[f]);t+=p.length-1,Nt(p)}}var P=-1,T="",S="";p=new w(0,0);var A=new w(0,0),M=new w(0,0),Z=d.length;t=a1(null),m=g=f=!1,v=!0,y=null;for(var j=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(P>=Z-1);)if(S=T,""!==(T=o()))switch(T.toUpperCase()){case"X":v=!0,g=f=!1;break;case"M":for(y=s(),null===t.mc||!0===v?(Sl(t,y.x,y.y,f,!g,m),v=!1):t.moveTo(y.x,y.y),p.assign(M);!n();)y=s(),t.lineTo(y.x,y.y);break;case"L":for(;!n();)y=s(),t.lineTo(y.x,y.y);break;case"H":for(;!n();)M=new w((T===T.toLowerCase()?M.x:0)+parseFloat(o()),M.y),t.lineTo(M.x,M.y);break;case"V":for(;!n();)M=new w(M.x,(T===T.toLowerCase()?M.y:0)+parseFloat(o())),t.lineTo(M.x,M.y);break;case"C":for(;!n();){r(y=new w);var k=l(),J=s();Jo(t,y.x,y.y,k.x,k.y,J.x,J.y)}break;case"S":for(;!n();)y=a(),k=l(),J=s(),Jo(t,y.x,y.y,k.x,k.y,J.x,J.y);break;case"Q":for(;!n();)y=l(),k=s(),xh(t,y.x,y.y,k.x,k.y);break;case"T":for(;!n();)A=y=a(),k=s(),xh(t,y.x,y.y,k.x,k.y);break;case"B":for(;!n();){y=parseFloat(o()),k=parseFloat(o()),J=parseFloat(o());var V=parseFloat(o()),K=parseFloat(o()),b=K,F=!1;n()||(b=parseFloat(o()),n()||(F=0!==parseFloat(o()))),T===T.toLowerCase()&&(J+=M.x,V+=M.y),t.arcTo(y,k,J,V,K,b,F)}break;case"A":for(;!n();)y=Math.abs(parseFloat(o())),k=Math.abs(parseFloat(o())),J=parseFloat(o()),K=V=!1,F=b=0,1===(b=o()).length?(V=!!parseFloat(b),K=!!parseFloat(o()),b=parseFloat(o())):2===b.length?(V=!!parseFloat(b[0]),K=!!parseFloat(b[1]),b=parseFloat(o())):(V=!!parseFloat(b[0]),K=!!parseFloat(b[1]),b=parseFloat(b.slice(2))),F=parseFloat(o()),T===T.toLowerCase()&&(b=M.x+b,F=M.y+F),M.h(b,F),r2(t,y,k,J,V,K,b,F);break;case"Z":o2(t),M.assign(p);break;case"F":for(y="",k=1;d[P+k];)if("0"===d[P+k])m=!0,k++;else if(null!==d[P+k].match(/[Uu]/))k++;else{if(null!==d[P+k].match(j)){y=d[P+k];break}k++}y.match(/[Mm]/)?f=!0:0<t.mc.segments.length&&(t.mc.isFilled=!0);break;case"U":for(y="",k=1;d[P+k];)if(null!==d[P+k].match(/[Ff]/))k++;else{if(null!==d[P+k].match(j)){y=d[P+k];break}k++}y.match(/[Mm]/)?g=!0:t.mc.isShadowed=!1}if(p=t.os,Ph=t,e)for(e=p.figures.iterator;e.next();)e.value.isFilled=!0;return p},Y.Ha=function(t,e){for(var n=t.length,o=w.alloc(),r=0;r<n;r++){var s=t[r];o.x=s[0],o.y=s[1],e.Ga(o),s[0]=o.x,s[1]=o.y,o.x=s[2],o.y=s[3],e.Ga(o),s[2]=o.x,s[3]=o.y,o.x=s[4],o.y=s[5],e.Ga(o),s[4]=o.x,s[5]=o.y,o.x=s[6],o.y=s[7],e.Ga(o),s[6]=o.x,s[7]=o.y}w.free(o)},Y.prototype.Zu=function(){if(this._isInvalidBounds)return!0;if(this.type===Y.o){if(this.aq!==this.figures.Ja)return!0;for(var t=this.figures.s,e=t.length,n=0;n<e;n++)if(t[n].Zu())return!0}return!1},Y.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.ym=this.tk=null,this.zm=NaN,this.type===Y.o){this.aq=this.figures.Ja;for(var t=this.figures.s,e=t.length,n=0;n<e;n++){var o=t[n];o._isInvalidBounds=!1;var r=o.segments;o.sr=r.Ja,r=(o=r.s).length;for(var s=0;s<r;s++){var l=o[s];l._isInvalidBounds=!1,l.ae=null}}}(t=this.Ip).ka(),isNaN(this.Sk)||isNaN(this.Rk)?t.h(0,0,0,0):t.h(0,0,this.Sk,this.Rk),s0(this,t,!1),Me(t,0,0,0,0),t.freeze()},Y.prototype.ix=function(){var t=new U;return s0(this,t,!0),t},Y.prototype.normalize=function(){this._isFrozen&&gt(this);var t=this.ix();return this.offset(-t.x,-t.y),new w(-t.x,-t.y)},Y.prototype.offset=function(t,e){return this._isFrozen&&gt(this),this.transform(1,0,0,1,t,e),this},Y.prototype.scale=function(t,e){return this._isFrozen&&gt(this),this.transform(t,0,0,e,0,0),this},Y.prototype.rotate=function(t,e,n){this._isFrozen&&gt(this),void 0===e&&(e=0),void 0===n&&(n=0);var o=ct.alloc();return o.reset(),o.rotate(t,e,n),this.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),ct.free(o),this},(x=Y.prototype).transform=function(t,e,n,o,r,s){switch(this.type){case Y.j:case Y.u:case Y.F:var l=this.od,a=this.pd;this.od=l*t+a*n+r,this.pd=l*e+a*o+s,this.Dc=(l=this.Dc)*t+(a=this.Ec)*n+r,this.Ec=l*e+a*o+s;break;case Y.o:for(var p=this.figures.s,d=p.length,f=0;f<d;f++){var g=p[f];g.startX=(l=g.startX)*t+(a=g.startY)*n+r,g.startY=l*e+a*o+s;for(var m=(g=g.segments.s).length,v=0;v<m;v++){var y=g[v];switch(y.type){case Gt:case fn:y.endX=(l=y.endX)*t+(a=y.endY)*n+r,y.endY=l*e+a*o+s;break;case Yi:y.point1X=(l=y.point1X)*t+(a=y.point1Y)*n+r,y.point1Y=l*e+a*o+s,y.point2X=(l=y.point2X)*t+(a=y.point2Y)*n+r,y.point2Y=l*e+a*o+s,y.endX=(l=y.endX)*t+(a=y.endY)*n+r,y.endY=l*e+a*o+s;break;case Rn:y.point1X=(l=y.point1X)*t+(a=y.point1Y)*n+r,y.point1Y=l*e+a*o+s,y.endX=(l=y.endX)*t+(a=y.endY)*n+r,y.endY=l*e+a*o+s;break;case pe:y.centerX=(l=y.centerX)*t+(a=y.centerY)*n+r,y.centerY=l*e+a*o+s,0!==e&&(0>(l=180*Math.atan2(e,t)/Math.PI)&&(l+=360),y.startAngle+=l),0>t&&(y.startAngle=180-y.startAngle,y.sweepAngle=-y.sweepAngle),0>o&&(y.startAngle=-y.startAngle,y.sweepAngle=-y.sweepAngle),y.radiusX*=Math.sqrt(t*t+n*n),void 0!==y.radiusY&&(y.radiusY*=Math.sqrt(e*e+o*o));break;case Mn:if(y.endX=(l=y.endX)*t+(a=y.endY)*n+r,y.endY=l*e+a*o+s,0===y.radiusX||0===y.radiusY)break;0!==e&&(0>(l=180*Math.atan2(e,t)/Math.PI)&&(l+=360),y.xAxisRotation+=l),0>t&&(y.xAxisRotation=180-y.xAxisRotation,y.isClockwiseArc=!y.isClockwiseArc),0>o&&(y.xAxisRotation=-y.xAxisRotation,y.isClockwiseArc=!y.isClockwiseArc),y.radiusX*=Math.sqrt(t*t+n*n),y.radiusY*=Math.sqrt(e*e+o*o);break;default:q("Unknown Segment type: "+y.type)}}}}return this._isInvalidBounds=!0,this},x.ca=function(t,e){void 0===e&&(e=0);var n=this.od,o=this.pd,r=this.Dc,s=this.Ec;switch(this.type){case Y.j:return N.Yb(n,o,r,s,e,t.x,t.y);case Y.u:var l=U.allocAt(Math.min(n,r)-e,Math.min(o,s)-e,Math.abs(r-n)+2*e,Math.abs(s-o)+2*e);return t=l.ca(t),U.free(l),t;case Y.F:l=Math.min(n,r)-e;var a=Math.min(o,s)-e;return n=(Math.abs(r-n)+2*e)/2,e=(Math.abs(s-o)+2*e)/2,!(0>=n||0>=e)&&1>=(l=t.x-(l+n))*l/(n*n)+(a=t.y-(a+e))*a/(e*e);case Y.o:return tc(this,t,e,!0,!1);default:return!1}},x.Pu=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new w),this.type===Y.j)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var n=this.flattenedSegments,o=this.flattenedLengths,r=n.length,s=this.flattenedTotalLength*t,l=0,a=0;a<r;a++){var p=o[a],d=p.length;for(t=0;t<d;t++){var f=p[t];if(l+f>=s)return o=s-l,e.h((a=(n=n[a])[2*t])+(n[2*t+2]-a)*(o=0===f?0:o/f),(r=n[2*t+1])+(n[2*t+3]-r)*o),e;l+=f}}return e},x.wx=function(t){if(0>t?t=0:1<t&&(t=1),this.type===Y.j)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,n=this.flattenedLengths,o=e.length,r=this.flattenedTotalLength*t,s=0,l=0;l<o;l++){var a=n[l],p=a.length;for(t=0;t<p;t++){var d=a[t];if(s+d>=r)return e=(r=e[l])[2*t],n=r[2*t+1],o=r[2*t+2],t=r[2*t+3],1>Math.abs(o-e)&&1>Math.abs(t-n)?0:1>Math.abs(o-e)?0<=t-n?90:270:1>Math.abs(t-n)?0<=o-e?0:180:180*Math.atan2(t-n,o-e)/Math.PI;s+=d}}return NaN},x.Qu=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===Y.j)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var n=this.flattenedSegments,o=this.flattenedLengths,r=n.length,s=this.flattenedTotalLength*t,l=0,a=0;a<r;a++){var p=o[a],d=p.length;for(t=0;t<d;t++){var f=p[t];if(l+f>=s)return o=s-l,o=0===f?0:o/f,n=(f=n[a])[2*t],a=f[2*t+1],r=f[2*t+2],t=f[2*t+3],e[0]=n+(r-n)*o,e[1]=a+(t-a)*o,e[2]=1>Math.abs(r-n)&&1>Math.abs(t-a)?0:1>Math.abs(r-n)?0<=t-a?90:270:1>Math.abs(t-a)?0<=r-n?0:180:180*Math.atan2(t-a,r-n)/Math.PI,e;l+=f}}return e},x.xx=function(t){if(this.type===Y.j){var e=this.startX,n=this.startY,o=this.endX,r=this.endY;if(e!==o||n!==r){var s=t.x;if(t=t.y,e===o){if(n<r){var l=n;o=r}else l=r,o=n;return t<=l?l===n?0:1:t>=o?o===n?0:1:Math.abs(t-n)/(o-l)}if(n===r)return e<o?l=e:(l=o,o=e),s<=l?l===e?0:1:s>=o?o===e?0:1:Math.abs(s-e)/(o-l);l=(o-e)*(o-e)+(r-n)*(r-n);var a=w.alloc();return N.qh(e,n,o,r,s,t,a),t=a.x,s=a.y,w.free(a),Math.sqrt(((t-e)*(t-e)+(s-n)*(s-n))/l)}}else{if(this.type!==Y.u){e=this.flattenedSegments,n=this.flattenedLengths,s=this.flattenedTotalLength,o=w.alloc(),r=1/0,a=l=0,p=e.length;for(var f=d=0,g=0;g<p;g++)for(var m=e[g],v=n[g],y=m.length,P=0;P<y;P+=2){var T=m[P],S=m[P+1];if(0!==P){N.qh(d,f,T,S,t.x,t.y,o);var A=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y);A<r&&(r=A,l=a,l+=Math.sqrt((o.x-d)*(o.x-d)+(o.y-f)*(o.y-f))),a+=v[(P-2)/2]}d=T,f=S}return w.free(o),0>(t=l/s)?0:1<t?1:t}a=this.startY;var p=this.endX;if(r=this.endY,(l=this.startX)!==p||a!==r){s=2*(e=p-l)+2*(n=r-a),o=t.x,t=t.y,o=Math.min(Math.max(o,l),p),t=Math.min(Math.max(t,a),r),l=Math.abs(o-l),p=Math.abs(o-p),a=Math.abs(t-a),r=Math.abs(t-r);var d=Math.min(l,p,a,r);if(d===a)return o/s;if(d===p)return(e+t)/s;if(d===r)return(2*e+n-o)/s;if(d===l)return(2*e+2*n-t)/s}}return 0},x.add=function(t){return this.ee.add(t),this},x.pm=function(t,e,n,o,r,s,l,a){return this._isFrozen&&gt(this),this.fg=new $(t,e,r,s).freeze(),this.gg=new $(n,o,l,a).freeze(),this},pt.Object.defineProperties(Y.prototype,{_isFrozen:{get:function(){return 0!=(1&this.l)},set:function(t){this.l=t?1|this.l:-2&this.l}},_isInvalidBounds:{get:function(){return 0!=(2&this.l)},set:function(t){this.l=t?2|this.l:-3&this.l}},flattenedSegments:{get:function(){return u0(this),this.tk}},flattenedLengths:{get:function(){return u0(this),this.ym}},flattenedTotalLength:{get:function(){var t=this.zm;if(isNaN(t)){if(this.type===Y.j){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===Y.u)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var n=(e=this.flattenedLengths).length,o=t=0;o<n;o++)for(var r=e[o],s=r.length,l=0;l<s;l++)t+=r[l];this.zm=t}return t}},type:{get:function(){return this.na},set:function(t){this.na!==t&&(this._isFrozen&&gt(this,t),this.na=t,t===Y.o?this.ee=new H:(null===Y.V&&(Y.V=(new H).freeze()),this.ee=Y.V),this._isInvalidBounds=!0)}},startX:{get:function(){return this.od},set:function(t){this.od!==t&&(this._isFrozen&&gt(this,t),this.od=t,this._isInvalidBounds=!0)}},startY:{get:function(){return this.pd},set:function(t){this.pd!==t&&(this._isFrozen&&gt(this,t),this.pd=t,this._isInvalidBounds=!0)}},endX:{get:function(){return this.Dc},set:function(t){this.Dc!==t&&(this._isFrozen&&gt(this,t),this.Dc=t,this._isInvalidBounds=!0)}},endY:{get:function(){return this.Ec},set:function(t){this.Ec!==t&&(this._isFrozen&&gt(this,t),this.Ec=t,this._isInvalidBounds=!0)}},figures:{get:function(){return this.ee},set:function(t){this.ee!==t&&(this._isFrozen&&gt(this,t),this.ee=t,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.fg},set:function(t){this._isFrozen&&gt(this,t),this.fg=t.J()}},spot2:{get:function(){return this.gg},set:function(t){this._isFrozen&&gt(this,t),this.gg=t.J()}},defaultStretch:{get:function(){return this.Uf},set:function(t){this._isFrozen&&gt(this,t),this.Uf=t}},bounds:{get:function(){return this.Zu()&&this.computeBounds(),this.Ip}}}),Y.prototype.setSpots=Y.prototype.pm,Y.prototype.add=Y.prototype.add,Y.prototype.getFractionForPoint=Y.prototype.xx,Y.prototype.getPointAndAngleAlongPath=Y.prototype.Qu,Y.prototype.getAngleAlongPath=Y.prototype.wx,Y.prototype.getPointAlongPath=Y.prototype.Pu,Y.prototype.containsPoint=Y.prototype.ca,Y.prototype.transform=Y.prototype.transform,Y.prototype.rotate=Y.prototype.rotate,Y.prototype.scale=Y.prototype.scale,Y.prototype.offset=Y.prototype.offset,Y.prototype.normalize=Y.prototype.normalize,Y.prototype.computeBoundsWithoutOrigin=Y.prototype.ix,Y.prototype.equalsApprox=Y.prototype.Xa,Y.className="Geometry",Y.j=new Q(Y,"Line",0),Y.u=new Q(Y,"Rectangle",1),Y.F=new Q(Y,"Ellipse",2),Y.o=new Q(Y,"Path",3),Y.V=null,Y.hb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",Y.className="Geometry",Y.stringify=Y.ia,Y.fillPath=Y.nb,Y.parse=Y.parse,Y.Line=Y.j,Y.Rectangle=Y.u,Y.Ellipse=Y.F,Y.Path=Y.o,Ce.prototype.copy=function(){var t=new Ce;t.l=-2&this.l,t.od=this.od,t.pd=this.pd;for(var e=this.pl.s,n=e.length,o=t.pl,r=0;r<n;r++){var s=e[r].copy();o.add(s)}return t.sr=this.sr,t.fw=this.fw,t},(x=Ce.prototype).Xa=function(t){if(!(t instanceof Ce&&N.B(this.startX,t.startX)&&N.B(this.startY,t.startY)))return!1;var e=this.segments.s,n=e.length;if(n!==(t=t.segments.s).length)return!1;for(var o=0;o<n;o++)if(!e[o].Xa(t[o]))return!1;return!0},x.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),n=this.segments.s,o=n.length,r=0;r<o;r++)e+=" "+n[r].toString(t);return e},x.freeze=function(){this._isFrozen=!0;var t=this.segments;t.freeze();var e=t.s;t=t.length;for(var n=0;n<t;n++)e[n].freeze();return this},x.ka=function(){this._isFrozen=!1;var t=this.segments;t.ka();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].ka();return this},x.Zu=function(){if(this._isInvalidBounds)return!0;var t=this.segments;if(this.sr!==t.Ja)return!0;for(var e=(t=t.s).length,n=0;n<e;n++)if(t[n]._isInvalidBounds)return!0;return!1},x.add=function(t){return this.pl.add(t),this},x.ca=function(t,e,n){for(var o=this.startX,r=this.startY,s=o,l=r,a=this.segments.s,p=a.length,d=0;d<p;d++){var f=a[d];switch(f.type){case fn:s=f.endX,l=f.endY,o=f.endX,r=f.endY;break;case Gt:if(N.Yb(o,r,f.endX,f.endY,n,t,e))return!0;o=f.endX,r=f.endY;break;case Yi:if(N.cs(o,r,f.point1X,f.point1Y,f.point2X,f.point2Y,f.endX,f.endY,.5,t,e,n))return!0;o=f.endX,r=f.endY;break;case Rn:if(N.jv(o,r,f.point1X,f.point1Y,f.endX,f.endY,.5,t,e,n))return!0;o=f.endX,r=f.endY;break;case pe:case Mn:var g=f.type===pe?xo(f,this):Cr(f,this,o,r),m=g.length,v=f.type===pe?f.centerX:f.endX,y=f.type===pe?f.centerY:f.endY;if(0===m){if(N.Yb(o,r,v,y,n,t,e))return!0;o=v,r=y;break}for(v=null,y=0;y<m;y++)if(v=g[y],0===y&&N.Yb(o,r,v[0],v[1],n,t,e)||N.cs(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],.5,t,e,n))return!0;null!==v&&(o=v[6],r=v[7]);break;default:q("Unknown Segment type: "+f.type)}if(f.isClosed&&(o!==s||r!==l)&&N.Yb(o,r,s,l,n,t,e))return!0}return!1},pt.Object.defineProperties(Ce.prototype,{_isFrozen:{get:function(){return 0!=(1&this.l)},set:function(t){this.l=t?1|this.l:-2&this.l}},_isInvalidBounds:{get:function(){return 0!=(2&this.l)},set:function(t){this.l=t?2|this.l:-3&this.l}},isFilled:{get:function(){return 0!=(4&this.l)},set:function(t){this._isFrozen&&gt(this,t),this.l=t?4|this.l:-5&this.l}},isShadowed:{get:function(){return 0!=(8&this.l)},set:function(t){this._isFrozen&&gt(this,t),this.l=t?8|this.l:-9&this.l}},isEvenOdd:{get:function(){return 0!=(16&this.l)},set:function(t){this._isFrozen&&gt(this,t),this.l=t?16|this.l:-17&this.l}},startX:{get:function(){return this.od},set:function(t){this._isFrozen&&gt(this,t),this.od=t,this._isInvalidBounds=!0}},startY:{get:function(){return this.pd},set:function(t){this._isFrozen&&gt(this,t),this.pd=t,this._isInvalidBounds=!0}},segments:{get:function(){return this.pl},set:function(t){this._isFrozen&&gt(this,t),this.pl=t,this._isInvalidBounds=!0}}}),Ce.prototype.add=Ce.prototype.add,Ce.prototype.equalsApprox=Ce.prototype.Xa,Ce.className="PathFigure",xt.prototype.copy=function(){var t=new xt;return t.na=this.na,t.l=-2&this.l,t.Dc=this.Dc,t.Ec=this.Ec,t.Ne=this.Ne,t.Vh=this.Vh,t.Wh=this.Wh,t.Pg=this.Pg,t},(x=xt.prototype).Xa=function(t){if(!(t instanceof xt)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case fn:case Gt:return N.B(this.endX,t.endX)&&N.B(this.endY,t.endY);case Yi:return N.B(this.endX,t.endX)&&N.B(this.endY,t.endY)&&N.B(this.point1X,t.point1X)&&N.B(this.point1Y,t.point1Y)&&N.B(this.point2X,t.point2X)&&N.B(this.point2Y,t.point2Y);case Rn:return N.B(this.endX,t.endX)&&N.B(this.endY,t.endY)&&N.B(this.point1X,t.point1X)&&N.B(this.point1Y,t.point1Y);case pe:return N.B(this.startAngle,t.startAngle)&&N.B(this.sweepAngle,t.sweepAngle)&&N.B(this.centerX,t.centerX)&&N.B(this.centerY,t.centerY)&&N.B(this.radiusX,t.radiusX)&&N.B(this.radiusY,t.radiusY);case Mn:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&N.B(this.xAxisRotation,t.xAxisRotation)&&N.B(this.endX,t.endX)&&N.B(this.endY,t.endY)&&N.B(this.radiusX,t.radiusX)&&N.B(this.radiusY,t.radiusY);default:return!1}},x.qb=function(t){t.classType===xt&&(this.type=t)},x.toString=function(t){switch(void 0===t&&(t=-1),this.type){case fn:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Gt:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Yi:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Rn:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case pe:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case Mn:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.isClosed?"z":"")},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return this._isFrozen=!1,this},x.close=function(){return this.isClosed=!0,this},pt.Object.defineProperties(xt.prototype,{_isFrozen:{get:function(){return 0!=(1&this.l)},set:function(t){this.l=t?1|this.l:-2&this.l}},_isInvalidBounds:{get:function(){return 0!=(2&this.l)},set:function(t){this.l=t?2|this.l:-3&this.l}},isClosed:{get:function(){return 0!=(8&this.l)},set:function(t){this.isClosed!==t&&(this.l=t?8|this.l:-9&this.l,this._isInvalidBounds=!0)}},type:{get:function(){return this.na},set:function(t){this._isFrozen&&gt(this,t),this.na=t,this._isInvalidBounds=!0}},endX:{get:function(){return this.Dc},set:function(t){this._isFrozen&&gt(this,t),this.Dc=t,this._isInvalidBounds=!0}},endY:{get:function(){return this.Ec},set:function(t){this._isFrozen&&gt(this,t),this.Ec=t,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Ne},set:function(t){this._isFrozen&&gt(this,t),this.Ne=t,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Vh},set:function(t){this._isFrozen&&gt(this,t),this.Vh=t,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Wh},set:function(t){this._isFrozen&&gt(this,t),this.Wh=t,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Pg},set:function(t){this._isFrozen&&gt(this,t),this.Pg=t,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Ne},set:function(t){this._isFrozen&&gt(this,t),this.Ne=t,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Vh},set:function(t){this._isFrozen&&gt(this,t),this.Vh=t,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Wh},set:function(t){0>t&&Jt(t,">= zero",xt,"radiusX"),this._isFrozen&&gt(this,t),this.Wh=t,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Pg},set:function(t){0>t&&Jt(t,">= zero",xt,"radiusY"),this._isFrozen&&gt(this,t),this.Pg=t,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.Dc},set:function(t){this._isFrozen&&gt(this,t),0>(t%=360)&&(t+=360),this.Dc=t,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.Ec},set:function(t){this._isFrozen&&gt(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Ec=t,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return 0!=(4&this.l)},set:function(t){this._isFrozen&&gt(this,t),this.l=t?4|this.l:-5&this.l,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return 0!=(16&this.l)},set:function(t){this._isFrozen&&gt(this,t),this.l=t?16|this.l:-17&this.l,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Ne},set:function(t){this._isFrozen&&gt(this,t),0>(t%=360)&&(t+=360),this.Ne=t,this._isInvalidBounds=!0}}}),xt.prototype.equalsApprox=xt.prototype.Xa;var fn=new Q(xt,"Move",0),Gt=new Q(xt,"Line",1),Yi=new Q(xt,"Bezier",2),Rn=new Q(xt,"QuadraticBezier",3),pe=new Q(xt,"Arc",4),Mn=new Q(xt,"SvgArc",4);function Ji(){this.H=null,this.xu=new w(0,0).freeze(),this.mt=new w(0,0).freeze(),this.Bp=this.Rq=0,this.Cp=1,this.xq="",this.Wr=this.Tp=!1,this.Rp=this.Ep=0,this.xg=this.nq=this.tq=!1,this.Zp=null,this.Rr=0,this.xd=this.Nr=null}function us(){this.H=null,this.xa="",this.ar=this.Lr=null}function Kt(){this.Fm=Bt,this.rf=this.Qq="",this.Ln=this.Mn=this.Rn=this.Sn=this.Qn=this.H=this.cc=null}xt.className="PathSegment",xt.Move=fn,xt.Line=Gt,xt.Bezier=Yi,xt.QuadraticBezier=Rn,xt.Arc=pe,xt.SvgArc=Mn,Ji.prototype.copy=function(){var t=new Ji;return this.clone(t)},Ji.prototype.clone=function(t){return t.H=this.H,t.xu.assign(this.viewPoint),t.mt.assign(this.documentPoint),t.Rq=this.Rq,t.Bp=this.Bp,t.Cp=this.Cp,t.xq=this.xq,t.Tp=this.Tp,t.Wr=this.Wr,t.Ep=this.Ep,t.Rp=this.Rp,t.tq=this.tq,t.nq=this.nq,t.xg=this.xg,t.Zp=this.Zp,t.Rr=this.Rr,t.Nr=this.Nr,t.xd=this.xd,t},Ji.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},Ji.prototype.So=function(t,e){var n=this.diagram;return null===n||z0(n,t,e),e},Ji.prototype.Bz=function(t,e){var n=this.diagram;return null===n||(z0(n,t,e),e.assign(n.Ps(e))),e},pt.Object.defineProperties(Ji.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},viewPoint:{get:function(){return this.xu},set:function(t){this.xu.assign(t)}},documentPoint:{get:function(){return this.mt},set:function(t){this.mt.assign(t)}},modifiers:{get:function(){return this.Rq},set:function(t){this.Rq=t}},button:{get:function(){return this.Bp},set:function(t){if(this.Bp=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Cp},set:function(t){this.Cp=t}},key:{get:function(){return this.xq},set:function(t){this.xq=t}},down:{get:function(){return this.Tp},set:function(t){this.Tp=t}},up:{get:function(){return this.Wr},set:function(t){this.Wr=t}},clickCount:{get:function(){return this.Ep},set:function(t){this.Ep=t}},delta:{get:function(){return this.Rp},set:function(t){this.Rp=t}},isMultiTouch:{get:function(){return this.tq},set:function(t){this.tq=t}},handled:{get:function(){return this.nq},set:function(t){this.nq=t}},bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},event:{get:function(){return this.Zp},set:function(t){this.Zp=t}},isTouchEvent:{get:function(){var t=this.event;return null!==t&&("touch"===t.pointerType||"pen"===t.pointerType)}},timestamp:{get:function(){return this.Rr},set:function(t){this.Rr=t}},targetDiagram:{get:function(){return this.Nr},set:function(t){this.Nr=t}},targetObject:{get:function(){return this.xd},set:function(t){this.xd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),Ji.prototype.getMultiTouchDocumentPoint=Ji.prototype.Bz,Ji.prototype.getMultiTouchViewPoint=Ji.prototype.So,Ji.className="InputEvent",us.prototype.copy=function(){var t=new us;return t.H=this.H,t.xa=this.xa,t.Lr=this.Lr,t.ar=this.ar,t},us.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},pt.Object.defineProperties(us.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},subject:{get:function(){return this.Lr},set:function(t){this.Lr=t}},parameter:{get:function(){return this.ar},set:function(t){this.ar=t}}}),us.className="DiagramEvent",Kt.prototype.clear=function(){this.Ln=this.Mn=this.Rn=this.Sn=this.Qn=this.H=this.cc=null},Kt.prototype.copy=function(){var t=new Kt;t.Fm=this.Fm,t.Qq=this.Qq,t.rf=this.rf,t.cc=this.cc,t.H=this.H,t.Qn=this.Qn;var e=this.Sn;return t.Sn=Et(e)&&"function"==typeof e.J?e.J():e,t.Rn=Et(e=this.Rn)&&"function"==typeof e.J?e.J():e,t.Mn=Et(e=this.Mn)&&"function"==typeof e.J?e.J():e,t.Ln=Et(e=this.Ln)&&"function"==typeof e.J?e.J():e,t},Kt.prototype.qb=function(t){t.classType===Kt&&(this.change=t)},Kt.prototype.toString=function(){var t="";return t=this.change===Zn?t+"* ":this.change===Bt?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Zn?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=cn(this.object)),null!==this.oldValue&&(t+="  old: "+cn(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+cn(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},Kt.prototype.I=function(t){return t?this.oldValue:this.newValue},Kt.prototype.Dz=function(t){return t?this.oldParam:this.newParam},Kt.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},Kt.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},Kt.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},Kt.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},pt.Object.defineProperties(Kt.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.H},set:function(t){this.H=t}},change:{get:function(){return this.Fm},set:function(t){this.Fm=t}},modelChange:{get:function(){return this.Qq},set:function(t){this.Qq=t}},propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},isTransactionFinished:{get:function(){return this.Fm===Zn&&("CommittedTransaction"===this.rf||"FinishedUndo"===this.rf||"FinishedRedo"===this.rf)}},object:{get:function(){return this.Qn},set:function(t){this.Qn=t}},oldValue:{get:function(){return this.Sn},set:function(t){this.Sn=t}},oldParam:{get:function(){return this.Rn},set:function(t){this.Rn=t}},newValue:{get:function(){return this.Mn},set:function(t){this.Mn=t}},newParam:{get:function(){return this.Ln},set:function(t){this.Ln=t}}}),Kt.prototype.redo=Kt.prototype.redo,Kt.prototype.canRedo=Kt.prototype.canRedo,Kt.prototype.undo=Kt.prototype.undo,Kt.prototype.canUndo=Kt.prototype.canUndo,Kt.prototype.getParam=Kt.prototype.Dz,Kt.prototype.getValue=Kt.prototype.I,Kt.prototype.clear=Kt.prototype.clear;var Zn=new Q(Kt,"Transaction",-1),Bt=new Q(Kt,"Property",0),ge=new Q(Kt,"Insert",1),_e=new Q(Kt,"Remove",2);function Ze(){this.o=(new H).freeze(),this.xa="",this.j=!1}function Xt(){this.Pt=new E,this.Jd=!1,this.u=(new H).freeze(),this.Ce=-1,this.o=999,this.Fe=!1,this.Np=null,this.bi=0,this.j=!1,this.Ie=(new H).freeze(),this.hl=new H,this.tt=!0,this.Dt=this.rq=this.Gt=this.Ft=!1}function a0(t,e,n){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&Di("Ending transaction without having started a transaction: "+n);var o=1===t.transactionLevel,r=t.currentTransaction;o&&e&&(t.isInternalTransaction||t.Ob("CommittingTransaction",n,r));var s=0;if(0<t.transactionLevel&&(t.bi--,t.isEnabled)){var l=t.Ie.count;0<l&&(""===n&&(n=t.Ie.M(0)),t.Ie.ka(),t.Ie.mb(l-1),t.Ie.freeze()),0<(l=t.hl.count)&&(s=t.hl.M(l-1),t.hl.mb(l-1))}if(o){if(e)t.rq=!1,null===r&&""!==n&&(r=t.currentTransaction),t.isEnabled&&null!==r&&(r.isComplete||(r.isComplete=!0,r.name=n),t.lx(),(e=t.history).ka(),0<=(o=t.maxHistoryLength)&&(0===o?e.clear():e.count>=o&&(null!==(s=e.M(0))&&s.clear(),e.mb(0),t.Ce--)),0===o||0!==e.count&&e.get(e.count-1)===r||(e.add(r),t.Ce++),e.freeze()),t.isInternalTransaction||t.Ob("CommittedTransaction",n,r);else{t.Fe=!0;try{t.isEnabled&&null!==r&&(r.isComplete=!0,r.undo())}finally{t.isInternalTransaction||t.Ob("RolledBackTransaction",n,r),t.Fe=!1}null!==r&&r.clear()}return t.Np=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==r){for(t=s,r=(n=r.changes).count-1;r>=t;r--)null!==(e=n.M(r))&&e.undo(),n.ka(),n.mb(r);n.freeze()}return!1}function vt(){ye(this),this.H=tl,this.xa="",this.Jd=!0,this.nb=!1,this.wm=null,this.yy=new Ji,this.Zr=-1}function Vt(){vt.call(this),this.name="ToolManager",this.hb=new H,this.ob=new H,this.Hb=new H,this.F=this.V=850,this.o=new ot(2,2).ja(),this.Ha=5e3,this.ia=Qs,this.u=p0,this.Mp=this.j=null,this.zj=-1}function h0(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}Kt.className="ChangedEvent",Kt.Transaction=Zn,Kt.Property=Bt,Kt.Insert=ge,Kt.Remove=_e,Ze.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var n=0;n<t;n++){var o=this.changes.M(n);null!==o&&(e+="\n  "+o.toString())}}return e},Ze.prototype.clear=function(){var t=this.changes;t.ka();for(var e=t.count-1;0<=e;e--){var n=t.M(e);null!==n&&n.clear()}t.clear(),t.freeze()},Ze.prototype.canUndo=function(){return this.isComplete},Ze.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.M(t);null!==e&&e.undo()}},Ze.prototype.canRedo=function(){return this.isComplete},Ze.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var n=this.changes.M(e);null!==n&&n.redo()}},Ze.prototype.ak=function(){if(this.isComplete){var t=this.changes;t.ka();for(var e=new lt,n=0;n<t.count;n++){var o=t.M(n);if(null!==o&&o.change===Bt&&o.object){var r=e.get(o.object);r||(r=new lt,e.set(o.object,r));var s=r.get(o.propertyName);null===s?r.set(o.propertyName,-1):(0<s&&t.cd(s,null),r.set(o.propertyName,n))}}for(n=e=0;n<t.count;n++)null!==(o=t.M(n))&&(n>e&&t.cd(e,o),e++);for(;t.length>e;)t.pop();t.freeze()}},pt.Object.defineProperties(Ze.prototype,{changes:{get:function(){return this.o}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isComplete:{get:function(){return this.j},set:function(t){this.j=t}}}),Ze.prototype.optimize=Ze.prototype.ak,Ze.prototype.redo=Ze.prototype.redo,Ze.prototype.canRedo=Ze.prototype.canRedo,Ze.prototype.undo=Ze.prototype.undo,Ze.prototype.canUndo=Ze.prototype.canUndo,Ze.prototype.clear=Ze.prototype.clear,Ze.className="Transaction",Xt.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var n=this.nestedTransactionNames.count,o=0;o<n;o++)0<o&&(e+=" "),e+=this.nestedTransactionNames.M(o);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,o=0;o<n;o++)e+="\n "+this.history.M(o).toString(t-1);return e},Xt.prototype.clear=function(){var t=this.history;t.ka();for(var e=t.count-1;0<=e;e--){var n=t.M(e);null!==n&&n.clear()}t.clear(),this.Ce=-1,t.freeze(),this.Fe=!1,this.Np=null,this.bi=0,this.Ie.ka(),this.Ie.clear(),this.Ie.freeze(),this.hl.clear(),this.Dt=this.rq=this.Gt=this.Ft=!1},Xt.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(x=Xt.prototype).Xw=function(t){this.Pt.add(t)},x.Rx=function(t){this.Pt.remove(t)},x.Ea=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.tt&&(this.tt=!1,this.bi++,this.isInternalTransaction||this.Ob("StartingFirstTransaction",t,this.currentTransaction),0<this.bi&&this.bi--),this.isEnabled&&(this.Ie.ka(),this.Ie.add(t),this.Ie.freeze(),this.hl.add(null===this.currentTransaction?0:this.currentTransaction.changes.count)),this.bi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Ob("StartedTransaction",t,this.currentTransaction)),e},x.eb=function(t){return void 0===t&&(t=""),a0(this,!0,t)},x.Kf=function(){return a0(this,!1,"")},x.lx=function(){if(!this.isUndoingRedoing&&this.canRedo()){var t=this.history;t.ka();for(var e=t.count-1;e>this.historyIndex;e--){var n=t.M(e);null!==n&&n.clear(),t.mb(e),this.rq=!0}t.freeze()}},Xt.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},Xt.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.Fe=!0,this.Ob("StartingUndo","Undo",t),this.Ce--,t.undo()}catch(e){Di("undo error: "+e.toString())}finally{this.Ob("FinishedUndo","Undo",t),this.Fe=!1}}},Xt.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},Xt.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.Fe=!0,this.Ob("StartingRedo","Redo",t),this.Ce++,t.redo()}catch(e){Di("redo error: "+e.toString())}finally{this.Ob("FinishedRedo","Redo",t),this.Fe=!1}}},Xt.prototype.Ob=function(t,e,n){void 0===n&&(n=null);var o=new Kt;for(o.change=Zn,o.propertyName=t,o.object=n,o.oldValue=e,t=this.models;t.next();)o.model=e=t.value,e.ds(o)},Xt.prototype.Tu=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Np=e=new Ze);var n=t.copy();(e=e.changes).ka(),e.add(n),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.tt&&(null!==(t=t.diagram)&&!1===t.pi||Di("Change not within a transaction: "+n.toString()))}},Xt.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},pt.Object.defineProperties(Xt.prototype,{models:{get:function(){return this.Pt.iterator}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.M(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.M(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.Fe}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.o},set:function(t){this.o=t}},historyIndex:{get:function(){return this.Ce}},currentTransaction:{get:function(){return this.Np}},transactionLevel:{get:function(){return this.bi}},isInTransaction:{get:function(){return 0<this.bi}},checksTransactionLevel:{get:function(){return this.j},set:function(t){this.j=t}},nestedTransactionNames:{get:function(){return this.Ie}},isPendingClear:{get:function(){return this.Ft},set:function(t){this.Ft=t}},isPendingUnmodified:{get:function(){return this.Gt},set:function(t){this.Gt=t}},isInternalTransaction:{get:function(){return this.Dt},set:function(t){this.Dt=t}},isJustDiscarded:{get:function(){return this.rq}}}),Xt.prototype.handleChanged=Xt.prototype.Tu,Xt.prototype.redo=Xt.prototype.redo,Xt.prototype.undo=Xt.prototype.undo,Xt.prototype.canUndo=Xt.prototype.canUndo,Xt.prototype.discardHistoryAfterIndex=Xt.prototype.lx,Xt.prototype.rollbackTransaction=Xt.prototype.Kf,Xt.prototype.commitTransaction=Xt.prototype.eb,Xt.prototype.startTransaction=Xt.prototype.Ea,Xt.prototype.removeModel=Xt.prototype.Rx,Xt.prototype.addModel=Xt.prototype.Xw,Xt.prototype.clear=Xt.prototype.clear,Xt.className="UndoManager",vt.prototype.toString=function(){return""!==this.name?this.name+" Tool":is(this.constructor)},vt.prototype.updateAdornments=function(){},vt.prototype.canStart=function(){return this.isEnabled},vt.prototype.doStart=function(){},vt.prototype.doActivate=function(){this.isActive=!0},vt.prototype.doDeactivate=function(){this.isActive=!1},vt.prototype.doStop=function(){},vt.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},vt.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},vt.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},vt.prototype.doMouseMove=function(){},vt.prototype.doMouseUp=function(){this.stopTool()},vt.prototype.doMouseWheel=function(){},vt.prototype.canStartMultiTouch=function(){return!0},vt.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,n=e.So(0,w.allocAt(NaN,NaN)),o=e.So(1,w.allocAt(NaN,NaN));if(n.w()&&o.w()&&(this.doCancel(),t.Ql("hasGestureZoom"))){t.Bw=t.scale;var r=o.x-n.x,s=o.y-n.y;t.Jw=Math.sqrt(r*r+s*s),e.bubbles=!1}w.free(n),w.free(o)},vt.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,n=e.So(0,w.allocAt(NaN,NaN)),o=e.So(1,w.allocAt(NaN,NaN));if(n.w()&&o.w()&&(this.doCancel(),t.Ql("hasGestureZoom"))){var r=o.x-n.x,s=o.y-n.y;s=Math.sqrt(r*r+s*s)/t.Jw,r=new w((Math.min(o.x,n.x)+Math.max(o.x,n.x))/2,(Math.min(o.y,n.y)+Math.max(o.y,n.y))/2);var l=t.commandHandler;if((s*=t.Bw)!==t.scale&&l.canResetZoom(s)){var a=t.zoomPoint;t.zoomPoint=r,l.resetZoom(s),t.zoomPoint=a}e.bubbles=!1}w.free(n),w.free(o)},vt.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},vt.prototype.doKeyUp=function(){},vt.prototype.Ea=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.Ea(t)},vt.prototype.stopTransaction=function(){var t=this.diagram;return null===this.transactionResult?t.Kf():t.eb(this.transactionResult)},vt.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,n=t.Ol(e.documentPoint,!1);if(null!==n){if(No?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!n.isSelected){for(t.R("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!n.isSelected){for(e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(No?e.meta:e.control)||e.shift||t.clearSelection()}},vt.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(r){return!r.layer.isTemporary});var n=this.diagram,o=n.lastInput;return t=n.ic(o.documentPoint,t,e),o.targetObject=t,function w_(t,e,n){if(e.handled=!1,null===t||t.If()){var o=0;e.left?o=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(o=3);var r="ObjectSingleClicked";if(null!==t){switch(o){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==o&&n.R(r,t)}else{switch(o){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==o&&n.R(r)}if(null!==t)for(;null!==t;){switch(n=null,o){case 1:n=t.click;break;case 2:n=t.doubleClick?t.doubleClick:t.click;break;case 3:n=t.contextClick}if(null!==n&&(n(e,t),e.handled))break;t=t.panel}else{switch(t=null,o){case 1:t=n.click;break;case 2:t=n.doubleClick?n.doubleClick:n.click;break;case 3:t=n.contextClick}null!==t&&t(e)}}}(t,o,n),o.handled},vt.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.zb){var n=t.skipsUndoManager;t.skipsUndoManager=!0;var o=t.viewportBounds.ca(e.documentPoint)?t.ic(e.documentPoint,null,null):null;!e.event||"pointercancel"!==e.event.type&&"pointerout"!==e.event.type||(o=null),e.targetObject=o;var r=!1;if(o!==t.Ck){var s=t.Ck,l=s;for(t.Ck=o,this.doCurrentObjectChanged(s,o),e.handled=!1;null!==s;){var a=s.mouseLeave;if(null!==a&&(o===s||null!==o&&o.rg(s)||(a(e,s,o),r=!0,e.handled)))break;s=s.panel}for(s=l,e.handled=!1;null!==o&&(null===(l=o.mouseEnter)||!(s===o||null!==s&&s.rg(o)||(l(e,o,s),r=!0,e.handled)));)o=o.panel;o=t.Ck}if(null!==o){for(s=o,l="";null!==s&&""===(l=s.cursor);)s=s.panel;for(t.currentCursor=l,e.handled=!1,s=o;null!==s&&(null===(o=s.mouseOver)||(o(e,s),r=!0,!e.handled));)s=s.panel}else this.doUpdateCursor(null),null!==(o=t.mouseOver)&&(o(e),r=!0);r&&t.$b(),t.skipsUndoManager=n}},vt.prototype.doUpdateCursor=function(){var t=this.diagram;t&&(t.currentCursor="")},vt.prototype.doCurrentObjectChanged=function(){},vt.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,n=e.delta;if(0!==n&&t.documentBounds.w()){var o=t.commandHandler,r=t.toolManager.mouseWheelBehavior;if(null!==o&&(r===Vl&&!e.shift||r===Qs&&e.control))(0<n?o.canIncreaseZoom():o.canDecreaseZoom())&&(r=t.zoomPoint,t.zoomPoint=e.viewPoint,0<n?o.increaseZoom():o.decreaseZoom(),t.zoomPoint=r),e.bubbles=!1;else if(r===Vl&&e.shift||r===Qs&&!e.control){o=t.position.copy();var s=e.event;r=s.deltaMode;var l=s.deltaX;s=s.deltaY;var a="pixel";if(0===l&&0===s||e.shift)!e.shift&&t.allowVerticalScroll?t.scroll(a,0<(n=3*n*t.scrollVerticalLineChange)?"up":"down",Math.abs(n)):e.shift&&t.allowHorizontalScroll&&t.scroll(a,0<(n=3*n*t.scrollHorizontalLineChange)?"left":"right",Math.abs(n));else{switch(r){case 0:a="pixel";break;case 1:a="line";break;case 2:a="page"}0!==l&&t.allowHorizontalScroll&&t.scroll(a,0<(l*=t.scrollHorizontalLineChange/16)?"right":"left",Math.abs(l)),0!==s&&t.allowVerticalScroll&&t.scroll(a,0<(s*=t.scrollVerticalLineChange/16)?"down":"up",Math.abs(s))}this.doWheelChange(t,o,e)}}},vt.prototype.doWheelChange=function(t,e,n){t.position.D(e)&&0===n.event.wheelDeltaX||(n.bubbles=!1)},vt.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var n=this,o=e.clone(this.yy);this.Zr=Tr(function(){n.doWaitAfter(o)},t)},vt.prototype.cancelWaitAfter=function(){-1!==this.Zr&&nt.clearTimeout(this.Zr),this.Zr=-1},vt.prototype.doWaitAfter=function(){},vt.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.ic(t,function(n){for(;null!==n&&!(n.panel instanceof mt);)n=n.panel;return n}))?null:t.part.category===e?t:null},vt.prototype.isBeyondDragSize=function(t,e){var n=this.diagram;void 0===t&&(t=n.firstInput.viewPoint),void 0===e&&(e=n.lastInput.viewPoint);var o=n.toolManager.dragSize,r=o.width;return o=o.height,n.firstInput.isTouchEvent&&(r+=6,o+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>o},pt.Object.defineProperties(vt.prototype,{diagram:{get:function(){return this.H},set:function(t){t instanceof I&&(this.H=t)}},name:{get:function(){return this.xa},set:function(t){this.xa=t}},isEnabled:{get:function(){return this.Jd},set:function(t){this.Jd=t}},isActive:{get:function(){return this.nb},set:function(t){this.nb=t}},transactionResult:{get:function(){return this.wm},set:function(t){this.wm=t}}}),vt.prototype.startTransaction=vt.prototype.Ea,vt.className="Tool",At(Vt,vt),Vt.prototype.initializeStandardTools=function(){},Vt.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof mt&&this.Mp===t){var n=e.adornedObject;(null!==t?n.part===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},Vt.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===xa&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===ic)return void(e.bubbles=!0);if(this.gestureBehavior===xa)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var n=this.mouseDownTools.length,o=0;o<n;o++){var r=this.mouseDownTools.M(o);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===Qs?this.mouseWheelBehavior=Vl:this.mouseWheelBehavior===Vl&&(this.mouseWheelBehavior=Qs)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},Vt.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===ic)return void(e.bubbles=!0);if(this.gestureBehavior===xa)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var n=this.mouseMoveTools.length,o=0;o<n;o++){var r=this.mouseMoveTools.M(o);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseMove()))}h0(this,t),null===(t=e.event)||"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},Vt.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof mt&&(e===t||e.rg(t))||this.hideToolTip()},Vt.prototype.doWaitAfter=function(t){var e=this.diagram;null!==e.ta&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.qu=!0,e.doMouseUp()))},Vt.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.ic(e.documentPoint,null,null));var n=e.targetObject;if(null!==n)for(e.handled=!1;null!==n&&(null===(t=this.isActive?n.mouseHold:n.mouseHover)||(t(e,n),!e.handled));)n=n.panel;else null!==(n=this.isActive?t.mouseHold:t.mouseHover)&&n(e)},Vt.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.ic(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof mt)||e!==t&&!e.rg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},Vt.prototype.showToolTip=function(t,e){var n=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof mt){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale);var o=t.diagram;null!==o&&o!==n&&o.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.Va(),this.positionToolTip(t,e)}else t instanceof ln&&t!==this.currentToolTip&&t.show(e,n,this);if(this.currentToolTip=t,-1!==this.zj&&(nt.clearTimeout(this.zj),this.zj=-1),0<(t=this.toolTipDuration)&&t!==1/0){var r=this;this.zj=Tr(function(){r.hideToolTip()},t)}},Vt.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),o=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=o.width),n.x+o.width>r.right&&(n.x-=o.width+5/e.scale),n.x<r.x&&(n.x=r.x),n.y=n.y+20/e.scale+o.height>r.bottom?n.y-(o.height+5/e.scale):n.y+20/e.scale,n.y<r.y&&(n.y=r.y),t.position=n}},Vt.prototype.hideToolTip=function(){-1!==this.zj&&(nt.clearTimeout(this.zj),this.zj=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof mt?(t.remove(e),null!==this.Mp&&this.Mp.Jf(e.category),e.data=null,e.adornedObject=null):e instanceof ln&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},Vt.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,n=0;n<e;n++){var o=this.mouseUpTools.M(n);if(o.diagram=this.diagram,o.canStart())return t.doFocus(),t.currentTool=o,void(t.currentTool===o&&(o.isActive||o.doActivate(),o.doMouseUp()))}t.doFocus(),this.doDeactivate()},Vt.prototype.doMouseWheel=function(){this.standardMouseWheel()},Vt.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},Vt.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},Vt.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,n=0;n<e;n++){var o=this.mouseDownTools.M(n);if(o.name===t)return o}for(e=this.mouseMoveTools.length,n=0;n<e;n++)if((o=this.mouseMoveTools.M(n)).name===t)return o;for(e=this.mouseUpTools.length,n=0;n<e;n++)if((o=this.mouseUpTools.M(n)).name===t)return o;return null},Vt.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var n=this.mouseDownTools.length,o=0;o<n;o++){var r=this.mouseDownTools.M(o);if(r.name===t)return null!==e?this.mouseDownTools.cd(o,e):this.mouseDownTools.mb(o),r}for(n=this.mouseMoveTools.length,o=0;o<n;o++)if((r=this.mouseMoveTools.M(o)).name===t)return null!==e?this.mouseMoveTools.cd(o,e):this.mouseMoveTools.mb(o),r;for(n=this.mouseUpTools.length,o=0;o<n;o++)if((r=this.mouseUpTools.M(o)).name===t)return null!==e?this.mouseUpTools.cd(o,e):this.mouseUpTools.mb(o),r;return null},Vt.prototype.gb=function(t,e,n){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&n.add(e)},pt.Object.defineProperties(Vt.prototype,{mouseWheelBehavior:{get:function(){return this.ia},set:function(t){this.ia=t}},gestureBehavior:{get:function(){return this.u},set:function(t){this.u=t}},currentToolTip:{get:function(){return this.j},set:function(t){this.j=t,this.Mp=null!==t&&t instanceof mt?t.adornedPart:null}},mouseDownTools:{get:function(){return this.hb}},mouseMoveTools:{get:function(){return this.ob}},mouseUpTools:{get:function(){return this.Hb}},hoverDelay:{get:function(){return this.V},set:function(t){this.V=t}},holdDelay:{get:function(){return this.F},set:function(t){this.F=t}},dragSize:{get:function(){return this.o},set:function(t){this.o=t.J()}},toolTipDuration:{get:function(){return this.Ha},set:function(t){this.Ha=t}}}),Vt.prototype.replaceStandardTool=Vt.prototype.gb;var as,Qs=new Q(Vt,"WheelScroll",0),Vl=new Q(Vt,"WheelZoom",1),A_=new Q(Vt,"WheelNone",2),p0=new Q(Vt,"GestureZoom",3),xa=new Q(Vt,"GestureCancel",4),ic=new Q(Vt,"GestureNone",5);function zt(){vt.call(this),this.name="Dragging",this.u=this.Sw=this.ob=!0,this.o=this.Ha=this.V=this.Oe=null,this.Ym=this.Hb=!1,this.tl=new w(NaN,NaN),this.Fr=new w,this.hb=!0,this.Ik=100,this.Cg=[],this.te=(new E).freeze(),this.ia=new ll,this.Bn=null,this.F="copy",this.Oc="",this.Pc="no-drop"}function nc(t,e){if(t.dragsLink){var n=t.diagram;n.allowRelink&&(n.model.Wj()&&1===e.count&&e.first()instanceof L?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.Ej(),t.Oe=n.toolManager.findTool("Relinking"),null===t.Oe&&(t.Oe=new sn,t.Oe.diagram=n),t.Oe.originalLink=t.draggedLink):(t.draggedLink=null,t.Oe=null))}}function oc(t){var e=t.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0,f0(t,e.lastInput,null),e.skipsUndoManager=n,t.Cg.length=0}function c0(){var t=je;nr(t),sc(t);var e=t.diagram;t.tl.w()&&(e.position=t.tl),e.ug()}function rc(t,e){if(null===t.copiedParts){var n=t.diagram;if((!e||!n.isReadOnly&&!n.isModelReadOnly)&&null!==t.draggedParts){var o=n.undoManager;for(o.isEnabled&&o.isInTransaction?null!==o.currentTransaction&&0<o.currentTransaction.changes.count&&(n.undoManager.Kf(),n.Ea("Drag")):sc(t),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,t.startPoint=n.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Lf():n.selection,e=n.Kj(e,n,!0),n=new lt,o=t.draggedParts.iterator;o.next();){var r=o.key;if(r.Zc()&&r.canCopy()){var s=e.I(r);null!==s&&(s.location=r.location,s.Va(),n.add(s,t.Pd(s.location)))}}for(e=e.iterator;e.next();)(o=e.value)instanceof L&&o.canCopy()&&n.add(o,t.Pd());t.copiedParts=n,nc(t,n.Lf()),null!==t.draggedLink&&Bo(n=t.draggedLink,t.startPoint.x-((e=n.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2)),t.doUpdateCursor(null)}}}function nr(t){var e=t.diagram;if(null!==t.copiedParts){if(e.Is(t.copiedParts.Lf(),!1),t.copiedParts=null,null!==t.draggedParts)for(var n=t.draggedParts.iterator;n.next();)n.key instanceof L&&(n.value.point=new w(0,0));t.doUpdateCursor(null)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function d0(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.Oe){var e=t.Oe;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode),t.Oe.originalLink=null}t.draggedLink=null,t.Oe=null}}function hs(t,e,n){var o=t.diagram,r=t.startPoint,s=w.alloc();s.assign(o.lastInput.documentPoint),t.moveParts(e,s.re(r),n),w.free(s),!0===o.Gf("temporaryPixelRatio")&&null===o.Yh&&30<o.$w&&(nu(o),o.hk())}function sc(t){if(null!==t.draggedParts){for(var e=t.diagram,n=t.draggedParts.iterator;n.next();){var o=n.key;o.Zc()&&(o.location=n.value.point)}for(n=t.draggedParts.iterator;n.next();)if((o=n.key)instanceof L&&o.suspendsRouting){var r=n.value.point;t.draggedParts.add(o,t.Pd()),Bo(o,-r.x,-r.y)}e.bd()}}function lc(t,e){var n=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),_0(t,!1));var o=t.findDragOverObject(e),r=n.lastInput;r.targetObject=o,t.doUpdateCursor(o);var s=n.skipsUndoManager,l=!1;try{if(n.skipsUndoManager=!0,l=f0(t,r,o),!t.isActive&&null===je)return;var a=null!==o?o.part:null;if(null===a||n.handlesDragDropForTopLevelParts&&a.isTopLevel&&!(a instanceof rt)){var p=n.mouseDragOver;null!==p&&(p(r),l=!0)}if(!t.isActive&&null===je||(t.doDragOver(e,o),!t.isActive&&null===je))return}finally{n.skipsUndoManager=s,l&&n.bd()}t.Bn=o,n.isReadOnly||!n.allowMove&&!n.allowCopy||!n.allowHorizontalScroll&&!n.allowVerticalScroll||n.gs(r.viewPoint)}function f0(t,e,n){var o=!1,r=t.Cg.length,s=0<r?t.Cg[0]:null;if(n===s)return!1;e.handled=!1;for(var l=0;l<r;l++){var a=t.Cg[l],p=a.mouseDragLeave;if(null!==p&&(p(e,a,n),o=!0,e.handled))break}if(t.Cg.length=0,!t.isActive&&null===je||null===n)return o;for(e.handled=!1,r=n;null!==r;)t.Cg.push(r),r=g0(r);for(r=t.Cg.length,n=0;n<r&&(null===(a=(l=t.Cg[n]).mouseDragEnter)||(a(e,l,s),o=!0,!e.handled));n++);return o}function g0(t){var e=t.panel;return null!==e?e:t instanceof W&&!(t instanceof rt)&&null!==(t=t.containingGroup)&&t.handlesDragDropForMembers?t:null}function m0(t,e,n){var o=t.Oe;if(null===o)return null;var r=t.diagram.og(e,o.portGravity,function(d){return o.findValidLinkablePort(d,n)});t=w.alloc();var s=1/0,l=null;for(r=r.iterator;r.next();){var a=r.value;if(null!==a.part){var p=a.ga(Mt,t);(p=e.Bf(p))<s&&(l=a,s=p)}}return w.free(t),l}function _0(t,e){var n=t.draggedLink;if(null!==n&&!(2>n.pointsCount)){var o=t.diagram;if(!o.isReadOnly){var r=t.Oe;if(null!==r){var s=null,l=null;null===n.fromNode&&null!==(s=m0(t,n.i(0),!1))&&(l=s.part);var a=null,p=null;null===n.toNode&&null!==(a=m0(t,n.i(n.pointsCount-1),!0))&&(p=a.part),r.isValidLink(l,s,p,a)?e?(n.defaultFromPoint=n.i(0),n.defaultToPoint=n.i(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=l,null!==s&&(n.fromPortId=s.portId),n.toNode=p,null!==a&&(n.toPortId=a.portId),n.fromPort!==o.Mx&&o.R("LinkRelinked",n,o.Mx),n.toPort!==o.Nx&&o.R("LinkRelinked",n,o.Nx)):T0(r,l,s,p,a):T0(r,null,null,null,null)}}}}function v0(t,e){var n=t.diagram;t.dragsLink&&_0(t,!0),oc(t);var o=t.findDragOverObject(e),r=n.lastInput;if(r.targetObject=o,null!==o){r.handled=!1;for(var s=o;null!==s;){var l=s.mouseDrop;if(null!==l&&(l(r,s),r.handled))break;M_(t,r,s),s=g0(s)}}else null!==(s=n.mouseDrop)&&s(r);if(t.isActive||null!==je){for(r=(t.copiedParts||t.draggedParts).iterator;r.next();)(s=r.key)instanceof B&&s.linksConnected.each(function(a){a.suspendsRouting=!1});if(t.doDropOnto(e,o),t.isActive||null!==je){for(t=U.alloc(),e=n.selection.iterator;e.next();)(o=e.value)instanceof B&&Z_(n,o,t);U.free(t)}}}function M_(t,e,n){n=n.part,!(t=t.diagram).handlesDragDropForTopLevelParts||!n.isTopLevel||n instanceof rt||null!==(n=t.mouseDrop)&&n(e)}function Z_(t,e,n){var o=!1;if(n=e.getAvoidableRect(n),t.viewportBounds.Re(n)&&(o=!0),0!==(t=t.Nu(n,function(r){return r.part},function(r){return r instanceof L},!0,function(r){return r instanceof L},o)).count)for(t=t.iterator;t.next();)!(n=t.value).Td(e)&&n.isAvoiding&&n.bb()}function y0(t,e,n,o){if(null===t.copiedParts){var r=t.diagram;if(!r.isReadOnly&&!r.isModelReadOnly){r.skipsUndoManager=!n,r.partManager.addsToTemporaryLayer=!n,t.startPoint=o.documentPoint,n=r.Kj(e,r,!0);var s=U.alloc();r=o=1/0;for(var l=-1/0,a=-1/0,p=e.iterator;p.next();){var d=p.value;if(d.isVisible()){var f=d.location;d=f.x,f=f.y,isNaN(d)||isNaN(f)||(d<o&&(o=d),f<r&&(r=f),d>l&&(l=d),f>a&&(a=f))}}for(o===1/0?s.h(0,0,0,0):s.h(o,r,l-o,a-r),o=s.x+s.width/2,r=s.y+s.height/2,U.free(s),s=t.Fr,l=new lt,a=w.alloc(),p=e.iterator;p.next();)(d=p.value)instanceof L&&d.canCopy()&&null!==(f=n.I(d))&&(f.points=d.points,Bo(f,s.x-o,s.y-r),f.suspendsRouting=!0,l.add(f,t.Pd()));for(e=e.iterator;e.next();)(d=e.value).Zc()&&d.canCopy()&&null!==(p=n.I(d))&&(a.h(s.x-(o-(d=d.location).x),s.y-(r-d.y)),p.location=a,p.Va(),l.add(p,t.Pd(a)));w.free(a),t.copiedParts=l,nc(t,l.Lf()),null!==t.draggedLink&&Bo(n=t.draggedLink,t.startPoint.x-((e=n.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2)),t.doUpdateCursor(null)}}}Vt.className="ToolManager",Vt.WheelScroll=Qs,Vt.WheelZoom=Vl,Vt.WheelNone=A_,Vt.GestureZoom=p0,Vt.GestureCancel=xa,Vt.GestureNone=ic,At(zt,vt),zt.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.Ik))&&null!==this.findDraggablePart()},zt.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.Ol(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},zt.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.Ol(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(No?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},zt.prototype.doActivate=function(){var t=this.diagram;this.Bn=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(t.Fu(!0),je=null,this.isActive=!0,this.tl.set(t.position),nc(this,t.selection),this.Cg.length=0,t.animationManager.Cc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),this.Sw=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.Ns=!0,!0===t.Gf("temporaryPixelRatio")&&30<t.$w&&nu(t),Oa(t,this.draggedParts),this.Ea("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Ym=!1,je=this,wr=this.diagram,this.doSimulatedDragOut()))},zt.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},zt.prototype.Pd=function(t){return new or(void 0===t?mo:this.isGridSnapEnabled?new w(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3):t.copy())},zt.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(this.diagram.layout.isRealtime=this.Sw,t.Fu(!1),t.ug(),oc(this),su(t,this.draggedParts),this.draggedParts=this.currentPart=this.Bn=null,this.Ym=this.isDragOutStarted=!1,0<as.count){for(var e=as,n=e.length,o=0;o<n;o++){var r=e.M(o);d0(r),nr(r),oc(r),r.diagram.ug()}e.clear()}d0(this),this.tl.h(NaN,NaN),null!==wr&&(wr.currentCursor=""),je=wr=null,nr(this),t.isMouseCaptured=!1,t.currentCursor="",t.Ns=!1,this.stopTransaction(),ka(t,!0)},zt.prototype.stopTransaction=function(){var t=this.diagram,e=vt.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.ak(),e},zt.prototype.doCancel=function(){nr(this),sc(this);var t=this.diagram;this.tl.w()&&(t.position=this.tl),this.stopTool()},zt.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},zt.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},zt.prototype.moveParts=function(t,e,n){void 0===n&&(n=!1);var o=this.diagram;null!==o&&jc(o,t,e,this.dragOptions,n)},zt.prototype.findDragOverObject=function(t){var e=this;return Tc(this.diagram,t,null,function(n){return!(n=null===n||!!(null===(n=n.part)||n instanceof mt||n.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(n)||e.copiedParts&&e.copiedParts.contains(n)))})},zt.prototype.doUpdateCursor=function(t){var e=this.diagram;(null===t||this.Bn!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},zt.prototype.doDragOver=function(){},zt.prototype.doDropOnto=function(){},zt.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(rc(this,!1),Oa(t,this.copiedParts),hs(this,this.copiedParts,!1),su(t,this.copiedParts)):this.mayMove()?(nr(this),hs(this,this.draggedParts,!0)):this.mayDragOut()?(rc(this,!1),hs(this,this.copiedParts,!1)):nr(this),lc(this,t.lastInput.documentPoint))}},zt.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var n=this.mayCopy();if(n&&null!==this.copiedParts?(nr(this),rc(this,!0),Oa(t,this.copiedParts),hs(this,this.copiedParts,!1),su(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(r){r.isSelected=!0}))):(e=!0,nr(this),this.mayMove()&&(hs(this,this.draggedParts,!0),lc(this,t.lastInput.documentPoint))),this.Ym=!0,v0(this,t.lastInput.documentPoint),this.isActive){var o=n?this.copiedParts.Lf():this.draggedParts.Lf();this.copiedParts=null,e&&function j_(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var n=e.key;n instanceof B&&(null===(n=n.containingGroup)||null===n.placeholder||t.draggedParts.contains(n)||n.placeholder.v())}}(this),t.Ya(),su(t,this.draggedParts),this.transactionResult=n?"Copy":"Move",t.R(n?"SelectionCopied":"SelectionMoved",o)}this.stopTool(),n&&t.R("ChangedSelection",t.selection)}}},zt.prototype.simulatedMouseMove=function(t,e,n){if(null===je)return!1;var o=je.diagram;n instanceof I||(n=null);var r=wr;return n!==r&&(null!==r&&r!==o&&(r.ug(),je.isDragOutStarted=!1,null!==(r=r.toolManager.findTool("Dragging"))&&r.doSimulatedDragLeave()),wr=n,null!==n&&n!==o&&(c0(),null!==(r=n.toolManager.findTool("Dragging"))&&(as.contains(r)||as.add(r),r.doSimulatedDragEnter())),this.doUpdateCursor(null)),!(null===n||n===o||!n.allowDrop||n.isReadOnly||!n.allowInsert||(null!==(o=n.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.op(e),n.lastInput.down=!1,n.lastInput.up=!1,o.doSimulatedDragOver()),0))},zt.prototype.simulatedMouseUp=function(t,e,n){if(null===je)return!1;var o=wr,r=je.diagram;if(null===n)return je.doCancel(),!0;if(n!==o){var s=o.toolManager.findTool("Dragging");if(null!==o&&o!==r&&null!==s)return o.ug(),je.isDragOutStarted=!1,s.doSimulatedDragLeave(),!1;wr=n,null!==(o=n.toolManager.findTool("Dragging"))&&(c0(),as.contains(o)||as.add(o),o.doSimulatedDragEnter())}return n!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)):null===e&&(e=new w),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.op(e),n.lastInput.down=!1,n.lastInput.up=!0,null!==(t=n.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=je)&&(n=t.mayCopy(),t.transactionResult=n?"Copy":"Move",t.stopTool()),!0)},zt.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(No?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},zt.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},zt.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},zt.prototype.computeBorder=function(t,e,n){return this.Ym||null===this.draggedParts||this.draggedParts.contains(t)?null:n.assign(e)},zt.prototype.Az=function(){return je},zt.prototype.mayDragIn=function(){var t=this.diagram;return!(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)&&!(null===je||je.diagram.model.dataFormat!==t.model.dataFormat)},zt.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Cc(),Io(t),t.animationManager.Cc(),null!==(t=je)&&(t.diagram.Ns=!1),this.doUpdateCursor(null)}},zt.prototype.doSimulatedDragLeave=function(){null!==je&&je.doSimulatedDragOut(),this.doCancel()},zt.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.Dm=!0;var e=je;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;y0(this,e.draggedParts.Lf(),!1,t.firstInput),hs(this,this.copiedParts,!1),lc(this,t.lastInput.documentPoint)}t.animationManager.Dm=!1},zt.prototype.doSimulatedDrop=function(){var t=this.diagram,e=je;if(null!==e){var n=e.diagram;if(e.Ym=!0,nr(this),!this.mayDragIn())return;t.animationManager.Dm=!0,t.R("ChangingSelection",t.selection),this.Ea("Drop"),y0(this,e.draggedParts.Lf(),!0,t.lastInput),hs(this,this.copiedParts,!1);var o=new E;null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(r){r.isSelected=!0,o.add(r)})),v0(this,t.lastInput.documentPoint),t.Ya(),null!==this.copiedParts&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",o,n),this.stopTransaction(),t.R("ChangedSelection",t.selection)}t.animationManager.Dm=!1},zt.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.Ns=!1,t.currentCursor=this.mayCopy()||this.mayMove()?"":this.nodropCursor,this.Bn=null},zt.prototype.computeMove=function(t,e,n,o){return null!==(n=this.diagram)?n.computeMove(t,e,this.dragOptions,o):new w},pt.Object.defineProperties(zt.prototype,{isCopyEnabled:{get:function(){return this.ob},set:function(t){this.ob=t}},copiesEffectiveCollection:{get:function(){return this.u},set:function(t){this.u=t}},dragOptions:{get:function(){return this.ia},set:function(t){this.ia=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.hb},set:function(t){this.hb=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.D(t)||(t=t.J(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.D(t)||(t=t.J(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.F},set:function(t){this.F=t}},moveCursor:{get:function(){return this.Oc},set:function(t){this.Oc=t}},nodropCursor:{get:function(){return this.Pc},set:function(t){this.Pc=t}},currentPart:{get:function(){return this.V},set:function(t){this.V=t}},copiedParts:{get:function(){return this.o},set:function(t){this.o=t}},draggedParts:{get:function(){return this.Ha},set:function(t){this.Ha=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Lf():null!==this.draggedParts?this.draggedParts.Lf():this.te}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Hb},set:function(t){this.Hb=t}},startPoint:{get:function(){return this.Fr},set:function(t){this.Fr.D(t)||this.Fr.assign(t)}},delay:{get:function(){return this.Ik},set:function(t){this.Ik=t}}}),zt.prototype.getDraggingSource=zt.prototype.Az;var je=null,wr=null;function Le(){vt.call(this),this.te=100,this.Ha=!1,this.u="pointer";var t=new L,e=new ut;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new ut).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.Ci=t,t=new B,(e=new ut).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=fa,t.add(e),t.selectable=!1,t.layerName="Tool",this.Bi=t,this.j=e,t=new B,(e=new ut).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=fa,t.add(e),t.selectable=!1,t.layerName="Tool",this.Di=t,this.o=e,this.Pc=this.Oc=this.ob=this.hb=this.Hb=null,this.ia=!0,this.hy=new lt,this.Of=this.gj=this.Pf=null}function uc(t,e,n,o){if(e===n)return!0;var r=e.fromNode;return!(null===r||!r.isLinkLabel||(o.add(r),!uc(t,r.labeledLink,n,o)))||!(null===(e=e.toNode)||!e.isLinkLabel||(o.add(e),!uc(t,e.labeledLink,n,o)))}function zl(t,e,n,o,r){if(e===n)return!0;if(null===e||null===n)return!1;for(var s=e.linksConnected;s.next();){var l=s.value;if(l!==o&&(!r||l.isTreeLink)&&l.toNode===e&&(l=l.fromNode)!==e&&zl(t,l,n,o,r))return!0}return!1}function x0(t,e,n,o,r){if(n===o)return!0;if(null===n||null===o||e.contains(n))return!1;e.add(n);for(var s=n.linksConnected;s.next();){var l=s.value;if(l!==r&&l.toNode===n&&(l=l.fromNode)!==n&&x0(t,e,l,o,r))return!0}return!1}function P0(t,e,n,o,r){if(n===o)return!0;if(null===n||null===o||e.contains(n))return!1;e.add(n);for(var s=n.linksConnected;s.next();){var l=s.value;if(l!==r){var a=l.fromNode;if(l=l.toNode,(a=a===n?l:a)!==n&&P0(t,e,a,o,r))return!0}}return!1}function _i(){Le.call(this),this.name="Linking",this.V={},this.F=null,this.K=Pa,this.Xd=null}zt.className="DraggingTool",as=new H,Ge("draggingTool",function(){return this.findTool("Dragging")},function(t){this.gb("Dragging",t,this.mouseMoveTools)}),Vt.prototype.doCancel=function(){null!==je&&je.doCancel(),vt.prototype.doCancel.call(this)},At(Le,vt),Le.prototype.doStop=function(){this.diagram.ug(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Le.prototype.copyPortProperties=function(t,e,n,o,r){if(null!==t&&null!==e&&null!==n&&null!==o){var s=e.Df(),l=ot.alloc();l.width=e.naturalBounds.width*s,l.height=e.naturalBounds.height*s,o.desiredSize=l,ot.free(l),r?(o.toSpot=e.toSpot,o.toEndSegmentLength=e.toEndSegmentLength):(o.fromSpot=e.fromSpot,o.fromEndSegmentLength=e.fromEndSegmentLength),n.locationSpot=Mt,s=w.alloc(),n.location=e.ga(Mt,s),w.free(s),o.angle=e.li(),null!==this.portTargeted&&this.portTargeted(t,e,n,o,r)}},Le.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.desiredSize=fa,e.fromSpot=Fe,e.toSpot=Fe),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,n)},Le.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Le.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof B){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.gs(t.lastInput.viewPoint)}},Le.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.part;if(!(n instanceof B))return null;for(;null!==t;){var o=e?t.toLinkable:t.fromLinkable;if(!0===o&&(null!==t.portId||t instanceof B)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===o)break;t=t.panel}return null},Le.prototype.findTargetPort=function(t){var e=this.diagram,n=e.lastInput.documentPoint,o=this.portGravity;0>=o&&(o=.1);var r=this,s=e.og(n,o,function(g){return r.findValidLinkablePort(g,t)},null,!0);for(o=1/0,e=null,s=s.iterator;s.next();){var l=s.value,a=l.part;if(a instanceof B){var p=l.ga(Mt,w.alloc()),d=n.x-p.x,f=n.y-p.y;w.free(p),(p=d*d+f*f)<o&&(null!==(d=this.validPortsCache.I(l))?d&&(e=l,o=p):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,a,l)||!t&&this.isValidLink(a,l,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(l,!0),e=l,o=p):this.validPortsCache.add(l,!1))}}return null!==e&&(n=e.part)instanceof B&&(null===n.layer||n.layer.allowLink)?e:null},Le.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var n=e.fromMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Mo(e).count>=n)return!1}return!0},Le.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var n=e.toMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Sd(e).count>=n)return!1}return!0},Le.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(e=e.part,null!==(t=t.part)&&t===e))},Le.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.part;if(!(n instanceof B))return!1;null===(t=t.portId)&&(t="");var o=e.part;if(!(o instanceof B))return!1;for(null===(e=e.portId)&&(e=""),e=o.Sd(e);e.next();)if((o=e.value).fromNode===n&&o.fromPortId===t)return!0;return!1},Le.prototype.isValidLink=function(t,e,n,o){if(!this.isValidFrom(t,e)||!this.isValidTo(n,o)||!(null===e||null===o||(e.fromLinkableSelfNode&&o.toLinkableSelfNode||!this.isInSameNode(e,o))&&(e.fromLinkableDuplicates&&o.toLinkableDuplicates||!this.isLinked(e,o)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==n&&this.isLabelDependentOnLink(n,this.originalLink))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.originalLink))return!1;if(null!==t){var r=t.linkValidation;if(null!==r&&!r(t,e,n,o,this.originalLink))return!1}return!(null!==n&&(r=n.linkValidation,null!==r&&!r(t,e,n,o,this.originalLink)))&&(null===(r=this.linkValidation)||r(t,e,n,o,this.originalLink))},Le.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.labeledLink;if(null===n)return!1;if(n===e)return!0;var o=new E;return o.add(t),uc(this,n,e,o)},Le.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.isUnconnectedLinkValid;var o=this.diagram.validCycle;if(o!==Rc){if(o===fg){if(null!==(o=n||this.temporaryLink)&&!o.isTreeLink)return!0;for(o=e.linksConnected;o.next();){var r=o.value;if(r!==n&&r.isTreeLink&&r.toNode===e)return!1}return!zl(this,t,e,n,!0)}if(o===gg){if(null!==(o=n||this.temporaryLink)&&!o.isTreeLink)return!0;for(o=t.linksConnected;o.next();)if((r=o.value)!==n&&r.isTreeLink&&r.fromNode===t)return!1;return!zl(this,t,e,n,!0)}if(o===pg)return t===e?t=!0:((o=new E).add(e),t=x0(this,o,t,e,n)),!t;if(o===cg)return!zl(this,t,e,n,!1);if(o===dg)return t===e?t=!0:((o=new E).add(e),t=P0(this,o,t,e,n)),!t}return!0},pt.Object.defineProperties(Le.prototype,{portGravity:{get:function(){return this.te},set:function(t){0<=t&&(this.te=t)}},isUnconnectedLinkValid:{get:function(){return this.Ha},set:function(t){this.Ha=t}},linkingCursor:{get:function(){return this.u},set:function(t){this.u=t}},temporaryLink:{get:function(){return this.Ci},set:function(t){this.Ci=t}},temporaryFromNode:{get:function(){return this.Bi},set:function(t){(this.Bi=t)&&(this.j=t.port)}},temporaryFromPort:{get:function(){return this.j},set:function(t){if(null!==this.j){var e=this.j.panel;if(null!==e){var n=e.O.indexOf(this.j);e.mb(n),e.Gb(n,t)}}this.j=t}},temporaryToNode:{get:function(){return this.Di},set:function(t){(this.Di=t)&&(this.o=t.port)}},temporaryToPort:{get:function(){return this.o},set:function(t){if(null!==this.o){var e=this.o.panel;if(null!==e){var n=e.O.indexOf(this.o);e.mb(n),e.Gb(n,t)}}this.o=t}},originalLink:{get:function(){return this.Hb},set:function(t){this.Hb=t}},originalFromNode:{get:function(){return this.hb},set:function(t){this.hb=t}},originalFromPort:{get:function(){return this.ob},set:function(t){this.ob=t}},originalToNode:{get:function(){return this.Oc},set:function(t){this.Oc=t}},originalToPort:{get:function(){return this.Pc},set:function(t){this.Pc=t}},isForwards:{get:function(){return this.ia},set:function(t){this.ia=t}},validPortsCache:{get:function(){return this.hy}},targetPort:{get:function(){return this.Pf},set:function(t){this.Pf=t}},linkValidation:{get:function(){return this.gj},set:function(t){this.gj=t}},portTargeted:{get:function(){return this.Of},set:function(t){this.Of=t}}}),Le.className="LinkingBaseTool",At(_i,Le),_i.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.xs()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},_i.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.ic(t.firstInput.documentPoint,null,null)),null===e||!((t=e.part)instanceof B))return null;var n=this.direction;if(n===Pa||n===D0){var o=this.findValidLinkablePort(e,!1);if(null!==o||this.startObject===t&&this.findValidLinkablePort(o=t.port,!1))return this.isForwards=!0,o}return n!==Pa&&n!==S0||!(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&this.findValidLinkablePort(e=t.port,!0))?null:(this.isForwards=!1,e)},_i.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null!==this.temporaryToNode&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof B&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null!==this.temporaryFromNode&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof B&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.Va(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.Va(),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0)},_i.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},_i.prototype.doStop=function(){Le.prototype.doStop.call(this),this.startObject=null},_i.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=this.transactionResult=null,n=null,o=null,r=null,s=null;try{var l=this.targetPort=this.findTargetPort(this.isForwards);if(null!==l){var a=l.part;a instanceof B&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,n=this.originalFromPort),o=a,r=l):(e=a,n=l,null!==this.originalToNode&&(o=this.originalToNode,r=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,n=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(o=this.originalToNode,r=this.originalToPort);null!==e||null!==o?null!==(s=this.insertLink(e,n,o,r))?(null===l&&(this.isForwards?s.defaultToPoint=t.lastInput.documentPoint:s.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),s.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",s)):this.doNoLink(e,n,o,r):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),s&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},_i.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof L)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},_i.prototype.insertLink=function(t,e,n,o){return this.diagram.partManager.insertLink(t,e,n,o)},_i.prototype.doNoLink=function(){},pt.Object.defineProperties(_i.prototype,{archetypeLinkData:{get:function(){return this.V},set:function(t){this.V=t}},archetypeLabelNodeData:{get:function(){return this.F},set:function(t){this.F=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.Xd},set:function(t){this.Xd=t}}});var Pa=new Q(_i,"Either",0),D0=new Q(_i,"ForwardsOnly",0),S0=new Q(_i,"BackwardsOnly",0);function sn(){Le.call(this),this.name="Relinking";var t=new ut;t.figure="Diamond",t.desiredSize=ss,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.V=t,(t=new ut).figure="Diamond",t.desiredSize=ss,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Xd=t,this.F=null,this.Ew=new U}function T0(t,e,n,o,r){null!==e?(t.copyPortProperties(e,n,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==o?(t.copyPortProperties(o,r,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function ce(){vt.call(this),this.name="LinkReshaping";var t=new ut;t.figure="Rectangle",t.desiredSize=Fp,t.fill="lightblue",t.stroke="dodgerblue",this.o=t,(t=new ut).figure="Diamond",t.desiredSize=ss,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.u=t,this.F=3,this.Ts=this.j=null,this.Fw=new w,this.Yq=new H}function Gs(t,e,n,o,r,s){return s?Math.abs(e.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-o.y)<t.resegmentingDistance&&Math.abs(o.y-r.y)<t.resegmentingDistance:Math.abs(e.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-o.x)<t.resegmentingDistance&&Math.abs(o.x-r.x)<t.resegmentingDistance}_i.className="LinkingTool",_i.Either=Pa,_i.ForwardsOnly=D0,_i.BackwardsOnly=S0,At(sn,Le),sn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof L){var e="RelinkFrom",n=null;if(t.isSelected&&!this.diagram.isReadOnly){var o=t.selectionObject;null!==o&&t.canRelinkFrom()&&t.actualBounds.w()&&t.isVisible()&&o.actualBounds.w()&&o.Ed()&&null===(n=t.Pj(e))&&(n=this.makeAdornment(o,!1),t.bh(e,n))}null===n&&t.Jf(e),e="RelinkTo",n=null,t.isSelected&&!this.diagram.isReadOnly&&null!==(o=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.w()&&t.isVisible()&&o.actualBounds.w()&&o.Ed()&&(null===(n=t.Pj(e))?(n=this.makeAdornment(o,!0),t.bh(e,n)):n.v()),null===n&&t.Jf(e)}},sn.prototype.makeAdornment=function(t,e){var n=new mt;return n.type=O.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&n.add(e.copy()),n.adornedObject=t,n},sn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.xs()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},sn.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null===e)return;var n=e.part;if(!(n instanceof mt&&n.adornedPart instanceof L))return;this.handle=e,this.isForwards=null===n||"RelinkTo"===n.category,this.originalLink=n.adornedPart}this.Ea(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Ew.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=Jn),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=Jn),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.bb(),t.add(this.temporaryLink)),this.isActive=!0},sn.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var n=t.curve;(n===wl||n===Qo)&&(n=ni),e.curve=n,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},sn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},sn.prototype.doStop=function(){Le.prototype.doStop.call(this),this.handle=null},sn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,n=this.originalFromPort,o=this.originalToNode,r=this.originalToPort,s=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var l=this.targetPort.part;l instanceof B&&(this.isForwards?(o=l,r=this.targetPort):(e=l,n=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?r=o=null:n=e=null:s=null;null!==s?(this.reconnectLink(s,this.isForwards?o:e,this.isForwards?r:n,this.isForwards),null===this.targetPort&&(this.isForwards?s.defaultToPoint=t.lastInput.documentPoint:s.defaultFromPoint=t.lastInput.documentPoint,s.bb()),this.transactionResult=this.name,t.R("LinkRelinked",s,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Xo(this.Ew)}finally{this.stopTool()}}},sn.prototype.reconnectLink=function(t,e,n,o){return n=null!==n&&null!==n.portId?n.portId:"",o?(t.toNode=e,t.toPortId=n):(t.fromNode=e,t.fromPortId=n),!0},sn.prototype.doNoRelink=function(){},pt.Object.defineProperties(sn.prototype,{fromHandleArchetype:{get:function(){return this.V},set:function(t){this.V=t}},toHandleArchetype:{get:function(){return this.Xd},set:function(t){this.Xd=t}},handle:{get:function(){return this.F},set:function(t){if(null!==t&&!(t.part instanceof mt))throw Error("new handle is not in an Adornment: "+t);this.F=t}}}),sn.className="RelinkingTool",Ge("linkingTool",function(){return this.findTool("Linking")},function(t){this.gb("Linking",t,this.mouseMoveTools)}),Ge("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.gb("Relinking",t,this.mouseDownTools)}),At(ce,vt),ce.prototype.Ru=function(t){return t&&0!==t.reshapingBehavior.value?t.reshapingBehavior:ac},ce.prototype.om=function(t,e){t.reshapingBehavior=e},ce.prototype.updateAdornments=function(t){if(null!==t&&t instanceof L){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.path;null!==n&&t.canReshape()&&t.actualBounds.w()&&t.isVisible()&&n.actualBounds.w()&&n.Ed()&&(null===(e=t.Pj(this.name))||e.Aw!==t.pointsCount||e.Uw!==t.resegmentable)&&null!==(e=this.makeAdornment(n))&&(e.Aw=t.pointsCount,e.Uw=t.resegmentable,t.bh(this.name,e))}null===e&&t.Jf(this.name)}},ce.prototype.makeAdornment=function(t){var e=t.part,n=e.pointsCount,o=e.isOrthogonal,r=null;if(null!==e.points&&1<n){(r=new mt).type=O.Link,n=e.firstPickIndex;var s=e.lastPickIndex,l=o?1:0;if(e.resegmentable&&e.computeCurve()!==ji)for(var a=n+l;a<s-l;a++){var p=this.makeResegmentHandle(t,a);null!==p&&(p.segmentIndex=a,p.segmentFraction=.5,p.fromMaxLinks=999,r.add(p))}for(l=n+1;l<s;l++)if(null!==(a=this.makeHandle(t,l))){if(a.segmentIndex=l,l!==n)if(l===n+1&&o){p=e.i(n);var d=e.i(n+1);N.B(p.x,d.x)&&N.B(p.y,d.y)&&(d=e.i(n-1)),N.B(p.x,d.x)?(this.om(a,Ks),a.cursor="n-resize"):N.B(p.y,d.y)&&(this.om(a,Hs),a.cursor="w-resize")}else l===s-1&&o?(p=e.i(s-1),d=e.i(s),N.B(p.x,d.x)&&N.B(p.y,d.y)&&(p=e.i(s+1)),N.B(p.x,d.x)?(this.om(a,Ks),a.cursor="n-resize"):N.B(p.y,d.y)&&(this.om(a,Hs),a.cursor="w-resize")):l!==s&&(this.om(a,hc),a.cursor="move");r.add(a)}r.adornedObject=t}return r},ce.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},ce.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},ce.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},ce.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof L){if(this.Ts=e,t.isMouseCaptured=!0,this.Ea(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var n=e.points.copy(),o=this.getResegmentingPoint();if(n.Gb(this.handle.segmentIndex+1,o),e.isOrthogonal&&n.Gb(this.handle.segmentIndex+1,o),e.points=n,e.Wb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Fw=e.i(this.handle.segmentIndex),this.Yq=e.points.copy(),this.isActive=!0}}},ce.prototype.doDeactivate=function(){this.stopTransaction(),this.Ts=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},ce.prototype.stopTransaction=function(){var t=this.diagram,e=vt.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.ak(),e},ce.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Yq),this.stopTool()},ce.prototype.getResegmentingPoint=function(){return this.handle.ga(Mt)},ce.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},ce.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var n=this.handle.segmentIndex,o=e.i(n-1),r=e.i(n),s=e.i(n+1);if(e.isOrthogonal){if(n>e.firstPickIndex+1&&n<e.lastPickIndex-1){var l=e.i(n-2);if(Math.abs(o.x-r.x)<this.resegmentingDistance&&Math.abs(o.y-r.y)<this.resegmentingDistance&&(Gs(this,l,o,r,s,!0)||Gs(this,l,o,r,s,!1))){var a=e.points.copy();Gs(this,l,o,r,s,!0)?(a.cd(n-2,new w(l.x,(s.y+l.y)/2)),a.cd(n+1,new w(s.x,(s.y+l.y)/2))):(a.cd(n-2,new w((s.x+l.x)/2,l.y)),a.cd(n+1,new w((s.x+l.x)/2,s.y))),a.mb(n),a.mb(n-1),e.points=a,e.Wb()}else l=e.i(n+2),Math.abs(r.x-s.x)<this.resegmentingDistance&&Math.abs(r.y-s.y)<this.resegmentingDistance&&(Gs(this,o,r,s,l,!0)||Gs(this,o,r,s,l,!1))&&(a=e.points.copy(),Gs(this,o,r,s,l,!0)?(a.cd(n-1,new w(o.x,(o.y+l.y)/2)),a.cd(n+2,new w(l.x,(o.y+l.y)/2))):(a.cd(n-1,new w((o.x+l.x)/2,o.y)),a.cd(n+2,new w((o.x+l.x)/2,l.y))),a.mb(n+1),a.mb(n),e.points=a,e.Wb())}}else l=w.alloc(),N.qh(o.x,o.y,s.x,s.y,r.x,r.y,l)&&l.Bf(r)<this.resegmentingDistance*this.resegmentingDistance&&((o=e.points.copy()).mb(n),e.points=o,e.Wb()),w.free(l)}t.Ya(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Yq)}this.stopTool()},ce.prototype.reshape=function(t){var e=this.adornedLink;e.uh();var n=this.handle.segmentIndex,o=this.Ru(this.handle);if(e.isOrthogonal)if(n===e.firstPickIndex+1)n=e.firstPickIndex+1,o===Ks?(e.L(n,e.i(n-1).x,t.y),e.L(n+1,e.i(n+2).x,t.y)):o===Hs&&(e.L(n,t.x,e.i(n-1).y),e.L(n+1,t.x,e.i(n+2).y));else if(n===e.lastPickIndex-1)n=e.lastPickIndex-1,o===Ks?(e.L(n-1,e.i(n-2).x,t.y),e.L(n,e.i(n+1).x,t.y)):o===Hs&&(e.L(n-1,t.x,e.i(n-2).y),e.L(n,t.x,e.i(n+1).y));else{var r=e.i(o=n),s=e.i(o-1),l=e.i(o+1);N.B(s.x,r.x)&&N.B(r.y,l.y)?(N.B(s.x,e.i(o-2).x)&&!N.B(s.y,e.i(o-2).y)?(e.m(o,t.x,s.y),n++,o++):e.L(o-1,t.x,s.y),N.B(l.y,e.i(o+2).y)&&!N.B(l.x,e.i(o+2).x)?e.m(o+1,l.x,t.y):e.L(o+1,l.x,t.y)):N.B(s.y,r.y)&&N.B(r.x,l.x)?(N.B(s.y,e.i(o-2).y)&&!N.B(s.x,e.i(o-2).x)?(e.m(o,s.x,t.y),n++,o++):e.L(o-1,s.x,t.y),N.B(l.x,e.i(o+2).x)&&!N.B(l.y,e.i(o+2).y)?e.m(o+1,t.x,l.y):e.L(o+1,t.x,l.y)):N.B(s.x,r.x)&&N.B(r.x,l.x)?(N.B(s.x,e.i(o-2).x)&&!N.B(s.y,e.i(o-2).y)?(e.m(o,t.x,s.y),n++,o++):e.L(o-1,t.x,s.y),N.B(l.x,e.i(o+2).x)&&!N.B(l.y,e.i(o+2).y)?e.m(o+1,t.x,l.y):e.L(o+1,t.x,l.y)):N.B(s.y,r.y)&&N.B(r.y,l.y)&&(N.B(s.y,e.i(o-2).y)&&!N.B(s.x,e.i(o-2).x)?(e.m(o,s.x,t.y),n++,o++):e.L(o-1,s.x,t.y),N.B(l.y,e.i(o+2).y)&&!N.B(l.x,e.i(o+2).x)?e.m(o+1,l.x,t.y):e.L(o+1,l.x,t.y)),e.L(n,t.x,t.y)}else e.L(n,t.x,t.y),r=e.fromPort,null!==(o=e.fromNode)&&null!==(s=o.findVisibleNode())&&s!==o&&(r=(o=s).port),1===n&&e.computeSpot(!0,r).Mc()&&(s=r.ga(Mt,w.alloc()),o=e.getLinkPointFromPoint(o,r,s,t,!0,w.alloc()),e.L(0,o.x,o.y),w.free(s),w.free(o)),r=e.toPort,null!==(o=e.toNode)&&null!==(s=o.findVisibleNode())&&s!==o&&(r=(o=s).port),n===e.pointsCount-2&&e.computeSpot(!1,r).Mc()&&(n=r.ga(Mt,w.alloc()),t=e.getLinkPointFromPoint(o,r,n,t,!1,w.alloc()),e.L(e.pointsCount-1,t.x,t.y),w.free(n),w.free(t));e.zf()},ce.prototype.computeReshape=function(t){var e=this.adornedLink,n=this.handle.segmentIndex;switch(this.Ru(this.handle)){case hc:return t;case Ks:return new w(e.i(n).x,t.y);case Hs:return new w(t.x,e.i(n).y);default:return e.i(n)}},pt.Object.defineProperties(ce.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},midHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof mt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedLink:{get:function(){return this.Ts}},resegmentingDistance:{get:function(){return this.F},set:function(t){this.F=t}},originalPoint:{get:function(){return this.Fw}},originalPoints:{get:function(){return this.Yq}}}),ce.prototype.setReshapingBehavior=ce.prototype.om,ce.prototype.getReshapingBehavior=ce.prototype.Ru;var ac=new Q(ce,"None",0),Hs=new Q(ce,"Horizontal",1),Ks=new Q(ce,"Vertical",2),hc=new Q(ce,"All",3);function $e(){vt.call(this),this.name="Resizing",this.o=new ot(1,1).freeze(),this.j=new ot(9999,9999).freeze(),this.yg=new ot(NaN,NaN).freeze(),this.V=!1,this.ia=!0,this.ue=null;var t=new ut;t.alignmentFocus=Mt,t.figure="Rectangle",t.desiredSize=Fp,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.F=t,this.u=null,this.Xq=new w,this.Dw=new ot,this.Tn=new w,this.rt=new ot(0,0),this.qt=new ot(1/0,1/0),this.pt=new ot(1,1)}function Ie(){vt.call(this),this.name="Rotating",this.ia=45,this.V=2,this.Tn=new w,this.ue=null;var t=new ut;t.figure="Ellipse",t.desiredSize=ss,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.o=t,this.j=null,this.Cw=0,this.kr=new w(NaN,NaN),this.u=0,this.F=50}function Vs(){vt.call(this),this.name="ClickSelecting"}function vi(){vt.call(this),this.name="Action",this.pk=null}function Ar(){vt.call(this),this.name="ClickCreating",this.Ri=null,this.o=!0,this.j=!1,this.mw=new w(0,0)}function Wn(){vt.call(this),this.name="DragSelecting",this.Ik=175,this.o=!1;var t=new W;t.layerName="Tool",t.selectable=!1;var e=new ut;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.j=t}function $n(){vt.call(this),this.name="Panning",this.Xt=new w,this.xy=new w,this.xg=!1;var t=this;this.Kw=function(){var e=t.diagram;null!==e&&e.removeEventListener(nt.document,"scroll",t.Kw,!1),t.stopTool()}}function ln(){this.F=this.u=this.j=this.o=null}function jn(t,e,n){this.text=t,this.hx=e,this.visible=n}function Ti(){vt.call(this),this.name="ContextMenu",this.o=this.ht=this.j=null,this.yw=new w,this.jt=null,this.Et=!1;var t=this;this.tu=function(){t.stopTool()}}function pc(t){return t.preventDefault(),!1}function C0(t){var e=t.diagram;if(t.isActive){var n=t.currentContextMenu;if(null!==n){var o=null;n instanceof ln||null!==(o=e.ic(e.lastInput.documentPoint,null,null))&&o.rg(n)&&t.standardMouseClick(null,null),t.maybeStopTool(o)}}else t.canStart()&&(w0(t,!0),t.isActive||t.stopTool())}function w0(t,e,n){if(void 0===n&&(n=null),!t.Et&&(t.Et=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Et=!1,!e)){if(t.isActive=!0,e=zs,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var o=n.contextMenu;null!==o?(t.currentObject=n instanceof X?n:null,t.showContextMenu(o,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof mt&&!t.currentContextMenu.visible&&t.stopTool()}}ce.className="LinkReshapingTool",ce.None=ac,ce.Horizontal=Hs,ce.Vertical=Ks,ce.All=hc,Ge("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.gb("LinkReshaping",t,this.mouseDownTools)}),At($e,vt),$e.prototype.updateAdornments=function(t){if(!(null===t||t instanceof L)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,n=t.Pj(this.name);if(null!==e&&t.canResize()&&t.actualBounds.w()&&t.isVisible()&&e.actualBounds.w()&&e.Ed()&&((null===n||n.adornedObject!==e)&&(n=this.makeAdornment(e)),null!==n))return e=e.li(),ur(t)&&this.updateResizeHandles(n,e),void t.bh(this.name,n)}t.Jf(this.name)}},$e.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new mt).type=O.Spot,e.locationSpot=Mt;var n=new ii;n.isPanelMain=!0,e.add(n),e.add(this.makeHandle(t,Ee)),e.add(this.makeHandle(t,qs)),e.add(this.makeHandle(t,Xn)),e.add(this.makeHandle(t,Ys)),e.add(this.makeHandle(t,nn)),e.add(this.makeHandle(t,Si)),e.add(this.makeHandle(t,rn)),e.add(this.makeHandle(t,on))}else if(an(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},$e.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},$e.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Xb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;if(n.Mc()&&(n=Mt),0>=n.x)e=0>=n.y?e+225:1<=n.y?e+135:e+180;else if(1<=n.x)0>=n.y?e+=315:1<=n.y&&(e+=45);else if(0>=n.y)e+=270;else{if(!(1<=n.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof O)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},$e.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},$e.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Cc(),this.Ea(this.name),this.Xq.set(this.adornedObject.ga(this.handle.alignment.gv())),this.Tn.set(this.adornedObject.part.location),this.Dw.set(this.adornedObject.desiredSize),this.pt=this.computeCellSize(),this.rt=this.computeMinSize(),this.qt=this.computeMaxSize(),this.isActive=!0))},$e.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.isActive=t.isMouseCaptured=!1},$e.prototype.stopTransaction=function(){var t=this.diagram,e=vt.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.ak(),e},$e.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},$e.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.rt,n=this.qt,o=this.pt,r=this.adornedObject.qs(t.lastInput.documentPoint,w.alloc()),s=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,n,o,s),this.resize(e),t.bd(),w.free(r)}},$e.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.rt,n=this.qt,o=this.pt,r=this.adornedObject.qs(t.lastInput.documentPoint,w.alloc()),s=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,n,o,s),this.resize(e),w.free(r),t.Ya(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},$e.prototype.resize=function(t){var e=this.diagram,n=this.adornedObject;if(null!==n){if(n.desiredSize=t.size,(t=n.part).Va(),n=n.ga(this.handle.alignment.gv()),t instanceof rt){var o=new H;if(o.add(t),!this.dragsMembers&&null===t.placeholder){var r=new ll;r.dragsMembers=!1}e.moveParts(o,this.oppositePoint.copy().re(n),!0,r)}else t.location=t.location.copy().re(n).add(this.oppositePoint);e.bd()}},$e.prototype.computeResize=function(t,e,n,o,r,s){e.Mc()&&(e=Mt);var l=this.adornedObject.naturalBounds,a=l.x,p=l.y,d=l.x+l.width,f=l.y+l.height,g=1;if(!s){var m=l.height;0>=(g=l.width)&&(g=1),0>=m&&(m=1),g=m/g}return m=w.alloc(),N.No(t.x,t.y,a,p,r.width,r.height,m),t=l.copy(),0>=e.x?0>=e.y?(t.x=Math.max(m.x,d-o.width),t.x=Math.min(t.x,d-n.width),t.width=Math.max(d-t.x,n.width),t.y=Math.max(m.y,f-o.height),t.y=Math.min(t.y,f-n.height),t.height=Math.max(f-t.y,n.height),s||(1<=t.height/t.width?(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g):(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width),t.x=d-t.width,t.y=f-t.height)):1<=e.y?(t.x=Math.max(m.x,d-o.width),t.x=Math.min(t.x,d-n.width),t.width=Math.max(d-t.x,n.width),t.height=Math.max(Math.min(m.y-p,o.height),n.height),s||(1<=t.height/t.width?(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g):(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width),t.x=d-t.width)):(t.x=Math.max(m.x,d-o.width),t.x=Math.min(t.x,d-n.width),t.width=d-t.x,s||(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g,t.y=p+.5*(f-p-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(m.x-a,o.width),n.width),t.y=Math.max(m.y,f-o.height),t.y=Math.min(t.y,f-n.height),t.height=Math.max(f-t.y,n.height),s||(1<=t.height/t.width?(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g):(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width),t.y=f-t.height)):1<=e.y?(t.width=Math.max(Math.min(m.x-a,o.width),n.width),t.height=Math.max(Math.min(m.y-p,o.height),n.height),s||(1<=t.height/t.width?(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g):(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width))):(t.width=Math.max(Math.min(m.x-a,o.width),n.width),s||(t.height=Math.max(Math.min(g*t.width,o.height),n.height),t.width=t.height/g,t.y=p+.5*(f-p-t.height))):0>=e.y?(t.y=Math.max(m.y,f-o.height),t.y=Math.min(t.y,f-n.height),t.height=f-t.y,s||(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width,t.x=a+.5*(d-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(m.y-p,o.height),n.height),s||(t.width=Math.max(Math.min(t.height/g,o.width),n.width),t.height=g*t.width,t.x=a+.5*(d-a-t.width))),w.free(m),t},$e.prototype.computeReshape=function(){var t=te;return this.adornedObject instanceof ut&&(t=xd(this.adornedObject)),!(t===En||this.diagram.lastInput.shift)},$e.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},$e.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},$e.prototype.computeCellSize=function(){var t=new ot(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height)),(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t},pt.Object.defineProperties($e.prototype,{handleArchetype:{get:function(){return this.F},set:function(t){this.F=t}},handle:{get:function(){return this.u},set:function(t){if(null!==t&&!(t.part instanceof mt))throw Error("new handle is not in an Adornment: "+t);this.u=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(null!==t&&t.part instanceof mt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},minSize:{get:function(){return this.o},set:function(t){if(!this.o.D(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.o.h(e,t)}}},maxSize:{get:function(){return this.j},set:function(t){if(!this.j.D(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.j.h(e,t)}}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||this.yg.assign(t)}},isGridSnapEnabled:{get:function(){return this.V},set:function(t){this.V=t}},dragsMembers:{get:function(){return this.ia},set:function(t){this.ia=t}},oppositePoint:{get:function(){return this.Xq},set:function(t){this.Xq.D(t)||this.Xq.assign(t)}},originalDesiredSize:{get:function(){return this.Dw}},originalLocation:{get:function(){return this.Tn}}}),$e.className="ResizingTool",Ge("resizingTool",function(){return this.findTool("Resizing")},function(t){this.gb("Resizing",t,this.mouseDownTools)}),At(Ie,vt),Ie.prototype.updateAdornments=function(t){if(null!==t){if(t.ph()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.w()&&t.isVisible()&&e.actualBounds.w()&&e.Ed()){var n=t.Pj(this.name);if((null===n||n.adornedObject!==e)&&(n=this.makeAdornment(e)),null!==n)return n.angle=e.li(),null===n.placeholder&&(n.location=this.computeAdornmentLocation(e)),void t.bh(this.name,n)}t.Jf(this.name)}},Ie.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new mt).type=O.Position,e.locationSpot=Mt;var n=this.handleArchetype;null!==n&&e.add(n.copy())}else if(an(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},Ie.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},Ie.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.Ea(this.name),this.Cw=this.adornedObject.angle,this.kr=this.computeRotationPoint(this.adornedObject),this.Tn=this.adornedObject.part.location.copy(),this.isActive=!0)},Ie.prototype.computeRotationPoint=function(t){var e=t.part,n=e.locationObject;return e.rotationSpot.sb()?t.ga(e.rotationSpot):t===e||t===n?n.ga(e.locationSpot):t.ga(Mt)},Ie.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.w()||(e=this.computeRotationPoint(t)),e=t.qs(e);var n=this.handleAngle;0>n?n+=360:360<=n&&(n-=360),n=Math.round(45*Math.round(n/45));var o=this.handleDistance;return 0===n?e.x=t.naturalBounds.width+o:45===n?(e.x=t.naturalBounds.width+o,e.y=t.naturalBounds.height+o):90===n?e.y=t.naturalBounds.height+o:135===n?(e.x=-o,e.y=t.naturalBounds.height+o):180===n?e.x=-o:225===n?(e.x=-o,e.y=-o):270===n?e.y=-o:315===n&&(e.x=t.naturalBounds.width+o,e.y=-o),t.ga(e)},Ie.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.ue=this.handle=null,this.kr=new w(NaN,NaN),this.isActive=t.isMouseCaptured=!1},Ie.prototype.stopTransaction=function(){var t=this.diagram,e=vt.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.ak(),e},Ie.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},Ie.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},Ie.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Ya(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},Ie.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Va();var n=e.locationObject,o=e.rotateObject;(n===o||n.rg(o))&&(n=this.Tn.copy(),e.location=n.re(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.bd()}},Ie.prototype.computeRotate=function(t){t=this.rotationPoint.ab(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.li()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var n=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},pt.Object.defineProperties(Ie.prototype,{handleArchetype:{get:function(){return this.o},set:function(t){this.o=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof mt))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedObject:{get:function(){return this.ue},set:function(t){if(null!==t&&t.part instanceof mt)throw Error("new handle must not be in an Adornment: "+t);this.ue=t}},snapAngleMultiple:{get:function(){return this.ia},set:function(t){this.ia=t}},snapAngleEpsilon:{get:function(){return this.V},set:function(t){this.V=t}},originalAngle:{get:function(){return this.Cw}},rotationPoint:{get:function(){return this.kr},set:function(t){this.kr=t.copy()}},handleAngle:{get:function(){return this.u},set:function(t){this.u=t}},handleDistance:{get:function(){return this.F},set:function(t){this.F=t}}}),Ie.className="RotatingTool",Ge("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.gb("Rotating",t,this.mouseDownTools)}),At(Vs,vt),Vs.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Vs.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Vs.className="ClickSelectingTool",At(vi,vt),vi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,n=t.ic(e.documentPoint,function(o){for(;null!==o.panel&&!o.isActionable;)o=o.panel;return o});return!(null===n||!n.isActionable||(this.pk=n,t.Ck=t.ic(e.documentPoint,null,null),0))},vi.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.pk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},vi.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.pk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},vi.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.pk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(n){for(;null!==n.panel&&(!n.isActionable||n!==e);)n=n.panel;return n},function(n){return n===e})}this.stopTool()},vi.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.pk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},vi.prototype.doStop=function(){this.pk=null},vi.className="ActionTool",At(Ar,vt),Ar.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.mw=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.mw))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.Ol(t.lastInput.documentPoint,!0))},Ar.prototype.doMouseUp=function(){this.isActive&&this.insertPart(this.diagram.lastInput.documentPoint),this.stopTool()},Ar.prototype.insertPart=function(t){var e=this.diagram,n=this.archetypeNodeData;if(null===n)return null;var o=null;try{if(e.R("ChangingSelection",e.selection),this.Ea(this.name),n instanceof W)n.Zc()&&(an(n),null!==(o=n.copy())&&e.add(o));else if(null!==n){var r=e.model.copyNodeData(n);Et(r)&&(e.model.xf(r),o=e.Lc(r))}if(null!==o){var s=w.allocAt(t.x,t.y);this.isGridSnapEnabled&&kc(this.diagram,o,t,s),o.location=s,e.allowSelect&&(e.clearSelection(!0),o.isSelected=!0),w.free(s)}e.Ya(),this.transactionResult=this.name,e.R("PartCreated",o)}finally{this.stopTransaction(),e.R("ChangedSelection",e.selection)}return o},pt.Object.defineProperties(Ar.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){this.Ri=t}},isDoubleClick:{get:function(){return this.o},set:function(t){this.o=t}},isGridSnapEnabled:{get:function(){return this.j},set:function(t){this.j=t}}}),Ar.className="ClickCreatingTool",At(Wn,vt),Wn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.Ol(e.documentPoint,!0)))},Wn.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Wn.prototype.doDeactivate=function(){var t=this.diagram;t.ug(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Wn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),n=this.box.fb("SHAPE");null===n&&(n=this.box.Pb());var o=ot.alloc().h(e.width,e.height);n.desiredSize=o,this.box.mm(e.x,e.y,!1),ot.free(o),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.gs(t.lastInput.viewPoint)}},Wn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Wn.prototype.computeBoxBounds=function(){var t=this.diagram;return new U(t.firstInput.documentPoint,t.lastInput.documentPoint)},Wn.prototype.selectInRect=function(t){var e=this.diagram,n=e.lastInput;if(t=e.ux(t,this.isPartialInclusion),No?n.meta:n.control)if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(n=new H,e=e.selection.iterator;e.next();){var o=e.value;t.contains(o)||n.add(o)}for(e=n.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},pt.Object.defineProperties(Wn.prototype,{delay:{get:function(){return this.Ik},set:function(t){this.Ik=t}},isPartialInclusion:{get:function(){return this.o},set:function(t){this.o=t}},box:{get:function(){return this.j},set:function(t){this.j=t}}}),Wn.className="DragSelectingTool",At($n,vt),$n.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},$n.prototype.doActivate=function(){var t=this.diagram;this.xg?(t.lastInput.bubbles=!0,t.addEventListener(nt.document,"scroll",this.Kw,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Xt.assign(t.position)),this.isActive=!0},$n.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},$n.prototype.doCancel=function(){var t=this.diagram;t.position=this.Xt,t.isMouseCaptured=!1,this.stopTool()},$n.prototype.doMouseMove=function(){this.move()},$n.prototype.doMouseUp=function(){this.move(),this.stopTool()},$n.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.xg)t.lastInput.bubbles=!0;else{var e=t.position,n=t.firstInput.documentPoint,o=t.lastInput.documentPoint,r=e.x+n.x-o.x;n=e.y+n.y-o.y,t.allowHorizontalScroll||(r=e.x),t.allowVerticalScroll||(n=e.y),t.position=this.xy.h(r,n)}},pt.Object.defineProperties($n.prototype,{bubbles:{get:function(){return this.xg},set:function(t){this.xg=t}},originalPosition:{get:function(){return this.Xt}}}),$n.className="PanningTool",Ge("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.gb("ClickCreating",t,this.mouseUpTools)}),Ge("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.gb("ClickSelecting",t,this.mouseUpTools)}),Ge("panningTool",function(){return this.findTool("Panning")},function(t){this.gb("Panning",t,this.mouseMoveTools)}),Ge("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.gb("DragSelecting",t,this.mouseMoveTools)}),Ge("actionTool",function(){return this.findTool("Action")},function(t){this.gb("Action",t,this.mouseDownTools)}),pt.Object.defineProperties(ln.prototype,{mainElement:{get:function(){return this.u},set:function(t){this.u=t}},show:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},hide:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},valueFunction:{get:function(){return this.F},set:function(t){this.F=t}}}),ln.className="HTMLInfo",jn.className="ContextMenuButtonInfo",At(Ti,vt),Ti.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount||!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu()))},Ti.prototype.doStart=function(){this.yw.set(this.diagram.firstInput.documentPoint)},Ti.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},Ti.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,o=null;if(t instanceof I||(o=t instanceof X?t:e.ic(e.lastInput.documentPoint,null,function(r){return!r.layer.isTemporary})),null!==o){for(t=o;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return o.part}else if(null!==e.contextMenu)return e;return null},Ti.prototype.doActivate=function(){},Ti.prototype.doMouseDown=function(){if(vt.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof mt){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&C0(this)},Ti.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof mt){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}C0(this)},Ti.prototype.maybeStopTool=function(){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())},Ti.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},Ti.prototype.showContextMenu=function(t,e){var n=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof mt){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale);var o=t.diagram;null!==o&&o!==n&&o.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.Va(),this.positionContextMenu(t,e)}else t instanceof ln&&t.show(e,n,this);this.currentContextMenu=t},Ti.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),o=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=o.width),n.x+o.width>r.right&&(n.x-=o.width+5/e.scale),n.x<r.x&&(n.x=r.x),n.y+o.height>r.bottom&&(n.y-=o.height+5/e.scale),n.y<r.y&&(n.y=r.y),t.position=n}},Ti.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof mt?(t.remove(e),null!==this.ht&&this.ht.Jf(e.category),e.data=null,e.adornedObject=null):e instanceof ln&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},Ti.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.jt&&(this.jt=function k_(t){var e=new H;return e.add(new jn("Copy",function(n){n.commandHandler.copySelection()},function(n){return n.commandHandler.canCopySelection()})),e.add(new jn("Cut",function(n){n.commandHandler.cutSelection()},function(n){return n.commandHandler.canCutSelection()})),e.add(new jn("Delete",function(n){n.commandHandler.deleteSelection()},function(n){return n.commandHandler.canDeleteSelection()})),e.add(new jn("Paste",function(n){n.commandHandler.pasteSelection(t.mouseDownPoint)},function(n){return n.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new jn("Select All",function(n){n.commandHandler.selectAll()},function(n){return n.commandHandler.canSelectAll()})),e.add(new jn("Undo",function(n){n.commandHandler.undo()},function(n){return n.commandHandler.canUndo()})),e.add(new jn("Redo",function(n){n.commandHandler.redo()},function(n){return n.commandHandler.canRedo()})),e.add(new jn("Scroll To Part",function(n){n.commandHandler.scrollToPart()},function(n){return n.commandHandler.canScrollToPart()})),e.add(new jn("Zoom To Fit",function(n){n.commandHandler.zoomToFit()},function(n){return n.commandHandler.canZoomToFit()})),e.add(new jn("Reset Zoom",function(n){n.commandHandler.resetZoom()},function(n){return n.commandHandler.canResetZoom()})),e.add(new jn("Group Selection",function(n){n.commandHandler.groupSelection()},function(n){return n.commandHandler.canGroupSelection()})),e.add(new jn("Ungroup Selection",function(n){n.commandHandler.ungroupSelection()},function(n){return n.commandHandler.canUngroupSelection()})),e.add(new jn("Edit Text",function(n){n.commandHandler.editTextBlock()},function(n){return n.commandHandler.canEditTextBlock()})),e}(this)),Wl.innerHTML="",Xl.addEventListener("pointerdown",this.tu,!1);var e=this,n=Yn("ul");n.className="goCXul",Wl.appendChild(n),n.innerHTML="";for(var o=this.jt.iterator;o.next();){var r=o.value,s=r.visible;if("function"==typeof r.hx&&("function"!=typeof s||s(t))){(s=Yn("li")).className="goCXli";var l=Yn("a");l.className="goCXa",l.href="#",l.ky=r.hx,l.addEventListener("pointerdown",function(a){return this.ky(t),e.stopTool(),a.preventDefault(),!1},!1),l.textContent=r.text,s.appendChild(l),n.appendChild(s)}}Wl.style.display="block",Xl.style.display="block"},Ti.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===zs){Wl.style.display="none",Xl.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Xl,"pointerdown",this.tu,!1),this.currentContextMenu=null}},pt.Object.defineProperties(Ti.prototype,{currentContextMenu:{get:function(){return this.j},set:function(t){this.j=t,this.ht=t instanceof mt?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===cc&&null===zs&&gn&&function N_(t){var e=new ln;e.show=function(r,s,l){l.showDefaultContextMenu()},e.hide=function(r,s){s.hideDefaultContextMenu()},zs=e,t.tu=function(){t.stopTool()},e=Yn("div");var n=Yn("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var o=Yn("style");nt.document.getElementsByTagName("head")[0].appendChild(o),o.sheet.insertRule(".goCXul { list-style: none; }",0),o.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),o.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(o=t.diagram)&&(o.addEventListener(e,"contextmenu",pc,!1),o.addEventListener(e,"selectstart",pc,!1),o.addEventListener(n,"contextmenu",pc,!1)),e.className="goCXforeground",n.className="goCXbackground",nt.document.body&&(nt.document.body.appendChild(e),nt.document.body.appendChild(n)),Wl=e,Xl=n,cc=!0}(this),zs},set:function(t){null===t&&(cc=!0),zs=t}},currentObject:{get:function(){return this.o},set:function(t){this.o=t}},mouseDownPoint:{get:function(){return this.yw}}});var zs=null,cc=!1,Xl=null,Wl=null;function Rt(){vt.call(this),this.name="TextEditing",this.Zh=new kt,this.ia=null,this.V=fc,this.vj=null,this.qa=$l,this.u=1,this.F=!0,this.o=null,this.j=new ln,this.kt=null,function I_(t,e){if(gn){var n=Yn("textarea");t.kt=n,n.addEventListener("input",function(){if(null!==t.textBlock){var o=t.Lx(this.value);this.style.width=20+o.measuredBounds.width*this.wA+"px",this.rows=o.lineCount}},!1),n.addEventListener("keydown",function(o){if(!o.isComposing&&null!==t.textBlock){var r=o.key;"Enter"===r?(!1===t.textBlock.isMultiline&&o.preventDefault(),t.acceptText(Sa)):"Tab"===r?(t.acceptText(dc),o.preventDefault()):"Escape"===r&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),n.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==$l){var o=t.kt;t.qa===tu&&(t.qa=Ta),"function"==typeof o.select&&t.selectsTextOnActivate&&(o.select(),o.setSelectionRange(0,9999))}},!1),n.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==$l){var o=t.kt;"function"==typeof o.focus&&o.focus(),"function"==typeof o.select&&t.selectsTextOnActivate&&(o.select(),o.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return n.value},e.mainElement=n,e.show=function(o,r,s){if(o instanceof kt&&s instanceof Rt)if(s.state===eu)n.style.border="3px solid red",n.focus();else{var l=o.ga(Mt),a=r.position,p=r.scale,d=o.Df()*p;d<s.minimumEditorScale&&(d=s.minimumEditorScale);var f=o.naturalBounds.width*d+6,g=o.naturalBounds.height*d+2,m=(l.x-a.x)*p;l=(l.y-a.y)*p,g=(a=o.verticalAlignment).y*g-a.y*(p=(o.lineHeight+o.spacingAbove+o.spacingBelow)*o.lineCount*d)+a.offsetY-(.5*g-.5*p)-p/2,n.value=o.text,r.div.style.font=o.font,n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=100*d+"%",n.style.lineHeight="normal",n.style.width=f+"px",n.style.left=(m-f/2|0)-1+"px",n.style.top=(l+g|0)-1+"px",n.style.textAlign=o.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=o.lineCount,n.wA=d,n.className="goTXarea",r.div.appendChild(n),n.focus(),s.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},e.hide=function(o){o.div.removeChild(n)}}}(this,this.j)}function A0(t){var e=t.textBlock,n=t.diagram,o=t.currentTextEditor;if(null!==e&&null!==o){var r=e.text,s="";null!==o.valueFunction&&(s=o.valueFunction()),t.isValidText(e,r,s)?(t.Ea(t.name),t.qa=mc,t.transactionResult=t.name,e.text=s,t.doSuccess(r,s),null!==n&&n.R("TextEdited",e,r),t.stopTransaction(),t.stopTool(),null!==n&&n.doFocus()):(t.qa=eu,t.doError(r,s))}}Ti.className="ContextMenuTool",Ge("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.gb("ContextMenu",t,this.mouseUpTools)}),At(Rt,vt),Rt.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||ps&&ps!==this&&(ps.acceptText(Da),ps&&ps!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.ic(t.lastInput.documentPoint);return!!(null!==e&&e instanceof kt&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===fc&&!e.isSelected||this.starting===Z0&&2>t.lastInput.clickCount)},Rt.prototype.doStart=function(){ps=this,null!==this.textBlock&&this.doActivate()},Rt.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.ic(t.lastInput.documentPoint)),null!==e&&e instanceof kt&&(this.textBlock=e,null!==e.part)){t.animationManager.Cc(),this.isActive=!0,this.qa=tu;var n=this.defaultTextEditor;null!==e.textEditor&&(n=e.textEditor),this.Zh=this.textBlock.copy();var o=new U(this.textBlock.ga(Ee),this.textBlock.ga(Xn));t.tv(o),n.show(e,t,this),this.currentTextEditor=n}}}},Rt.prototype.doCancel=function(){this.stopTool()},Rt.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Rt.prototype.doMouseDown=function(){this.isActive&&this.acceptText(Da)},Rt.prototype.acceptText=function(t){switch(t){case Da:this.qa===mc?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.qa===tu||this.qa===eu||this.qa===Ta)&&(this.qa=gc,A0(this));break;case M0:case Sa:case dc:(Sa!==t||!0!==this.textBlock.isMultiline)&&(this.qa===tu||this.qa===eu||this.qa===Ta)&&(this.qa=gc,A0(this))}},Rt.prototype.doError=function(t,e){var n=this.textBlock;null!==n.errorFunction&&n.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(n,this.diagram,this)},Rt.prototype.doSuccess=function(t,e){var n=this.textBlock;null!==n.textEdited&&n.textEdited(n,t,e)},Rt.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.qa=$l,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)},Rt.prototype.doStop=function(){ps=null},Rt.prototype.isValidText=function(t,e,n){var o=this.textValidation;return!(null!==o&&!o(t,e,n)||null!==(o=t.textValidation)&&!o(t,e,n))},Rt.prototype.Lx=function(t){var e=this.Zh;return e.text=t,e.measure(this.textBlock.Ih,1/0),e},pt.Object.defineProperties(Rt.prototype,{textBlock:{get:function(){return this.ia},set:function(t){this.ia=t}},currentTextEditor:{get:function(){return this.o},set:function(t){this.o=t}},defaultTextEditor:{get:function(){return this.j},set:function(t){this.j=t}},starting:{get:function(){return this.V},set:function(t){this.V=t}},textValidation:{get:function(){return this.vj},set:function(t){this.vj=t}},minimumEditorScale:{get:function(){return this.u},set:function(t){this.u=t}},selectsTextOnActivate:{get:function(){return this.F},set:function(t){this.F=t}},state:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.qa=t)}}}),Rt.prototype.measureTemporaryTextBlock=Rt.prototype.Lx;var M0=new Q(Rt,"LostFocus",0),Da=new Q(Rt,"MouseDown",1),dc=new Q(Rt,"Tab",2),Sa=new Q(Rt,"Enter",3),U_=new Q(Rt,"SingleClick",0),fc=new Q(Rt,"SingleClickSelected",1),Z0=new Q(Rt,"DoubleClick",2),$l=new Q(Rt,"StateNone",0),tu=new Q(Rt,"StateActive",1),Ta=new Q(Rt,"StateEditing",2),gc=new Q(Rt,"StateValidating",3),eu=new Q(Rt,"StateInvalid",4),mc=new Q(Rt,"StateValidated",5),ps=null;function Ri(t){Ma||(I0(),Ma=!0),this.H=tl,this.Ok=this.zb=this.vq=this.bc=!1,this.Qw=!0,this.Pk=Za,this.Dm=!1,this.Gh=this.Jd=!0,this.Dg=600,this.cw=this.Ow=!1,this.Zd=new E,this.ce=new Be,this.ce.Yd=this,this.Ei=new E,this.pu=new E,this.Sr=new E,this.pr=new E,t&&Object.assign(this,t)}function ko(t,e){t.Jd&&t.canStart(e)&&(t.Zd.add(e),t.defaultAnimation.isAnimating&&t.Cc(),ti(t.H),t.zb=!0)}function _c(t){if(t.Jd&&t.zb){var e=t.ce,n=t.H,o=t.Zd.contains("Model");o&&(t.Ok=!0,t.Pk===Za?(e.isViewportUnconstrained=!0,e.vc.clear(),e.add(n,"position",n.position.copy().offset(0,-200),n.position),e.add(n,"opacity",0,1)):t.Pk===F0&&e.vc.clear(),t.Qw=!(t.Pk!==U0||!n.du.D(n.pa)),n.R("InitialAnimationStarting",t)),o&&!t.Gh||0===e.vc.count?(t.Zd.clear(),t.zb=!1,e.vc.clear(),ja(e,n),t.Ok=!1,n.N()):(t.Zd.clear(),n.kg=!1,o=e.vc.get(n),n.autoScale!==Ei&&null!==o&&(delete o.start.scale,delete o.end.scale),nt.requestAnimationFrame(function(){!1===t.zb||e.bc||(n.Gf("temporaryPixelRatio")&&nu(n),Dc(n),t.zb=!1,e.start(),e.bc&&(Xs(t),n.Ya(),L0(e,0),Io(n,!0),Ws(t),n.R("AnimationStarting",t)))}))}}function Ca(t){return t.Zd.contains("Trigger")&&1===t.Zd.count}function j0(t,e,n,o){t.isTicking||Ca(t)||e instanceof L&&(null!==e.fromNode||null!==e.toNode)||t.ce.add(e,"position",n,o,!1)}function Xs(t){if(!t.vq){var e=t.H;t.Ow=e.skipsUndoManager,t.cw=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.vq=!0}}function Ws(t){var e=t.H;e.skipsUndoManager=t.Ow,e.skipsModelSourceBindings=t.cw,t.vq=!1}function N0(t,e,n){!t.zb||e.D(n)||Ca(t)||(t.H.pi||(e=n.copy()),yc(t.ce,t.H,"position",e,n))}function vc(t,e,n){e.fd&&(e.Tg=n,t.pr.add(e))}function k0(t,e){for(e=e.findLinksConnected();e.next();){var n=e.value;n.fd&&(n.Tg=n.points.copy(),t.pr.add(n))}}function wa(t,e,n,o,r){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var s=t[0],l=t[1],a=t[2];t=t[3];var p=e[0],d=e[1],f=e[2];return e=e[3],0===a||100===a?(s=p,l=d):(0===f||100===f)&&(p=s,d=l),180<Math.abs(p-s)&&(p>s?s+=360:p+=360),"hsla("+(s=r(n,s,p-s,o)%360)+", "+(l=r(n,l,d-l,o))+"%, "+(a=r(n,a,f-a,o))+"%, "+(n=r(n,t,e-t,o))+")"}function I0(){function t(n,o,r,s,l,a){n.position=new w(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a))}var e=new lt;e.add("position:diagram",t),e.add("position",t),e.add("position:part",function(n,o,r,s,l,a){l<a?n.mm(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a),!1):n.position=new w(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a))}),e.add("location",function(n,o,r,s,l,a){l<a?n.mm(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a),!0):n.location=new w(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a))}),e.add("position:placeholder",function(n,o,r,s,l,a){l<a?n.mm(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a),!1):n.position=new w(s(l,o.x,r.x-o.x,a),s(l,o.y,r.y-o.y,a))}),e.add("position:nodeCollapse",function(n,o,r,s,l,a){var p=n.actualBounds,d=r.actualBounds;r=d.x+d.width/2-p.width/2,p=d.y+d.height/2-p.height/2,l<a?n.mm(s(l,o.x,r-o.x,a),s(l,o.y,p-o.y,a),!1):n.position=new w(s(l,o.x,r-o.x,a),s(l,o.y,p-o.y,a))}),e.add("desiredSize",function(n,o,r,s,l,a){n.desiredSize=new U(s(l,o.width,r.width-o.width,a),s(l,o.height,r.height-o.height,a))}),e.add("width",function(n,o,r,s,l,a){n.width=s(l,o,r-o,a)}),e.add("height",function(n,o,r,s,l,a){n.height=s(l,o,r-o,a)}),e.add("fill",function(n,o,r,s,l,a){n.fill=wa(o,r,l,a,s)}),e.add("stroke",function(n,o,r,s,l,a){n.stroke=wa(o,r,l,a,s)}),e.add("strokeWidth",function(n,o,r,s,l,a){n.strokeWidth=s(l,o,r-o,a)}),e.add("strokeDashOffset",function(n,o,r,s,l,a){n.strokeDashOffset=s(l,o,r-o,a)}),e.add("background",function(n,o,r,s,l,a){n.background=wa(o,r,l,a,s)}),e.add("areaBackground",function(n,o,r,s,l,a){n.areaBackground=wa(o,r,l,a,s)}),e.add("opacity",function(n,o,r,s,l,a){n.opacity=s(l,o,r-o,a)}),e.add("scale",function(n,o,r,s,l,a){n.scale=s(l,o,r-o,a)}),e.add("angle",function(n,o,r,s,l,a){n.angle=s(l,o,r-o,a)}),Aa=e}Rt.className="TextEditingTool",Rt.LostFocus=M0,Rt.MouseDown=Da,Rt.Tab=dc,Rt.Enter=Sa,Rt.SingleClick=U_,Rt.SingleClickSelected=fc,Rt.DoubleClick=Z0,Rt.StateNone=$l,Rt.StateActive=tu,Rt.StateEditing=Ta,Rt.StateValidating=gc,Rt.StateInvalid=eu,Rt.StateValidated=mc,Ge("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.gb("TextEditing",t,this.mouseUpTools)}),Ri.prototype.Xe=function(t){this.H=t},Ri.prototype.canStart=function(){return!0},(x=Ri.prototype).fv=function(t){return this.ce.fv(t)},x.Xu=function(t){return this.ce.Xu(t)},x.Cc=function(t){var e=this.ce;if(!0===this.zb&&(this.Ok=this.zb=!1,this.Zd.clear(),0<e.vc.count&&this.H.$b()),this.bc){if(e.Ml(!0),e.vc.clear(),ja(e,null),!0===t)for(t=this.Ei.Fa(),e=0;e<t.length;e++)t[e].Ml(!0)}else e.vc.clear(),ja(e,this.H)},x.Ml=function(t){t===this.defaultAnimation&&this.defaultAnimation.vc.clear(),this.Ei.remove(t),0===this.Ei.count&&(this.bc=!1,this.H.$b()),t===this.defaultAnimation&&(this.defaultAnimation.vc.clear(),this.H.R("AnimationFinished",this))},x.Cj=function(t,e){this.zb&&(this.Zd.contains("Expand Tree")||this.Zd.contains("Expand SubGraph"))&&(this.ce.Cj(t,e),k0(this,t))},x.Aj=function(t,e){this.zb&&(this.Zd.contains("Collapse Tree")||this.Zd.contains("Collapse SubGraph"))&&(this.ce.Aj(t,e),yc(this.ce,e,"position",e.position,e.position),k0(this,t))},pt.Object.defineProperties(Ri.prototype,{animationReasons:{get:function(){return this.Zd}},isEnabled:{get:function(){return this.Jd},set:function(t){(this.Jd=t)&&this.Ei.each(function(e){e.isAnimating||e.runCount!==1/0||e.start()})}},duration:{get:function(){return this.Dg},set:function(t){1>t&&Jt(t,">= 1",Ri,"duration"),this.Dg=t}},isAnimating:{get:function(){return this.bc}},isTicking:{get:function(){return this.vq}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t}},defaultAnimation:{get:function(){return this.ce}},activeAnimations:{get:function(){return this.Ei}},initialAnimationStyle:{get:function(){return this.Pk},set:function(t){this.Pk=t}}}),Ri.prototype.stopAnimation=Ri.prototype.Cc;var Aa=null,Ma=!1,Za=new Q(Ri,"Default",1),U0=new Q(Ri,"AnimateLocations",2),F0=new Q(Ri,"None",3);function Be(t){this.vu=this.Nw=this.Yd=this.H=null,this.Xk=this.bc=this.j=!1,this.cn=this.Qd=0,this.Lp=this.ot=b0,this.Wk=this.ho=!1,this.cu=1,this.au=0,this.Gd=this.Dg=NaN,this.gw=0,this.dn=null,this.o=mo,this.vc=new lt,this.Tt=new lt,this.yl=new E,this.Ut=new E,this.dw=Zr,t&&Object.assign(this,t)}function ja(t,e){if(t.Tt.clear(),t.Wk=!1,t.au=0,t.Gd=NaN,0<t.yl.count&&t.yl.clear(),0<t.Ut.count&&t.Ut.clear(),null!==e)for(t=e.links;t.next();)t.value.Tg=null}function yc(t,e,n,o,r,s){var l=t.vc;if(e instanceof I&&"position"===n&&(n="position:diagram"),("fill"===n||"stroke"===n||"background"===n||"areaBackground"===n)&&(So(o),id(),o=[Zi.j,Zi.u,Zi.o,Zi.F],So(r),id(),r=[Zi.j,Zi.u,Zi.o,Zi.F]),l.contains(e)){var a=l.I(e),p=a.start,d=a.end;void 0===p[n]&&(p[n]=$s(o)),d[n]=$s(r)}else d={},(p={})[n]=$s(o),d[n]=$s(r),a=p.position,e instanceof X&&a instanceof w&&!a.w()&&e.diagram.animationManager.Zd.contains("Expand SubGraph")&&a.assign(d.position),a=new Y0(p,d,s),l.add(e,a);(l=p[n])instanceof w&&!l.w()&&l.assign(t.o),s&&0===n.indexOf("position:")&&e instanceof W?a.Ku.location=$s(e.location):s&&(a.Ku[n]=$s(o))}function $s(t){return t instanceof w||t instanceof ot?t.copy():t}function O0(t,e){if(!t.Xk||e){var n=t.Yd;if(!1!==t.bc){var o=+new Date,r=o>t.cn?t.Gd:o-t.Qd;e&&((r=t.gw)<t.Gd?(t.Qd=+new Date-r,t.cn=t.Qd+t.Gd):r=t.Gd),Xs(n),L0(t,r),Io(t.H,!0),Ws(n),o>t.cn&&(t.ho&&!t.Wk?(t.Qd=+new Date,t.cn=t.Qd+t.Gd,t.Wk=!0):t.Ml(!1))}}}function L0(t,e){for(var n=t.Gd,o=t.vc.iterator,r=t.Wk;o.next();){var s=o.key;if(!(s instanceof X&&null===s.diagram)){var l=o.value,a=r?l.end:l.start;l=r?l.start:l.end;var d,p=Aa;for(d in l)"position"===d&&(l["position:placeholder"]||l["position:nodeCollapse"])||null===p.get(d)||p.get(d)(s,a[d],l[d],t.Lp,e,n,t)}}}function b0(t,e,n,o){return 1>(t/=o/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function q0(t,e,n,o){return t===o?e+n:n*(1-Math.pow(2,-10*t/o))+e}function Y0(t,e,n){this.start=t,this.end=e,this.Ku={},this.Hu=n,this.nv=!1}function to(t,e,n){this.xd=null,this.rf=t,this.so=n||J0,this.uk=null,void 0!==e&&(this.uk=e,void 0===n&&(this.so=xc))}Ri.className="AnimationManager",Ri.defineAnimationEffect=function(t,e){Ma||(I0(),Ma=!0),Aa.add(t,e)},Ri.Default=Za,Ri.AnimateLocations=U0,Ri.None=F0,Be.prototype.suspend=function(){this.Xk=!0},Be.prototype.advanceTo=function(t,e){e&&(this.Xk=!1),this.ho&&t>=this.Gd&&(this.Wk=!0,t-=this.Gd),this.gw=t,O0(this,!0),Xs(this.Yd),Io(this.H),Ws(this.Yd),this.H.redraw()},(x=Be.prototype).start=function(){if(0===this.vc.count||this.bc)return this;for(var t=this.H,e=this.vc.iterator;e.next();){var n=e.key;null===t&&(n instanceof I?t=n:n instanceof X&&(t=n.diagram))}return null===t||(this.H=t,this.Yd=t.animationManager,!1===(e=this.Yd).isEnabled||(this.Gd=isNaN(this.Dg)?e.duration:this.Dg,this.Lp=this.ot,e.Ok&&e.Pk===Za&&this===e.defaultAnimation&&(this.Lp=q0,this.Gd=isNaN(this.Dg)?600===e.duration?900:e.duration:this.Dg),this.dw=t.scrollMode,this.isViewportUnconstrained&&(t.sj=Ec),Xs(e),this.yl.each(function(o){o.data=null,t.add(o)}),Ws(e),this.bc=!0,this.Qd=+new Date,this.cn=this.Qd+this.Gd,function F_(t,e){function n(){if(0<r.Sr.count&&(o.addAll(r.Sr),r.Sr.clear(),r.bc=!0),!1!==r.bc&&0!==o.count){r.pu.addAll(o);for(var s=r.pu.iterator;s.next();){var l=s.value;if(!1!==l.bc){t:if(0<l.yl.count)var a=!0;else{for(a=l.vc.iterator;a.next();){var p=a.key;if(p instanceof X&&null!==p.diagram||p instanceof I){a=!0;break t}}a=!1}a?O0(l,!1):l.Xk=!0}}r.pu.clear(),!1!==r.bc&&(Xs(r),Io(r.H),Ws(r)),nt.requestAnimationFrame(n)}}var o=t.Ei,r=t;t.bc?t.Sr.add(e):(t.bc=!0,o.add(e),nt.requestAnimationFrame(function(){n()}))}(e,this))),this},x.Iy=function(t,e){return t.Zc()?(this.yl.add(t),this.H=e,this):this},x.add=function(t,e,n,o,r){if("position"===e&&n.Xa(o))return this;if(null===this.H&&(t instanceof I?this.H=t:t instanceof X&&null!==t.diagram&&(this.H=t.diagram)),t instanceof W){if(!t.isAnimated)return this;"position"===e&&(e="position:part")}return yc(this,t,e,n,o,r),this},x.fv=function(t){return!!this.bc&&null!==(t=this.vc.I(t))&&t.nv},x.Xu=function(t){return!!this.bc&&null!==(t=this.vc.I(t))&&(t.start.position||t.start.location)},x.stop=function(){return this.bc?(this.Ml(!0),this):this},x.Ml=function(t){if(null!==this.vu&&this.vu.jo.remove(this.Nw),this.bc){var e=this.H,n=this.Yd;this.Xk=this.bc=n.Ok=!1,Xs(n);for(var o=this.vc,r=this.yl.iterator;r.next();)e.remove(r.value);for(r=this.Ut.iterator;r.next();)r.value.v();r=this.ho,o=o.iterator;for(var s=Aa;o.next();){var g,l=o.key,a=o.value,p=r?a.end:a.start,d=r?a.start:a.end,f=a.Ku;for(g in d)if(null!==s.get(g)){var m=g;!a.Hu||"position:nodeCollapse"!==m&&"position:placeholder"!==m||(m="position"),s.get(m)(l,p[g],void 0!==f[g]?f[g]:a.Hu?p[g]:d[g],this.Lp,this.Gd,this.Gd,this)}a.Hu&&void 0!==f.location&&l instanceof W&&(l.location=f.location),a.nv&&l instanceof W&&l.Zb(!1)}if(e.As.clear(),ka(e,!1),e.Ya(),e.N(),Io(e,!0),n.defaultAnimation===this){for(g=n.pr.iterator;g.next();)null!==(r=g.value).Tg&&(r.points=r.Tg,r.Tg=null);n.pr.clear()}Io(e,!0),this.isViewportUnconstrained&&(e.scrollMode=this.dw),Ws(n),this.au++,!t&&this.cu>this.au?(this.Wk=!1,this.start()):(this.dn&&this.dn(this),ja(this,null),n.Ml(this),e.$b())}},x.Cj=function(t,e){var n=e.actualBounds,o=null;if(e instanceof rt&&(o=e.placeholder),null!==o?((n=o.ga(Ee)).x+=(o=o.padding).left,n.y+=o.top,this.add(t,"position",n,t.position,!1)):this.add(t,"position",new w(n.x+n.width/2,n.y+n.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof rt)for(t=t.memberParts;t.next();)(o=t.value)instanceof B&&this.Cj(o,e)},x.Aj=function(t,e){if(t.isVisible()){var n=null;if(e instanceof rt&&(n=e.placeholder),null!==n){var o=n.ga(Ee);o.x+=(n=n.padding).left,o.y+=n.top,this.add(t,"position:placeholder",t.position,o,!0)}else this.add(t,"position:nodeCollapse",t.position,e,!0);if(this.add(t,"scale",t.scale,.01,!0),(o=this.vc).contains(t)&&(o.I(t).nv=!0),t instanceof rt)for(t=t.memberParts;t.next();)(o=t.value)instanceof B&&this.Aj(o,e)}},x.Ez=function(t){var e=this.Tt.get(t);return null===e&&this.Tt.add(t,e={}),e},pt.Object.defineProperties(Be.prototype,{duration:{get:function(){return this.Dg},set:function(t){1>t&&Jt(t,">= 1",Be,"duration"),this.Dg=t}},reversible:{get:function(){return this.ho},set:function(t){this.ho=t}},runCount:{get:function(){return this.cu},set:function(t){0<t?this.cu=t:q("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.dn},set:function(t){this.dn!==t&&(this.dn=t)}},easing:{get:function(){return this.ot},set:function(t){this.ot=t}},isViewportUnconstrained:{get:function(){return this.j},set:function(t){this.j=t}},isAnimating:{get:function(){return this.bc}}}),Be.prototype.getTemporaryState=Be.prototype.Ez,Be.prototype.stop=Be.prototype.stop,Be.prototype.add=Be.prototype.add,Be.prototype.addTemporaryPart=Be.prototype.Iy,Be.className="Animation",Be.EaseLinear=function(t,e,n,o){return n*t/o+e},Be.EaseInOutQuad=b0,Be.EaseInQuad=function(t,e,n,o){return n*(t/=o)*t+e},Be.EaseOutQuad=function(t,e,n,o){return-n*(t/=o)*(t-2)+e},Be.EaseInExpo=function(t,e,n,o){return 0===t?e:n*Math.pow(2,10*(t/o-1))+e},Be.EaseOutExpo=q0,Y0.className="AnimationState",to.prototype.copy=function(){var t=new to(this.rf);t.so=this.so;var e=this.uk;if(null!==e){var n={};void 0!==e.duration&&(n.duration=e.duration),void 0!==e.finished&&(n.finished=e.finished),void 0!==e.easing&&(n.easing=e.easing),t.uk=n}return t},pt.Object.defineProperties(to.prototype,{propertyName:{get:function(){return this.rf},set:function(t){this.rf=t}},animationSettings:{get:function(){return this.uk},set:function(t){this.uk=t}},startCondition:{get:function(){return this.so},set:function(t){this.so=t}}});var E0,tl,J0=new Q(to,"Default",1),xc=new Q(to,"Immediate",2),R0=new Q(to,"Bundled",3);function Qe(t){ye(this),this.H=null,this.Pa=new H,this.xa="",this.pb=1,this.o=!1,this.j=this.Uh=this.u=this.Oi=this.Ni=this.Mi=this.Li=this.Ji=this.Ki=this.Ii=this.Qi=this.Hi=this.Pi=this.Gi=this.Fi=!0,this.Zq=[],t&&Object.assign(this,t)}function iu(t,e){var n=1;return 1!==t.pb&&(e.globalAlpha=(n=e.globalAlpha)*t.pb),n}function b_(t,e,n,o,r){if(t.visible&&0!==t.pb&&(r||!t.isTemporary)){var s=(r=t.Pa.s).length;if(0!==s){var l=iu(t,e),a=t.Zq;a.length=0;for(var p=n.scale,d=U.alloc(),f=0;f<s;f++){var g=r[f];o.contains(g)&&t.Oj(e,g,n,a,p,d,!1)}U.free(d),e.globalAlpha=l}}}function Na(t,e,n){if(e=function q_(t,e,n){var o=n.zOrder;if(isNaN(o))return e;var r=(t=t.Pa).count;if(1>=r)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var s=e-1,l=NaN;0<=s&&(l=t.M(s).zOrder,isNaN(l));)s--;for(var a=e+1,p=NaN;a<r&&(p=t.M(a).zOrder,isNaN(p));)a++;if(!isNaN(l)&&l>o)for(;;){if(-1===s||l<=o){if(++s===e)break;return t.mb(e),t.Gb(s,n),s}for(l=NaN;0<=--s&&(l=t.M(s).zOrder,isNaN(l)););}else if(!isNaN(p)&&p<o)for(;;){if(a===r||p>=o){if(--a===e)break;return t.mb(e),t.Gb(a,n),a}for(p=NaN;++a<r&&(p=t.M(a).zOrder,isNaN(p)););}return e}(t,e,n),n instanceof rt&&null!==n&&isNaN(n.zOrder)){if(0!==n.memberParts.count){for(var o=-1,r=t.Pa.s,s=r.length,l=0;l<s;l++){var a=r[l];if(a===n&&(e=l,0<=o)||0>o&&a.containingGroup===n&&(o=l,0<=e))break}!(0>o)&&o<e&&((r=t.Pa).mb(e),r.Gb(o,n))}null!==(e=n.containingGroup)&&Na(t,-1,e)}null!==n.svg&&n.svg.remove()}function I(t,e){if(_g||(function X_(){if(gn){var t=nt.document.createElement("canvas"),e=t.getContext("2d"),n=Dt("7ca11abfd022028846");e[n]=Dt("398c3597c01238");for(var o=["5da73c80a36455d7038e4972187c3cae51fd22",ts.Dx+"4ae6247590da4bb21c324ba3a84e385776",ct.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",N.za],r=1;5>r;r++)e[Dt("7ca11abfd7330390")](Dt(o[r-1]),10,15*r);for(e[n]=Dt("39f046ebb36e4b"),n=1;5>n;n++)e[Dt("7ca11abfd7330390")](Dt(o[n-1]),10,15*n);(4!==o.length||"5"!==o[0][0]||"7"!==o[3][0])&&(ct.prototype.Cd=ct.prototype.Eu),mg=t}}(),_g=!0),ye(this),tl=this,this.vb=!0,this.Ka=null,this.ya=this.Aa=0,this.ta=null,gn){var n=this,o=function(){n.removeEventListener(nt.document,"DOMContentLoaded",o,!1),n.setRTL()};null!==nt.document.body?this.setRTL():n.addEventListener(nt.document,"DOMContentLoaded",o,!1)}this.ol=null,ba.add("Model",Tt);var r=this;return this.Hb=function(s){var l=r.partManager;if(s.model===l.diagram.model&&l.diagram.aa){l.diagram.aa=!1;try{""===s.modelChange&&s.change===Bt&&l.updateDataBindings(s.object,s.propertyName)}finally{l.diagram.aa=!0}}},this.Oc=function(s){r.partManager.doModelChanged(s)},this.hu=this.ku=null,B0(this),this.model=lf(),this.Wg=!0,H0(this),this.layout=new Yt,this.Wg=!1,this.ck=this.ek=this.fk=this.dk=this.ui=this.aA=this.$j=this.Ov=null,this.hk=function(){},this.preventDefault=null,this.rn=!1,this.Yf=new vg,void 0!==t&&("string"==typeof t||nt.Element&&t instanceof Element?Pc(this,t):e=t),this.vb=!1,e&&this.nm(e),this}function B0(t){t.Yd=new Ri,t.Yd.Xe(t),t.Db=17,t.Gw=!1,t.tn=!1,t.bu="default",t.Wa=new H,t.pj=new lt,t.nl="default",t.Tx(),t.Sx(),t.pb=1,t.pa=new w(NaN,NaN).freeze(),t.du=new w(NaN,NaN),t.Ca=1,t.Pp=1,t.zt=new w(NaN,NaN).freeze(),t.At=NaN,t.Ot=1e-4,t.Mt=100,t.Ab=new ct,t.zu=new w(NaN,NaN).freeze(),t.ut=new U(NaN,NaN,NaN,NaN).freeze(),t.rj=new St(0,0,0,0).freeze(),t.sj=Zr,t.nu=!1,t.Zt=null,t.fu=null,t.yh=Ei,t.zk=Oe,t.Fg=Ei,t.pq=Oe,t.yt=Ee,t.Bt=Ee,t.Fc=!0,t.pn=!1,t.De=new E,t.Eh=new lt,t.Xm=!0,t.vp=250,t.vk=-1,t.xp=new St(16,16,16,16).freeze(),t.kg=!1,t.Jk=!1,t.fn=!0,t.bq=new Ji,t.bq.diagram=t,t.Qg=new Ji,t.Qg.diagram=t,t.cj=new Ji,t.cj.diagram=t,t.zg=null,t.pf=null,t.qu=!1,function V_(t){function e(r){var s=r.toLowerCase(),l=new H;n.add(r,l),n.add(s,l),o.add(r,r),o.add(s,r)}var n=new lt,o=new lt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.iw=n,t.hw=o}(t),t.ai=new E,t.Ht=!0,t.uu=ds,t.pw=!1,t.wu=Rc,t.it="auto",t.Op="auto",t.zh=null,t.Fh=null,t.Bh=null,t.Qh=null,t.Oh=null,t.Nh=null,t.Qt=null,t.Lh=null,t.xt=!1,t.Mh=null,t.Ph=null,t.$h=null,t.Ch=null,t.Rt=!1,t.Yt={},t.oj=[null,null],t.Wg=!1,t.Iw=!1,t.ou=!1,t.lt=!1,t.rw=!0,t.ld=!1,t.$i=!1,t.Tw=!0,t.Ce=-2,t.Og=new lt,t.Xn=new H,t.Gg=!1,t.Jd=!0,t.Us=!0,t.Fi=!0,t.Gi=!0,t.Vs=!1,t.Ws=!0,t.Pi=!0,t.Hi=!0,t.Qi=!0,t.Ys=!0,t.Ii=!0,t.Ki=!0,t.Ji=!0,t.Li=!0,t.Mi=!0,t.Ni=!0,t.Oi=!0,t.Zs=!0,t.at=!0,t.qw=!1,t.Vk=!1,t.mn=!0,t.nn=!0,t.Xs=!0,t.$s=!0,t.iu=16,t.mu=16,t.qr=!1,t.gu=!1,t.lu=0,t.ju=0,t.yb=new St(5).freeze(),t.Hw=(new E).freeze(),t.Nt=999999999,t.nw=(new E).freeze(),t.Zi=!0,t.Ee=!0,t.vd=!0,t.Be=!1,t.gf=!1,t.xh=!0,t.hf=!1,t.sy=new E,t.ow=new E,t.Xh=null,t.aw=new ot(8,8),t.bw=999,t.Bw=1,t.Jw=0,t.fc={scale:1,position:new w,bounds:new U,Py:new ot,bA:new ot,Oz:!1},t.fc.canvasSize=t.fc.Py,t.fc.newCanvasSize=t.fc.bA,t.fc.isScroll=!1,t.Rw=new U(NaN,NaN,NaN,NaN).freeze(),t.wo=new ot(NaN,NaN).freeze(),t.Sp=new U(NaN,NaN,NaN,NaN).freeze(),t.It=!1,t.Lg=new lt;var e=new B,n=new kt;n.bind(new re("text","",cn)),e.add(n),t.ny=e,t.Lg.add("",e),e=new B,(n=new kt).stroke="brown",n.bind(new re("text","",cn)),e.add(n),t.Lg.add("Comment",e),(e=new B).selectable=!1,e.avoidable=!1,(n=new ut).figure="Ellipse",n.fill="black",n.stroke=null,n.desiredSize=new ot(3,3).ja(),e.add(n),t.Lg.add("LinkLabel",e),t.Yi=new lt,(e=new rt).selectionObjectName="GROUPPANEL",e.type=O.Vertical,(n=new kt).font="bold 12pt sans-serif",n.bind(new re("text","",cn)),e.add(n),(n=new O(O.Auto)).name="GROUPPANEL";var o=new ut;o.figure="Rectangle",o.fill="rgba(128,128,128,0.2)",o.stroke="black",n.add(o),(o=new ii).padding=new St(5,5,5,5).ja(),n.add(o),e.add(n),t.ly=e,t.Yi.add("",e),t.Kh=new lt,e=new L,(n=new ut).isPanelMain=!0,e.add(n),(n=new ut).toArrow="Standard",n.fill="black",n.stroke=null,n.strokeWidth=0,e.add(n),t.my=e,t.Kh.add("",e),e=new L,(n=new ut).isPanelMain=!0,n.stroke="brown",e.add(n),t.Kh.add("Comment",e),(e=new mt).type=O.Auto,(n=new ut).fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),(n=new ii).margin=new St(1.5,1.5,1.5,1.5).ja(),e.add(n),t.St=e,t.wt=e,(e=new mt).type=O.Link,(n=new ut).isPanelMain=!0,n.fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),t.Kt=e,t.fe=null,t.mq=!1,t.Ck=null,t.partManager=new Tt,t.toolManager=new Vt,t.toolManager.initializeStandardTools(),t.defaultTool=t.toolManager,t.currentTool=t.defaultTool,t.nt=null,t.Wm=new ll,t.Vt=null,t.Wt=null,t.Mr=!1,t.commandHandler=G0(),t.eq=null,t.fq=da,t.Pw=!1,t.Mb=1,t.Yh=null,t.Oq=1,t.Sq=0,t.zw=[0,0,0,0,0],t.Tq=0,t.yq=1,t.tw=0,t.uw=new w,t.zy=500,t.wp=new w,t.wq=!1}function Q0(t,e){t.animationManager.Cc(!0),t.Hw=(new E).freeze(),t.nw=(new E).freeze();var n=t.skipsUndoManager,o=null!=t.cc;o&&(t.skipsUndoManager=!0);var r=null;null!==t.fe&&null!==(r=t.fe.part)&&t.remove(r);var s=[],l=t.Wa.length;if(e){for(e=0;e<l;e++)for(var a=t.Wa.s[e].parts;a.next();){var p=a.value;p!==r&&null===p.data&&s.push(p)}for(e=0;e<s.length;e++)t.remove(s[e])}for(e=0;e<l;e++)t.Wa.s[e].clear();return t.partManager.clear(),t.De.clear(),t.Eh.clear(),t.ai.clear(),t.Ck=null,t.Xn.clear(),Pl(),t.Og.clear(),Zp=[],null!==r&&(t.add(r),t.partManager.parts.remove(r)),o&&(t.skipsUndoManager=n),s}function G0(){return null}function Pc(t,e){if(gn){if(null!=e||q("Diagram setup requires an argument DIV."),null!==t.Ka&&q("Diagram has already completed setup."),"string"==typeof e?t.Ka=nt.document.getElementById(e):e instanceof HTMLDivElement?t.Ka=e:q("No DIV or DIV id supplied: "+e),null===t.Ka&&q("Invalid DIV id; could not get element with id: "+e),void 0!==t.Ka.H&&q("Invalid div id; div already has a Diagram associated with it."),!t.ol&&nt.ResizeObserver){var n=Mp(function(){t.$b()},250);t.ol=new nt.ResizeObserver(function(){n()}),t.ol.observe(t.Ka)}"static"===nt.getComputedStyle(t.Ka,null).position&&(t.Ka.style.position="relative");var o="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Ka.style["-webkit-tap-highlight-color"]=o,t.Ka.innerHTML="",t.Ka.H=t,t.Ka.goDiagram=t,t.Ka.go=nt.go;var r=new un(t);if(void 0!==r.style&&(r.style.position="absolute",r.style.top="0px",r.style.left="0px","rtl"===nt.getComputedStyle(t.Ka,null).getPropertyValue("direction")&&(t.tn=!0),r.style.zIndex="2",r.style.userSelect="none",r.style.MozUserSelect="none",r.style.touchAction="none",r.style.letterSpacing="normal !important",r.style.wordSpacing="normal !important"),t.ta=r,t.ib=r.context,o=t.ib,t.Mb=t.computePixelRatio(),t.viewSize.w()||(t.Aa=t.Ka.clientWidth||1,t.ya=t.Ka.clientHeight||1),X0(t,t.Aa,t.ya),t.Ka.insertBefore(r.Oa,t.Ka.firstChild),(r=new un(null)).width=1,r.height=1,t.jw=r,t.oy=r.context,gn){r=Yn("div");var s=Yn("div");r.style.position="absolute",r.style.overflow="auto",r.style.width=t.Aa+"px",r.style.height=t.ya+"px",r.style.zIndex="1",s.style.position="absolute",s.style.width="1px",s.style.height="1px",t.Ka.appendChild(r),r.appendChild(s),r.onscroll=J_,r.addEventListener("pointerdown",R_),r.H=t,r.uy=!0,r.vy=!0,t.ku=r,t.hu=s}t.hk=Mp(function(){t.Yh=null,t.N()},300),t.Ov=Mp(function(){Dc(t)},250),t.preventDefault=function(l){return l.preventDefault(),!1},t.$j=function(l){if(t.isEnabled){var a=cs(t,l,!0);a.bubbles=!0;var p=0,d=0;a.delta=0,void 0!==l.deltaX?(0!==l.deltaX&&(p=0<l.deltaX?1:-1),0!==l.deltaY&&(d=0<l.deltaY?1:-1),a.delta=Math.abs(l.deltaX)>Math.abs(l.deltaY)?-p:-d):void 0!==l.wheelDeltaX?(0!==l.wheelDeltaX&&(p=0<l.wheelDeltaX?-1:1),0!==l.wheelDeltaY&&(d=0<l.wheelDeltaY?-1:1),a.delta=Math.abs(l.wheelDeltaX)>Math.abs(l.wheelDeltaY)?-p:-d):void 0!==l.wheelDelta&&0!==l.wheelDelta&&(a.delta=0<l.wheelDelta?1:-1),t.doMouseWheel(),Mr(a,l)}},t.aA=function(l){t.isEnabled&&(t.Vk=!1,cs(t,l,!0),(l=t.currentTool).cancelWaitAfter(),l.standardMouseOver())},t.ui=function(l){if(t.isEnabled){t.Vk=!0;var a=t.Yt;void 0===a[l.pointerId]&&(a[l.pointerId]=l);var p=!1;if(null===(a=t.oj)[0]||a[0].pointerId!==l.pointerId&&a[0].pointerType===l.pointerType)if(null!==a[1]&&a[1].pointerId===l.pointerId)a[1]=l,p=!0;else if(null===a[0])a[0]=l;else{if(null!==a[1])return void l.preventDefault();a[1]=l,p=!0}else a[0]=l;(a="touch"===l.pointerType||"pen"===l.pointerType)&&(t.qu=!1,t.wq=!0);var d=p;p=wc(t,l,!0,!1,!0,d),ou(t,l,p),p.targetDiagram=Cc(l,l.target),p.targetObject=null,d||p.clone(t.bq),d=t.uw,a=a?25:10,l.timeStamp-t.tw<t.zy&&!(Math.abs(d.x-l.screenX)>a||Math.abs(d.y-l.screenY)>a)?t.yq++:t.yq=1,p.clickCount=t.yq,t.tw=l.timeStamp,t.uw.sg(l.screenX,l.screenY),t.doMouseDown(),1===l.button?l.preventDefault():Mr(p,l)}},t.dk=function(l){if(t.isEnabled){t.Vk=!0;var a=t.oj;if(null===a[0]||a[0].pointerId!==l.pointerId&&a[0].pointerType===l.pointerType){if(null!==a[1]&&a[1].pointerId===l.pointerId)return void(a[1]=l);if(null!==a[0])return;a[0]=l}else a[0]=l;if(a[0].pointerId===l.pointerId){a=wc(t,l,!1,!1,!1,null!==a[1]);var p=nt.document.elementFromPoint(l.clientX,l.clientY)||null;null!==p&&null!=p.shadowRoot&&(p=p.shadowRoot.elementFromPoint(l.clientX,l.clientY));var d=t,f=l;p&&p.H&&(f=l,d=p.H),a.targetDiagram=d,ou(t,f,a),a.targetObject=null,t.doMouseMove(),Mr(a,l)}}},t.fk=function(l){if(t.isEnabled){t.Vk=!0;var a="touch"===l.pointerType||"pen"===l.pointerType,p=t.Yt;if(a&&t.qu)delete p[l.pointerId],l.preventDefault();else if(null===(p=t.oj)[0]||p[0].pointerId!==l.pointerId&&p[0].pointerType===l.pointerType)null!==p[1]&&p[1].pointerId===l.pointerId&&(p[1]=null);else{p[0]=null,p=wc(t,l,!1,!0,!0,!1);var d=nt.document.elementFromPoint(l.clientX,l.clientY)||null;null!==d&&null!=d.shadowRoot&&(d=d.shadowRoot.elementFromPoint(l.clientX,l.clientY)),null!==d&&d.H instanceof I&&d.H!==t&&ou(d.H,l,p),null===d&&(d=l.target),ou(t,l,p),p.clickCount=t.yq,p.targetDiagram=Cc(l,d),p.targetObject=null,t.doMouseUp(),Mr(p,l),a&&(t.wq=!1)}}},t.ek=function(l){if(t.isEnabled){t.Vk=!1;var a=t.Yt;a[l.pointerId]&&delete a[l.pointerId],null!==(a=t.oj)[0]&&a[0].pointerId===l.pointerId&&(a[0]=null),null!==a[1]&&a[1].pointerId===l.pointerId&&(a[1]=null),"touch"!==l.pointerType&&"pen"!==l.pointerType&&((l=t.currentTool).cancelWaitAfter(),l.standardMouseOver())}},t.ck=function(l){var a=t.oj;null!==a[0]&&a[0].pointerId===l.pointerId?(a[0]=null,t.wq=!1):null!==a[1]&&a[1].pointerId===l.pointerId&&(a[1]=null)},t.Vp=o.Z["d"+yg[1]+yg[2]+"wI"+rl.slice(1,5)]["b"+g2.slice(1,e)](o.Z,mg,e,e),o.Vc(!0),function Y_(t){var e=t.ta.Oa;e instanceof HTMLCanvasElement||(e=t.div),t.addEventListener(e,"pointerdown",t.ui,!1),t.addEventListener(e,"pointermove",t.dk,!1),t.addEventListener(e,"pointerup",t.fk,!1),t.addEventListener(e,"pointerout",t.ek,!1),t.addEventListener(e,"pointercancel",t.ck,!1),t.addEventListener(e,"pointerenter",t.bz,!1),t.addEventListener(e,"pointerleave",t.cz,!1),t.addEventListener(e,"wheel",t.$j,!1),t.addEventListener(e,"keydown",t.Qz,!1),t.addEventListener(e,"keyup",t.Rz,!1),t.addEventListener(e,"blur",t.Ny,!1),t.addEventListener(e,"focus",t.Oy,!1),t.addEventListener(e,"selectstart",function(n){return n.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(n){return n.preventDefault(),!1},!1),t.addEventListener(nt,"resize",t.Ov,!1)}(t),"svg"===t.nl&&(e=t.pj.get("svg"),t.Ka.appendChild(e.Oa),t.ib=e.context)}}function nu(t){30<t.Sq&&(t.Yh=1)}function ka(t,e){null!==t.Yh&&(t.Yh=null,e&&t.hk(),Ql&&Ql.nx||(t.Sq=0,t.zw=[0,0,0,0,0],t.Tq=0))}function Dc(t){if(null!==t.ta){var e=t.Ka;if(null!==e&&0!==e.clientWidth&&0!==e.clientHeight){t.Gw||t.setScrollWidth();var n=t.gf?t.Db:0,o=t.Be?t.Db:0,r=t.Mb;t.Mb=t.computePixelRatio(),t.Mb!==r&&(t.pn=!0,t.$b()),(e.clientWidth!==t.Aa+n||e.clientHeight!==t.ya+o)&&(t.Ee=!0,t.Fc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Ei&&(t.Jk=!0,e.C()),t.ld||t.$b())}}}function H0(t){var e=new Qe;e.name="Background",t.Al(e),(e=new Qe).name="",t.Al(e),(e=new Qe).name="Foreground",t.Al(e),(e=new Qe).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.Al(e),(e=new Qe).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.Al(e),(e=new Qe).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Ww(e,t.Qj("Background"))}function K0(t){var e=new O(O.Grid);e.name="GRID";var n=new ut;return n.figure="LineH",n.stroke="lightgray",n.strokeWidth=.5,n.interval=1,e.add(n),(n=new ut).figure="LineH",n.stroke="gray",n.strokeWidth=.5,n.interval=5,e.add(n),(n=new ut).figure="LineH",n.stroke="gray",n.strokeWidth=1,n.interval=10,e.add(n),(n=new ut).figure="LineV",n.stroke="lightgray",n.strokeWidth=.5,n.interval=1,e.add(n),(n=new ut).figure="LineV",n.stroke="gray",n.strokeWidth=.5,n.interval=5,e.add(n),(n=new ut).figure="LineV",n.stroke="gray",n.strokeWidth=1,n.interval=10,e.add(n),(n=new W).add(e),n.layerName="Grid",n.zOrder=0,n.isInDocumentBounds=!1,n.isAnimated=!1,n.pickable=!1,n.locationObjectName="GRID",t.add(n),t.partManager.parts.remove(n),e.visible=!1,e}function J_(){this.H.gu?this.H.gu=!1:this.H.isEnabled?this.H.kx(this):Mc(this.H)}function R_(t){this.H.isEnabled?(this.H.lu=t.target.scrollTop,this.H.ju=t.target.scrollLeft):Mc(this.H)}function V0(t,e){if(t.fixedBounds.w())return e.assign(t.fixedBounds),e.Co(t.yb),e;for(var n=!0,o=t.Wa.s,r=o.length,s=0;s<r;s++){var l=o[s];if(l.visible&&l.isInDocumentBounds)for(var a=(l=l.Pa.s).length,p=0;p<a;p++){var d=l[p];d.isInDocumentBounds&&d.isVisible()&&(d=d.actualBounds).w()&&(n?(n=!1,e.assign(d)):e.ed(d))}}return n&&e.h(0,0,0,0),e.Co(t.yb),e}function Nn(t,e){if((e||t.hf)&&!t.vb&&null!==t.ta&&t.documentBounds.w()){if(t.vb=!0,e){var n=t.initialPosition;if(n.w())return t.vb=!1,void(t.position=n);(n=w.alloc()).xi(t.documentBounds,t.initialDocumentSpot);var o=t.viewportBounds;o=U.allocAt(0,0,o.width,o.height);var r=w.alloc();r.xi(o,t.initialViewportSpot),r.h(n.x-r.x,n.y-r.y),t.position=r,U.free(o),w.free(r),w.free(n)}n=t.yh,e&&t.Fg!==Ei&&(n=t.Fg);var s=n!==Ei?el(t,n):t.scale;n=t.pa.x,o=t.pa.y,r=t.Aa/s;var l=t.ya/s,a=t.zk,p=t.pq;e&&!a.sb()&&(p.sb()||p.Xb())&&(a=p.Xb()?Mt:p),Sc(t,t.documentBounds,r,l,a,e),e=t.scale,t.scale=s,t.vb=!1,N.B((s=t.viewportBounds).x,n)&&N.B(s.y,o)&&N.B(s.width,r)&&N.B(s.height,l)||t.onViewportBoundsChanged(new U(n,o,r,l),s,e,!1)}}function el(t,e){var n=t.Pp;if(null===t.ta)return n;t.Va();var o=t.documentBounds;if(!o.w())return n;var r=o.width,s=t.Aa+(t.gf?t.Db:0),l=t.ya+(t.Be?t.Db:0),a=s/r,p=l/(o=o.height);return e===ol?((e=Math.min(p,a))>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===qa?((e=p>a?(l-t.Db)/o:(s-t.Db)/r)>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function Sc(t,e,n,o,r,s){var l=w.allocAt(t.pa.x,t.pa.y),a=l.x,p=l.y;if(null!==t.eq){var d=w.alloc();a=(d=t.eq.ga(Ee,d)).x-t.fq.x/t.scale,p=d.y-t.fq.y/t.scale,r=Fe,w.free(d)}(s||t.scrollMode===Zr)&&(r.sb()&&(n>e.width&&(a=e.x+(r.x*e.width+r.offsetX)-(r.x*n-r.offsetX)),o>e.height&&(p=e.y+(r.y*e.height+r.offsetY)-(r.y*o-r.offsetY))),s=n-e.width,n<e.width+(r=t.rj).left+r.right?(a=Math.min(a+n/2,e.right+Math.max(s,r.right)-n/2),a=Math.max(a,e.left-Math.max(s,r.left)+n/2),a-=n/2):a>e.left?a=e.left:a<e.right-n&&(a=e.right-n),n=o-e.height,o<e.height+r.top+r.bottom?(p=Math.min(p+o/2,e.bottom+Math.max(n,r.bottom)-o/2),p=Math.max(p,e.top-Math.max(n,r.top)+o/2),p-=o/2):p>e.top?p=e.top:p<e.bottom-o&&(p=e.bottom-o)),l.x=isFinite(a)?a:-t.yb.left,l.y=isFinite(p)?p:-t.yb.top,null!==t.positionComputation&&(e=t.positionComputation(t,l),l.x=e.x,l.y=e.y),N0(t.Yd,t.pa,l),t.pa.h(l.x,l.y),Oo(t),w.free(l)}function Tc(t,e,n,o){for(void 0===n&&(n=null),void 0===o&&(o=null),ti(t),t=t.Wa.iteratorBackwards;t.next();){var r=t.value;if(r.visible&&!r.isTemporary&&null!==(r=r.ic(e,n,o)))return r}return null}function cs(t,e,n){var o=t.Qg;return t.Qg=t.cj,t.cj=o,o.diagram=t,o.event=e,n?ou(t,e,o):(o.viewPoint=t.Qg.viewPoint,o.documentPoint=t.Qg.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),o.modifiers=t,o.button=e.button,void 0!==e.buttons&&(o.buttons=e.buttons),No&&0===e.button&&e.ctrlKey&&(o.button=2),o.down=!1,o.up=!1,o.clickCount=1,o.delta=0,o.handled=!1,o.bubbles=!1,o.timestamp=e.timeStamp,o.isMultiTouch=!1,o.targetDiagram=Cc(e,e.target),o.targetObject=null,o}function Cc(t,e){return null===e?null:(e=e.H)?e:((e=t.path)||"function"!=typeof t.composedPath||(e=t.composedPath()),e&&e[0]&&e[0].H?e[0].H:null)}function wc(t,e,n,o,r,s){var l=t.Qg;return t.Qg=t.cj,t.cj=l,l.diagram=t,l.clickCount=1,t=l.delta=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),l.modifiers=t,l.event=e,l.timestamp=e.timeStamp,l.button=e.button,l.buttons=e.buttons,No&&0===e.button&&e.ctrlKey&&(l.button=2),l.down=n,l.up=o,l.handled=!1,l.bubbles=r,l.isMultiTouch=s,l}function Mr(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function ou(t,e,n){var o=t.ta,r=t.Aa,s=t.ya,l=0,a=0;null!==o&&(o=o.getBoundingClientRect(),l=e.clientX-r/o.width*o.left,a=e.clientY-s/o.height*o.top),n.viewPoint.h(l,a),null!==t.Ab?(e=w.allocAt(l,a),t.Ab.Cd(e),n.documentPoint.assign(e),w.free(e)):n.documentPoint.h(l,a)}function z0(t,e,n){if(null!==t.oj[0]){e=t.oj[e];var o=t.ta;null!==o&&(o=o.getBoundingClientRect(),n.h(e.clientX-t.Aa/o.width*o.left,e.clientY-t.ya/o.height*o.top))}}function Ia(t,e,n){!t.Ee||t.vb||t.animationManager.defaultAnimation.isAnimating||Mc(t)||(e&&ti(t),n&&Nn(t,!1))}function Io(t,e){if(!t.ld&&(t.kg=!1,null!==t.Ka||t.wo.w())){t.ld=!0;var n=t.animationManager,o=t.Xn;if(!n.isAnimating&&0!==o.length){for(var r=o.s,s=r.length,l=0;l<s;l++){var a=r[l];Bi(a,!1),a.v()}o.clear()}0<(o=t.ow).count&&(o.each(function(p){p.Nv()}),o.clear()),r=o=!1,n.defaultAnimation.isAnimating&&(r=!0,o=t.skipsUndoManager,t.skipsUndoManager=!0),n.zb||Dc(t),Ia(t,!1,!0),null!==t.fe&&(t.fe.visible&&!t.mq&&(Fo(t),t.mq=!0),!t.fe.visible&&t.mq&&(t.mq=!1)),ti(t),s=!1,(!t.hf||t.xh)&&(t.hf?Lc(t,!t.Jk):(t.Ea("Initial Layout"),!1===n.isEnabled&&n.Cc(),Lc(t,!1)),s=!0),t.Jk=!1,ti(t),t.ou||function G_(t){t.ld||ti(t),t.Va()}(t),Ia(t,!0,!1),l=!1,s?((n=U.alloc()).assign(t.viewportBounds),t.hf||(l=t.hf=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function H_(t){if(t.Fg!==Ei)t.scale=el(t,t.Fg);else if(t.yh!==Ei)t.scale=el(t,t.yh);else{var e=t.initialScale;isFinite(e)&&0<e&&(t.scale=e)}Nn(t,!0),t.Fd(e=t.Wa.s,e.length,t,t.viewportBounds),t.R("InitialLayoutCompleted"),t.du.assign(t.pa),Fo(t)}(t)),t.R("LayoutCompleted"),Ia(t,!0,!1),U.free(n)):n.Ok&&n.Qw&&(t.Fg!==Ei?t.scale=el(t,t.Fg):t.yh!==Ei?t.scale=el(t,t.yh):(n=t.initialScale,isFinite(n)&&0<n&&(t.scale=n)),Nn(t,!0)),s&&l&&t.eb("Initial Layout"),ti(t),e||t.gc(t.ib),r&&(t.skipsUndoManager=o),t.ld=!1}}function ti(t){if(0!==t.De.count&&(t.ld||!t.animationManager.isTicking)){for(var e=0;23>e;e++){var n=t.De.iterator;if(null===n||0===t.De.count)break;t.De=new E,t.Nv(n,t.De)}t.nodes.each(function(o){o instanceof rt&&65536&o.U&&(o.U=65536^o.U)})}}function Ac(t,e){for(var n=bt(),o=bt(),r=e.memberParts;r.next();){var s=r.value;s.isVisible()&&(s instanceof rt?(Lo(s)||_n(s)||lr(s))&&Ac(t,s):s instanceof L?s.fromNode===e||s.toNode===e?o.push(s):n.push(s):(s.measure(1/0,1/0),s.arrange()))}for(t=n.length,r=0;r<t;r++)(s=n[r]).measure(1/0,1/0),s.arrange();for(Nt(n),e.measure(1/0,1/0),e.arrange(),t=o.length,e=0;e<t;e++)(n=o[e]).measure(1/0,1/0),n.arrange();Nt(o)}function Ua(t,e,n,o,r,s,l,a,p,d){if(null!==t.Ka){null===t.ta&&q("No canvas specified"),void 0===l&&(l=null),void 0===a&&(a=null),void 0===p&&(p=!1),void 0===d&&(d=!1),il(t),t.ib.Vc(!0),t.vd=!0,t.$i=!0;var f=t.Ca;t.Ca=r;var g=t.Wa.s,m=g.length;try{var v=new U(s.x,s.y,o.width/r,o.height/r),y=v.copy();y.Co(n),Fo(t,y),ti(t),t.Fd(g,m,t,v),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,o.width,o.height),null!==a&&""!==a&&(e.fillStyle=a,e.ox(0,0,o.width,o.height));var P=t.Mb;e.scale(P,P);var T=ct.alloc();T.reset(),T.translate(n.left,n.top),T.scale(r),0===s.x&&0===s.y||T.translate(-s.x,-s.y),e.setTransform(T.m11,T.m12,T.m21,T.m22,T.dx,T.dy),e.yc(),e instanceof Ci&&Ag(e,T.m11,T.m12,T.m21,T.m22,T.dx,T.dy),ct.free(T),Fa(t,e),e.globalAlpha=t.pb;var S=t.Qj("Grid");if(l){var A=new E,M=l.iterator;for(M.reset();M.next();){var Z=M.value;Z instanceof W&&(d||Z.layer!==S)&&(Z.Gj(),A.add(Z))}for(d=0;d<m;d++)b_(g[d],e,t,A,p);A.each(function(k){return k.Gj()})}else for(A=0;A<m;A++){var j=g[A];j===S?d&&j.gc(e,t,!0):j.gc(e,t,p)}t.$i=!1,t.Yf&&sl(t.Yf,t)&&t.Vp()}finally{t.Ca=f,t.ib.Vc(!0),t.vd=!0,t.Fd(g,m,t,t.viewportBounds),Fo(t),t.ib instanceof Ci&&(t.ib.Nj.PA(),t.redraw())}}}function Fa(t,e){null!==(t=t.Rg)&&(void 0!==t.imageSmoothingEnabled&&e.Wx(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function ru(t,e){var r,n=t instanceof O,o=t instanceof I;for(r in e){""===r&&q("Setting properties requires non-empty property names");var s=t,l=r;if(n||o){var a=r.indexOf(".");if(0<a){var p=r.substring(0,a);n?s=t.fb(p):null==(s=t[p])&&(s=t.toolManager[p]),Et(s)?l=r.substr(a+1):q("Unable to find object named: "+p+" in "+t.toString()+" when trying to set property: "+r)}}if("_"!==l[0]&&!Of(s,l)){if(o&&"ModelChanged"===l){t.Yw(e[l]);continue}if(o&&"Changed"===l){t.Pe(e[l]);continue}if(o&&Of(t.toolManager,l))s=t.toolManager;else{if(o&&og(t,l)){t.Bj(l,e[l]);continue}if(t instanceof z&&"Changed"===l){t.Pe(e[l]);continue}q('Trying to set undefined property "'+l+'" on object: '+s.toString())}}s[l]=e[r],"_"===l[0]&&s instanceof X&&s.Vw(l)}}function il(t){!1!==t.pn&&(t.pn=!1,X0(t,t.Aa,t.ya))}function X0(t,e,n){Oo(t);var o=t.Mb;t.ta.resize(e*o,n*o,e,n)&&(t.Fc=!0,t.ib.Vc(!0))}function Mc(t){var e=t.ta;if(null===e||t.wo.w())return!0;var n=t.Aa,o=t.ya,r=t.Ka,s=!1,l=t.gf?t.Db:0,a=t.Be?t.Db:0,p=r.clientWidth||n+l,d=r.clientHeight||o+a,f=t.viewportBounds;r=f.x;var g=f.y,m=f.width,v=f.height;if((p!==n+l||d!==o+a)&&(t.gf=!1,t.Be=!1,a=l=0,t.Aa=p,t.ya=d,s=t.pn=!0,Oo(t)),!t.hf||!t.viewportBounds.w())return!0;var y=t.ku,P=t.hu;if(t.Ee=!1,!(s||t.gf||t.Be||t.mn||t.nn))return!0;var T=t.documentBounds,S=0,A=0,M=0,Z=0,j=f.width,k=f.height,J=t.rj;t.contentAlignment.sb()?(T.width>j&&(S=J.left,A=J.right),T.height>k&&(M=J.top,Z=J.bottom)):(S=J.left,A=J.right,M=J.top,Z=J.bottom);var V=T.width+S+A,K=T.height+M+Z,b=V>p/(J=t.scale),F=K>d/J;if(!(s||t.gf||t.Be||b||F))return!0;S=T.x-S,p=f.x,A=T.right+A,d=f.right+l,M=T.y-M;var st=f.y;T=T.bottom+Z,f=f.bottom+a;var it="1px";if(Z="1px",t.scrollMode===Zr&&(b||F)&&(b&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(b=1,S+1<p&&(b=Math.max((p-S)*J+t.Aa,b)),A>d+1&&(b=Math.max((A-d)*J+t.Aa,b)),j+l+1<V&&(b=Math.max((V-j)*J+t.Aa,b)),it=b.toString()+"px"),F&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(b=1,M+1<st&&(b=Math.max((st-M)*J+t.ya,b)),T>f+1&&(b=Math.max((T-f)*J+t.ya,b)),k+a+1<K&&(b=Math.max((K-k)*J+t.ya,b)),Z=b.toString()+"px")),F="1px"!==Z,(b="1px"!==it)&&F||!b&&!F||(F&&(d-=t.Db),b&&(f-=t.Db),V<j+l||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(l=1,S+1<p&&(l=Math.max((p-S)*J+t.Aa,l)),A>d+1&&(l=Math.max((A-d)*J+t.Aa,l)),j+1<V&&(l=Math.max((V-j)*J+t.Aa,l)),it=l.toString()+"px"),l=t.ya,(b="1px"!==it)!==t.Be&&(l=b?t.ya-t.Db:t.ya+t.Db),K<k+a||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(a=1,M+1<st&&(a=Math.max((st-M)*J+l,a)),T>f+1&&(a=Math.max((T-f)*J+l,a)),k+1<K&&(a=Math.max((K-k)*J+l,a)),Z=a.toString()+"px"),F="1px"!==Z),t.qr&&b===t.Be&&F===t.gf)return n===t.Aa&&o===t.ya||t.bd(),!1;if(b!==t.Be&&(t.ya="1px"===it?t.ya+t.Db:Math.max(t.ya-t.Db,1),s=!0),t.Be=b,P.style.width=it,F!==t.gf&&(t.Aa="1px"===Z?t.Aa+t.Db:Math.max(t.Aa-t.Db,1),s=!0,t.tn&&(a=w.alloc(),F?(e.style.left=t.Db+"px",t.position=a.h(t.pa.x+t.Db/t.scale,t.pa.y)):(e.style.left="0px",t.position=a.h(t.pa.x-t.Db/t.scale,t.pa.y)),w.free(a))),s&&Oo(t),t.gf=F,P.style.height=Z,t.gu=!0,s&&(t.pn=!0),e=y.scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(j+1<V?e=(t.position.x-S)*J:S+1<p?e=y.scrollWidth-y.clientWidth:A>d+1&&(e=t.position.x*J)),t.tn)switch(t.bu){case"negative":e=-(y.scrollWidth-e-y.clientWidth);break;case"reverse":e=y.scrollWidth-e-y.clientWidth}return y.scrollLeft=e,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(k+1<K?y.scrollTop=(t.position.y-M)*J:M+1<st?y.scrollTop=y.scrollHeight-y.clientHeight:T>f+1&&(y.scrollTop=t.position.y*J)),d=t.ya,y.style.width=(p=t.Aa)+(t.gf?t.Db:0)+"px",y.style.height=d+(t.Be?t.Db:0)+"px",n===p&&o===d&&!t.animationManager.zb||(n=U.allocAt(r,g,m,v),t.onViewportBoundsChanged(n,t.viewportBounds,J,s),U.free(n),!1)}function Zc(t,e,n){var o=e.layer;null!==o&&o.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),n&&e.Lj(),0<=(n=o.pc(-1,e,!1))&&t.cb(_e,"parts",o,e,null,n,null),null!==(t=e.layerChanged)&&t(e,o,null))}function Uo(t,e,n,o,r,s){if(!e.contains(n)&&(void 0===s&&(s=!1),!o||s||n.canMove()||n.canCopy()))if(void 0===r&&(r=Nc(t)),n instanceof B){if(e.add(n,t.Pd(r,n,n.location)),n instanceof rt&&(null!==n.placeholder||r.dragsMembers))for(s=n.memberParts;s.next();)Uo(t,e,s.value,o,r,r.groupsAlwaysMove);for(s=n.linksConnected;s.next();){var l=s.value;if(!e.contains(l)){var a=l.fromNode,p=l.toNode;null!==a&&e.contains(a)&&null!==p&&e.contains(p)&&Uo(t,e,l,o,r)}}if(r.dragsTree)for(n=n.Ou();n.next();)Uo(t,e,n.value,o,r)}else if(n instanceof L)for(e.add(n,t.Pd(r,n)),n=n.labelNodes;n.next();)Uo(t,e,n.value,o,r);else n instanceof mt||e.add(n,t.Pd(r,n,n.location))}function jc(t,e,n,o,r){if(null!==e&&0!==e.count){var s=w.alloc(),l=w.alloc();l.assign(n),isNaN(l.x)&&(l.x=0),isNaN(l.y)&&(l.y=0),(n=t.Mr)||Oa(t,e);for(var a=bt(),p=bt(),d=e.iterator,f=w.alloc();d.next();){var g=d.key,m=d.value;if(g.Zc()){var v=W0(t,g,e);null!==v?a.push(new xg(g,m,v)):(!r||g.canMove())&&(s.assign(v=m.point),t.computeMove(g,s.add(l),o,f),g.location=f,void 0===m.shifted&&(m.shifted=new w),m.shifted.assign(f.re(v)))}else d.key instanceof L&&p.push(d.sa)}for(w.free(f),r=a.length,d=0;d<r;d++)s.assign((g=a[d]).info.point),void 0===g.Su.shifted&&(g.Su.shifted=new w),g.node.location=s.add(g.Su.shifted);for(r=w.alloc(),d=w.alloc(),g=p.length,m=0;m<g;m++){var y=p[m];if((v=y.key)instanceof L)if(v.suspendsRouting){v.Tg=null,f=v.fromNode;var P=v.toNode;if(null!==t.draggedLink&&o.dragsLink)if(P=y.value.point,null===v.dragComputation)e.add(v,t.Pd(o,v,l)),Bo(v,l.x-P.x,l.y-P.y);else{y=w.allocAt(0,0),(f=v.i(0))&&f.w()&&y.assign(f);var T=f=w.alloc().assign(y).add(l);o.isGridSnapEnabled&&(o.isGridSnapRealtime||t.lastInput.up)&&kc(t,v,f,T=w.alloc(),o),f.assign(v.dragComputation(v,f,T)).re(y),e.add(v,t.Pd(o,v,f)),Bo(v,f.x-P.x,f.y-P.y),w.free(y),w.free(f),T!==f&&w.free(T)}else null!==f&&(r.assign(f.location),null!==(T=e.I(f))&&r.re(T.point)),null!==P&&(d.assign(P.location),null!==(T=e.I(P))&&d.re(T.point)),null!==f&&null!==P?r.Xa(d)?(f=y.value.point,(P=s).assign(r),P.re(f),e.add(v,t.Pd(o,v,r)),Bo(v,P.x,P.y)):(v.suspendsRouting=!1,v.bb()):(y=y.value.point,e.add(v,t.Pd(o,v,f=null!==f?r:null!==P?d:l)),Bo(v,f.x-y.x,f.y-y.y))}else(null===v.fromNode||null===v.toNode)&&(f=y.value.point,e.add(v,t.Pd(o,v,l)),Bo(v,l.x-f.x,l.y-f.y))}w.free(s),w.free(l),w.free(r),w.free(d),Nt(a),Nt(p),n||(ti(t),su(t,e))}}function Nc(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.Wm}function kc(t,e,n,o,r){if(void 0===r&&(r=Nc(t)),o.assign(n),null!==e){var s=t.grid;t=(e=r.gridSnapCellSize).width,e=e.height;var l=r.gridSnapOrigin,a=l.x;if(l=l.y,r=r.gridSnapCellSpot,null!==s){var p=s.gridCellSize;isNaN(t)&&(t=p.width),isNaN(e)&&(e=p.height),s=s.gridOrigin,isNaN(a)&&(a=s.x),isNaN(l)&&(l=s.y)}(s=w.allocAt(0,0)).yi(0,0,t,e,r),N.No(n.x,n.y,a+s.x,l+s.y,t,e,o),w.free(s)}}function Oa(t,e){if(null!==e)for(t.Mr=!0,t=e.iterator;t.next();)(e=t.key)instanceof L&&(e.suspendsRouting=!0)}function su(t,e){if(null!==e){for(e=e.iterator;e.next();){var n=e.key;n instanceof L&&(n.suspendsRouting=!1,Ed(n)&&n.bb())}t.Mr=!1}}function W0(t,e,n){return null===(e=e.containingGroup)||null===(t=W0(t,e,n))&&null===(t=n.I(e))?null:t}function Ic(t,e,n){if(null!==e.diagram&&e.diagram!==t&&q("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===n?null!==e.diagram&&q("Cannot add an existing Layer to this Diagram again: "+e):(n.diagram!==t&&q("Existing Layer must be in this Diagram: "+n+" not in "+n.diagram),e===n&&q("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,n=(t=t.Wa).count;for(var o=0;o<n;o++)t.M(o).name===e&&q("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function $0(t,e,n){var o=t.animationManager;if(t.vb||t.ld)t.Ca=n,Oo(t),t.N(),t.Ee=!0,o.zb&&(Ca(o)||o.ce.add(o.H,"scale",e,t.Ca));else if(null===t.ta)t.Ca=n,Oo(t);else{t.vb=!0;var r=t.viewportBounds.copy(),s=t.Aa,l=t.ya,a=t.zoomPoint.x,p=t.zoomPoint.y,d=t.contentAlignment;isNaN(a)&&(d.$c()?d.Hf(Rs)?a=0:d.Hf(Es)&&(a=s-1):a=d.sb()?d.x*(s-1):s/2),isNaN(p)&&(d.$c()?d.Hf(Js)?p=0:d.Hf(Bs)&&(p=l-1):p=d.sb()?d.y*(l-1):l/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(n=t.scaleComputation(t,n)),n<t.minScale&&(n=t.minScale),n>t.maxScale&&(n=t.maxScale),s=w.allocAt(t.pa.x+a/e-a/n,t.pa.y+p/e-p/n),t.position=s,w.free(s),t.Ca=n,Oo(t),t.vb=!1,t.onViewportBoundsChanged(r,t.viewportBounds,e,!1),Nn(t,!1),o.zb&&(Ca(o)||o.ce.add(o.H,"scale",e,t.Ca))}}function Fo(t,e){var n=t.fe;if(null!==n&&n.visible){for(var o=ot.alloc(),r=1,s=1,l=n.O.s,a=l.length,p=0;p<a;p++){var d=l[p],f=Math.abs(d.interval);2>f||(pd(d.figure)?s=s*f/N.vx(s,f):r=r*f/N.vx(r,f))}if(o.h(s*(l=n.gridCellSize).width,r*l.height),void 0!==e)r=e.width,s=e.height,t=e.x,l=e.y;else{if((e=U.alloc()).h((t=t.viewportBounds).x,t.y,t.width,t.height),!e.w())return void U.free(e);r=e.width,s=e.height,t=e.x,l=e.y,U.free(e)}n.width=r+2*o.width,n.height=s+2*o.height,e=w.alloc(),N.No(t,l,0,0,o.width,o.height,e),e.offset(-o.width,-o.height),ot.free(o),n.part.location=e,w.free(e)}}function tg(t){var e=t.isModified;t.Tw!==e&&(t.Tw=e,t.R("Modified"))}function eg(t,e){for(var n=(e=e.O.s).length,o=0;o<n;o++)Uc(t,e[o])}function Uc(t,e){if(e instanceof hi){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){n.Bg instanceof E&&n.Bg.add(t);var o=e.Eg;if(null!==o&&!0===o.sq&&null!==e.diagram&&e.diagram.Xn.add(e),n.hn)if(n=n.getAttribute("src")||"",null===(o=t.Og.I(n)))(o=[]).push(e),t.Og.add(n,o);else{for(t=0;t<o.length;t++)if(o[t]===e)return;o.push(e)}}}}function Fc(t,e){if(e instanceof hi){var n=e.element;if(null!==n&&n instanceof HTMLImageElement&&n.hn){var o=n.getAttribute("src")||"",r=t.Og.I(o);if(null!==r)for(var s=0;s<r.length;s++)if(r[s]===e){r.splice(s,1),0===r.length&&(t.Og.remove(o),n.Fq&&n.removeEventListener("load",n.Fq),n.Yp&&n.removeEventListener("error",n.Yp),delete n.Fq,delete n.Yp,n.Bg instanceof E&&n.Bg.remove(t),Pl(o));break}}}}function Oo(t){var e=t.pa,n=t.Ca;t.Rw.h(e.x,e.y,Math.max(t.Aa,0)/n,Math.max(t.ya,0)/n),t.vd=!0}function Oc(t,e){t.Zi=!1;var n=t.Sp;n.D(e)||(n=n.copy(),t.Sp.assign(e),Nn(t,!1),t.R("DocumentBoundsChanged",void 0,n),t.Ee=!0,t.N())}function La(t,e){for(var n=t.ai.iterator;n.next();)ig(t,n.value,e);t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function ig(t,e,n){if(null!==e){for(var o=e.gl.iterator;o.next();)ig(t,o.value,n);null!==e.layout&&(n?e.layout.isValidLayout=!1:e.layout.C())}}function Lc(t,e){if(t.xh&&!t.lt){var n=t.aa;t.aa=!0;var o=t.undoManager.transactionLevel,r=t.layout,s=t.animationManager;try{0===o&&(t.undoManager.isInternalTransaction=!0,t.Ea("Layout")),1>=o&&!s.defaultAnimation.isAnimating&&!s.zb&&(e||ko(s,"Layout")),t.xh=!1;for(var l=t.ai.iterator;l.next();)ng(t,l.value,e,o);r.isValidLayout||(!e||r.isRealtime||null===r.isRealtime||0===o?(r.doLayout(t),ti(t),r.isValidLayout=!0):t.xh=!0)}finally{e=t.undoManager.isInternalTransaction,0===o&&(t.eb("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==o&&1!==o||_c(s),t.aa=n}}}function ng(t,e,n,o){if(null!==e){for(var r=e.gl.iterator;r.next();)ng(t,r.value,n,o);null===(r=e.layout)||r.isValidLayout||(!n||r.isRealtime||0===o?(e.rh=!e.location.w(),r.doLayout(e),e.C(32),Ac(t,e),r.isValidLayout=!0):t.xh=!0)}}function og(t,e){var n=t.hw.I(e);return null!==n?n:t.hw.I(e.toLowerCase())}function bc(t,e){var n=t.iw.I(e);if(null!==n||null!==(n=t.iw.I(e.toLowerCase())))return n;q("Unknown DiagramEvent name: "+e)}function rg(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||!t.Mr||e.isComplexRoutingRealtime}function qc(t,e,n,o){var r=t.Xh;if(null===r&&(t.Xh=r=new Fu(t.avoidanceCellSize)),r.vs||r.group!==n||r.Yx!==o){if(r.Hx=Math.max(r.Os+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.width)),r.Ix=Math.max(r.Os+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.height)),null!==n&&(n=sg(t,n)),null===n){e=U.alloc(),t.computeOccupiedArea(e),e.Bc(100,100),r.initialize(e);for(var s=t.nodes;s.next();){var l=s.value,a=l.layer;null!==a&&a.visible&&!a.isTemporary&&Yc(t,l,o,e)}U.free(e)}else{for(0<n.memberParts.count&&((e=t.computePartsBounds(n.memberParts,!1)).Bc(20,20),r.initialize(e)),e=U.alloc(),s=n.memberParts;s.next();)(l=s.value)instanceof B&&Yc(t,l,o,e);U.free(e)}r.group=n,r.Yx=o,r.vs=!1}else e&&L1(r);return r}function sg(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?sg(t,e.containingGroup):null}function Yc(t,e,n,o){if(e!==n&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){var r=(e=e.getAvoidableRect(o)).x,s=e.y;if(Al(t=t.Xh,r,s))for(n=(s-t.Od)/t.sc|0,o=Math.min((r+e.width-t.Nd)/t.rc|0,t.di),e=Math.min((s+e.height-t.Od)/t.sc|0,t.ei),r=(r-t.Nd)/t.rc|0;r<=o;r++)if((s=t.ac[r]).fill)s.fill(Go,n,e+1);else for(var l=n;l<=e;l++)s[l]=Go}else if(e instanceof rt)for(e=e.memberParts;e.next();)(r=e.value)instanceof B&&Yc(t,r,n,o)}function Jc(t,e){null===t.Xh||t.Xh.vs||void 0!==e&&(!e.avoidable||e.isLinkLabel)||(t.Xh.vs=!0)}function lg(t){-1===t.vk&&(t.vk=Tr(function(){if(-1!==t.vk&&(t.ug(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.wp);e.Xa(t.position)||(t.position=e,t.lastInput.documentPoint=t.Ps(t.wp),t.doMouseMove(),t.Zi=!0,e=U.alloc(),t.computeBounds(e),e.ed(t.documentBounds),Oc(t,e),U.free(e),t.Fc=!0,t.bd(),lg(t))}},t.vp))}function ug(t,e,n){function o(){var f=+new Date;for(s=!0,l.reset();l.next();)if(!l.value[0].al){s=!1;break}s||f-d>p?e(n,r,a):nt.requestAnimationFrame(o)}for(var r=n.callback,s=!0,l=t.Og.iterator;l.next();)if(!l.value[0].al){s=!1;break}if("function"!=typeof r||s)return e(n,r,t);var a=t,p=n.callbackTimeout||300,d=+new Date;return nt.requestAnimationFrame(function(){o()}),null}function ag(t,e,n,o){if(t.animationManager.Cc(),t.bd(),null===t.ta)return null;"object"!=typeof e&&q("properties argument must be an Object.");var r=e.size||null,s=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(s="NaN");var l=e.maxSize;void 0===e.maxSize&&(l="SVG"===n?new ot(1/0,1/0):new ot(2e3,2e3));var a=e.position||null,p=e.parts||null,d=void 0===e.padding?1:e.padding,f=e.background||null,g=e.omitTemporary;void 0===g&&(g=!0);var m=e.document||document,v=e.elementFinished||null,y=e.showTemporary;void 0===y&&(y=!g),void 0===(e=e.showGrid)&&(e=y),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"==typeof d?d=new St(d):d instanceof St||q("MakeImage padding must be a Margin or a number."),d.left=Math.max(d.left,0),d.right=Math.max(d.right,0),d.top=Math.max(d.top,0),d.bottom=Math.max(d.bottom,0),t.ib.Vc(!0);var P=(g=new un(null,m,void 0,!0)).context;if(!(r||s||p||a))return g.width=t.Aa+Math.ceil(d.left+d.right),g.height=t.ya+Math.ceil(d.top+d.bottom),"SVG"===n?null===o?null:(o.resize(g.width,g.height,g.width,g.height),o.ownerDocument=m,o.hs=v,Ua(t,o.context,d,new ot(g.width,g.height),t.Ca,t.pa,p,f,y,e),o.context):(t.Xm=!1,Ua(t,P,d,new ot(g.width,g.height),t.Ca,t.pa,p,f,y,e),t.Xm=!0,g.context);var T=t.Pp,S=t.documentBounds.copy();if(S.Fv(t.yb),y)for(var A=t.Wa.s,M=A.length,Z=0;Z<M;Z++){var j=A[Z];if(j.visible&&j.isTemporary)for(var k=(j=j.Pa.s).length,J=0;J<k;J++){var V=j[J];V.isInDocumentBounds&&V.isVisible()&&(V=V.actualBounds).w()&&S.ed(V)}}if(A=new w(S.x,S.y),null!==p){for(M=new U(0,0,0,0),Z=!0,(j=p.iterator).reset();j.next();)(k=j.value)instanceof W&&(null!==(J=k.layer)&&!J.visible||null!==J&&!y&&J.isTemporary||!k.isVisible()||(k=k.actualBounds).w()&&(Z?(Z=!1,M.assign(k)):M.ed(k)));S.width=M.width,S.height=M.height,A.x=M.x,A.y=M.y}return null!==a&&a.w()&&(A=a,s||(s=T)),M=a=0,null!==d&&(a=d.left+d.right,M=d.top+d.bottom),Z=j=0,null!==r&&(j=r.width,Z=r.height,isFinite(j)&&(j=Math.max(0,j-a)),isFinite(Z)&&(Z=Math.max(0,Z-M))),null!==r&&null!==s?("NaN"===s&&(s=T),r.w()?(r=j,S=Z):isNaN(Z)?(r=j,S=S.height*s):(r=S.width*s,S=Z)):null!==r?r.w()?(s=Math.min(j/S.width,Z/S.height),r=j,S=Z):isNaN(Z)?(r=j,S=S.height*(s=j/S.width)):(r=S.width*(s=Z/S.height),S=Z):null!==s?"NaN"===s&&l.w()?(s=Math.min((l.width-a)/S.width,(l.height-M)/S.height))>T?(s=T,r=S.width,S=S.height):(r=l.width,S=l.height):(r=S.width*s,S=S.height*s):(s=T,r=S.width,S=S.height),null!==d?(r+=a,S+=M):d=new St(0),null!==l&&(T=l.width,l=l.height,isNaN(T)&&(T=2e3),isNaN(l)&&(l=2e3),isFinite(T)&&(r=Math.min(r,T)),isFinite(l)&&(S=Math.min(S,l))),g.width=Math.ceil(r),g.height=Math.ceil(S),"SVG"===n?null===o?null:(o.resize(g.width,g.height,g.width,g.height),o.ownerDocument=m,o.hs=v,Ua(t,o.context,d,new ot(Math.ceil(r),Math.ceil(S)),s,A,p,f,y,e),o.context):(t.Xm=!1,Ua(t,P,d,new ot(Math.ceil(r),Math.ceil(S)),s,A,p,f,y,e),t.Xm=!0,g.context)}to.className="AnimationTrigger",to.Default=J0,to.Immediate=xc,to.Bundled=R0,(x=Qe.prototype).clear=function(){for(var t=this.Pa,e=0;e<t.length;e++){var n=t.s[e];n.Ig=null,zc(n)}t.clear(),this.Zq.length=0},x.Xe=function(t){this.H=t},x.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,o=0,r=0,s=0,l=0,a=this.Pa.iterator;a.next();){var p=a.value;p instanceof rt?r++:p instanceof B?o++:p instanceof L?s++:p instanceof mt?l++:n++}if(a="",0<n&&(a+=n+" Parts "),0<o&&(a+=o+" Nodes "),0<r&&(a+=r+" Groups "),0<s&&(a+=s+" Links "),0<l&&(a+=l+" Adornments "),1<t)for(t=this.Pa.iterator;t.next();)a+="\n    "+(n=t.value).toString(),null!==(o=n.data)&&ui(o)&&(a+=" #"+ui(o)),n instanceof B?a+=" "+cn(o):n instanceof L&&(a+=" "+cn(n.fromNode)+" "+cn(n.toNode));return e+" "+this.Pa.count+": "+a},x.ic=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.Uh)return null;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(o=!0);for(var r=w.alloc(),s=this.Pa.s,l=s.length;l--;){var a=s[l];if((!0!==o||!1!==ur(a))&&a.isVisible()&&(r.assign(t),Xe(r,a.oe),null!==(a=a.ic(r,e,n))&&(null!==e&&(a=e(a)),null!==a&&(null===n||n(a)))))return w.free(r),a}return w.free(r),null},x.ji=function(t,e,n,o){if(void 0===e&&(e=null),void 0===n&&(n=null),o instanceof H||o instanceof E||(o=new E),!1===this.Uh)return o;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(r=!0);for(var s=w.alloc(),l=this.Pa.s,a=l.length;a--;){var p=l[a];if((!0!==r||!1!==ur(p))&&p.isVisible()){s.assign(t),Xe(s,p.oe);var d=p;p.ji(s,e,n,o)&&(null!==e&&(d=e(d)),null===d||null!==n&&!n(d)||o.add(d))}}return w.free(s),o},x.Cf=function(t,e,n,o,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=!1),r instanceof H||r instanceof E||(r=new E),!1===this.Uh)return r;var s=!1;null!==this.diagram&&this.diagram.viewportBounds.Re(t)&&(s=!0);for(var l=this.Pa.s,a=l.length;a--;){var p=l[a];if((!0!==s||!1!==ur(p))&&p.isVisible()){var d=p;p.Cf(t,e,n,o,r)&&(null!==e&&(d=e(d)),null===d||null!==n&&!n(d)||r.add(d))}}return r},x.Nu=function(t,e,n,o,r,s,l){if(!1===this.Uh)return r;for(var a=this.Pa.s,p=a.length;p--;){var d=a[p];if((!0!==l||!1!==ur(d))&&s(d)&&d.isVisible()){var f=d;d.Cf(t,e,n,o,r)&&(null!==e&&(f=e(f)),null===f||null!==n&&!n(f)||r.add(f))}}return r},x.og=function(t,e,n,o,r,s){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof H||r instanceof E)&&(s=r),r=!0),s instanceof H||s instanceof E||(s=new E),!1===this.Uh)return s;var l=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(t)&&(l=!0);for(var a=w.alloc(),p=w.alloc(),d=this.Pa.s,f=d.length;f--;){var g=d[f];if((!0!==l||!1!==ur(g))&&g.isVisible()){a.assign(t),Xe(a,g.oe),p.h(t.x+e,t.y),Xe(p,g.oe);var m=g;g.og(a,p,n,o,r,s)&&(null!==n&&(m=n(m)),null===m||null!==o&&!o(m)||s.add(m))}}return w.free(a),w.free(p),s},x.Fd=function(t,e){if(this.visible){var n=this.Pa.s,o=n.length;if(0!==o){t=bt();for(var r=bt(),s=0;s<o;s++){var l=n[s];if(l.vw=s,l instanceof L){if(!1===l.fd)continue}else if(l instanceof mt&&null!==l.adornedPart)continue;var a=l.actualBounds;l.isVisible()&&Hf(a,e)?(l.Fd(!0),t.push(l)):(l.Fd(!1),null!==l.adornments&&0<l.adornments.count&&r.push(l))}for(e=0;e<t.length;e++)for(Nd(n=t[e]),n=n.adornments;n.next();)(o=n.value).measure(1/0,1/0),o.arrange(),o.Fd(!0);for(e=0;e<r.length;e++)Nd(r[e]);Nt(t),Nt(r)}}},x.gc=function(t,e,n){if(this.visible&&0!==this.pb&&(void 0===n&&(n=!0),n||!this.isTemporary)){var o=(n=this.Pa.s).length;if(0!==o){if(t.isTemporary)for(var r=0;r<o;r++)n[r].Gj();r=iu(this,t);var s=this.Zq;s.length=0;for(var l=e.scale,a=U.alloc(),p=0;p<o;p++)this.Oj(t,n[p],e,s,l,a,!0);if(U.free(a),t.isTemporary)for(e=0;e<o;e++)n[e].Gj();t.globalAlpha=r}}},x.Oj=function(t,e,n,o,r,s,l){if(l&&!ur(e))t.Hs(e);else{if(null!==o&&e instanceof L&&(e.isOrthogonal&&o.push(e),!1===e.fd))return void t.Hs(e);for(l=!1,o=e.containingGroup;null!==o;)l?null!==o.tb&&s.Ex(o.tb):null!==o.tb&&(l=!0,s.assign(o.tb)),o=o.containingGroup;var a=e.actualBounds;if(o=!1,l&&e.isVisible()){if(!s.Yc(a))return void t.Hs(e);o=!s.Re(a)}o&&(t.save(),t instanceof Ci?t.bk=s.copy():(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),t.clip())),a.width*r>n.Oq||a.height*r>n.Oq?e.gc(t,n):(s=e.naturalBounds,0===(r=e.actualBounds).width||0===r.height||isNaN(r.x)||isNaN(r.y)||!e.isVisible()||(n=e.transform,null!==e.areaBackground&&(Mi(e,t,e.areaBackground,!0,!0,s,r),t.fillRect(r.x,r.y,r.width,r.height)),null===e.areaBackground&&null===e.background&&(Mi(e,t,"rgba(0,0,0,0.3)",!0,!1,s,r),t.fillRect(r.x,r.y,r.width,r.height)),null!==e.background&&(t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Mi(e,t,e.background,!0,!1,s,r),t.fillRect(0,0,s.width/2,s.height/2),n.ws()||t.transform(n.m22*(e=1/(n.m11*n.m22-n.m12*n.m21)),-n.m12*e,-n.m21*e,n.m11*e,e*(n.m21*n.dy-n.m22*n.dx),e*(n.m12*n.dx-n.m11*n.dy))))),o&&(t.restore(),t.Vc(!0))}},x.g=function(t,e,n,o,r){var s=this.diagram;null!==s&&s.cb(Bt,t,this,e,n,o,r)},x.oi=function(t,e,n){var o=this.Pa;if(e.Ig=this,null===this&&zc(e),t>=o.count)t=o.count;else if(o.M(t)===e)return-1;return o.Gb(t,e),e.Vo(n),null!==(o=this.diagram)&&(n?o.N():o.oi(e)),Na(this,t,e),t},x.pc=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.pc(t,e,n);var o=this.Pa;if(0>t||t>=o.length){if(0>(t=o.indexOf(e)))return-1}else if(o.M(t)!==e&&0>(t=o.indexOf(e)))return-1;return e.Wo(n),o.mb(t),null!==(o=this.diagram)&&(n?o.N():o.pc(e)),e.Ig=null,zc(e),t},pt.Object.defineProperties(Qe.prototype,{parts:{get:function(){return this.Pa.iterator}},partsBackwards:{get:function(){return this.Pa.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.xa},set:function(t){var e=this.xa;if(e!==t){var n=this.diagram;if(null!==n)for(""===e&&q("Cannot rename default Layer to: "+t),n=n.layers;n.next();)n.value.name===t&&q("Layer.name is already present in this diagram: "+t);for(this.xa=t,this.g("name",e,t),t=this.Pa.iterator;t.next();)t.value.layerName=this.xa}}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&Jt(t,"0 <= value <= 1",Qe,"opacity"),this.pb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.N())}},isTemporary:{get:function(){return this.o},set:function(t){var e=this.o;e!==t&&((this.o=t)&&(this.isInDocumentBounds=!1),this.g("isTemporary",e,t))}},visible:{get:function(){return this.u},set:function(t){var e=this.u;if(e!==t){for(this.u=t,this.g("visible",e,t),e=this.Pa.iterator;e.next();)e.value.Zb(t);null!==(t=this.diagram)&&t.N()}}},pickable:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==this.diagram&&this.diagram.Ya())}},allowCopy:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var e=this.Qi;e!==t&&(this.Qi=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var e=this.Mi;e!==t&&(this.Mi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(this.Ni=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var e=this.Oi;e!==t&&(this.Oi=t,this.g("allowSelect",e,t))}}}),Qe.prototype.findObjectsNear=Qe.prototype.og,Qe.prototype.findObjectsIn=Qe.prototype.Cf,Qe.prototype.findObjectsAt=Qe.prototype.ji,Qe.prototype.findObjectAt=Qe.prototype.ic,Qe.className="Layer",I.prototype.clear=function(){this.animationManager.Cc(),this.model.clear(),nl=null,lu="",Q0(this,!1),this.Xn.clear(),Pl(),this.Og.clear(),this.Xh=null,this.Ya(),this.Va(),this.N()},I.prototype.reset=function(){this.clear(),this.vb=!0,B0(this),Oo(this),this.Wg=!0,H0(this),this.layout=new Yt,this.Wg=!1,this.model=lf(),this.model.undoManager=new Xt,this.vb=this.rn=!1,this.N()},I.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=nt.document.body);var e=Yn("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var n="reverse";0<e.scrollLeft?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),t.removeChild(e),this.bu=n},I.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=nt.document.body);var e=0;if(gn){var n=hg;e=E0,null===n&&((n=hg=Yn("p")).style.width="100%",n.style.height="200px",n.style.boxSizing="content-box",(e=E0=Yn("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(n)),e.style.overflow="hidden",t.appendChild(e);var o=n.offsetWidth;e.style.overflow="scroll",o===(n=n.offsetWidth)&&(n=e.clientWidth),t.removeChild(e),0!=(e=o-n)||No||(e=11)}this.Db=e,this.Gw=!0},I.prototype.qb=function(t){t.classType===I&&(this.autoScale=t)},I.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.Wa.iterator;n.next();)e+="\n  "+n.value.toString(t-1);return e},I.prototype.addEventListener=function(t,e,n,o){t.addEventListener(e,n,{capture:o,passive:!1})},I.prototype.removeEventListener=function(t,e,n,o){t.removeEventListener(e,n,{capture:o})},I.prototype.computePixelRatio=function(){return null!==this.Yh?this.Yh:nt.devicePixelRatio||1},I.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},I.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},I.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},I.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},I.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},I.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},I.prototype.doFocus=function(){this.focus()},I.prototype.focus=function(){if(this.ta)if(this.scrollsPageOnFocus)this.ta.focus();else{var t=nt.scrollX||nt.pageXOffset,e=nt.scrollY||nt.pageYOffset;this.ta.focus(),nt.scrollTo(t,e)}},I.prototype.Oy=function(){this.H.R("GainedFocus")},I.prototype.Ny=function(){this.H.R("LostFocus")},I.prototype.kx=function(t){if(null!==this.ta){var e=this.ku,n=this.hu;this.qr=!0;var o=this.documentBounds,r=this.viewportBounds,s=this.rj,l=o.x-s.left,a=o.y-s.top,p=o.width+s.left+s.right,d=o.height+s.top+s.bottom,f=o.right+s.right;s=o.bottom+s.bottom;var g=r.x;o=r.y;var m=r.width,v=r.height,y=r.right,P=r.bottom;r=this.scale;var T=t.scrollLeft;if(this.tn)switch(this.bu){case"negative":T=T+t.scrollWidth-t.clientWidth;break;case"reverse":T=t.scrollWidth-T-t.clientWidth}var S=T;m<p||v<d?(T=w.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.ju!==S&&(T.x=S/r+l,this.ju=S),this.allowVerticalScroll&&this.lu!==t.scrollTop&&(T.y=t.scrollTop/r+a,this.lu=t.scrollTop),this.position=T,w.free(T),this.Ee=this.qr=!1):(T=w.alloc(),t.uy&&this.allowHorizontalScroll&&(l<g&&(this.position=T.h(S+l,this.position.y)),f>y&&(this.position=T.h(-(e.scrollWidth-this.Aa)+S-this.Aa/r+f,this.position.y))),t.vy&&this.allowVerticalScroll&&(a<o&&(this.position=T.h(this.position.x,t.scrollTop+a)),s>P&&(this.position=T.h(this.position.x,-(e.scrollHeight-this.ya)+t.scrollTop-this.ya/r+s))),w.free(T),this.vd=!0,this.Ee=this.qr=!1,f=(o=this.documentBounds).right,y=(r=this.viewportBounds).right,s=o.bottom,P=r.bottom,l=o.x,g=r.x,a=o.y,o=r.y,m>=p&&l>=g&&f<=y&&(n.style.width="1px"),v>=d&&a>=o&&s<=P&&(n.style.height="1px"))}},I.prototype.computeBounds=function(t){return void 0===t&&(t=new U),ti(this),V0(this,t)},I.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var n=null;if(De(t))for(var o=0;o<t.length;o++){var r=t[o];!e&&r instanceof L||(r.Va(),null===n?n=r.actualBounds.copy():n.ed(r.actualBounds))}else for(t=t.iterator;t.next();)o=t.value,!e&&o instanceof L||(o.Va(),null===n?n=o.actualBounds.copy():n.ed(o.actualBounds));return null===n?new U(NaN,NaN,0,0):n},I.prototype.zoomToFit=function(){var t=this.sj;this.sj=Zr,this.scale=el(this,ol),t!==Zr&&(Nn(this,!1),Sc(this,this.documentBounds,this.Aa/this.Ca,this.ya/this.Ca,this.zk,!1)),this.sj=t},(x=I.prototype).BA=function(t,e){void 0===e&&(e=ol);var n=t.width,o=t.height;if(!(0===n||0===o||isNaN(n)&&isNaN(o))){var r=1;if(e===ol||e===qa)if(isNaN(n))r=this.viewportBounds.height*this.scale/o;else if(isNaN(o))r=this.viewportBounds.width*this.scale/n;else{r=this.Aa;var s=this.ya;r=e===qa?s/o>r/n?(s-(this.Be?this.Db:0))/o:(r-(this.gf?this.Db:0))/n:Math.min(s/o,r/n)}this.scale=r,this.position=new w(t.x,t.y)}},x.Jy=function(t,e){this.Va();var n=this.documentBounds,o=this.viewportBounds;this.position=new w(n.x+(t.x*n.width+t.offsetX)-(e.x*o.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*o.height-e.offsetY))},x.zz=function(t){if(t instanceof X){this.eq=t;var e=w.alloc();this.fq=this.op(t.ga(Ee,e)),w.free(e)}else this.eq=null,this.fq=da},x.Ol=function(t,e){if(void 0===e&&(e=!0),e){if((t=Tc(this,t,function(n){return n.part},function(n){return n.canSelect()}))instanceof W)return t}else if((t=Tc(this,t,function(n){return n.part}))instanceof W)return t;return null},x.ic=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),ti(this);for(var o=this.Wa.iteratorBackwards;o.next();){var r=o.value;if(r.visible&&null!==(r=r.ic(t,e,n)))return r}return null},x.lz=function(t,e,n){return void 0===e&&(e=!0),function E_(t,e,n,o,r){for(void 0===n&&(n=null),void 0===o&&(o=null),r instanceof H||r instanceof E||(r=new E),ti(t),t=t.Wa.iteratorBackwards;t.next();){var s=t.value;s.visible&&!s.isTemporary&&s.ji(e,n,o,r)}return r}(this,t,function(o){return o.part},e?function(o){return o instanceof W&&o.canSelect()}:null,n)},x.ji=function(t,e,n,o){void 0===e&&(e=null),void 0===n&&(n=null),o instanceof H||o instanceof E||(o=new E),ti(this);for(var r=this.Wa.iteratorBackwards;r.next();){var s=r.value;s.visible&&s.ji(t,e,n,o)}return o},x.ux=function(t,e,n,o){return void 0===e&&(e=!1),void 0===n&&(n=!0),function B_(t,e,n,o,r){var s=null;for(void 0===s&&(s=null),void 0===n&&(n=null),void 0===o&&(o=!1),r instanceof H||r instanceof E||(r=new E),ti(t),t=t.Wa.iteratorBackwards;t.next();){var l=t.value;l.visible&&!l.isTemporary&&l.Cf(e,s,n,o,r)}return r}(this,t,function(r){return r instanceof W&&(!n||r.canSelect())},e,o)},x.Cf=function(t,e,n,o,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=!1),r instanceof H||r instanceof E||(r=new E),ti(this);for(var s=this.Wa.iteratorBackwards;s.next();){var l=s.value;l.visible&&l.Cf(t,e,n,o,r)}return r},x.Nu=function(t,e,n,o,r,s){var l=new E;ti(this);for(var a=this.Wa.iteratorBackwards;a.next();){var p=a.value;p.visible&&p.Nu(t,e,n,o,l,r,s)}return l},x.mz=function(t,e,n,o,r){return void 0===n&&(n=!0),void 0===o&&(o=!0),function Q_(t,e,n,o,r,s){var l=null;for(void 0===l&&(l=null),void 0===o&&(o=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof H||r instanceof E)&&(s=r),r=!0),s instanceof H||s instanceof E||(s=new E),ti(t),t=t.Wa.iteratorBackwards;t.next();){var a=t.value;a.visible&&!a.isTemporary&&a.og(e,n,l,o,r,s)}return s}(this,t,e,function(s){return s instanceof W&&(!o||s.canSelect())},n,r)},x.og=function(t,e,n,o,r,s){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof H||r instanceof E)&&(s=r),r=!0),s instanceof H||s instanceof E||(s=new E),ti(this);for(var l=this.Wa.iteratorBackwards;l.next();){var a=l.value;a.visible&&a.og(t,e,n,o,r,s)}return s},I.prototype.acceptEvent=function(t){return cs(this,t,t instanceof MouseEvent)},I.prototype.Qz=function(t){var e=this.H;if(!this.H.isEnabled)return!1;var n=cs(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.down=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del";break;case 48:n.key="0";break;case 187:case 61:case 107:n.key="Add";break;case 189:case 173:case 109:n.key="Subtract";break;case 27:n.key="Esc"}return e.doKeyDown(),Mr(n,t)},I.prototype.Rz=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=cs(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.up=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del"}return e.doKeyUp(),Mr(n,t)},I.prototype.bz=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=cs(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(n),e.currentTool.standardMouseOver(),Mr(n,t)},I.prototype.cz=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=cs(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(n),Mr(n,t)},I.prototype.getMouse=function(t){var e=this.ta;if(null===e)return new w(0,0);var n=e.getBoundingClientRect();return e=t.clientX-this.Aa/n.width*n.left,t=t.clientY-this.ya/n.height*n.top,null!==this.Ab?Xe(new w(e,t),this.Ab):new w(e,t)},I.prototype.Ya=function(){this.Zi||(this.Zi=!0,this.$b(!1))},I.prototype.redraw=function(){this.vb||this.ld||(this.N(),this.bd())},(x=I.prototype).Pz=function(){return this.kg},x.Xy=function(t){void 0===t&&(t=null);var e=this.animationManager,n=e.isEnabled;e.Cc(),e.isEnabled=!1,Io(this),this.hf=!1,this.du=new w(NaN,NaN),e.isEnabled=n,this.ld=!0;var o=this;null!==t&&Tr(function(){o.ld=!1,ko(e,"Model"),t(o)},1)},x.$b=function(t){if(void 0===t&&(t=!1),!0!==this.kg&&!(this.vb||!1===t&&this.ld)){this.kg=!0;var e=this;nt.requestAnimationFrame(function(){e.kg&&e.bd()})}},x.bd=function(){(!this.fn||this.kg)&&(this.fn&&(this.fn=!1),Io(this))},x.Nv=function(t,e){for(t.reset();t.next();){var n=t.value;!n.Zc()||n instanceof rt||(n.si()?(n.measure(1/0,1/0),n.arrange()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof rt&&n.isVisible()&&Ac(this,n);for(t.reset();t.next();)(n=t.value)instanceof L&&n.isVisible()&&(n.si()?(n.measure(1/0,1/0),n.arrange()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof mt&&n.isVisible()&&(n.si()?(n.measure(1/0,1/0),n.arrange()):e.add(n))},x.Fd=function(t,e,n,o){if(this.vd||this.animationManager.isAnimating)for(var r=0;r<e;r++)t[r].Fd(n,o)},x.gc=function(t){if(null!==this.Ka)if(null===this.ta&&q("No canvas specified"),"svg"===this.nl){if(null!==this.Ka){var e=this.animationManager;if(!e.zb&&(!e.isAnimating||e.isTicking)){il(this);var n=this.Aa,o=this.ya;if(t.Gv.resize(n,o,n,o),this.Fd(n=this.Wa.s,o=n.length,this,this.viewportBounds),this.Fc||e.isAnimating){e=this.pa;var r=this.Ca,s=Math.round(e.x*r)/r,l=Math.round(e.y*r)/r,a=this.Ab;for(a.reset(),1!==r&&a.scale(r),0===e.x&&0===e.y||a.translate(-s,-l),t.ti=null,Ag(t,a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),1!==this.pb&&(t.globalAlpha=this.pb),Fa(this,t),this.ta.context.setTransform(e=this.Mb,0,0,e,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya),e=0;e<o;e++)n[e].gc(t,this);t=!1,this.Yf?sl(this.Yf,this)&&(t=this.Vp()):t=!0,t&&(ct.prototype.Cd=ct.prototype.Eu),this.Fc=this.vd=!1}}}}else t:if(s=this.animationManager,!s.zb&&(!s.isAnimating||s.isTicking)&&(n=new Date,il(this),"0"!==this.Ka.style.opacity)){if(o=t!==this.ib,this.Fd(e=this.Wa.s,r=e.length,this,this.viewportBounds),o)t.Vc(!0),this.vd=!0;else if(!this.Fc&&!s.isAnimating)break t;(s=this.Ab).reset(),l=this.Mb,a=this.pa;var p=this.Ca,d=Math.round(a.x*p)/p,f=Math.round(a.y*p)/p;for(1!==p&&s.scale(p),0===a.x&&0===a.y||s.translate(-d,-f),t.setTransform(l,0,0,l,0,0),t.clearRect(0,0,this.Aa,this.ya),1!==this.pb&&(t.globalAlpha=this.pb),Fa(this,t),a=0;a<r;a++)t.setTransform(l,0,0,l,0,0),t.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),t.yc(),e[a].gc(t,this);if(e=!1,this.Yf?sl(this.Yf,this)&&(e=this.Vp()):e=!0,e&&(ct.prototype.Cd=ct.prototype.Eu),o?(this.ib.Vc(!0),this.vd=!0):this.Fc=this.vd=!1,e=+new Date-+n,n=this.zw,(o=Ql&&Ql.nx)||null===this.Yh){for(n[this.Tq]=e,this.Tq=(this.Tq+1)%n.length,r=e=0;r<n.length;r++)e+=n[r];this.Sq=e/n.length}if(1!==this.pb&&(t.globalAlpha=1),o)for(t.setTransform(1,0,0,1,0,0),o=0;o<n.length;o++)t.fillText(n[o].toString(),20,150+20*o)}},x.Gf=function(t){return this.Rg[t]},x.Xx=function(t,e){"minDrawingLength"===t&&(this.Oq=e),this.Rg[t]=e,this.redraw()},x.Tx=function(){this.Rg=new en,this.Rg.drawShadows=!0,this.Rg.textGreeking=!0,this.Rg.viewportOptimizations=!(No||C_),this.Rg.temporaryPixelRatio=!0,this.Rg.pictureRatioOptimization=!0,this.Oq=this.Rg.minDrawingLength=1},x.Ql=function(t){return this.on[t]},x.sA=function(t,e){this.on[t]=e},x.Sx=function(){this.on=new en,this.on.extraTouchArea=10,this.on.extraTouchThreshold=10,this.on.hasGestureZoom=!0},x.set=function(t){return Object.assign(this,t),this},x.Du=function(t){return this.nm(t)},x.nm=function(t){return ru(this,t),this},x.bx=function(){if(0!==this.Eh.count&&!(1<this.undoManager.transactionLevel)){for(;0<this.Eh.count;){var t=this.Eh;for(this.Eh=new lt,t=t.iterator;t.next();){var e=t.key;e.Xo(t.value),e.qc()}}this.N()}},x.N=function(t){if(void 0===t)this.Fc=!0,this.$b();else{var e=this.viewportBounds;t.w()&&e.Yc(t)&&(this.Fc=!0,this.$b())}this.R("InvalidateDraw")},I.prototype.invalidateViewport=function(t,e){if(!0!==this.Fc)if(this.Fc=!0,"svg"===this.nl)this.bd();else{var n=!0===this.Gf("temporaryPixelRatio");if(!0===this.Gf("viewportOptimizations")&&this.scrollMode!==Ec&&this.rj.hi(0,0,0,0)&&e.width===t.width&&e.height===t.height){var o=this.scale,r=Math.max(t.y,e.y),s=Math.min(t.y+t.height,e.y+e.height);if(0<Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x))*o&&0<Math.max(0,s-r)*o){if(!(this.ld||(this.kg=!1,null===this.Ka||(this.ld=!0,this.documentBounds.w()||(o=U.alloc(),Oc(this,this.computeBounds(o)),U.free(o)),o=this.ta,null===o||o instanceof Bn)))){var l=this.Mb;r=this.Aa*l;var a=this.ya*l,p=this.scale*l;s=Math.round(Math.round(e.x*p)-Math.round(t.x*p)),e=Math.round(Math.round(e.y*p)-Math.round(t.y*p)),t=this.oy,(p=this.jw).width!==r&&(p.width=r),p.height!==a&&(p.height=a),t.clearRect(0,0,r,a),p=190*l;var d=70*l,f=Math.max(s,0),g=Math.max(e,0),m=Math.floor(r-f),v=Math.floor(a-g);t.drawImage(o.Oa,f,g,m,v,0,0,m,v),sl(this.Yf,this)&&t.clearRect(0,0,p,d),o=bt(),t=bt(),v=Math.abs(s),m=Math.abs(e);var y=0===f?0:r-v;f=w.allocAt(y,0),v=w.allocAt(v+y,a),t.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y)));var P=this.Ab;if(P.reset(),P.scale(l,l),1!==this.Ca&&P.scale(this.Ca),(0!==(l=this.pa).x||0!==l.y)&&isFinite(l.x)&&isFinite(l.y)&&P.translate(-l.x,-l.y),Xe(f,P),Xe(v,P),o.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y))),f.h(0,y=0===g?0:a-m),v.h(r,m+y),t.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y))),Xe(f,P),Xe(v,P),o.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y))),sl(this.Yf,this)&&(f.h(r=0<s?0:-s,a=0<e?0:-e),v.h(p+r,d+a),t.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y))),Xe(f,P),Xe(v,P),o.push(new U(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y)))),w.free(f),w.free(v),Ia(this,!1,!0),null===this.Ka&&q("No div specified"),null===this.ta&&q("No canvas specified"),!this.animationManager.zb&&(r=this.ib,this.Fc)){for(il(this),a=this.Mb,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.Aa*a,this.ya*a),r.drawImage(this.jw.Oa,0<s?0:Math.round(-s),0<e?0:Math.round(-e)),s=this.pa,l=this.Ca,p=Math.round(s.x*l)/l,d=Math.round(s.y*l)/l,(e=this.Ab).reset(),1!==l&&e.scale(l),0===s.x&&0===s.y||e.translate(-p,-d),r.save(),r.beginPath(),s=t.length,l=0;l<s;l++)0!==(p=t[l]).width&&0!==p.height&&r.rect(Math.floor(p.x),Math.floor(p.y),Math.ceil(p.width),Math.ceil(p.height));for(r.clip(),r.setTransform(a,0,0,a,0,0),r.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),r.yc(),this.Fd(e=this.Wa.s,s=e.length,this,this.viewportBounds),Fa(this,r),r.globalAlpha=this.pb,a=0;a<s;a++)if(p=o,(l=e[a]).visible&&0!==l.pb){d=iu(l,r),(g=l.Zq).length=0,f=this.scale,m=U.alloc(),P=(v=l.Pa.s).length,y=p.length;for(var T=0;T<P;T++){var S=v[T],A=br(S,S.actualBounds);t:{for(var M=2/f,Z=4/f,j=0;j<y;j++){var k=p[j];if(0!==k.width&&0!==k.height&&A.Vu(k.x-M,k.y-M,k.width+Z,k.height+Z)){A=!0;break t}}A=!1}A&&l.Oj(r,S,this,g,f,m,!0)}U.free(m),r.globalAlpha=d}r.restore(),r.Vc(!0),this.Yf&&sl(this.Yf,this)&&this.Vp(),this.Fc=this.vd=!1,this.hk()}Nt(o),Nt(t),this.ld=!1}}else this.bd();n&&(nu(this),this.bd(),ka(this,!0))}else n?(nu(this),this.bd(),ka(this,!0)):this.bd()}},(x=I.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&q("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.Qj(t.layerName))&&(e=this.Qj("")),null===e&&q('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var n=e.oi(99999999,t,t.diagram===this);0<=n&&this.cb(ge,"parts",e,null,t,null,n),e.isTemporary||this.Ya(),t.C(1),null!==(n=t.layerChanged)&&n(t,null,e)}},x.oi=function(t){this.partManager.oi(t);var e=this;Fr(t,function(n){eg(e,n)}),(t instanceof mt||t instanceof rt&&null!==t.placeholder)&&t.v(),null!==t.data&&Fr(t,function(n){of(e.partManager,n)}),!0!==_n(t)&&!0!==lr(t)||this.De.add(t),m1(t,!0,this),v1(t)?(t.actualBounds.w()&&this.N(br(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(br(t,t.actualBounds)),this.$b()},x.pc=function(t){t.Ej(),this.partManager.pc(t);var e=this;null!==t.data&&Fr(t,function(n){rf(e.partManager,n,e)}),this.De.remove(t),v1(t)?(t.actualBounds.w()&&this.N(br(t,t.actualBounds)),this.Ya()):t.isVisible()&&t.actualBounds.w()&&this.N(br(t,t.actualBounds)),this.$b()},x.remove=function(t){Zc(this,t,!0)},x.Is=function(t,e){if(void 0===e&&(e=!1),De(t))for(var n=t.length,o=0;o<n;o++){var r=t[o];e&&!r.canDelete()||this.remove(r)}else for((n=new E).addAll(t),t=n.iterator;t.next();)n=t.value,e&&!n.canDelete()||this.remove(n)},x.Kj=function(t,e,n){return void 0===n&&(n=!1),this.partManager.Kj(t,e,n)},I.prototype.moveParts=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=Nc(this)),null!==this.toolManager){var r=new lt;if(null!==t)if(De(t))for(var s=0;s<t.length;s++)Uo(this,r,t[s],n,o);else for(t=t.iterator;t.next();)Uo(this,r,t.value,n,o);else{for(t=this.parts;t.next();)Uo(this,r,t.value,n,o);for(t=this.nodes;t.next();)Uo(this,r,t.value,n,o);for(t=this.links;t.next();)Uo(this,r,t.value,n,o)}jc(this,r,e,o,n)}},I.prototype.computeMove=function(t,e,n,o){if(void 0===o&&(o=new w),o.assign(e),null===t)return o;var r=e,s=n.isGridSnapEnabled;s&&(n.isGridSnapRealtime||this.lastInput.up)&&kc(this,t,e,r=w.alloc(),n),n=null!==t.dragComputation?t.dragComputation(t,e,r):r;var l=t.minLocation,a=l.x;isNaN(a)&&(a=s?Math.round(1e3*t.location.x)/1e3:t.location.x),l=l.y,isNaN(l)&&(l=s?Math.round(1e3*t.location.y)/1e3:t.location.y);var p=t.maxLocation,d=p.x;return isNaN(d)&&(d=s?Math.round(1e3*t.location.x)/1e3:t.location.x),p=p.y,isNaN(p)&&(p=s?Math.round(1e3*t.location.y)/1e3:t.location.y),o.h(Math.max(a,Math.min(n.x,d)),Math.max(l,Math.min(n.y,p))),r!==e&&w.free(r),o},(x=I.prototype).Pd=function(t,e,n){if(void 0===n)return new or(mo);var o=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(o=!1),new or(o?new w(Math.round(1e3*n.x)/1e3,Math.round(1e3*n.y)/1e3):n.copy())},x.Al=function(t){Ic(this,t,null),t.Xe(this);var e=this.Wa,n=e.count-1;if(!t.isTemporary)for(;0<=n&&e.M(n).isTemporary;)n--;return e.Gb(n+1,t),null!==this.cc&&this.cb(ge,"layers",this,null,t,null,n+1),this.N(),this.Ya(),this},x.Ww=function(t,e){Ic(this,t,e),t.Xe(this);var n=this.Wa,o=n.indexOf(t);0<=o&&(n.remove(t),null!==this.cc&&this.cb(_e,"layers",this,t,null,o,null));var s,r=n.count;for(s=0;s<r;s++)if(n.M(s)===e){n.Gb(s,t);break}return null!==this.cc&&this.cb(ge,"layers",this,null,t,null,s),this.N(),0>o&&this.Ya(),this},x.Cy=function(t,e){Ic(this,t,e),t.Xe(this);var n=this.Wa,o=n.indexOf(t);0<=o&&(n.remove(t),null!==this.cc&&this.cb(_e,"layers",this,t,null,o,null));var s,r=n.count;for(s=0;s<r;s++)if(n.M(s)===e){n.Gb(s+1,t);break}return null!==this.cc&&this.cb(ge,"layers",this,null,t,null,s+1),this.N(),0>o&&this.Ya(),this},x.kA=function(t){if(t.diagram!==this&&q("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Wa,n=e.indexOf(t);if(e.remove(t)){for(e=t.Pa.copy().iterator;e.next();){var o=e.value,r=o.layerName;o.layerName=r!==t.name?r:""}null!==this.cc&&this.cb(_e,"layers",this,t,null,n,null),this.N(),this.Ya()}}},x.Qj=function(t){for(var e=this.layers;e.next();){var n=e.value;if(n.name===t)return n}return null},x.Yw=function(t){return null===this.pf&&(this.pf=new H),this.pf.add(t),this.model.Pe(t),this},x.mA=function(t){null!==this.pf&&(this.pf.remove(t),0===this.pf.count&&(this.pf=null)),this.model.ik(t)},x.Pe=function(t){return null===this.zg&&(this.zg=new H),this.zg.add(t),this},x.ik=function(t){null!==this.zg&&(this.zg.remove(t),0===this.zg.count&&(this.zg=null))},x.ds=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Tu(t),t.change!==Zn&&(this.isModified=!0),null!==this.zg)for(var e=this.zg,n=e.length,o=0;o<n;o++)e.M(o)(t)},x.cb=function(t,e,n,o,r,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var a=new Kt;a.diagram=this,a.change=t,a.propertyName=e,a.object=n,a.oldValue=o,a.oldParam=s,a.newValue=r,a.newParam=l,this.ds(a)},x.g=function(t,e,n,o,r){this.cb(Bt,t,this,e,n,o,r)},I.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var n=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var o=t.change;if(o===Bt){var r=t.object;if(qt(r,t.propertyName,t.I(e)),r instanceof X){var s=r.part;null!==s&&s.Wb()}this.isModified=!0}else if(o===ge){var l=t.object,a=t.newParam,p=t.newValue;if(l instanceof O)if("number"==typeof a&&p instanceof X){e?l.pc(a):l.Gb(a,p);var d=l.part;null!==d&&d.Wb()}else"number"==typeof a&&p instanceof le&&(p.isRow?Eg(l,a,e?void 0:p):Bg(l,a,e?void 0:p));else if(l instanceof Qe){var f=!0===t.oldParam;"number"==typeof a&&p instanceof W&&(e?(p.isSelected=!1,p.isHighlighted=!1,p.Wb(),l.pc(f?a:-1,p,f)):l.oi(a,p,f))}else l instanceof I?"number"==typeof a&&p instanceof Qe&&(e?this.Wa.mb(a):(p.Xe(this),this.Wa.Gb(a,p))):q("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(o===_e){var g=t.object,m=t.oldParam,v=t.oldValue;if(g instanceof O)"number"==typeof m&&v instanceof X?e?g.Gb(m,v):g.pc(m):"number"==typeof m&&v instanceof le&&(v.isRow?Eg(g,m,e?v:void 0):Bg(g,m,e?v:void 0));else if(g instanceof Qe){var y=!0===t.newParam;"number"==typeof m&&v instanceof W&&(e?0>g.Pa.indexOf(v)&&g.oi(m,v,y):(v.isSelected=!1,v.isHighlighted=!1,v.Wb(),g.pc(y?m:-1,v,y)))}else g instanceof I?"number"==typeof m&&v instanceof Qe&&(e?(v.Xe(this),this.Wa.Gb(m,v)):this.Wa.mb(m)):q("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else o!==Zn&&q("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=n}}},I.prototype.Ea=function(t){return this.undoManager.Ea(t)},I.prototype.eb=function(t){return this.undoManager.eb(t)},I.prototype.Kf=function(){return this.undoManager.Kf()},I.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Ea(e);var o=!1;try{t(this),o=!0}finally{o?this.undoManager.eb(e):this.undoManager.Kf(),this.skipsUndoManager=n}},I.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},I.prototype.rp=function(){this.partManager.rp()},I.prototype.onViewportBoundsChanged=function(t,e,n,o){if(!t.D(e)){void 0===o&&(o=!1),o||(this.Ee=!0),this.vd=!0;var r=this.layout;null===r||!r.isViewportSized||this.autoScale!==Ei||t.width===e.width&&t.height===e.height||r.C(),r=this.currentTool,!0===this.Vk&&r instanceof Vt&&(this.lastInput.documentPoint=this.Ps(this.lastInput.viewPoint),h0(r,this)),this.vb||this.invalidateViewport(t,e),Fo(this),this.fc.scale=n,this.fc.position.x=t.x,this.fc.position.y=t.y,this.fc.bounds.assign(t),this.fc.canvasSize.width=Math.round(t.width*n),this.fc.canvasSize.height=Math.round(t.height*n),this.fc.newCanvasSize.width=this.Aa,this.fc.newCanvasSize.height=this.ya,this.fc.isScroll=o,this.R("ViewportBoundsChanged",this.fc,t),this.isVirtualized&&this.links.each(function(s){s.isAvoiding&&s.actualBounds.Yc(e)&&s.bb()})}},I.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var n=e.Fa(),o=n.length,r=0;r<o;r++)n[r].isSelected=!1;e.ka(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},I.prototype.select=function(t){null!==t&&t.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},I.prototype.rA=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),De(t))for(var e=t.length,n=0;n<e;n++){var o=t[n];o instanceof W||q("Diagram.selectCollection given something that is not a Part: "+o),o.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof W||q("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},I.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.Fa(),n=e.length,o=0;o<n;o++)e[o].isHighlighted=!1;t.ka(),t.clear(),t.freeze()}},(x=I.prototype).Iz=function(t){null!==t&&t.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},x.Jz=function(t){t=(new E).addAll(t);for(var e=this.highlighteds.copy().hp(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof W||q("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},x.scroll=function(t,e,n){void 0===n&&(n=1);var o="up"===e||"down"===e,r=0,s=w.alloc();if("pixel"===t)r=n;else if("line"===t)r=n*(o?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=o?this.viewportBounds.height:this.viewportBounds.width,0!=(t*=this.scale)&&(r=n*Math.max(t-(o?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return r=this.documentBounds,n=this.viewportBounds,"up"===e?this.position=s.h(n.x,r.y):"left"===e?this.position=s.h(r.x,n.y):"down"===e?this.position=s.h(n.x,r.bottom-n.height):"right"===e&&(this.position=s.h(r.right-n.width,n.y)),void w.free(s);q("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,n=this.position,"up"===e?this.position=s.h(n.x,n.y-r):"down"===e?this.position=s.h(n.x,n.y+r):"left"===e?this.position=s.h(n.x-r,n.y):"right"===e?this.position=s.h(n.x+r,n.y):q("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),w.free(s)},x.tv=function(t){var e=this.viewportBounds;e.Re(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},x.es=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},x.op=function(t){var e=this.Ab;e.reset(),1!==this.Ca&&e.scale(this.Ca);var n=this.pa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.Ab)},x.zA=function(t){var e=this.Ab,n=t.x,o=t.y,r=n+t.width,s=o+t.height,l=e.m11,a=e.m12,p=e.m21,d=e.m22,f=e.dx,g=e.dy,m=n*l+o*p+f;e=n*a+o*d+g;var v=r*l+o*p+f;return t=r*a+o*d+g,o=n*l+s*p+f,n=n*a+s*d+g,l=r*l+s*p+f,r=r*a+s*d+g,s=Math.min(m,v),m=Math.max(m,v),v=Math.min(e,t),e=Math.max(e,t),s=Math.min(s,o),m=Math.max(m,o),v=Math.min(v,n),e=Math.max(e,n),s=Math.min(s,l),m=Math.max(m,l),new U(s,v=Math.min(v,r),m-s,(e=Math.max(e,r))-v)},x.Ps=function(t){var e=this.Ab;e.reset(),1!==this.Ca&&e.scale(this.Ca);var n=this.pa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),Xe(t.copy(),this.Ab)},I.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var n=t.change,o=t.propertyName;if(n===Zn&&"S"===o[0])if("StartingFirstTransaction"===o){var r=this;(t=this.toolManager).mouseDownTools.each(function(p){return p.diagram=r}),t.mouseMoveTools.each(function(p){return p.diagram=r}),t.mouseUpTools.each(function(p){return p.diagram=r}),this.ld||this.hf||(this.Jk=!0,this.fn&&(this.kg=!0))}else"StartingUndo"===o||"StartingRedo"===o?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===o&&(t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Cc();else if(this.aa){this.aa=!1;try{if(""===t.modelChange&&n===Zn){("FinishedUndo"===o||"FinishedRedo"===o)&&(this.R("ChangedSelection",this.selection),ti(this));var s=this.animationManager;"RolledBackTransaction"===o&&s.Cc(),this.bx(),this.Jk=!0,this.bd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||_c(s),"CommittedTransaction"===o&&this.undoManager.isJustDiscarded&&(this.Ce=Math.min(this.Ce,this.undoManager.historyIndex-1)),"CommittedTransaction"!==o&&"RolledBackTransaction"!==o||!this.undoManager.isPendingUnmodified||setTimeout(function(){e.isModified=!1},1);var l=t.isTransactionFinished;if(l&&(tg(this),this.As.clear(),function O_(t){for(t=t.Ei.iterator;t.next();)t.value.Xk=!1}(this.animationManager)),!this.Rt&&l&&this.lastInput.targetDiagram){this.Rt=!0;var a=this;Tr(function(){a.currentTool.standardMouseOver(),a.Rt=!1},10)}}}finally{this.aa=!0}}}},I.prototype.Wd=function(){this.partManager.Wd()},I.prototype.Aj=function(t,e){this.Yd.Aj(t,e)},I.prototype.Cj=function(t,e){this.Yd.Cj(t,e)},I.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},I.prototype.Vb=function(t){return this.partManager.Vb(t)},I.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(x=I.prototype).Lc=function(t){return this.partManager.Lc(t)},x.ii=function(t){return this.partManager.ii(t)},x.Kc=function(t){return this.partManager.Kc(t)},x.ms=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.ms.apply(this.partManager,e instanceof Array?e:kf(mi(e)))},x.ls=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.ls.apply(this.partManager,e instanceof Array?e:kf(mi(e)))},x.Va=function(){if(this.Zi){var t=U.alloc();Oc(this,this.computeBounds(t)),U.free(t)}},x.rz=function(){for(var t=new E,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&t.add(n)}for(e=this.links;e.next();)(n=e.value).isTopLevel&&t.add(n);return t.iterator},x.qz=function(){return this.ai.iterator},x.Uz=function(t){ti(this),t&&La(this,!0),this.ld?Lc(this,!1):(this.Jk=!0,Io(this))},x.yz=function(){for(var t=new H,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&null===n.kh()&&t.add(n)}return t.iterator},x.Bj=function(t,e){return null!==(t=bc(this,t))&&t.add(e),this},x.am=function(t,e){null!==(t=bc(this,t))&&t.remove(e)},x.R=function(t,e,n){var o=bc(this,t),r=new us;if(r.diagram=this,null!==(t=og(this,t))&&(r.name=t),void 0!==e&&(r.subject=e),void 0!==n&&(r.parameter=n),1===(e=o.length))o.M(0)(r);else if(0!==e)for(o=o.Fa(),n=0;n<e;n++)(0,o[n])(r)},x.Yj=function(t,e){return qc(this,!1,null,e||null).Yj(t.x,t.y,t.width,t.height)},I.prototype.computeOccupiedArea=function(t){return this.isVirtualized?this.viewportBounds.copy():this.Zi?V0(this,t):t.assign(this.documentBounds)},I.prototype.gs=function(t){this.wp.assign(t),this.computeAutoScrollPosition(this.wp).Xa(this.position)?this.ug():lg(this)},I.prototype.ug=function(){-1!==this.vk&&(nt.clearTimeout(this.vk),this.vk=-1)},I.prototype.computeAutoScrollPosition=function(t){var e=this.position,n=this.xp;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return e;var o=this.viewportBounds,r=this.scale;o=U.allocAt(0,0,o.width*r,o.height*r);var s=w.allocAt(0,0);if(t.x>=o.x&&t.x<o.x+n.left&&this.allowHorizontalScroll){var l=Math.max(this.scrollHorizontalLineChange,1);s.x-=l|=0,t.x<o.x+n.left/2&&(s.x-=l),t.x<o.x+n.left/4&&(s.x-=4*l)}else t.x<=o.x+o.width&&t.x>o.x+o.width-n.right&&this.allowHorizontalScroll&&(l=Math.max(this.scrollHorizontalLineChange,1),s.x+=l|=0,t.x>o.x+o.width-n.right/2&&(s.x+=l),t.x>o.x+o.width-n.right/4&&(s.x+=4*l));return t.y>=o.y&&t.y<o.y+n.top&&this.allowVerticalScroll?(l=Math.max(this.scrollVerticalLineChange,1),s.y-=l|=0,t.y<o.y+n.top/2&&(s.y-=l),t.y<o.y+n.top/4&&(s.y-=4*l)):t.y<=o.y+o.height&&t.y>o.y+o.height-n.bottom&&this.allowVerticalScroll&&(l=Math.max(this.scrollVerticalLineChange,1),s.y+=l|=0,t.y>o.y+o.height-n.bottom/2&&(s.y+=l),t.y>o.y+o.height-n.bottom/4&&(s.y+=4*l)),s.Xa(mo)||(e=new w(e.x+s.x/r,e.y+s.y/r)),U.free(o),w.free(s),e},(x=I.prototype).Cs=function(){return null},x.av=function(){return null},x.bs=function(t,e){this.pj.add(t,e)},x.Fu=function(t){(this.Pw=t)||this.nodes.each(function(e){e instanceof rt&&(e.$p=null)})},x.Wz=function(t){return gn?(void 0===t&&(t={}),t.returnType="Image",this.Jx(t)):null},x.Jx=function(t){return void 0===t&&(t={}),ug(this,this.Xz,t)},x.Xz=function(t,e,n){var o=ag(n,t,"canvas",null);if(null===o)return null;var r=null;if(null!==(n=o.Z.canvas))switch(r=t.returnType,r=void 0===r?"string":r.toLowerCase(),r){case rl+"data":r=o.getImageData(0,0,n.width,n.height);break;case rl:(o=(t.document||document).createElement("img")).src=n.toDataURL(t.type,t.details),r=o;break;case"blob":return"function"!=typeof e&&q('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof n.toBlob?(n.toBlob(e,t.type,t.details),"toBlob"):(e(null),null);default:r=n.toDataURL(t.type,t.details)}return"function"==typeof e?(e(r),null):r},pt.Object.defineProperties(I.prototype,{renderer:{get:function(){return this.nl},set:function(t){this instanceof eo||(""===t&&(t="default"),(t=t.toLowerCase())!==this.nl&&(this.nl=t,"default"===t||"canvas"===t?(null!==(t=this.pj.get("svg"))&&t.Oa.remove(),this.ta&&(this.ib=this.ta.context)):"svg"===t?(this.pj.contains("svg")?t=this.pj.get("svg"):(t=new Bn(this,nt.document),this.bs("svg",t)),null!==this.div&&this.div.appendChild(t.Oa),this.ib=t.context,this.ta&&(this.ta.context.setTransform(this.Mb,0,0,this.Mb,0,0),this.ta.context.clearRect(0,0,this.Aa,this.ya))):"debug"!==t||this.pj.contains("SVG")||(t=new Bn(this,nt.document),this.bs("SVG",t),t.Oa.style.backgroundColor="whitesmoke",null!==this.div&&this.div.after(t.Oa)),this.hk()))}},div:{get:function(){return this.Ka},set:function(t){if(this.Ka!==t){var e=this.Ka;null!==e?(e.H=void 0,e.goDiagram=void 0,e.go=void 0,e.innerHTML="",null!==this.ta&&(this.removeEventListener(e=this.ta.Oa,"pointermove",this.dk,!1),this.removeEventListener(e,"pointerdown",this.ui,!1),this.removeEventListener(e,"pointerup",this.fk,!1),this.removeEventListener(e,"pointerout",this.ek,!1),this.removeEventListener(e,"pointercancel",this.ck,!1),this.ta.mx()),this.ol&&(this.ol.disconnect(),this.ol=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(n){n.cancelWaitAfter()}),e.mouseMoveTools.each(function(n){n.cancelWaitAfter()}),e.mouseUpTools.each(function(n){n.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.ta=null,this.removeEventListener(nt,"resize",this.Ov,!1),this.removeEventListener(nt,"wheel",this.$j,!0),tl===this&&(tl=null)):null===this.ui&&(this.hf=!1),this.Ka=null,null!==t&&((e=t.H)&&(e.div=null),Pc(this,t),this.hk())}}},$w:{get:function(){return this.Sq}},pi:{get:function(){return this.hf}},draggedLink:{get:function(){return this.nt},set:function(t){this.nt!==t&&(this.nt=t,null!==t&&(this.Vt=t.fromPort,this.Wt=t.toPort))}},Mx:{get:function(){return this.Vt},set:function(t){this.Vt=t}},Nx:{get:function(){return this.Wt},set:function(t){this.Wt=t}},animationManager:{get:function(){return this.Yd}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.lt},set:function(t){this.lt=t}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&Jt(t,"0 <= value <= 1",I,"opacity"),this.pb=t,this.g("opacity",e,t),this.N())}},validCycle:{get:function(){return this.wu},set:function(t){var e=this.wu;e!==t&&(this.wu=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Wa.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.Gg},set:function(t){var e=this.Gg;e!==t&&(this.Gg=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.Jd},set:function(t){var e=this.Jd;e!==t&&(this.Jd=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.Vs},set:function(t){var e=this.Vs;e!==t&&(this.Vs=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(this.Ws=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Qi},set:function(t){var e=this.Qi;e!==t&&(this.Qi=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.Ys},set:function(t){var e=this.Ys;e!==t&&(this.Ys=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Mi},set:function(t){var e=this.Mi;e!==t&&(this.Mi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(this.Ni=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Oi},set:function(t){var e=this.Oi;e!==t&&(this.Oi=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.Zs},set:function(t){var e=this.Zs;e!==t&&(this.Zs=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.nn},set:function(t){var e=this.nn;e!==t&&(this.nn=t,this.Ee=!0,this.N(),this.g("hasVerticalScrollbar",e,t),Nn(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.mn},set:function(t){var e=this.mn;e!==t&&(this.mn=t,this.Ee=!0,this.N(),this.g("hasHorizontalScrollbar",e,t),Nn(this,!1))}},allowHorizontalScroll:{get:function(){return this.Xs},set:function(t){var e=this.Xs;e!==t&&(this.Xs=t,this.g("allowHorizontalScroll",e,t),Nn(this,!1))}},allowVerticalScroll:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(this.$s=t,this.g("allowVerticalScroll",e,t),Nn(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.iu},set:function(t){var e=this.iu;e!==t&&(0>t&&Jt(t,">= 0",I,"scrollHorizontalLineChange"),this.iu=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.mu},set:function(t){var e=this.mu;e!==t&&(0>t&&Jt(t,">= 0",I,"scrollVerticalLineChange"),this.mu=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.cj},set:function(t){this.cj=t}},previousInput:{get:function(){return this.Qg},set:function(t){this.Qg=t}},firstInput:{get:function(){return this.bq},set:function(t){this.bq=t}},currentCursor:{get:function(){return this.it},set:function(t){if(""===t&&(t=this.Op),this.it!==t){var e=this.ta,n=this.Ka;if(null!==e&&null!==n){this.it=t;var o=e.style.cursor;e.style.cursor=t,n.style.cursor=t,e.style.cursor===o&&(e.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,e.style.cursor===o&&(e.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,e.style.cursor===o&&(e.style.cursor=t,n.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Op},set:function(t){""===t&&(t="auto");var e=this.Op;e!==t&&(this.Op=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.zh},set:function(t){var e=this.zh;e!==t&&(this.zh=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Fh},set:function(t){var e=this.Fh;e!==t&&(this.Fh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Bh},set:function(t){var e=this.Bh;e!==t&&(this.Bh=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.Qh},set:function(t){var e=this.Qh;e!==t&&(this.Qh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.Oh},set:function(t){var e=this.Oh;e!==t&&(this.Oh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.Nh},set:function(t){var e=this.Nh;e!==t&&(this.Nh=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.Qt},set:function(t){var e=this.Qt;e!==t&&(this.Qt=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.Lh},set:function(t){var e=this.Lh;e!==t&&(this.Lh=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.xt},set:function(t){var e=this.xt;e!==t&&(this.xt=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.Mh},set:function(t){var e=this.Mh;e!==t&&(this.Mh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.Ph},set:function(t){var e=this.Ph;e!==t&&(this.Ph=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Ch},set:function(t){var e=this.Ch;e!==t&&(this.Ch=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t,t.Xe(this))}},toolManager:{get:function(){return this.te},set:function(t){this.te!==t&&(this.te=t,t.diagram=this)}},defaultTool:{get:function(){return this.ob},set:function(t){var e=this.ob;e!==t&&(this.ob=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.hb},set:function(t){var e=this.hb;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.hb=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Hw}},maxSelectionCount:{get:function(){return this.Nt},set:function(t){var e=this.Nt;if(e!==t)if(0<=t&&!isNaN(t)){if(this.Nt=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.Fa();for(var n=0;n<t;n++)e[n].isSelected=!1;this.R("ChangedSelection",this.selection)}}else Jt(t,">= 0",I,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.St},set:function(t){var e=this.St;e!==t&&(this.St=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.wt},set:function(t){var e=this.wt;e!==t&&(this.wt=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Kt},set:function(t){var e=this.Kt;e!==t&&(this.Kt=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.nw}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.rn&&this.Ce!==t.historyIndex:this.rn},set:function(t){if(this.rn!==t){this.rn=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Ce=e.historyIndex),t||tg(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&q("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Cc(!0);var n=Q0(this,!0);this.hf=!1,this.fn=!0,this.Ce=-2,this.kg=!1;var o=this.vb;this.vb=!0,ko(this.animationManager,"Model"),e&&(null!==this.pf&&this.pf.each(function(s){return e.ik(s)}),e.ik(this.Oc)),this.cc=t,this.partManager=function K_(t){return null!==(t=ba.get(t))?new t:new Tt}(this.cc.type);for(var r=0;r<n.length;r++)this.add(n[r]);t.Pe(this.Hb),this.partManager.addAllModeledParts(),t.ik(this.Hb),t.Pe(this.Oc),null!==this.pf&&this.pf.each(function(s){return t.Pe(s)}),this.vb=o,this.Ya(),this.vb||this.N(),e&&t.undoManager.copyProperties(e.undoManager)}}},aa:{get:function(){return this.rw},set:function(t){this.rw=t}},As:{get:function(){return this.sy}},skipsModelSourceBindings:{get:function(){return this.Iw},set:function(t){this.Iw=t}},Ns:{get:function(){return this.ou},set:function(t){this.ou=t}},nodeTemplate:{get:function(){return this.Lg.I("")},set:function(t){var e=this.Lg.I("");e!==t&&(this.Lg.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},nodeTemplateMap:{get:function(){return this.Lg},set:function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplate:{get:function(){return this.Yi.I("")},set:function(t){var e=this.Yi.I("");e!==t&&(this.Yi.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},groupTemplateMap:{get:function(){return this.Yi},set:function(t){var e=this.Yi;e!==t&&(this.Yi=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplate:{get:function(){return this.Kh.I("")},set:function(t){var e=this.Kh.I("");e!==t&&(this.Kh.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},linkTemplateMap:{get:function(){return this.Kh},set:function(t){var e=this.Kh;e!==t&&(this.Kh=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Wd())}},isMouseCaptured:{get:function(){return this.qw},set:function(t){var e=this.ta;null!==e&&((e=e.Oa)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.removeEventListener(e,"pointermove",this.dk,!1),this.removeEventListener(e,"pointerdown",this.ui,!1),this.removeEventListener(e,"pointerup",this.fk,!1),this.removeEventListener(e,"pointerout",this.ek,!1),this.removeEventListener(e,"pointercancel",this.ck,!1),this.addEventListener(nt,"pointermove",this.dk,!0),this.addEventListener(nt,"pointerdown",this.ui,!0),this.addEventListener(nt,"pointerup",this.fk,!0),this.addEventListener(nt,"pointerout",this.ek,!0),this.addEventListener(nt,"pointercancel",this.ck,!0),this.removeEventListener(e,"wheel",this.$j,!1),this.addEventListener(nt,"wheel",this.$j,!0),this.addEventListener(nt,"selectstart",this.preventDefault,!1)):(this.removeEventListener(nt,"pointermove",this.dk,!0),this.removeEventListener(nt,"pointerdown",this.ui,!0),this.removeEventListener(nt,"pointerup",this.fk,!0),this.removeEventListener(nt,"pointerout",this.ek,!0),this.removeEventListener(nt,"pointercancel",this.ck,!0),this.addEventListener(e,"pointermove",this.dk,!1),this.addEventListener(e,"pointerdown",this.ui,!1),this.addEventListener(e,"pointerup",this.fk,!1),this.addEventListener(e,"pointerout",this.ek,!1),this.addEventListener(e,"pointercancel",this.ck,!1),this.removeEventListener(nt,"wheel",this.$j,!0),this.removeEventListener(nt,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.$j,!1)),this.qw=t))}},position:{get:function(){return this.pa},set:function(t){var e=w.alloc().assign(this.pa);if(!e.D(t)){var n=this.viewportBounds.copy();this.pa.assign(t),N0(this.animationManager,e,this.pa),this.vb||null===this.ta&&!this.wo.w()?Oo(this):(this.vb=!0,Sc(this,this.Sp,this.Aa/(t=this.scale),this.ya/t,this.zk,!1),this.vb=!1),this.vb||this.onViewportBoundsChanged(n,this.viewportBounds,this.Ca,!1)}w.free(e)}},initialPosition:{get:function(){return this.zt},set:function(t){this.zt.D(t)||(this.zt=t.J())}},initialScale:{get:function(){return this.At},set:function(t){this.At!==t&&(this.At=t)}},grid:{get:function(){return null===this.fe&&(this.fe=K0(this)),this.fe},set:function(t){var e=this.fe;if(e!==t){null===e&&(e=this.fe=K0(this)),t.type!==O.Grid&&q("Diagram.grid must be a Panel of type Panel.Grid");var n=e.panel;null!==n&&n.remove(e),this.fe=t,t.name="GRID",null!==n&&n.add(t),Fo(this),this.N(),this.g("grid",e,t)}}},viewportBounds:{get:function(){return this.Rw}},viewSize:{get:function(){return this.wo},set:function(t){var e=this.viewSize;e.D(t)||(this.wo=t=t.J(),this.ya=this.Aa=0,t.w()?(this.Aa=t.width,this.ya=t.height):null!==this.Ka&&(this.Aa=this.Ka.clientWidth||1,this.ya=this.Ka.clientHeight||1),Oo(this),this.Ya(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.ut},set:function(t){var e=this.ut;e.D(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||q("fixedBounds width/height must not be Infinity"),this.ut=t=t.J(),this.Ya(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.rj},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.rj;e.D(t)||(this.rj=t=t.J(),this.g("scrollMargin",e,t),this.hk())}},scrollMode:{get:function(){return this.sj},set:function(t){var e=this.sj;e!==t&&(this.sj=t,t===Zr&&Nn(this,!1),this.g("scrollMode",e,t),this.Ee=!0,this.N())}},scrollsPageOnFocus:{get:function(){return this.nu},set:function(t){var e=this.nu;e!==t&&(this.nu=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Zt},set:function(t){var e=this.Zt;e!==t&&(this.Zt=t,Nn(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.fu},set:function(t){var e=this.fu;e!==t&&(this.fu=t,$0(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Sp}},isVirtualized:{get:function(){return this.It},set:function(t){var e=this.It;e!==t&&(this.It=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Ca},set:function(t){var e=this.Ca;e!==t&&$0(this,e,t)}},defaultScale:{get:function(){return this.Pp},set:function(t){this.Pp=t}},autoScale:{get:function(){return this.yh},set:function(t){var e=this.yh;e!==t&&(this.yh=t,this.g("autoScale",e,t),t!==Ei&&Nn(this,!1))}},initialAutoScale:{get:function(){return this.Fg},set:function(t){var e=this.Fg;e!==t&&(this.Fg=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.Bt},set:function(t){var e=this.Bt;e!==t&&(t.sb()||q("initialViewportSpot must be a specific Spot: "+t),this.Bt=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.yt},set:function(t){var e=this.yt;e!==t&&(t.sb()||q("initialViewportSpot must be a specific Spot: "+t),this.yt=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.Ot},set:function(t){var e=this.Ot;e!==t&&(0<t?(this.Ot=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):Jt(t,"> 0",I,"minScale"))}},maxScale:{get:function(){return this.Mt},set:function(t){var e=this.Mt;e!==t&&(0<t?(this.Mt=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):Jt(t,"> 0",I,"maxScale"))}},zoomPoint:{get:function(){return this.zu},set:function(t){this.zu.D(t)||(this.zu=t=t.J())}},contentAlignment:{get:function(){return this.zk},set:function(t){var e=this.zk;e.D(t)||(this.zk=t=t.J(),this.g("contentAlignment",e,t),Nn(this,!1))}},initialContentAlignment:{get:function(){return this.pq},set:function(t){var e=this.pq;e.D(t)||(this.pq=t=t.J(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.yb},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.yb;e.D(t)||(this.yb=t=t.J(),this.Ya(),this.g("padding",e,t))}},partManager:{get:function(){return this.Pc},set:function(t){var e=this.Pc;e!==t&&(null!==t.diagram&&q("Cannot share PartManagers between Diagrams: "+t.toString()),e&&e.Xe(null),this.Pc=t,t.Xe(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Sc},set:function(t){var e=this.Sc;e!==t&&(this.Sc=t,t.diagram=this,t.group=null,this.xh=!0,this.g("layout",e,t),this.$b())}},isTreePathToChildren:{get:function(){return this.Ht},set:function(t){var e=this.Ht;if(e!==t&&(this.Ht=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)Cu(t.value)}},treeCollapsePolicy:{get:function(){return this.uu},set:function(t){var e=this.uu;e!==t&&(t!==ds&&t!==Bc&&t!==Qc&&q("Unknown Diagram.treeCollapsePolicy: "+t),this.uu=t,this.g("treeCollapsePolicy",e,t))}},Ue:{get:function(){return this.pw},set:function(t){this.pw=t}},avoidanceCellSize:{get:function(){return this.aw},set:function(t){this.Xh=null,this.aw=new ot(Math.max(1,t.width),Math.max(1,t.height))}},avoidanceLimit:{get:function(){return this.bw},set:function(t){this.bw=Math.max(1,t)}},autoScrollInterval:{get:function(){return this.vp},set:function(t){var e=this.vp;e!==t&&(this.vp=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.xp},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.xp;e.D(t)||(this.xp=t=t.J(),this.Ya(),this.g("autoScrollRegion",e,t))}}}),pt.Object.defineProperties(I,{licenseKey:{get:function(){return Gc.jc()},set:function(t){Gc.add(t.replace(/\s/g,""))}},version:{get:function(){return z_}}}),I.prototype.makeImageData=I.prototype.Jx,I.prototype.makeImage=I.prototype.Wz,I.prototype.cacheGroupExternalLinks=I.prototype.Fu,I.prototype.addRenderer=I.prototype.bs,I.prototype.makeSVG=I.prototype.av,I.prototype.makeSvg=I.prototype.Cs,I.prototype.stopAutoScroll=I.prototype.ug,I.prototype.doAutoScroll=I.prototype.gs,I.prototype.isUnoccupied=I.prototype.Yj,I.prototype.raiseDiagramEvent=I.prototype.R,I.prototype.removeDiagramListener=I.prototype.am,I.prototype.addDiagramListener=I.prototype.Bj,I.prototype.findTreeRoots=I.prototype.yz,I.prototype.layoutDiagram=I.prototype.Uz,I.prototype.findTopLevelGroups=I.prototype.qz,I.prototype.findTopLevelNodesAndLinks=I.prototype.rz,I.prototype.ensureBounds=I.prototype.Va,I.prototype.findLinksByExample=I.prototype.ls,I.prototype.findNodesByExample=I.prototype.ms,I.prototype.findLinkForData=I.prototype.Kc,I.prototype.findNodeForData=I.prototype.ii,I.prototype.findPartForData=I.prototype.Lc,I.prototype.findLinkForKey=I.prototype.findLinkForKey,I.prototype.findNodeForKey=I.prototype.Vb,I.prototype.findPartForKey=I.prototype.findPartForKey,I.prototype.rebuildParts=I.prototype.Wd,I.prototype.transformViewToDoc=I.prototype.Ps,I.prototype.transformRectDocToView=I.prototype.zA,I.prototype.transformDocToView=I.prototype.op,I.prototype.centerRect=I.prototype.es,I.prototype.scrollToRect=I.prototype.tv,I.prototype.scroll=I.prototype.scroll,I.prototype.highlightCollection=I.prototype.Jz,I.prototype.highlight=I.prototype.Iz,I.prototype.selectCollection=I.prototype.rA,I.prototype.select=I.prototype.select,I.prototype.updateAllRelationshipsFromData=I.prototype.rp,I.prototype.updateAllTargetBindings=I.prototype.updateAllTargetBindings,I.prototype.commit=I.prototype.commit,I.prototype.rollbackTransaction=I.prototype.Kf,I.prototype.commitTransaction=I.prototype.eb,I.prototype.startTransaction=I.prototype.Ea,I.prototype.raiseChanged=I.prototype.g,I.prototype.raiseChangedEvent=I.prototype.cb,I.prototype.removeChangedListener=I.prototype.ik,I.prototype.addChangedListener=I.prototype.Pe,I.prototype.removeModelChangedListener=I.prototype.mA,I.prototype.addModelChangedListener=I.prototype.Yw,I.prototype.findLayer=I.prototype.Qj,I.prototype.removeLayer=I.prototype.kA,I.prototype.addLayerAfter=I.prototype.Cy,I.prototype.addLayerBefore=I.prototype.Ww,I.prototype.addLayer=I.prototype.Al,I.prototype.moveParts=I.prototype.moveParts,I.prototype.copyParts=I.prototype.Kj,I.prototype.removeParts=I.prototype.Is,I.prototype.remove=I.prototype.remove,I.prototype.add=I.prototype.add,I.prototype.clearDelayedGeometries=I.prototype.bx,I.prototype.setProperties=I.prototype.nm,I.prototype.attach=I.prototype.Du,I.prototype.set=I.prototype.set,I.prototype.resetInputOptions=I.prototype.Sx,I.prototype.setInputOption=I.prototype.sA,I.prototype.getInputOption=I.prototype.Ql,I.prototype.resetRenderingHints=I.prototype.Tx,I.prototype.setRenderingHint=I.prototype.Xx,I.prototype.getRenderingHint=I.prototype.Gf,I.prototype.maybeUpdate=I.prototype.bd,I.prototype.requestUpdate=I.prototype.$b,I.prototype.delayInitialization=I.prototype.Xy,I.prototype.isUpdateRequested=I.prototype.Pz,I.prototype.invalidateDocumentBounds=I.prototype.Ya,I.prototype.findObjectsNear=I.prototype.og,I.prototype.findPartsNear=I.prototype.mz,I.prototype.findObjectsIn=I.prototype.Cf,I.prototype.findPartsIn=I.prototype.ux,I.prototype.findObjectsAt=I.prototype.ji,I.prototype.findPartsAt=I.prototype.lz,I.prototype.findObjectAt=I.prototype.ic,I.prototype.findPartAt=I.prototype.Ol,I.prototype.focusObject=I.prototype.zz,I.prototype.alignDocument=I.prototype.Jy,I.prototype.zoomToRect=I.prototype.BA,I.prototype.zoomToFit=I.prototype.zoomToFit,I.prototype.diagramScroll=I.prototype.kx,I.prototype.focus=I.prototype.focus;var ba=new lt,hg=null,gn=void 0!==nt.document,nl=null,lu="",Ei=new Q(I,"None",0),ol=new Q(I,"Uniform",1),qa=new Q(I,"UniformToFill",2),Rc=new Q(I,"CycleAll",10),pg=new Q(I,"CycleNotDirected",11),cg=new Q(I,"CycleNotDirectedFast",12),dg=new Q(I,"CycleNotUndirected",13),fg=new Q(I,"CycleDestinationTree",14),gg=new Q(I,"CycleSourceTree",15),Zr=new Q(I,"DocumentScroll",1),Ec=new Q(I,"InfiniteScroll",2),ds=new Q(I,"TreeParentCollapsed",21),Bc=new Q(I,"AllParentsCollapsed",22),Qc=new Q(I,"AnyParentsCollapsed",23),Gc=new H,z_="2.3.10",rl="image",mg=null,_g=!1;function vg(){this.wy=null,this.j="zz@orderNum",this.Rc="63ad05bbe23a1786468a4c741b6d2"===this._tk?this.j=!0:null}function sl(t,e){if(e.ib.setTransform(e.Mb,0,0,e.Mb,0,0),e.ib.yc(),null===t.Rc)t:{e="f";var n=nt[Dt("76a715b2f73f148a")][Dt("72ba13b5")]||"";if(t.Rc=!0,gn){var o=I[Dt("76a115b6ed251eaf4692")];if(o)for(var r=Gc.iterator;r.next()&&!(6>(o=Dt(o=r.value).split(Dt("39e9"))).length);){var s=Dt(o[1]).split(".");if("7da71ca0"!==o[4])break;var l=Dt(ts[Dt("6cae19")]).split(".");if(s[0]>l[0]||s[0]===l[0]&&s[1]>=l[1]){var a=nt[Dt("74a900bae4370f8b51")][Dt("6fbb13a1c2311e8a57")].toLowerCase();if(l=a[Dt("73a612b6fb191d")](Dt("3aad1ab6e022098b4dc4")),s=Dt(o[2]),-1<l&&(a=a[Dt("73a612b6fb191d")](s.toLowerCase()+"/"),t.Rc=!(-1<a&&a<l),!t.Rc))break;for(l=n[Dt("76ad18b4f73e")],a=n[Dt("73a612b6fb191d")](Dt("35e7"))+2;a<l;a++)e+=n[a];if(0>(l=e[Dt("73a612b6fb191d")](s))&&s!==Dt("7da71ca0ad381e90")&&(l=e[Dt("73a612b6fb191d")](Dt("76a715b2ef3e149757"))),0>l&&(l=e[Dt("73a612b6fb191d")](Dt("76a715b2ef3e149757"))),0>l&&(l=e[Dt("73a612b6fb191d")](Dt("2bfa41fdb3784bca12"))),0>l&&(l=n[Dt("73a612b6fb191d")](Dt("7baa19a6f76c1988428554"))),t.Rc=!(0<=l&&l<e[Dt("73a612b6fb191d")](Dt("35"))||-1===e[Dt("73a612b6fb191d")](Dt("35"))),!t.Rc||n[Dt("73a612b6fb191d")](Dt("7fb002b6ed25128b4da25b2e"))&&(t.Rc=!(-1<n[Dt("73a612b6fb191d")](s)),!t.Rc)||-1<(a=(l=nt[Dt("76a715b2f73f148a")][Dt("69ad17a1e03e")])[Dt("73a612b6fb191d")](Dt("7fb002b6ed25128b4da25b2e")))&&(t.Rc=!(l[Dt("73a612b6fb191d")](s)>a),!t.Rc))break;if("#"===s[0]){l=nt.document.createElement("div");for(var p=o[0].replace(/[A-Za-z]/g,"");4>p.length;)p+="9";if(a=p,p=p.substr(p.length-4),o="",o+=["gsh","gsf"][parseInt(p.substr(0,1),10)%2],o+=["Header","Background","Display","Feedback"][parseInt(p.substr(0,1),10)%4],l[Dt("79a417a0f0181a8946")]=o,nt.document[Dt("78a712aa")]){nt.document[Dt("78a712aa")][Dt("7bb806b6ed32388c4a875b")](l),p=nt.getComputedStyle(l).getPropertyValue(Dt("78a704b7e62456904c9b12701b6532a8"));var d=nt.getComputedStyle(l).getPropertyValue(Dt("75b817b0ea2202"));if(nt.document[Dt("78a712aa")][Dt("68ad1bbcf533388c4a875b")](l),p){if(l=nt[Dt("77a902b0eb1b1e804a8a")],d==="0."+parseInt(a,10)%100||-1!==p.indexOf(parseInt(s[1]+s[2],16))&&-1!==p.indexOf(parseInt(s[3]+s[4],16))){t.Rc=!1;break}if(l&&l(Dt("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(o="."+o,s=0;s<document.styleSheets.length;s++)for(var f in l=document.styleSheets[s].rules||document.styleSheets[s].cssRules)if(o===l[f].selectorText){t.Rc=!1;break t}}}else t.Rc=null,t.Rc=!1}}}else{for(f=n[Dt("76ad18b4f73e")],r=n[Dt("73a612b6fb191d")](Dt("35e7"))+2;r<f;r++)e+=n[r];n=e[Dt("73a612b6fb191d")](Dt("7da71ca0ad381e90")),t.Rc=!(0<=n&&n<e[Dt("73a612b6fb191d")](Dt("35")))}}}return 0<t.Rc&&t!==t.wy}function or(t){this.j=void 0===t?new w:t,this.o=new w}I.className="Diagram",I.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=nt.document.getElementById(t)),e instanceof HTMLDivElement&&e.H instanceof I?e.H:null},I.inherit=function(t,e){function n(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},I.useDOM=function(t){gn=!!t&&void 0!==nt.document},I.isUsingDOM=function(){return gn},I.None=Ei,I.Uniform=ol,I.UniformToFill=qa,I.CycleAll=Rc,I.CycleNotDirected=pg,I.CycleNotDirectedFast=cg,I.CycleNotUndirected=dg,I.CycleDestinationTree=fg,I.CycleSourceTree=gg,I.DocumentScroll=Zr,I.InfiniteScroll=Ec,I.TreeParentCollapsed=ds,I.AllParentsCollapsed=Bc,I.AnyParentsCollapsed=Qc,vg.className="DiagramHelper",pt.Object.defineProperties(or.prototype,{point:{get:function(){return this.j},set:function(t){this.j=t}},shifted:{get:function(){return this.o},set:function(t){this.o=t}}});var oe,te,En,Ue,be,mn,au,hu,pu,cu,yg="DraggingInfo";function xg(t,e,n){this.node=t,this.info=e,this.Su=n}function ll(){this.reset()}function Ya(t,e){if("string"==typeof t||nt.Element&&t instanceof Element)var n=I.call(this,t)||this;else n=I.call(this)||this,e=t;return Pg(n),e&&n.nm(e),n}function Pg(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=yo,t.layout=new we}function eo(t,e){if("string"==typeof t||nt.Element&&t instanceof Element)var n=I.call(this,t)||this;else n=I.call(this)||this,e=t;var o=n;n.animationManager.isEnabled=!1,n.vb=!0,n.V=null,n.mn=!1,n.nn=!1,n.F=!0,n.u=!0,n.ia=0,n.o=!1,n.ql=null,n.Xx("drawShadows",!1),t=new W;var r=new ut;return r.stroke="magenta",r.strokeWidth=2,r.fill="transparent",r.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(r),n.j=t,n.allowCopy=!1,n.allowDelete=!1,n.allowSelect=!0,n.autoScrollRegion=new St(0,0,0,0),n.pa.h(0,0),n.toolManager.gb("Dragging",new fs,n.toolManager.mouseMoveTools),n.click=function(){var s=o.observed;if(null!==s){var l=s.viewportBounds,a=o.lastInput.documentPoint;s.position=new w(a.x-l.width/2,a.y-l.height/2)}},n.Pf=function(){o.Ya(),uu(o)},n.Xd=function(){null!==o.observed&&(o.Ya(),o.N())},n.Ha=function(){1>o.updateDelay?o.N():o.o||(o.o=!0,setTimeout(function(){return o.redraw()},o.updateDelay))},n.Of=function(){null!==o.observed&&uu(o)},n.autoScale=ol,n.vb=!1,e&&Object.assign(n,e),n}function Dg(t){var e=t.observed;if(null!==e){var n=t.drawsTemporaryLayers,o=t.drawsGrid&&n,r=e.grid;o&&null!==r&&r.visible&&!isNaN(r.width)&&!isNaN(r.height)&&(Fo(e,r=U.alloc().assign(t.viewportBounds).ed(e.viewportBounds)),U.free(r),ti(e));var s=t.Ab;s.reset(),1!==t.scale&&s.scale(t.scale),0===t.position.x&&0===t.position.y||s.translate(-t.position.x,-t.position.y),(r=t.ib).scale(t.Mb,t.Mb),r.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),r.yc(),s=(e=e.Wa.s).length;for(var l=0;l<s;l++){var a=e[l],p=t;if(a.visible&&0!==a.opacity){var d=a.diagram.grid.part;if(!n&&a.isTemporary)o&&d.layer===a&&(a=iu(a,r),d.gc(r,p),r.globalAlpha=a);else{for(var f=iu(a,r),g=p.scale,m=U.alloc(),v=a.Pa.s,y=v.length,P=0;P<y;P++){var T=v[P];(o||T!==d)&&a.Oj(r,T,p,null,g,m,!1)}U.free(m),r.globalAlpha=f}}}}}function uu(t){var e=t.box;if(null!==e){var n=t.observed;if(null!==n){t.Fc=!0,n=n.viewportBounds;var o=e.selectionObject,r=ot.alloc();r.h(n.width,n.height),o.desiredSize=r,ot.free(r),t=2/t.scale,o instanceof ut&&(o.strokeWidth=t),e.location=new w(n.x-t/2,n.y-t/2),e.isSelected=!0}}}function fs(){zt.call(this),this.j=null}function jt(){ye(this),this.H=tl,this.Ha=this.u=this.o=!0,this.F=this.V=this.nb=this.ia=!1,this.ij=this.j=null,this.Hb=1.05,this.Jt=NaN,this.sw=null,this.Au=NaN,this.yu=_a,this.hb=!0,this.cg=null,this.ob=200}function gs(t,e,n){if(e.isVisible())return n;if(e instanceof mt)gs(t,e.adornedPart,n);else if(e instanceof L){var o=e.fromNode;null!==o&&gs(t,o,n),null!==(e=e.toNode)&&gs(t,e,n)}else e instanceof B&&(null!==(o=e.labeledLink)&&gs(t,o,n),null!==(o=e.pg())&&(o.isTreeExpanded||o.wasTreeExpanded||n.push(o),gs(t,o,n))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||n.push(e),gs(t,e,n));return n}function Hc(t){var e=bt();for(t=t.iterator;t.next();){var n=t.value;n instanceof L||e.push(n)}t=new E,n=e.length;for(var o=0;o<n;o++){for(var r=e[o],s=!0,l=0;l<n;l++)if(r.Td(e[l])){s=!1;break}s&&t.add(r)}return Nt(e),t}function X(){ye(this),this.l=30723,this.pb=1,this.bn="",this.Ma=this.Me=null,this.pa=new w(NaN,NaN).freeze(),this.jd=ga,this.Ab=new ct,this.wh=new ct,this.Lb=null,this.Ca=this.Kk=1,this.Kb=0,this.Kg=bs,this.uc=new U(NaN,NaN,NaN,NaN).freeze(),this.Ib=new U(NaN,NaN,NaN,NaN).freeze(),this.dc=new U(0,0,NaN,NaN).freeze(),this.ba=this.Yn=this.Zn=null,this.sk=this.Jb=Oe,this.Ag=this.io=0,this.V=this.tb=this.Dh=this.A=this.Ua=null,this.Uc=!1,this.jo=this.Ng=null}function me(t){null===t.A?t.A=new _s:t.A.nc&&(t.A=t.A.copy())}function jr(t,e,n){var o=t.ih();if(null!==o)for(var r=t.localBindings.iterator;r.next();){var s=r.value,l=null;if(null!==s.sourceName){if(null===(l=rm(s,o,t)))continue;s.sp(t,l,n,null)}else if(s.isToModel){var a=e.diagram;null===a||a.skipsModelSourceBindings||s.sp(t,a.model.modelData,n,o)}else{if(null===(a=o.data))continue;var p=e.diagram;null===p||p.skipsModelSourceBindings||s.sp(t,a,n,o)}l===t&&null!==(a=o.ks(s.Ai))&&s.Mv(a,l,n)}}function Sg(t,e,n,o){return!1!==t.pickable&&(o.multiply(t.transform),n?t.Yc(e,o):t.fh(e,o))}function Kc(t,e,n,o,r){if(t.Ib.h(e,n,o,r),!t.desiredSize.w()){var s=t.uc,l=(n=t.Kg).top+n.bottom;switch(n=s.width+(e=n.right+n.left),s=s.height+l,o+=e,r+=l,e=kn(t,!0),n===o&&s===r&&(e=te),e){case te:(n>o||s>r)&&(Bi(t,!0),t.measure(n>o?o:n,s>r?r:s,0,0));break;case oe:Bi(t,!0),t.measure(o,r,0,0);break;case Ue:Bi(t,!0),t.measure(o,s,0,0);break;case be:Bi(t,!0),t.measure(n,r,0,0)}}}function Ja(t,e){return null!==e&&(Yo(e)&&(e=e.panel),0!=(512&e.l)||(e.type===O.Auto||e.type===O.Spot)&&e.Pb()!==t)}function Vc(t,e,n,o){Mi(t,e,t.areaBackground,!0,!0,n,o),t.areaBackground instanceof Pt&&t.areaBackground.type===Gi?(e.beginPath(),e.rect(o.x,o.y,o.width,o.height),e.ng(t.areaBackground)):e.fillRect(o.x,o.y,o.width,o.height)}function Ra(t,e,n,o){var r=t.kq(),s=n.x,l=n.y,a=n.width+r,p=n.height+r;Mi(t,e,t.Ma,!0,!1,n,o),t.Ma instanceof Pt&&t.Ma.type===Gi?(e.beginPath(),e.rect(s-r/2,l-r/2,a,p),e.ng(t.Ma)):e.fillRect(s-r/2,l-r/2,a,p)}function Tg(t,e,n){for(var o=e.O.s,r=o.length,s=-1,l=0;l<r;l++)if(o[l]===t){s=l;break}if(-1!==(t=s))if(0===t)e.svg.gd?e.svg.gd.after(n):e.svg.Ma?e.svg.Ma.after(n):e.type===O.Table?null!==(e=0!==(e=e.svg.getElementsByClassName("gojs-ts")).length?e[0]:null)&&e.after(n):e.svg.prepend(n);else{for(;0!==t&&!e.M(t-1).Ed();)t--;0===t?e.svg.prepend(n):null!==(t=e.M(t-1).svg)?t.after(n):e.svg.appendChild(n)}}function Cg(t,e){null!==(e=e.getAttribute("clip-path"))&&null!==(t=t.svg.getElementById(e.split("#")[1].slice(0,-1)))&&t.remove()}function zc(t){if(null!==t.svg){var e=t.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),n=t.svg.ownerDocument;if(null!==e)for(var o=(e=mi(e)).next();!o.done;o=e.next())null!==(o=n.getElementById(o.value.split("#")[1].slice(0,-1)))&&o.remove();t.svg.remove()}}function Mi(t,e,n,o,r,s,l){if(null!==n){var a=1,p=1;if("string"==typeof n)o?e.fillStyle=n:e.strokeStyle=n;else if(n.type===qo)o?e.fillStyle=n.color:e.strokeStyle=n.color;else{var d=t.kq();if(a=s.width,p=s.height,r?(a=l.width,p=l.height):o||(a+=d,p+=d),(s=e instanceof Ur)&&n.xe&&(n.type===ml||n.yk===a&&n.ft===p))var f=n.xe;else{var g=0,m=0,v=0,y=0,P=0,T=0;if(T=P=0,r?(P=l.x,T=l.y):o||(P-=d/2,T-=d/2),g=n.start.x*a+n.start.offsetX,m=n.start.y*p+n.start.offsetY,v=n.end.x*a+n.end.offsetX,y=n.end.y*p+n.end.offsetY,g+=P,v+=P,m+=T,y+=T,n.type===To)f=e.createLinearGradient(g,m,v,y);else if(n.type===Gi)T=isNaN(n.endRadius)?Math.max(a,p)/2:n.endRadius,isNaN(n.startRadius)?(P=0,T=Math.max(a,p)/2):P=n.startRadius,f=e.createRadialGradient(g,m,P,v,y,T);else if(n.type===ml)try{f=e.createPattern(n.pattern,"repeat")}catch{f=null}if(n.type!==ml&&null!==(r=n.colorStops))for(r=r.iterator;r.next();)f.addColorStop(r.key,r.value);if(s&&(n.xe=f,null!==f&&(n.yk=a,n.ft=p),null===f&&n.type===ml&&-1!==n.yk)){n.yk=-1;var S=t.diagram;null!==S&&-1===n.yk&&Tr(function(){S.redraw()},600)}}o?e.fillStyle=f:e.strokeStyle=f}}}function Ea(t){if(2048&t.l){var e=t.Ab;if(e.reset(),!t.Ib.w()||!t.uc.w())return void al(t,!1);if(e.translate(t.Ib.x-t.uc.x,t.Ib.y-t.uc.y),1!==t.scale||0!==t.angle){var n=t.naturalBounds;t.no(e,n.x,n.y,n.width,n.height)}al(t,!1),rr(t,!0)}4096&t.l&&(null===(e=t.panel)?(t.wh.set(t.Ab),t.Kk=t.scale,rr(t,!1)):null!==e.oe&&((n=t.wh).reset(),e.se()?n.multiply(e.wh):null!==e.panel&&n.multiply(e.panel.wh),n.multiply(t.Ab),t.Kk=t.scale*e.Kk,rr(t,!1)))}function ul(t){if(!_n(t)){var e=t.panel;null!==e?e.v():t.Dd()&&null!==(e=t.diagram)&&(e.De.add(t),t instanceof B&&t.Bd(),e.$b()),Nr(t,!0)}}function kn(t,e){var n=t.stretch,o=t.panel;return null!==o&&o.type===O.Table?du(t,o.Fb(t.row),o.Eb(t.column),e):null!==o&&o.type===O.Auto&&o.Pb()===t?Po(t,oe,e):n===mn?null!==o?o.type===O.Spot&&o.Pb()===t?Po(t,oe,e):Po(t,(n=o.defaultStretch)===mn?te:n,e):Po(t,te,e):Po(t,n,e)}function du(t,e,n,o){var r=t.stretch;if(r!==mn)return Po(t,r,o);var s=r=null;switch(e.stretch){case be:case oe:s=!0}switch(n.stretch){case Ue:case oe:r=!0}return e=t.panel.defaultStretch,null===r&&(r=e===Ue||e===oe),null===s&&(s=e===be||e===oe),Po(t,!0===r&&!0===s?oe:!0===r?Ue:!0===s?be:te,o)}function Po(t,e,n){if(n)return e;if(e===te||(n=t.desiredSize).w())return te;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===Ue)return te;if(e===oe)return be}else{if(e===be)return te;if(e===oe)return Ue}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===be)return te;if(e===oe)return Ue}else{if(e===Ue)return te;if(e===oe)return be}return e}function Ba(t,e){t.l=e?512|t.l:-513&t.l}function ms(t){return 0!=(1024&t.l)}function Xc(t,e){t.l=e?1024|t.l:-1025&t.l}function al(t,e){t.l=e?2048|t.l:-2049&t.l}function rr(t,e){t.l=e?4096|t.l:-4097&t.l}function Lo(t){return 0!=(8192&t.l)}function Bi(t,e){t.l=e?8192|t.l:-8193&t.l}function _n(t){return 0!=(16384&t.l)}function Nr(t,e){t.l=e?16384|t.l:-16385&t.l}function kr(t){var e=t.part;if(e instanceof B&&(null!==t.portId||t===e.port)){var n=e.diagram;null===n||n.undoManager.isUndoingRedoing||D1(e,t)}}function wg(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof O?t instanceof B?t.Bd():t.qm(t,function(n){kr(n)}):kr(t))}function Qi(t,e){for(var n=1;n<arguments.length;++n);n=arguments;var o=null,r=null;if("function"==typeof t)r=t;else if("string"==typeof t){var s=hl.I(t);"function"==typeof s?Et(o=s(n=Os(arguments)))||q('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):r=nt.go[t]}if(null===o&&(null!=r&&r.constructor||q("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),o=new r),r=1,o instanceof I&&1<n.length){s=o;var l=n[1];("string"==typeof l||l instanceof HTMLDivElement)&&(Pc(s,l),r++)}for(;r<n.length;r++)void 0===(s=n[r])?q("Undefined value at argument "+r+" for object being constructed by GraphObject.make: "+o):Wc(o,s);return o}function Wc(t,e){if("string"==typeof e)if(t instanceof kt)t.text=e;else if(t instanceof ut)t.figure=e;else if(t instanceof hi)t.source=e;else if(t instanceof O)null!==(e=vn.I(e))&&(t.type=e);else if(t instanceof Pt){var n=ns(Pt,e);null!==n?t.type=n:q("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof Y?null!==(e=ns(Y,e))&&(t.type=e):t instanceof xt&&null!==(e=ns(xt,e))&&(t.type=e);else if(e instanceof X)t instanceof O||q("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof le){var o;e.isRow&&"function"==typeof t.getRowDefinition?o=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(o=t.getColumnDefinition(e.index)),o instanceof le?ah(o,e):q("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof Q)"function"==typeof t.qb&&t.qb(e);else if(e instanceof de)t.type=e;else if(e instanceof re)t instanceof X||t instanceof le?t.bind(e):q("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof to)t instanceof X?t.Jv(e):q("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof Ce)t instanceof Y&&t.type===Y.o?t.figures.add(e):q("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(e instanceof xt)t instanceof Ce?t.segments.add(e):q("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Yt)t instanceof I||t instanceof rt?t.layout=e:q("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(n=0;n<e.length;n++)Wc(t,e[n]);else if("object"==typeof e&&null!==e)if(t instanceof Pt){for(var r in n=new en,e)o=parseFloat(r),isNaN(o)?n[r]=e[r]:t.addColorStop(o,e[r]);ru(t,n)}else if(t instanceof le){for(n in void 0!==e.row?((null==(r=e.row)||r===1/0||isNaN(r)||0>r)&&q("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+r),t.isRow=!0,t.index=r):void 0!==e.column&&((null==(r=e.column)||r===1/0||isNaN(r)||0>r)&&q("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+r),t.isRow=!1,t.index=r),r=new en,e)"row"!==n&&"column"!==n&&(r[n]=e[n]);ru(t,r)}else ru(t,e);else q('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function bo(t,e){hl.add(t,e)}function Qa(t,e,n){void 0===n&&(n=null);var o=t[1];if("function"==typeof n?n(o):"string"==typeof o)return t.splice(1,1),o;if(void 0===e)throw Error("no "+("function"==typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}or.className="DraggingInfo",xg.className="DraggingNodeInfoPair",ll.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new ot(NaN,NaN).freeze(),this.gridSnapCellSpot=Ee,this.gridSnapOrigin=new w(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},ll.className="DraggingOptions",At(Ya,I),Ya.prototype.reset=function(){I.prototype.reset.call(this),Pg(this)},Ya.className="Palette",At(eo,I),eo.prototype.computePixelRatio=function(){return 1},eo.prototype.redraw=function(){if(this.o&&1<=this.updateDelay){this.o=!1;var t=this.ta,e=this.ib;if(null!==t&&null!==e){if(il(this),null===this.ql){var n=new un(null);n.width=t.width,n.height=t.height,this.ql=n}try{this.ta=this.ql,this.ib=this.ta.context,this.ib.Vc(!0),this.ib.setTransform(1,0,0,1,0,0),this.ib.clearRect(0,0,this.ta.width,this.ta.height),Dg(this)}finally{this.ta=t,this.ib=e}}}I.prototype.redraw.call(this)},eo.prototype.gc=function(){if(null===this.Ka&&q("No div specified"),null===this.ta&&q("No canvas specified"),!(this.ta instanceof Bn)&&(Nd(this.box),this.Fc)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pi){il(this);var e=this.ta;(t=this.ib).Vc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Dg(this):null!==this.ql&&(t.drawImage(this.ql.Oa,0,0),(e=this.Ab).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Mb,this.Mb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.yc());for(var n=(e=this.Wa.s).length,o=0;o<n;o++)e[o].gc(t,this);this.Fc=this.vd=!1}}},eo.prototype.computeBounds=function(){var t=this.observed;if(null===t)return _a;var e=t.documentBounds.copy();return e.ed(t.viewportBounds),e},eo.prototype.invalidateViewport=function(){!0!==this.Fc&&(this.Fc=!0,this.$b())},eo.prototype.onViewportBoundsChanged=function(t,e,n,o){this.vb||(this.vd=!0,this.N(),this.Ee=!0,this.Ya(),uu(this),this.fc.scale=n,this.fc.position.x=t.x,this.fc.position.y=t.y,this.fc.bounds.assign(t),this.fc.Oz=o,this.R("ViewportBoundsChanged",this.fc,t))},pt.Object.defineProperties(eo.prototype,{observed:{get:function(){return this.V},set:function(t){var e=this.V;if(t instanceof eo&&q("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.am("ViewportBoundsChanged",this.Pf),e.am("DocumentBoundsChanged",this.Xd),e.am("InvalidateDraw",this.Ha),e.am("AnimationFinished",this.Of)),this.V=t,null!==t&&(t.Bj("ViewportBoundsChanged",this.Pf),t.Bj("DocumentBoundsChanged",this.Xd),t.Bj("InvalidateDraw",this.Ha),t.Bj("AnimationFinished",this.Of),this.add(this.box)),this.Ya(),null===t){this.ql=null;var n=this.ta,o=this.ib;n&&o&&(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,n.width,n.height))}else this.Ha(null),uu(this),this.N();this.g("observed",e,t)}}},box:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.remove(e),this.add(this.j),uu(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.redraw())}},updateDelay:{get:function(){return this.ia},set:function(t){0>t&&(t=0),this.ia!==t&&(this.ia=t)}}}),eo.className="Overview",At(fs,zt),fs.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var n=t.lastInput;return!(!n.left||t.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-t.firstInput.timestamp<this.delay)||(null===this.findDraggablePart()&&(this.j=new w((n=e.viewportBounds).width/2,n.height/2),e.position=new w((t=t.firstInput.documentPoint).x-this.j.x,t.y-this.j.y)),0))},fs.prototype.doActivate=function(){this.j=null,zt.prototype.doActivate.call(this)},fs.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},fs.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var n=t.box;if(null!==n){if(null===this.j){var o=t.firstInput.documentPoint;this.j=new w(o.x-(n=n.location).x,o.y-n.y)}e.position=new w((t=t.lastInput.documentPoint).x-this.j.x,t.y-this.j.y)}}},fs.className="OverviewDraggingTool",jt.prototype.toString=function(){return"CommandHandler"},jt.prototype.Xe=function(t){this.H=t},jt.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,n=No?e.meta:e.control,o=e.shift,r=e.alt,s=e.key;!n||"C"!==s&&"Insert"!==s?n&&"X"===s||o&&"Del"===s?this.canCutSelection()&&this.cutSelection():n&&"V"===s||o&&"Insert"===s?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===s||r&&o&&"Backspace"===s?this.canRedo()&&this.redo():n&&"Z"===s||r&&"Backspace"===s?this.canUndo()&&this.undo():"Del"===s||"Backspace"===s?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===s?this.canSelectAll()&&this.selectAll():"Esc"===s?this.canStopCommand()&&this.stopCommand():"Up"===s?t.allowVerticalScroll&&t.scroll(n?"pixel":"line","up"):"Down"===s?t.allowVerticalScroll&&t.scroll(n?"pixel":"line","down"):"Left"===s?t.allowHorizontalScroll&&t.scroll(n?"pixel":"line","left"):"Right"===s?t.allowHorizontalScroll&&t.scroll(n?"pixel":"line","right"):"PageUp"===s?o&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===s?o&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===s?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===s?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===s?this.canScrollToPart()&&this.scrollToPart():"Subtract"===s?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===s?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===s?this.canResetZoom()&&this.resetZoom():o&&"Z"===s?this.canZoomToFit()&&this.zoomToFit():n&&!o&&"G"===s?this.canGroupSelection()&&this.groupSelection():n&&o&&"G"===s?this.canUngroupSelection()&&this.ungroupSelection():"F2"===s||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===s||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},jt.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},jt.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof Vt&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},jt.prototype.canStopCommand=function(){return!0},jt.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var n=t.nodes;n.next();)n.value.isSelected=!0;for(var o=t.links;o.next();)o.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},jt.prototype.canSelectAll=function(){return this.diagram.allowSelect},jt.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new E,n=t.selection.iterator;n.next();)ar(e,n.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(o){return o.canDelete()});t.Is(e,!0),t.R("SelectionDeleted",e)}finally{t.eb("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},jt.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},jt.prototype.copySelection=function(){var t=this.diagram,e=new E;for(t=t.selection.iterator;t.next();)ar(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(n){return n.canCopy()});this.copyToClipboard(e)},jt.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},jt.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},jt.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},jt.prototype.copyToClipboard=function(t){var e=this.diagram,n=null;if(null===t)nl=null,lu="";else{n=e.model;var o=!1,r=!1,s=null;try{n.Tl()&&(o=n.Jj,n.Jj=this.copiesParentKey),n.Wj()&&(r=n.Ij,n.Ij=this.copiesGroupKey),s=e.Kj(t,null,!0)}finally{n.Tl()&&(n.Jj=o),n.Wj()&&(n.Ij=r),(n=new H).addAll(s),nl=n,lu=e.model.dataFormat}}e.R("ClipboardChanged",n)},jt.prototype.pasteFromClipboard=function(){var t=new E,e=nl;if(null===e)return t;var n=this.diagram;if(lu!==n.model.dataFormat)return t;var o=n.model,r=!1,s=!1,l=null;try{o.Tl()&&(r=o.Jj,o.Jj=this.copiesParentKey),o.Wj()&&(s=o.Ij,o.Ij=this.copiesGroupKey),l=n.Kj(e,n,!1)}finally{for(o.Tl()&&(o.Jj=r),o.Wj()&&(o.Ij=s),e=l.iterator;e.next();)o=e.key,(n=e.value).location.w()||(o.location.w()?n.location=o.location:!n.position.w()&&o.position.w()&&(n.position=o.position)),t.add(n)}return t},jt.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Paste");var n=this.pasteFromClipboard();0<n.count&&e.clearSelection(!0);for(var o=n.iterator;o.next();)o.value.isSelected=!0;if(null!==t){var r=e.computePartsBounds(e.selection);r.w()&&jc(e,this.computeEffectiveCollection(e.selection,e.Wm),new w(t.x-r.centerX,t.y-r.centerY),e.Wm,!1)}e.R("ClipboardPasted",n)}finally{e.eb("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},jt.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===nl||0===nl.count||lu!==t.model.dataFormat)},jt.prototype.undo=function(){this.diagram.undoManager.undo()},jt.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canUndo()},jt.prototype.redo=function(){this.diagram.undoManager.redo()},jt.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canRedo()},jt.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Ei&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},jt.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Ei&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},jt.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Ei&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},jt.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Ei&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},jt.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},jt.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},jt.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Cc(),t.redraw();var n=t.position,o=t.scale;ko(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&o===this.Au&&!isNaN(this.Jt)&&t.documentBounds.D(this.yu)?(t.scale=this.Jt,t.position=this.sw,this.Au=NaN,this.yu=_a):(this.Jt=o,this.sw=n.copy(),t.zoomToFit(),this.Au=t.scale,this.yu=t.documentBounds.copy()),_c(e)},jt.prototype.canZoomToFit=function(){return this.diagram.allowZoom},jt.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Va(),null===t){try{null!==this.cg&&(this.cg.next()?t=this.cg.value:this.cg=null)}catch{this.cg=null}null===t&&(0<e.highlighteds.count?this.cg=e.highlighteds.iterator:0<e.selection.count&&(this.cg=e.selection.iterator),null!==this.cg&&this.cg.next()&&(t=this.cg.value))}if(null!==t){var n=e.animationManager;ko(n,"Scroll To Part");var o=this.scrollToPartPause;if(0<o){var r=gs(this,t,[t]);if(1===r.length)e.Ea(),e.es(t.actualBounds),e.eb("Scroll To Part");else{var s=function(){e.Ea();for(var p=r.pop();0<r.length&&p instanceof B&&p.isTreeExpanded&&(!(p instanceof rt)||p.isSubGraphExpanded);)p=r.pop();0<r.length?(p instanceof W&&e.tv(p.actualBounds),p instanceof B&&!p.isTreeExpanded&&(p.isTreeExpanded=!0),p instanceof rt&&!p.isSubGraphExpanded&&(p.isSubGraphExpanded=!0)):(p instanceof W&&e.es(p.actualBounds),e.am("LayoutCompleted",l)),e.eb("Scroll To Part")},l=function(){Tr(s,(n.isEnabled?n.duration:0)+o)};e.Bj("LayoutCompleted",l),s()}}else{var a=e.position.copy();e.es(t.actualBounds),a.Xa(e.position)&&n.Cc()}}},jt.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof W)&&(0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&t.allowHorizontalScroll&&t.allowVerticalScroll},jt.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Collapse Tree"),ko(e.animationManager,"Collapse Tree");var n=new H;if(null!==t&&t.isTreeExpanded)t.collapseTree(),n.add(t);else if(null===t)for(var o=e.selection.iterator;o.next();){var r=o.value;r instanceof B&&r.isTreeExpanded&&(r.collapseTree(),n.add(r))}e.R("TreeCollapsed",n)}finally{e.eb("Collapse Tree")}},jt.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof B&&t.isTreeExpanded))return!1;if(0<t.Qo().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof B&&e.isTreeExpanded&&0<e.Qo().count)return!0;return!1},jt.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Expand Tree"),ko(e.animationManager,"Expand Tree");var n=new H;if(null===t||t.isTreeExpanded){if(null===t)for(var o=e.selection.iterator;o.next();){var r=o.value;r instanceof B&&!r.isTreeExpanded&&(r.expandTree(),n.add(r))}}else t.expandTree(),n.add(t);e.R("TreeExpanded",n)}finally{e.eb("Expand Tree")}},jt.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof B)||t.isTreeExpanded)return!1;if(0<t.Qo().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof B&&!e.isTreeExpanded&&0<e.Qo().count)return!0;return!1},jt.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Xj()){var n=this.archetypeGroupData;if(null!==n){var o=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Group");for(var r=new H,s=t.selection.iterator;s.next();){var l=s.value;l.Zc()&&l.canGroup()&&r.add(l)}for(var a=new H,p=r.iterator;p.next();){var d=p.value;s=!1;for(var f=r.iterator;f.next();)if(d.Td(f.value)){s=!0;break}s||a.add(d)}if(0<a.count){var g=a.first().containingGroup;if(null!==g)for(;null!==g;){r=!1;for(var m=a.iterator;m.next();)if(!m.value.Td(g)){r=!0;break}if(!r)break;g=g.containingGroup}if(n instanceof rt)an(n),null!==(o=n.copy())&&t.add(o);else if(e.Yu(n)){var v=e.copyNodeData(n);Et(v)&&(e.xf(v),o=t.ii(v))}if(null!==o){null!==g&&this.isValidMember(g,o)&&(o.containingGroup=g);for(var y=a.iterator;y.next();){var P=y.value;this.isValidMember(o,P)&&(P.containingGroup=o)}t.clearSelection(!0),o.isSelected=!0}}t.R("SelectionGrouped",o)}finally{t.eb("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},jt.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Xj()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Zc()&&e.canGroup())return!0}return!1},jt.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof L)return!1;if(null!==t){if(t===e||t.Td(e))return!1;var n=t.memberValidation;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.memberValidation)||n(t,e)},jt.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.model;if(n.Xj())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Ungroup");var o=new H;if(null!==t)o.add(t);else for(var r=e.selection.iterator;r.next();){var s=r.value;s instanceof rt&&s.canUngroup()&&o.add(s)}var l=new H;if(0<o.count){e.clearSelection(!0);for(var a=o.iterator;a.next();){var p=a.value;p.expandSubGraph();var d=p.containingGroup,f=null!==d&&null!==d.data?n.wa(d.data):void 0;l.addAll(p.memberParts);for(var g=l.iterator;g.next();){var m=g.value;if(m.isSelected=!0,!(m instanceof L)){var v=m.data;null!==v?n.mp(v,f):m.containingGroup=d}}e.remove(p)}}e.R("SelectionUngrouped",o,l)}finally{e.eb("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},jt.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Xj())return!1;if(null!==t){if(!(t instanceof rt))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof rt&&e.canUngroup())return!0;return!1},jt.prototype.addTopLevelParts=function(t,e){var n=!0;for(t=Hc(t).iterator;t.next();){var o=t.value;null!==o.containingGroup&&(!e||this.isValidMember(null,o)?o.containingGroup=null:n=!1)}return n},jt.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Collapse SubGraph"),ko(e.animationManager,"Collapse SubGraph");var n=new H;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),n.add(t);else if(null===t)for(var o=e.selection.iterator;o.next();){var r=o.value;r instanceof rt&&r.isSubGraphExpanded&&(r.collapseSubGraph(),n.add(r))}e.R("SubGraphCollapsed",n)}finally{e.eb("Collapse SubGraph")}},jt.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof rt&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof rt&&e.isSubGraphExpanded)return!0;return!1},jt.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Ea("Expand SubGraph"),ko(e.animationManager,"Expand SubGraph");var n=new H;if(null===t||t.isSubGraphExpanded){if(null===t)for(var o=e.selection.iterator;o.next();){var r=o.value;r instanceof rt&&!r.isSubGraphExpanded&&(r.expandSubGraph(),n.add(r))}}else t.expandSubGraph(),n.add(t);e.R("SubGraphExpanded",n)}finally{e.eb("Expand SubGraph")}},jt.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof rt&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof rt&&!e.isSubGraphExpanded)return!0;return!1},jt.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.toolManager.findTool("TextEditing");if(null!==n){if(null===t){t=null;for(var o=e.selection.iterator;o.next();){var r=o.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.Nl(function(s){return s instanceof kt&&s.editable})}null!==t&&(e.currentTool=null,n.textBlock=t,e.currentTool=n)}},jt.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof kt))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.Nl(function(n){return n instanceof kt&&n.editable})))return!0;return!1},jt.prototype.showContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var o=e.lastInput,r=null;t instanceof X?r=t.ga(Mt):e.viewportBounds.ca(o.documentPoint)||(r=new w((r=e.viewportBounds).x+r.width/2,r.y+r.height/2)),null!==r&&(o.viewPoint=e.op(r),o.documentPoint=r,o.left=!1,o.right=!0,o.up=!0),e.currentTool=n,w0(n,!1,t)}},jt.prototype.canShowContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},jt.prototype.computeEffectiveCollection=function(t,e){var n=this.diagram,o=n.toolManager.findTool("Dragging"),r=n.currentTool===o;if(void 0===e&&(e=r?o.dragOptions:n.Wm),o=new lt,null===t)return o;for(var s=t.iterator;s.next();)Uo(n,o,s.value,r,e);if(null!==n.draggedLink&&e.dragsLink)return o;for(s=t.iterator;s.next();)(t=s.value)instanceof L&&((null===(e=t.fromNode)||o.contains(e))&&(null===(e=t.toNode)||o.contains(e))||o.remove(t));return o},pt.Object.defineProperties(jt.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.o},set:function(t){this.o=t}},copiesConnectedLinks:{get:function(){return this.u},set:function(t){this.u=t}},deletesConnectedLinks:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiesTree:{get:function(){return this.ia},set:function(t){this.ia=t}},deletesTree:{get:function(){return this.nb},set:function(t){this.nb=t}},copiesParentKey:{get:function(){return this.V},set:function(t){this.V=t}},copiesGroupKey:{get:function(){return this.F},set:function(t){this.F=t}},archetypeGroupData:{get:function(){return this.j},set:function(t){this.j=t}},memberValidation:{get:function(){return this.ij},set:function(t){this.ij=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Hb},set:function(t){1<t||q("zoomFactor must be larger than 1.0, not: "+t),this.Hb=t}},isZoomToFitRestoreEnabled:{get:function(){return this.hb},set:function(t){this.hb=t}},scrollToPartPause:{get:function(){return this.ob},set:function(t){this.ob=t}}}),jt.className="CommandHandler",G0=function(){return new jt},X.prototype.cloneProtected=function(t){t.l=6144|this.l,t.pb=this.pb,t.bn=this.bn,t.Ma=this.Ma,t.pa.assign(this.pa),t.jd=this.jd.J(),t.Lb=null!==this.Lb?this.Lb.copy():null,t.Ca=this.Ca,t.Kb=this.Kb,t.Kg=this.Kg.J(),t.uc.assign(this.uc),t.Ib.assign(this.Ib),t.dc.assign(this.dc),t.Yn=this.Yn,null!==this.ba&&(t.ba=this.ba.copy()),t.Jb=this.Jb.J(),t.sk=this.sk.J(),t.io=this.io,t.Ag=this.Ag,null!==this.Ua&&(t.Ua=this.Ua.copy()),null!==this.A&&(t.A=this.A.nc?this.A:this.A.copy()),null!==this.Dh&&(t.Dh=Os(this.Dh)),null!==this.tb&&(t.tb=this.tb.copy())},X.prototype.Vw=function(t){var e=this.Dh;if(De(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.Dh=e=[];e.push(t)},X.prototype.Af=function(t){t.Zn=null,t.Ng=null,t.v()},X.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Dh)for(var e=0;e<this.Dh.length;e++){var n=this.Dh[e];t[n]=this[n]}return t},X.prototype.copy=function(){return this.clone()},(x=X.prototype).qb=function(t){t.classType===L?0===t.name.indexOf("Orient")?this.segmentOrientation=t:q("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===X&&(this.stretch=t)},x.toString=function(){return is(this.constructor)+"#"+ui(this)},x.th=function(){null!==this.A&&(this.A.nc=!0)},x.Xc=function(){if(null===this.ba){var t=new fu;t.Xi=Fe,t.yj=Fe,t.Vi=10,t.wj=10,t.Wi=0,t.xj=0,this.ba=t}},x.cb=function(t,e,n,o,r,s,l){var a=this.part;if(null!==a&&(a.gk(t,e,n,o,r,s,l),n===this&&t===Bt&&ms(this)&&jr(this,a,e),s=this.diagram,null===this.animationTriggers||null===s||!s.pi||s.undoManager.isUndoingRedoing||s.animationManager.Dm||null!==(t=this.animationTriggers.get(e))&&s.animationManager.isEnabled&&!s.animationManager.isTicking&&(null===this.jo&&(this.jo=new lt),l=0===s.undoManager.transactionLevel,t.startCondition===xc?l=!0:t.startCondition===R0&&(l=!1),l?(function L_(t,e){null!==(t=t.uk)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,s=new Be),null!==(l=this.jo.get(t))&&l.stop(),this.jo.add(t,s),s.vu=this,s.Nw=t,s.add(this,e,o,r),s.start()):(ko(s.animationManager,"Trigger"),s.animationManager.defaultAnimation.add(this,e,o,r))),this instanceof O&&n===a&&0!=(16777216&a.l)&&null!==a.data))for(o=(n=this.O.s).length,r=0;r<o;r++)(a=n[r])instanceof O&&Fr(a,function(p){null!==p.data&&16777216&p.l&&p.La(e)})},x.ks=function(t){return this.bindingId===t?this:null},x.g=function(t,e,n){this.cb(Bt,t,this,e,n)},x.Ge=function(t,e,n,o){var r=this.uc;if(r.h(t,e,n,o),1!==this.Ca||0!==this.Kb){null===this.Lb&&(this.Lb=new ct);var s=this.Lb;s.reset(),this.no(s,t,e,n,o),s.pp(r)}},x.tx=function(t,e,n){if(!1===this.pickable)return!1;var o=this.naturalBounds;return e=t.Bf(e),n?We(t.x,t.y,0,0,0,o.height)<=e||We(t.x,t.y,0,o.height,o.width,o.height)<=e||We(t.x,t.y,o.width,o.height,o.width,0)<=e||We(t.x,t.y,o.width,0,0,0)<=e:t.zd(0,0)<=e&&t.zd(0,o.height)<=e&&t.zd(o.width,0)<=e&&t.zd(o.width,o.height)<=e},x.se=function(){return!0},x.ca=function(t){var e=w.alloc();e.assign(t),this.transform.Ga(e);var n=this.actualBounds;if(!n.w())return w.free(e),!1;var o=this.diagram;if(null!==o&&o.wq){var r=o.Ql("extraTouchThreshold"),s=o.Ql("extraTouchArea"),l=s/2,a=this.naturalBounds,p=1/(o=this.Df()*o.scale);if(a.width*o<r&&a.height*o<r)return t=An(n.x-l*p,n.y-l*p,n.width+s*p,n.height+s*p,e.x,e.y),w.free(e),t}return r=!1,(this instanceof mt||this instanceof ut?An(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.ca(e))&&(r=!(this.tb&&!this.tb.ca(e))&&(!!(null!==this.areaBackground&&n.ca(e)||null!==this.Ma&&this.dc.ca(t))||this.gh(t))),w.free(e),r},x.gh=function(t){var e=this.naturalBounds;return An(0,0,e.width,e.height,t.x,t.y)},x.Re=function(t){if(0===this.angle)return this.actualBounds.Re(t);var e=this.naturalBounds;e=U.allocAt(0,0,e.width,e.height);var n=this.transform,o=!1,r=w.allocAt(t.x,t.y);return e.ca(n.Cd(r))&&(r.h(t.x,t.bottom),e.ca(n.Cd(r))&&(r.h(t.right,t.bottom),e.ca(n.Cd(r))&&(r.h(t.right,t.y),e.ca(n.Cd(r))&&(o=!0)))),w.free(r),U.free(e),o},x.fh=function(t,e){if(void 0===e)return t.Re(this.actualBounds);var n=this.naturalBounds,o=!1,r=w.allocAt(0,0);return t.ca(e.Ga(r))&&(r.h(0,n.height),t.ca(e.Ga(r))&&(r.h(n.width,n.height),t.ca(e.Ga(r))&&(r.h(n.width,0),t.ca(e.Ga(r))&&(o=!0)))),w.free(r),o},x.Yc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Yc(this.actualBounds);var n=this.naturalBounds,o=w.allocAt(0,0),r=w.allocAt(0,n.height),s=w.allocAt(n.width,n.height),l=w.allocAt(n.width,0),a=!1;if(t.ca(e.Ga(o))||t.ca(e.Ga(r))||t.ca(e.Ga(s))||t.ca(e.Ga(l)))a=!0;else{n=U.allocAt(0,0,n.width,n.height);var p=w.allocAt(t.x,t.y);n.ca(e.Cd(p))?a=!0:(p.h(t.x,t.bottom),n.ca(e.Cd(p))?a=!0:(p.h(t.right,t.bottom),n.ca(e.Cd(p))?a=!0:(p.h(t.right,t.y),n.ca(e.Cd(p))&&(a=!0)))),w.free(p),U.free(n),!a&&(N.us(t,o,r)||N.us(t,r,s)||N.us(t,s,l)||N.us(t,l,o))&&(a=!0)}return w.free(o),w.free(r),w.free(s),w.free(l),a},x.ga=function(t,e){if(void 0===e&&(e=new w),t instanceof $){var n=this.naturalBounds;e.h(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.oe.Ga(e),e},x.mi=function(t){void 0===t&&(t=new U);var e=this.naturalBounds,n=this.oe,o=w.allocAt(0,0).transform(n);return t.h(o.x,o.y,0,0),o.h(e.width,0).transform(n),Me(t,o.x,o.y,0,0),o.h(e.width,e.height).transform(n),Me(t,o.x,o.y,0,0),o.h(0,e.height).transform(n),Me(t,o.x,o.y,0,0),w.free(o),t},x.li=function(){var t=this.oe;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},x.Df=function(){if(!(4096&this.l))return this.Kk;var t=this.Ca;return null!==this.panel?t*this.panel.Df():t},x.qs=function(t,e){return void 0===e&&(e=new w),e.assign(t),this.oe.Cd(e),e},x.rs=function(t,e,n){return this.Sj(t.x,t.y,e.x,e.y,n)},x.Sj=function(t,e,n,o,r){var s=this.transform,l=1/(s.m11*s.m22-s.m12*s.m21),a=s.m22*l,p=-s.m12*l,d=-s.m21*l,f=s.m11*l,g=l*(s.m21*s.dy-s.m22*s.dx),m=l*(s.m12*s.dx-s.m11*s.dy);return null!==this.areaBackground?N.Ff((s=this.actualBounds).left,s.top,s.right,s.bottom,t,e,n,o,r):(l=t*a+e*d+g,t=t*p+e*f+m,e=n*a+o*d+g,n=n*p+o*f+m,r.h(0,0),n=N.Ff(0,0,(o=this.naturalBounds).width,o.height,l,t,e,n,r),r.transform(s),n)},X.prototype.measure=function(t,e,n,o){if(!1!==Lo(this)){var r=this.Kg,s=r.right+r.left;r=r.top+r.bottom,t=Math.max(t-s,0),e=Math.max(e-r,0),n=Math.max((n||0)-s,0),o=Math.max((o||0)-r,0),s=this.angle,r=this.desiredSize;var l=this.kq();90===s||270===s?(t=isFinite(r.height)?r.height+l:t,e=isFinite(r.width)?r.width+l:e):(t=isFinite(r.width)?r.width+l:t,e=isFinite(r.height)?r.height+l:e),r=n||0,l=o||0;var a=this instanceof O;switch(kn(this,!0)){case te:l=r=0,a&&(e=t=1/0);break;case oe:isFinite(t)&&t>n&&(r=t),isFinite(e)&&e>o&&(l=e);break;case Ue:isFinite(t)&&t>n&&(r=t),l=0,a&&(e=1/0);break;case be:isFinite(e)&&e>o&&(l=e),r=0,a&&(t=1/0)}var p=this.minSize;r>(a=this.maxSize).width&&p.width<a.width&&(r=a.width),l>a.height&&p.height<a.height&&(l=a.height),n=Math.max(r,p.width),o=Math.max(l,p.height),a.width<n&&(n=Math.min(p.width,n)),a.height<o&&(o=Math.min(p.height,o)),t=Math.min(a.width,t),e=Math.min(a.height,e),t=Math.max(n,t),e=Math.max(o,e),(90===s||270===s)&&(s=t,t=e,e=s,s=n,n=o,o=s),this.uc.ka(),this.Wl(t,e,n,o),this.uc.freeze(),this.uc.w()||q("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.uc.toString()),Bi(this,!1)}},X.prototype.Wl=function(){},X.prototype.Dd=function(){return!1},X.prototype.arrange=function(t,e,n,o,r){this.Uk();var s=U.alloc();s.assign(this.Ib),this.Ib.ka(),!1===_n(this)?this.Ib.h(t,e,n,o):this.eh(t,e,n,o),this.Ib.freeze(),this.tb=void 0===r?null:r,n=!1,void 0!==r?n=!0:(null!==(r=this.panel)&&Yo(r)&&(r=r.panel),null!==r&&(r=r.dc,o=this.measuredBounds,null!==this.areaBackground&&(o=this.Ib),n=e+o.height,o=t+o.width,n=!(0<=t+.05&&o<=r.width+.05&&0<=e+.05&&n<=r.height+.05),this instanceof kt&&(this.Lq>(t=this.naturalBounds).height||this.Cb>t.width))&&(n=!0)),this.l=n?256|this.l:-257&this.l,this.Ib.w()||q("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Ib.toString()),this.Xl(s,this.Ib),Nr(this,!1),U.free(s)},(x=X.prototype).eh=function(){},x.Xl=function(t,e){var n=this.part;null!==n&&null!==n.diagram&&(n.selectionObject!==this&&n.resizeObject!==this&&n.rotateObject!==this||Ud(n,!0),this.N(),Lp(t,e)||(n.oh(),this.Pn(n)))},x.Pn=function(t){null!==this.portId&&(Ud(t,!0),t instanceof B&&D1(t,this))},x.gc=function(t,e){if(!function W_(t,e,n){if(!(e instanceof Ci))return!1;if(!t.visible||0===t.opacity||t.Dd()&&!t.isVisible())return null!==t.svg&&null!==t.svg.parentNode&&t.svg.remove(),!0;var o=t.panel,r=t.nk(e);if(t.kk(e,n,r))return null!==t.svg.parentElement?(t.Dd()&&(e.ti=t.svg),!0):(t.Dd()?(null!==e.ti?e.ti.after(t.svg):e.Nj.prepend(t.svg),e.ti=t.svg):o&&Tg(t,o,t.svg),!0);if(t.Dd()&&t.isShadowed){var s=t.shadowOffset;e.Ev(s.x*n.scale*t.scale*n.Mb,s.y*n.scale*t.scale*n.Mb,t.shadowBlur),Do(e),e.shadowColor=t.shadowColor}t instanceof kt&&(e.font=t.font),e.yd=null;var l=t.transform;s=t instanceof O;var a=t instanceof O&&Yo(t);4096&t.l&&Ea(t);var p=t.Ib;if(e.rb.ha=[1,0,0,1,0,0],e.o=!1,r&&(e.o=!0,s&&a?(gu(e,1,0,0,1,0,0),t.svg=e.ad):s?(gu(e,l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),t.svg=e.ad):gu(e,1,0,0,1,0,0)),r=t.naturalBounds,null!==t.areaBackground){var d=l.copy().Vj();e.rb.ha=[d.m11,d.m12,d.m21,d.m22,d.dx,d.dy],Vc(t,e,r,p),e.rb.ha=[1,0,0,1,0,0],e.yd.gd=e.ad,e.yd.prepend(e.ad)}return s||(e.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy]),null!==t.background&&(s?(a&&(e.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy]),Ra(t,e,r,p),a&&(e.rb.ha=[1,0,0,1,0,0])):(e.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],Ra(t,e,r,p)),e.yd.Ma=e.ad,e.yd.prepend(e.ad)),l=e.yd,a=!1,(r=t.part)&&n.Gf("drawShadows")&&(a=r.isShadowed),e.clipInsteadOfFill&&(a=!1),t.Dd()&&a&&Do(e),a&&!0===t.shadowVisible?Do(e):a&&!1===t.shadowVisible&&io(e),r=t.panel,a&&Ja(t,r)&&null===t.shadowVisible&&io(e),e.Il&&(d=n.computePixelRatio(),d="drop-shadow("+e.shadowOffsetX/d+"px "+e.shadowOffsetY/d+"px "+e.shadowBlur/d/2+"px "+e.shadowColor+")",null!==t.background&&l.Ma.setAttributeNS(null,"filter",d),null!==t.areaBackground&&l.gd.setAttributeNS(null,"filter",d)),a&&(null!==t.Ma||null!==t.areaBackground||Ja(t,r))?(Ba(t,!0),null===t.shadowVisible&&io(e)):Ba(t,!1),r=a,t.hh(e,n),s&&e.nh.pop(),e.o&&e.nh.pop(),l=e.Gv.hs,a=s?t.svg:e.yd,d=t.svg,s||null===d||a===d||d.parentNode!==t.panel.svg?(t.svg=a,null!==l&&null===a&&(Ga(e),e.nh.pop()),null===a||(t.$o(e,o,p,a),e.Il&&(n=n.computePixelRatio(),t.Dv(a,"drop-shadow("+e.shadowOffsetX/n+"px "+e.shadowOffsetY/n+"px "+e.shadowBlur/n/2+"px "+e.shadowColor+")")),r&&512&t.l&&Do(e),t.Dd()&&io(e),1!==(n=t.Dd()?t.opacity*e.globalAlpha:t.opacity)&&a.setAttributeNS(null,"opacity",n.toString()),""!==t.filter&&a.setAttributeNS(null,"filter",t.filter),t.Dd()?(e.ti?e.ti.after(a):e.Nj.prepend(a),e.ti=a):null!==o&&Tg(t,o,a),null!==l&&l(t,a)),!0):(t.svg.replaceWith(a),t.svg=a,null!==a&&t.$o(e,o,p,a),Cg(e,d),!0)}(this,t,e)&&this.visible){var n=this.opacity;if(0!==n){var o=1;1!==n&&(t.globalAlpha=(o=t.globalAlpha)*n);var r="";""!==this.filter&&(r=t.filter,t.filter=this.filter);var s=this instanceof O&&Yo(this),l=this.Ib;if(s){var a=this.Ib,p=this.dc,d=this.areaBackground,f=this.Ma;null===d&&null===f||t.yc(),null!==d&&(Mi(this,t,d,!0,!0,p,a),d instanceof Pt&&d.type===Gi?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.ng(d)):t.fillRect(a.x,a.y,a.width,a.height)),null!==f&&(Mi(this,t,f,!0,!1,p,a),f instanceof Pt&&f.type===Gi?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.ng(f)):t.fillRect(a.x,a.y,a.width,a.height)),this.hh(t,e)}if(!s&&(s||0!==l.width&&0!==l.height&&!isNaN(l.x)&&!isNaN(l.y))){s=this.transform,a=this.panel,4096&this.l&&Ea(this),p=!1;var m,g=0;if((d=this.part)&&e.Gf("drawShadows")&&(p=d.isShadowed)&&(f=d.shadowOffset,g=Math.max(f.y,f.x)*e.scale*e.Mb),f=this.Dd(),!(m=e.$i||!f)){var Z,v=this.naturalBounds,y=(m=this.wh).m11,P=m.m21,T=m.dx,S=m.m12,A=m.m22,M=m.dy,j=Z=0;m=Z*y+j*P+T;var k=Z*S+j*A+M,J=(Z=v.width+g)*y+(j=0)*P+T;Z=Z*S+j*A+M,j=Math.min(m,J);var V=Math.min(k,Z),K=Math.max(m+0,J)-j,b=Math.max(k+0,Z)-V;m=j,k=V,J=(Z=v.width+g)*y+(j=v.height+g)*P+T,Z=Z*S+j*A+M,j=Math.min(m,J),V=Math.min(k,Z),K=Math.max(m+K,J)-j,b=Math.max(k+b,Z)-V,m=j,k=V,J=(Z=0)*y+(j=v.height+g)*P+T,Z=Z*S+j*A+M,j=Math.min(m,J),V=Math.min(k,Z),K=Math.max(m+K,J)-j,b=Math.max(k+b,Z)-V,k=V,y=(g=e.viewportBounds).y,m=!((m=j)>g.width+(v=g.x)||v>K+m||k>g.height+y||y>b+k)}if(m){if(m=0!=(256&this.l),t.clipInsteadOfFill&&(m=!1),this instanceof kt&&(t.font=this.font),m){if(k=a.se()?a.naturalBounds:a.actualBounds,K=Math.max(l.x,k.x),b=Math.max(l.y,k.y),g=Math.min(l.right,k.right)-K,v=Math.min(l.bottom,k.bottom)-b,null!==(y=this.tb)&&(K=y.x,b=y.y,g=y.width,v=y.height),K>l.width+l.x||l.x>k.width+k.x)return 1!==n&&(t.globalAlpha=o),void(""!==this.filter&&(t.filter=r));t.save(),t.beginPath(),t.rect(K,b,g,v),t.clip()}if(f){if(!d.isVisible())return 1!==n&&(t.globalAlpha=o),void(""!==this.filter&&(t.filter=r));p&&(t.Ev((k=d.shadowOffset).x*e.scale*this.scale*e.Mb,k.y*e.scale*this.scale*e.Mb,d.shadowBlur),Do(t),t.shadowColor=d.shadowColor)}p&&!0===this.shadowVisible?Do(t):p&&!1===this.shadowVisible&&io(t),d=this.naturalBounds,null!==this.areaBackground&&(t.yc(),Vc(this,t,d,l)),t.transform(s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),p&&Ja(this,a)&&null===this.shadowVisible&&io(t),null!==this.Ma&&(t.yc(),Ra(this,t,d,l)),p&&(null!==this.Ma||null!==this.areaBackground||Ja(this,a))?(Ba(this,!0),null===this.shadowVisible&&io(t)):Ba(this,!1),this.hh(t,e),p&&512&this.l&&Do(t),f&&p&&io(t),m&&(t.restore(),t.Vc(this instanceof O)),s.ws()||t.transform(s.m22*(e=1/(s.m11*s.m22-s.m12*s.m21)),-s.m12*e,-s.m21*e,s.m11*e,e*(s.m21*s.dy-s.m22*s.dx),e*(s.m12*s.dx-s.m11*s.dy))}}1!==n&&(t.globalAlpha=o),""!==this.filter&&(t.filter=r)}}},x.Dv=function(){},x.$o=function(t,e,n,o){var r=0!=(256&this.l);if(t.clipInsteadOfFill&&(r=!1),r){var s=e.se()?e.naturalBounds:e.actualBounds;e=Math.max(n.x,s.x),r=Math.max(n.y,s.y);var l=Math.min(n.right,s.right)-e;n=Math.min(n.bottom,s.bottom)-r,null!==(s=this.tb)&&(e=s.x,r=s.y,l=s.width,n=s.height);var a=null;null!==(s=o.getAttribute("clip-path"))&&(a=t.svg.getElementById(s.split("#")[1].slice(0,-1))),null===a?(s="CLIP"+rs++,a=t.Ud("clipPath",{id:s}),e=t.Ud("rect",{x:e,y:r,width:l,height:n}),this instanceof O&&(r=this.transform.copy().Vj(),e.setAttribute("transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")")),a.appendChild(e),t.svg.appendChild(a),o.setAttributeNS(null,"clip-path","url(#"+s+")")):((t=a.firstElementChild).setAttribute("x",e.toString()),t.setAttribute("y",r.toString()),t.setAttribute("width",l.toString()),t.setAttribute("height",n.toString()))}else o.removeAttributeNS(null,"clip-path"),Cg(t,o)},x.hh=function(){},x.lv=function(){this.Uc=!0},x.kk=function(t,e,n){if(this.Uc)return this.lv(),this.Uc=!1;if(null===(e=this.svg))return!1;if(!this.visible)return e.remove(),!1;if("g"!==e.nodeName&&n||"g"===e.nodeName&&!n)return!1;var o=this.transform,r=this instanceof O&&Yo(this);if(!(this instanceof O&&r))if(this instanceof hi){var s=this.bt;t.rb.ha=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],null!==s&&Mg(t,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]),n?e.lastElementChild.setAttributeNS(null,"transform",Zg(t)):e.setAttributeNS(null,"transform",Zg(t))}else if(!n||this instanceof O)e.setAttributeNS(null,"transform","matrix("+o.m11+", "+o.m12+", "+o.m21+", "+o.m22+", "+o.dx+", "+o.dy+")");else if(this instanceof ut){s=e.getElementsByTagName("path");for(var l=0;l<s.length;l++)s[l].setAttributeNS(null,"transform","matrix("+o.m11+", "+o.m12+", "+o.m21+", "+o.m22+", "+o.dx+", "+o.dy+")")}else e.lastElementChild.setAttributeNS(null,"transform","matrix("+o.m11+", "+o.m12+", "+o.m21+", "+o.m22+", "+o.dx+", "+o.dy+")");return 1===(s=this.Dd()?this.opacity*t.globalAlpha:this.opacity)?e.removeAttribute("opacity"):e.setAttributeNS(null,"opacity",s.toString()),t.rb.ha=[1,0,0,1,0,0],(null!==this.areaBackground||void 0!==e.gd)&&(s=e.gd,null===this.areaBackground?(e.gd.remove(),e.gd=void 0):(l=o.copy().Vj(),t.rb.ha=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],Vc(this,t,this.naturalBounds,this.actualBounds),t.rb.ha=[1,0,0,1,0,0],e.gd?(null!==(l=e.gd.getAttribute("filter"))&&t.ad.setAttribute("filter",l),e.gd.replaceWith(t.ad)):e.prepend(t.ad),e.gd=t.ad),s&&Ha(t,s)),(null!==this.background||void 0!==e.Ma)&&(s=e.Ma,null===this.background?(Ha(t,e.Ma),e.Ma.remove(),e.Ma=void 0):((r||n&&!(this instanceof O))&&(t.rb.ha=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy]),Ra(this,t,this.naturalBounds,this.actualBounds),e.Ma?(Ha(t,e.Ma),null!==(n=e.Ma.getAttribute("filter"))&&t.ad.setAttribute("filter",n),e.Ma.replaceWith(t.ad)):e.prepend(t.ad),e.Ma=t.ad),s&&Ha(t,s)),this.$o(t,this.panel,this.actualBounds,e),!0},x.nk=function(t){if(null!==this.background||null!==this.areaBackground)return!0;var e=0!=(256&this.l);return t.clipInsteadOfFill&&(e=!1),!!e},x.rg=function(t){if(t instanceof O)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},x.Ed=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Ed()},x.If=function(){for(var t=this instanceof O?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},x.no=function(t,e,n,o,r){if(1!==this.Ca&&t.scale(this.Ca),0!==this.Kb){var s=w.alloc();s.yi(e,n,o,r,Mt),t.rotate(this.Kb,s.x,s.y),w.free(s)}},x.v=function(t){if(!Lo(this)){void 0===t&&(t=!1),Bi(this,!0),Nr(this,!0);var e=this.panel;null===e||t||e.v()}},x.Uj=function(){Lo(this)||(Bi(this,!0),Nr(this,!0))},x.Uk=function(){!(2048&this.l)&&(al(this,!0),rr(this,!0))},x.Wu=function(){rr(this,!0)},x.N=function(){var t=this.part;null!==t&&t.N()},x.Gj=function(){this.svg=null},x.wi=function(t){this.Me=t,null!==this.svg&&this.svg.remove()},x.Av=function(){},x.zv=function(t){return this.pa=t,ul(this),!0},x.mm=function(t,e){(this.pa.x!==t||this.pa.y!==e)&&(this.pa.h(t,e),this.Uk())},x.kq=function(){return 0},x.bind=function(t,e,n,o){var r=null;return(r="string"==typeof t?new re(t,e,n,o):t).xd=this,null!==(t=this.ih())&&Qg(t)&&q("Cannot add a Binding to a template that has already been copied: "+r),null===this.localBindings&&(this.localBindings=new H),this.localBindings.add(r),this},x.set=function(t){return Object.assign(this,t),this},x.Du=function(t){return Wc(this,t),this},x.apply=function(t){return t(this),this},x.nm=function(t){return ru(this,t),this},x.pz=function(){return this.ih()},x.ih=function(){for(var t=this instanceof O?this:this.panel;null!==t;){if(null!==t.allBindings)return t;t=t.panel}return null},x.Jv=function(t){return t.xd=this,null===this.animationTriggers&&(this.animationTriggers=new lt),this.animationTriggers.add(t.propertyName,t),this},pt.Object.defineProperties(X.prototype,{bindingId:{get:function(){return null!==this.A?this.A.zp:-1},set:function(t){this.bindingId!==t&&(null===this.A&&(this.A=new _s),this.A.zp=t)}},localBindings:{get:function(){return null!==this.A?this.A.te:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new _s),this.A.te=t)}},srcBindings:{get:function(){return null!==this.A?this.A.wm:null},set:function(t){this.srcBindings!==t&&(null===this.A&&(this.A=new _s),this.A.wm=t)}},shadowVisible:{get:function(){return null!==this.A?this.A.Ci:null},set:function(t){var e=this.shadowVisible;e!==t&&(me(this),this.A.Ci=t,this.Uc=!0,this.N(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.A?this.A.Hb:null},set:function(t){var e=this.enabledChanged;e!==t&&(me(this),this.A.Hb=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return null!==this.Ua?this.Ua.rr:ni},set:function(t){var e=this.segmentOrientation;e!==t&&(null===this.Ua&&(this.Ua=new sr),this.Ua.rr=t,this.v(),this.g("segmentOrientation",e,t),t===ni&&(this.angle=0))}},segmentIndex:{get:function(){return null!==this.Ua?this.Ua.u:-1/0},set:function(t){t=Math.round(t);var e=this.segmentIndex;e!==t&&(null===this.Ua&&(this.Ua=new sr),this.Ua.u=t,this.v(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return null!==this.Ua?this.Ua.o:0},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.segmentFraction;e!==t&&(null===this.Ua&&(this.Ua=new sr),this.Ua.o=t,this.v(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return null!==this.Ua?this.Ua.F:mo},set:function(t){var e=this.segmentOffset;e.D(t)||(t=t.J(),null===this.Ua&&(this.Ua=new sr),this.Ua.F=t,this.v(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return null!==this.A?this.A.hg:mn},set:function(t){var e=this.stretch;e!==t&&(me(this),this.A.hg=t,this.v(),this.g("stretch",e,t))}},name:{get:function(){return null!==this.A?this.A.xa:""},set:function(t){var e=this.name;e!==t&&(me(this),this.A.xa=t,null!==this.part&&(this.part.Rh=null),this.g("name",e,t))}},opacity:{get:function(){return this.pb},set:function(t){var e=this.pb;e!==t&&((0>t||1<t)&&Jt(t,"0 <= value <= 1",X,"opacity"),this.pb=t,this.g("opacity",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.N(br(e,e.actualBounds)))}},filter:{get:function(){return this.bn},set:function(t){var e=this.bn;e!==t&&(this.bn=t,this.Uc=!0,this.g("filter",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.N(br(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.l)},set:function(t){var e=0!=(1&this.l);e!==t&&(this.l^=1,this.g("visible",e,t),null!==(e=this.panel)?e.v():this.Dd()&&this.Zb(t),this.N(),wg(this))}},pickable:{get:function(){return 0!=(2&this.l)},set:function(t){var e=0!=(2&this.l);e!==t&&(this.l^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.l)},set:function(t){var e=0!=(4&this.l);e!==t&&(this.l^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.l)},set:function(t){var e=0!=(8&this.l);e!==t&&(this.l^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.l)},set:function(t){var e=0!=(16&this.l);e!==t&&(this.l^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.l)},set:function(t){var e=0!=(32&this.l);e!==t&&(this.l^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.l)},set:function(t){var e=0!=(64&this.l);e!==t&&(this.l^=64,this.v(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.l)},set:function(t){var e=0!=(128&this.l);e!==t&&(this.l^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return null!==this.A?this.A.gd:null},set:function(t){var e=this.areaBackground;e!==t&&(null!==t&&ys(t,"GraphObject.areaBackground"),t instanceof Pt&&t.freeze(),me(this),this.A.gd=t,this.N(),this.g("areaBackground",e,t))}},background:{get:function(){return this.Ma},set:function(t){var e=this.Ma;e!==t&&(null!==t&&ys(t,"GraphObject.background"),t instanceof Pt&&t.freeze(),this.Ma=t,this.N(),this.g("background",e,t))}},part:{get:function(){if(this.Dd())return this;if(null!==this.Ng)return this.Ng;var t;for(t=this.panel;t;){if(t instanceof W)return this.Ng=t;t=t.panel}return null}},svg:{get:function(){return this.V},set:function(t){this.V=t}},panel:{get:function(){return this.Me}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.pa},set:function(t){var e=t.x,n=t.y,o=this.pa,r=o.x;o=o.y,(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))?this.Av():(t=t.copy(),this.zv(t,r,o)&&this.g("position",new w(r,o),t))}},actualBounds:{get:function(){return this.Ib}},scale:{get:function(){return this.Ca},set:function(t){var e=this.Ca;e!==t&&(0>=t&&q("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Ca=t,this.v(),this.g("scale",e,t))}},angle:{get:function(){return this.Kb},set:function(t){var e=this.Kb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Kb=t,wg(this),this.v(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.jd},set:function(t){var e=t.width,n=t.height,o=this.jd,r=o.width,s=o.height;(r===e||isNaN(r)&&isNaN(e))&&(s===n||isNaN(s)&&isNaN(n))||(this.jd=t=t.J(),this.v(),this instanceof ut&&this.qc(),this.g("desiredSize",o,t),ms(this)&&null!==(t=this.part)&&(jr(this,t,"width"),jr(this,t,"height")))}},width:{get:function(){return this.jd.width},set:function(t){var e=this.jd.width;e===t||isNaN(e)&&isNaN(t)||(e=this.jd,this.jd=t=new ot(t,this.jd.height).freeze(),this.v(),this instanceof ut&&this.qc(),this.g("desiredSize",e,t),ms(this)&&null!==(t=this.part)&&jr(this,t,"width"))}},height:{get:function(){return this.jd.height},set:function(t){var e=this.jd.height;e===t||isNaN(e)&&isNaN(t)||(e=this.jd,this.jd=t=new ot(this.jd.width,t).freeze(),this.v(),this instanceof ut&&this.qc(),this.g("desiredSize",e,t),ms(this)&&null!==(t=this.part)&&jr(this,t,"height"))}},minSize:{get:function(){return null!==this.A?this.A.u:Jn},set:function(t){var e=this.minSize;e.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),me(this),this.A.u=t,this.v(),this.g("minSize",e,t))}},maxSize:{get:function(){return null!==this.A?this.A.o:Op},set:function(t){var e=this.maxSize;e.D(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),me(this),this.A.o=t,this.v(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.uc}},naturalBounds:{get:function(){return this.dc}},margin:{get:function(){return this.Kg},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.Kg;e.D(t)||(this.Kg=t=t.J(),this.v(),this.g("margin",e,t))}},transform:{get:function(){return 2048&this.l&&Ea(this),this.Ab}},oe:{get:function(){return 4096&this.l&&Ea(this),this.wh}},animationTriggers:{get:function(){return null!==this.A?this.A.hb:null},set:function(t){this.animationTriggers!==t&&(me(this),this.A.hb=t)}},reshapingBehavior:{get:function(){return null!==this.A?this.A.Pf:te},set:function(t){this.reshapingBehavior!==t&&(me(this),this.A.Pf=t)}},alignment:{get:function(){return this.Jb},set:function(t){var e=this.Jb;e.D(t)||(t.Mc()&&!t.Xb()&&q("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.Jb=t=t.J(),ul(this),this.g("alignment",e,t))}},column:{get:function(){return this.Ag},set:function(t){t=Math.round(t);var e=this.Ag;e!==t&&(0>t&&Jt(t,">= 0",X,"column"),this.Ag=t,this.v(),this.g("column",e,t),null!==this.svg&&this.svg.remove())}},columnSpan:{get:function(){return null!==this.A?this.A.ob:1},set:function(t){t=Math.round(t);var e=this.columnSpan;e!==t&&(1>t&&Jt(t,">= 1",X,"columnSpan"),me(this),this.A.ob=t,this.v(),this.g("columnSpan",e,t))}},row:{get:function(){return this.io},set:function(t){t=Math.round(t);var e=this.io;e!==t&&(0>t&&Jt(t,">= 0",X,"row"),this.io=t,this.v(),this.g("row",e,t),null!==this.svg&&this.svg.remove())}},rowSpan:{get:function(){return null!==this.A?this.A.Bi:1},set:function(t){t=Math.round(t);var e=this.rowSpan;e!==t&&(1>t&&Jt(t,">= 1",X,"rowSpan"),me(this),this.A.Bi=t,this.v(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return null!==this.A?this.A.Di:null},set:function(t){var e=this.spanAllocation;e!==t&&(me(this),this.A.Di=t,this.v(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.sk},set:function(t){var e=this.sk;e.D(t)||(this.sk=t=t.J(),this.v(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var n=this.part;null===n||n instanceof B||q("Cannot set portID on a Link: "+t),null!==e&&null!==n&&bd(n,this),this.Yn=t,null!==t&&null!==n&&(n.Te=!0,C1(n,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.ba?this.ba.yj:Fe},set:function(t){var e=this.toSpot;e.D(t)||(t=t.J(),this.Xc(),this.ba.yj=t,this.g("toSpot",e,t),kr(this))}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.wj:10},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&Jt(t,">= 0",X,"toEndSegmentLength"),this.Xc(),this.ba.wj=t,this.g("toEndSegmentLength",e,t),kr(this))}},toShortLength:{get:function(){return null!==this.ba?this.ba.xj:0},set:function(t){var e=this.toShortLength;e!==t&&(this.Xc(),this.ba.xj=t,this.g("toShortLength",e,t),kr(this))}},toLinkable:{get:function(){return null!==this.ba?this.ba.Tr:null},set:function(t){var e=this.toLinkable;e!==t&&(this.Xc(),this.ba.Tr=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.ba?this.ba.Ur:1/0},set:function(t){var e=this.toMaxLinks;e!==t&&(0>t&&Jt(t,">= 0",X,"toMaxLinks"),this.Xc(),this.ba.Ur=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Xi:Fe},set:function(t){var e=this.fromSpot;e.D(t)||(t=t.J(),this.Xc(),this.ba.Xi=t,this.g("fromSpot",e,t),kr(this))}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Vi:10},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&Jt(t,">= 0",X,"fromEndSegmentLength"),this.Xc(),this.ba.Vi=t,this.g("fromEndSegmentLength",e,t),kr(this))}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Wi:0},set:function(t){var e=this.fromShortLength;e!==t&&(this.Xc(),this.ba.Wi=t,this.g("fromShortLength",e,t),kr(this))}},fromLinkable:{get:function(){return null!==this.ba?this.ba.hq:null},set:function(t){var e=this.fromLinkable;e!==t&&(this.Xc(),this.ba.hq=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.ba?this.ba.iq:1/0},set:function(t){var e=this.fromMaxLinks;e!==t&&(0>t&&Jt(t,">= 0",X,"fromMaxLinks"),this.Xc(),this.ba.iq=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return null!==this.A?this.A.j:""},set:function(t){var e=this.cursor;e!==t&&(me(this),this.A.j=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.A?this.A.zh:null},set:function(t){var e=this.click;e!==t&&(me(this),this.A.zh=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.A?this.A.Fh:null},set:function(t){var e=this.doubleClick;e!==t&&(me(this),this.A.Fh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.A?this.A.Bh:null},set:function(t){var e=this.contextClick;e!==t&&(me(this),this.A.Bh=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.A?this.A.Mh:null},set:function(t){var e=this.mouseEnter;e!==t&&(me(this),this.A.Mh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.A?this.A.Ph:null},set:function(t){var e=this.mouseLeave;e!==t&&(me(this),this.A.Ph=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.A?this.A.Qh:null},set:function(t){var e=this.mouseOver;e!==t&&(me(this),this.A.Qh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.A?this.A.Oh:null},set:function(t){var e=this.mouseHover;e!==t&&(me(this),this.A.Oh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.A?this.A.Nh:null},set:function(t){var e=this.mouseHold;e!==t&&(me(this),this.A.Nh=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.A?this.A.Of:null},set:function(t){var e=this.mouseDragEnter;e!==t&&(me(this),this.A.Of=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.A?this.A.Xd:null},set:function(t){var e=this.mouseDragLeave;e!==t&&(me(this),this.A.Xd=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.A?this.A.Lh:null},set:function(t){var e=this.mouseDrop;e!==t&&(me(this),this.A.Lh=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.A?this.A.V:null},set:function(t){var e=this.actionDown;e!==t&&(me(this),this.A.V=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.A?this.A.ia:null},set:function(t){var e=this.actionMove;e!==t&&(me(this),this.A.ia=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.A?this.A.Ha:null},set:function(t){var e=this.actionUp;e!==t&&(me(this),this.A.Ha=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.A?this.A.F:null},set:function(t){var e=this.actionCancel;e!==t&&(me(this),this.A.F=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.A?this.A.$h:null},set:function(t){var e=this.toolTip;e!==t&&(me(this),this.A.$h=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.A?this.A.Ch:null},set:function(t){var e=this.contextMenu;e!==t&&(me(this),this.A.Ch=t,this.g("contextMenu",e,t))}}}),X.prototype.trigger=X.prototype.Jv,X.prototype.findBindingPanel=X.prototype.ih,X.prototype.findTemplateBinder=X.prototype.pz,X.prototype.setProperties=X.prototype.nm,X.prototype.apply=X.prototype.apply,X.prototype.attach=X.prototype.Du,X.prototype.set=X.prototype.set,X.prototype.isEnabledObject=X.prototype.If,X.prototype.isVisibleObject=X.prototype.Ed,X.prototype.isContainedBy=X.prototype.rg,X.prototype.getNearestIntersectionPoint=X.prototype.rs,X.prototype.getLocalPoint=X.prototype.qs,X.prototype.getDocumentScale=X.prototype.Df,X.prototype.getDocumentAngle=X.prototype.li,X.prototype.getDocumentBounds=X.prototype.mi,X.prototype.getDocumentPoint=X.prototype.ga,X.prototype.intersectsRect=X.prototype.Yc,X.prototype.containedInRect=X.prototype.fh,X.prototype.containsRect=X.prototype.Re,X.prototype.containsPoint=X.prototype.ca,X.prototype.raiseChanged=X.prototype.g,X.prototype.raiseChangedEvent=X.prototype.cb,X.prototype.addCopyProperty=X.prototype.Vw;var hl=null;function _s(){this.nc=!1,this.xa="",this.zp=-1,this.nb=this.wm=this.te=null,this.j="",this.hb=this.Di=this.Hb=this.Ch=this.$h=this.F=this.Ha=this.ia=this.V=this.Lh=this.Xd=this.Of=this.Nh=this.Oh=this.Qh=this.Ph=this.Mh=this.Bh=this.Fh=this.zh=null,this.u=Jn,this.o=Op,this.hg=mn,this.ob=this.Bi=1,this.Pf=te,this.Pc=this.Ci=this.gd=null,this.Oc="category"}function sr(){this.u=-1/0,this.o=0,this.F=mo,this.rr=ni,this.j=this.V="None"}function fu(){this.yj=this.Xi=Oe,this.xj=this.Wi=this.wj=this.Vi=NaN,this.Tr=this.hq=null,this.Ur=this.iq=1/0}function Ir(){this.ha=[1,0,0,1,0,0]}function vs(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.gx=[],this.pattern=null}function Bn(t,e,n){this.ownerDocument=t=void 0===e?nt.document:e,this.cA="http://www.w3.org/2000/svg",void 0!==t&&(this.Oa=this.Ud("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Oa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.hs=null,this.context=new Ci(this,n)}function Ci(t,e){this.Gv=t,this.svg=t.Oa,this.stack=[],this.nh=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.Il=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Vg=this.Br=this.Ar=0,this.yd=this.ad=null,this.path=[],this.Yl={},this.Ct=!1,this.Yg=null,this.uj=0,this.rb=new Ir,this.j=Ga(this),this.Nj=Ga(this,"gojs-diagram"),this.Hl=this.ti=null;var n=rs++,o=this.Ud("clipPath",{id:"mainClip"+n});o.appendChild(this.Ud("rect",{x:0,y:0,width:t.width,height:t.height})),this.ww=o,this.svg.appendChild(this.j),this.j.appendChild(this.Nj),this.svg.appendChild(o),this.j.setAttributeNS(null,"clip-path","url(#mainClip"+n+")"),this.eA={},this.isTemporary=!!e,this.filter="",this.bk=null}function Ag(t,e,n,o,r,s,l){void 0===t.Nj?gu(t,e,n,o,r,s,l):t.Nj.setAttribute("transform","matrix("+e+", "+n+", "+o+", "+r+", "+s+", "+l+")")}function Mg(t,e,n,o,r,s,l,a,p){o=a/o,r=p/r,0===s&&0===l||t.rb.translate(s,l),1===o&&1===r||t.rb.scale(o,r),0===e&&0===n||t.rb.translate(-e,-n)}function Zg(t){return"matrix("+(t=t.rb.ha)[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function pl(t,e,n,o){"fill"===e?$c(t,n):"stroke"===e&&Ng(t,n),null!==o&&(n.transform="matrix("+(t=o.ha)[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")")}function $c(t,e){t.fillStyle instanceof vs?e.fill=td(t,t.fillStyle,!0):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),e.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",e["fill-opacity"]=t[4]):e.fill=t.fillStyle}function jg(t,e,n){n=n?"fill":"stroke",t.fillStyle instanceof vs?e.setAttributeNS(null,"fill",td(t,t.fillStyle,!0)):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),e.setAttributeNS(null,n,"rgb("+t[1]+","+t[2]+","+t[3]+")"),e.setAttributeNS(null,n+"-opacity",t[4])):e.setAttributeNS(null,n,t.fillStyle)}function Ng(t,e){if(t.strokeStyle instanceof vs)e.stroke=td(t,t.strokeStyle,!1);else if(/^rgba\(/.test(t.strokeStyle)){var n=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle);e.stroke="rgb("+n[1]+","+n[2]+","+n[3]+")",e["stroke-opacity"]=n[4]}else e.stroke=t.strokeStyle;e["stroke-width"]=t.lineWidth,e["stroke-linecap"]=t.lineCap,e["stroke-linejoin"]=t.lineJoin,e["stroke-miterlimit"]=t.miterLimit,t.Ct&&(e["stroke-dasharray"]=t.Yg.toString(),e["stroke-dashoffset"]=t.uj)}function td(t,e,n){var o="";if(null!==(o=null!==t.Hl?t.Hl.getAttribute(n?"fill":"stroke"):null)&&-1!==o.indexOf("GRAD")?(o=o.split("#")[1].slice(0,-1),null!==(n=t.svg.getElementById(o))&&n.remove()):o="GRAD"+rs++,"linear"===e.type)n=t.Ud("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:o,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");n=t.Ud("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:o})}var r=e.gx;e=r.length;for(var s=[],l=0;l<e;l++){var a=r[l],p=a.color;a={offset:a.offset,"stop-color":p},/^rgba\(/.test(p)&&(p=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(p),a["stop-color"]="rgb("+p[1]+","+p[2]+","+p[3]+")",a["stop-opacity"]=p[4]),s.push(a)}for(s.sort(function(d,f){return d.offset>f.offset?1:-1}),r=0;r<e;r++)n.appendChild(t.Ud("stop",s[r]));return t.svg.appendChild(n),"url(#"+o+")"}function gu(t,e,n,o,r,s,l){var a=new Ir;a.ha=[e,n,o,r,s,l],pl(t,"g",e={},a),a=t.addElement("g",e),t.nh.push(a)}function Ga(t,e){var n={};return e&&(n.class=e),e=t.addElement("g",n),t.nh.push(e),e}function io(t){t.Il=!1,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Do(t){t.Il=!0,t.shadowOffsetX=t.Ar,t.shadowOffsetY=t.Br,t.shadowBlur=t.Vg}function Ha(t,e){null!==(e=e.getAttribute("fill"))&&1!==(e=e.split("#")).length&&null!==(e=t.svg.getElementById(e[1].slice(0,-1)))&&1===t.svg.innerHTML.match(new RegExp(e.id,"g")).length&&e.remove()}function un(t,e,n,o){this.ownerDocument=e=void 0===e?nt.document:e,this.hs=null,(e=e.createElement("canvas")).tabIndex=0,this.Oa=e,this.context=new Ur(e,n,o),e.H=t}function Ur(t,e,n){this.Z=t.getContext?t.getContext("2d",e):null,null===this.Z&&q("Browser does not support HTML Canvas Element"),this.ct=this.et=this.dt="",this.Hm=!1,this.Vg=this.Br=this.Ar=0,this.Il=!1,this.El=new ct,this.isTemporary=!!n}X.className="GraphObject",hl=new lt,bo("Button",function(){function t(n,o){return null!==n.diagram.ic(n.documentPoint,function(r){for(;null!==r.panel&&!r.isActionable;)r=r.panel;return r},function(r){return r===o})}var e=Qi(O,O.Auto,{isActionable:!0,enabledChanged:function(n,o){if(n instanceof O){var r=n.fb("ButtonBorder");null!==r&&(r.fill=o?n._buttonFillNormal:n._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},Qi(ut,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new $(0,0,2.76142374915397,2.761423749153969),spot2:new $(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(n,o){if(o.If()&&o instanceof O&&(n=o.fb("ButtonBorder"))instanceof ut){var r=o._buttonFillOver;o._buttonFillNormal=n.fill,n.fill=r,r=o._buttonStrokeOver,o._buttonStrokeNormal=n.stroke,n.stroke=r}},e.mouseLeave=function(n,o){o.If()&&o instanceof O&&(n=o.fb("ButtonBorder"))instanceof ut&&(n.fill=o._buttonFillNormal,n.stroke=o._buttonStrokeNormal)},e.actionDown=function(n,o){if(o.If()&&o instanceof O&&null!==o._buttonFillPressed&&0===n.button){var r=o.fb("ButtonBorder");if(r instanceof ut){var s=(n=n.diagram).skipsUndoManager;n.skipsUndoManager=!0;var l=o._buttonFillPressed;o._buttonFillOver=r.fill,r.fill=l,l=o._buttonStrokePressed,o._buttonStrokeOver=r.stroke,r.stroke=l,n.skipsUndoManager=s}}},e.actionUp=function(n,o){if(o.If()&&o instanceof O&&null!==o._buttonFillPressed&&0===n.button){var r=o.fb("ButtonBorder");if(r instanceof ut){var s=n.diagram,l=s.skipsUndoManager;s.skipsUndoManager=!0,t(n,o)?(r.fill=o._buttonFillOver,r.stroke=o._buttonStrokeOver):(r.fill=o._buttonFillNormal,r.stroke=o._buttonStrokeNormal),s.skipsUndoManager=l}}},e.actionCancel=function(n,o){if(o.If()&&o instanceof O&&null!==o._buttonFillPressed){var r=o.fb("ButtonBorder");if(r instanceof ut){var s=n.diagram,l=s.skipsUndoManager;s.skipsUndoManager=!0,t(n,o)?(r.fill=o._buttonFillOver,r.stroke=o._buttonStrokeOver):(r.fill=o._buttonFillNormal,r.stroke=o._buttonStrokeNormal),s.skipsUndoManager=l}}},e.actionMove=function(n,o){if(o.If()&&o instanceof O&&null!==o._buttonFillPressed){var r=n.diagram;if(0===r.firstInput.button&&(r.currentTool.standardMouseOver(),t(n,o)&&(n=o.fb("ButtonBorder"))instanceof ut)){var s=r.skipsUndoManager;r.skipsUndoManager=!0;var l=o._buttonFillPressed;n.fill!==l&&(n.fill=l),n.stroke!==(l=o._buttonStrokePressed)&&(n.stroke=l),r.skipsUndoManager=s}}},e}),bo("TreeExpanderButton",function(){var t=Qi("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Qi(ut,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ss},new re("figure","isTreeExpanded",function(e,n){return n=n.panel,e?n._treeExpandedFigure:n._treeCollapsedFigure}).cp()),{visible:!1},new re("visible","isTreeLeaf",function(e){return!e}).cp());return t.click=function(e,n){if((n=n.part)instanceof mt&&(n=n.adornedPart),n instanceof B){var o=n.diagram;if(null!==o){if(o=o.commandHandler,n.isTreeExpanded){if(!o.canCollapseTree(n))return}else if(!o.canExpandTree(n))return;e.handled=!0,n.isTreeExpanded?o.collapseTree(n):o.expandTree(n)}}},t}),bo("SubGraphExpanderButton",function(){var t=Qi("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Qi(ut,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ss},new re("figure","isSubGraphExpanded",function(e,n){return n=n.panel,e?n._subGraphExpandedFigure:n._subGraphCollapsedFigure}).cp()));return t.click=function(e,n){if((n=n.part)instanceof mt&&(n=n.adornedPart),n instanceof rt){var o=n.diagram;if(null!==o){if(o=o.commandHandler,n.isSubGraphExpanded){if(!o.canCollapseSubGraph(n))return}else if(!o.canExpandSubGraph(n))return;e.handled=!0,n.isSubGraphExpanded?o.collapseSubGraph(n):o.expandSubGraph(n)}}},t}),bo("ToolTip",function(){return Qi(mt,O.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new w(0,3),shadowBlur:5},Qi(ut,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new $(0,0,4,6),spot2:new $(1,1,-4,-4)}))}),bo("ContextMenu",function(){return Qi(mt,O.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new w(0,3),shadowBlur:5},new re("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),bo("ContextMenuButton",function(){var t=Qi("Button");t.stretch=Ue;var e=t.fb("ButtonBorder");return e instanceof ut&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new $(0,0,2,3),e.spot2=new $(1,1,-2,-2)),t}),bo("PanelExpanderButton",function(t){var e=Qa(t,"COLLAPSIBLE"),n=Qi("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},Qi(ut,{name:"ButtonIcon",strokeWidth:2},new re("geometryString","visible",function(o){return o?n._buttonExpandedFigure:n._buttonCollapsedFigure}).cp(e)));return(t=n.fb("ButtonBorder"))instanceof ut&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),n.click=function(o,r){var s=r.diagram;if(null!==s&&!s.isReadOnly){var l=r.ih();null===l&&(l=r.part),null!==l&&null!==(r=l.fb(e))&&(o.handled=!0,s.Ea("Collapse/Expand Panel"),r.visible=!r.visible,s.eb("Collapse/Expand Panel"))}},n}),bo("CheckBoxButton",function(t){var e=Qa(t);return(t=Qi("Button",{desiredSize:new ot(14,14)},Qi(ut,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:oe,geometryStretch:En,visible:!1},""!==e?new re("visible",e).Kx():[]))).click=function(n,o){if(o instanceof O){var r=n.diagram;if(!(null===r||r.isReadOnly||""!==e&&r.model.isReadOnly)){n.handled=!0;var s=o.fb("ButtonIcon");r.Ea("checkbox"),s.visible=!s.visible,"function"==typeof o._doClick&&o._doClick(n,o),r.eb("checkbox")}}},t}),bo("CheckBox",function(t){t=Qi("CheckBoxButton",t=Qa(t),{name:"Button",isActionable:!1,margin:new St(0,1,0,0)});var e=Qi(O,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:new St(1),_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),X.None=te=new Q(X,"None",0),X.Default=mn=new Q(X,"Default",0),X.Vertical=be=new Q(X,"Vertical",4),X.Horizontal=Ue=new Q(X,"Horizontal",5),X.Fill=oe=new Q(X,"Fill",3),X.Uniform=En=new Q(X,"Uniform",1),X.UniformToFill=au=new Q(X,"UniformToFill",2),X.FlipVertical=hu=new Q(X,"FlipVertical",1),X.FlipHorizontal=pu=new Q(X,"FlipHorizontal",2),X.FlipBoth=cu=new Q(X,"FlipBoth",3),X.make=Qi,X.getBuilders=function(){var e,t=new lt;for(e in hl)if(e!==e.toLowerCase()){var n=hl.I(e);"function"==typeof n&&t.add(e,n)}return t.freeze(),t},X.defineBuilder=bo,X.build=function(t,e,n){for(var o=[],r=2;r<arguments.length;++r)o[r-2]=arguments[r];if("function"==typeof(r=hl.I(t))&&(o=r([t].concat(o)))instanceof X)return e&&o.set(e),o;q('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')},X.takeBuilderArgument=Qa,_s.prototype.copy=function(){var t=new _s;return t.xa=this.xa,t.zp=this.zp,t.te=this.te,t.nb=this.nb,t.j=this.j,t.zh=this.zh,t.Fh=this.Fh,t.Bh=this.Bh,t.Mh=this.Mh,t.Ph=this.Ph,t.Qh=this.Qh,t.Oh=this.Oh,t.Nh=this.Nh,t.Of=this.Of,t.Xd=this.Xd,t.Lh=this.Lh,t.V=this.V,t.ia=this.ia,t.Ha=this.Ha,t.F=this.F,t.$h=this.$h,t.Ch=this.Ch,t.Hb=this.Hb,t.Di=this.Di,t.hb=this.hb,t.u=this.u.J(),t.o=this.o.J(),t.hg=this.hg,t.Bi=this.Bi,t.ob=this.ob,t.Pf=this.Pf,t.gd=this.gd,t.Ci=this.Ci,t.Pc=this.Pc,t.Oc=this.Oc,t},sr.prototype.copy=function(){var t=new sr;return t.u=this.u,t.o=this.o,t.F=this.F.J(),t.rr=this.rr,t.V=this.V,t.j=this.j,t},sr.className="LinkElementSettings",fu.prototype.copy=function(){var t=new fu;return t.Xi=this.Xi.J(),t.yj=this.yj.J(),t.Vi=this.Vi,t.wj=this.wj,t.Wi=this.Wi,t.xj=this.xj,t.hq=this.hq,t.Tr=this.Tr,t.iq=this.iq,t.Ur=this.Ur,t},fu.className="LinkSettings",Ir.prototype.copy=function(){var t=new Ir;return t.ha[0]=this.ha[0],t.ha[1]=this.ha[1],t.ha[2]=this.ha[2],t.ha[3]=this.ha[3],t.ha[4]=this.ha[4],t.ha[5]=this.ha[5],t},Ir.prototype.translate=function(t,e){this.ha[4]+=this.ha[0]*t+this.ha[2]*e,this.ha[5]+=this.ha[1]*t+this.ha[3]*e},Ir.prototype.scale=function(t,e){this.ha[0]*=t,this.ha[1]*=t,this.ha[2]*=e,this.ha[3]*=e},Ir.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0!==t){if(this.translate(e,n),90===t){t=0;var o=1}else 180===t?(t=-1,o=0):270===t?(t=0,o=-1):(o=t*Math.PI/180,t=Math.cos(o),o=Math.sin(o));var r=this.ha[1]*t+this.ha[3]*o,s=this.ha[0]*-o+this.ha[2]*t,l=this.ha[1]*-o+this.ha[3]*t;this.ha[0]=this.ha[0]*t+this.ha[2]*o,this.ha[1]=r,this.ha[2]=s,this.ha[3]=l,this.translate(-e,-n)}},Ir.className="STransform",vs.prototype.addColorStop=function(t,e){this.gx.push({offset:t,color:e})},vs.className="SGradient",Bn.prototype.resize=function(t,e,n,o){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=o+"px",this.Oa.setAttributeNS(null,"width",n+"px"),this.Oa.setAttributeNS(null,"height",o+"px"),this.Oa.setAttributeNS(null,"viewBox","0 0 "+n+" "+o),this.context.ww.firstElementChild.setAttributeNS(null,"width",n+"px"),this.context.ww.firstElementChild.setAttributeNS(null,"height",o+"px"),!0)},Bn.prototype.Ud=function(t,e,n){if(t=this.ownerDocument.createElementNS(this.cA,t),Et(e))for(var o in e)t.setAttributeNS("href"===o?"http://www.w3.org/1999/xlink":"",o,e[o]);return void 0!==n&&(t.textContent=n),t},Bn.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},Bn.prototype.focus=function(){this.Oa.focus()},Bn.prototype.mx=function(){this.ownerDocument=null},pt.Object.defineProperties(Bn.prototype,{width:{get:function(){return this.Oa.width.baseVal.value},set:function(t){this.Oa.setAttribute("width",t+"px")}},height:{get:function(){return this.Oa.height.baseVal.value},set:function(t){this.Oa.setAttribute("height",t+"px")}},style:{get:function(){return this.Oa.style}}}),Bn.className="SVGSurface",(x=Ci.prototype).arc=function(t,e,n,o,r,s,l,a){var p=2*Math.PI,d=p-1e-6,f=n*Math.cos(o),g=n*Math.sin(o),m=t+f,v=e+g,y=s?0:1;o=s?o-r:r-o,(1e-6<Math.abs(l-m)||1e-6<Math.abs(a-v))&&this.path.push(["L",m,+v]),0>o&&(o=o%p+p),o>d?(this.path.push(["A",n,n,0,1,y,t-f,e-g]),this.path.push(["A",n,n,0,1,y,m,v])):1e-6<o&&this.path.push(["A",n,n,0,+(o>=Math.PI),y,t+n*Math.cos(r),e+n*Math.sin(r)])},x.beginPath=function(){this.path=[],this.Yl={stroke:"none",fill:"none"}},x.Se=function(t){this.addPath(this.path,this.rb,t||0)},x.bezierCurveTo=function(t,e,n,o,r,s){this.path.push(["C",t,e,n,o,r,s])},x.clearRect=function(){},x.clip=function(){this.Yl.clipPath=!0},x.closePath=function(){this.path.push(["z"])},x.createLinearGradient=function(t,e,n,o){var r=new vs("linear");return r.x1=t,r.y1=e,r.x2=n,r.y2=o,r},x.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var n=this.eA;if(n[e])return"url(#"+n[e]+")";var o="PATTERN"+rs++,r={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Ud("pattern",{width:t.width,height:t.height,id:o,patternUnits:"userSpaceOnUse"})).appendChild(this.Ud(rl,r)),this.svg.appendChild(t),n[e]=o,"url(#"+o+")"},x.createRadialGradient=function(t,e,n,o,r,s){var l=new vs("radial");return l.x1=t,l.y1=e,l.r1=n,l.x2=o,l.y2=r,l.r2=s,l},x.drawImage=function(t,e,n,o,r,s,l,a,p){var d="";t instanceof HTMLCanvasElement&&(d=t.toDataURL()),t instanceof HTMLImageElement&&(d=t.getAttribute("src"));var f=t instanceof HTMLImageElement?t.naturalWidth:t.width;t=t instanceof HTMLImageElement?t.naturalHeight:t.height,void 0===o&&(s=e,l=n,a=o=f,p=r=t),Mg(this,e,n,o=o||0,r=r||0,s||0,l||0,a=a||0,p=p||0),s={x:0,y:0,width:f||o,height:t||r,href:d},N.$(o,a)&&N.$(r,p)?-1===d.toLowerCase().indexOf(".svg")&&-1===d.toLowerCase().indexOf("data:image/svg")&&(s.preserveAspectRatio="xMidYMid slice"):s.preserveAspectRatio="none",(0!==e||0!==n||o!==f||r!==t)&&(s["clip-path"]="path('M "+e+","+n+" L "+(o+=e)+" "+n+" L "+o+" "+(r+=n)+" L "+e+" "+r+" z')"),pl(this,rl,s,this.rb),this.addElement(rl,s)},x.fill=function(t){t&&(this.Yl["fill-rule"]="evenodd"),$c(this,this.Yl)},x.ng=function(t,e){this.clipInsteadOfFill?this.clip():this.fill(e)},x.fillRect=function(t,e,n,o){pl(this,"fill",t={x:(t=[t,e,n,o])[0],y:t[1],width:t[2],height:t[3]},this.rb),this.addElement("rect",t)},x.ox=function(t,e,n,o){pl(this,"fill",t={x:t,y:e,width:n,height:o},this.rb),$c(this,t),this.svg.prepend(this.Ud("rect",t))},x.fillText=function(t,e,n){t=[t,e,n],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),pl(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.rb),this.addElement("text",e,t[0])},x.lineTo=function(t,e){this.path.push(["L",t,e])},x.moveTo=function(t,e){this.path.push(["M",t,e])},x.quadraticCurveTo=function(t,e,n,o){this.path.push(["Q",t,e,n,o])},x.rect=function(t,e,n,o){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+o],["L",t,e+o],["z"])},x.restore=function(){this.rb=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign,this.bk=t.bk},x.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,bk:this.bk});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.rb.copy())},x.setTransform=function(t,e,n,o,r,s){1===t&&0===e&&0===n&&1===o&&0===r&&0===s||gu(this,t,e,n,o,r,s)},x.scale=function(t,e){this.rb.scale(t,e)},x.translate=function(t,e){this.rb.translate(t,e)},x.transform=function(){},x.yc=function(){},x.stroke=function(){Ng(this,this.Yl)},x.jk=function(){this.clipInsteadOfFill||this.stroke()},x.Ud=function(t,e,n){return this.Gv.Ud(t,e,n)},x.addElement=function(t,e,n){return t=this.Ud(t,e,n),null!==this.yd?this.yd.appendChild(t):this.yd=t,this.ad=t},x.addPath=function(t,e,n){for(var o=[],r=0;r<t.length;r++){var s=Os(t[r]),l=[s.shift()];if("A"===l[0])l.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)l.push(s.shift()+","+s.shift());o.push(l.join(" "))}if(o=o.join(" "),(t=this.Yl).clipPath)0<this.nh.length&&this.nh[this.nh.length-1].setAttributeNS(null,"clip-path",'path("'+o+'")');else if(t.d=o,pl(this,"",t,e),null!==this.Hl)if("g"!==(e=this.Hl).nodeName)for(var a in t)"transform"!==a&&e.setAttributeNS(null,a,t[a]);else for(var p in a=e.getElementsByTagName("path"),t)"transform"!==p&&a[n].setAttributeNS(null,p,t[p]);else this.addElement("path",t)},x.Ev=function(t,e,n){this.Ar=t,this.Br=e,this.Vg=n},x.js=function(t,e){this.Ct=!0,this.Yg=t,this.uj=e},x.fs=function(){this.Ct=!1},x.Vc=function(){},x.Wx=function(){},Ci.prototype.rotate=function(t){this.rb.rotate(57.2958*t,0,0)},Ci.prototype.getImageData=function(){return null},Ci.prototype.measureText=function(){return null},Ci.prototype.Hs=function(t){null!==t.svg&&t.svg.parentNode===this.Nj&&t.svg.remove()},Ci.className="SVGContext",I.prototype.makeSvg=I.prototype.Cs=function(t){this.pj.contains("SVG")||this.bs("SVG",new Bn(this,nt.document));var e=new Bn(this,nt.document,!0);void 0===t&&(t=new en);var n=this;return ug(this,function(o,r){return o=null!==(o=ag(n,o,"SVG",e))?o.svg:null,"function"==typeof r?(r(o),null):o},t)},I.prototype.makeSVG=I.prototype.av=function(t){return this.Cs(t)},un.prototype.resize=function(t,e,n,o){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=o+"px",!0)},un.prototype.toDataURL=function(t,e){return this.Oa.toDataURL(t,e)},un.prototype.getBoundingClientRect=function(){return this.Oa.getBoundingClientRect()},un.prototype.focus=function(){this.Oa.focus()},un.prototype.mx=function(){this.ownerDocument=this.Oa.H=null},pt.Object.defineProperties(un.prototype,{width:{get:function(){return this.Oa.width},set:function(t){this.Oa.width=t}},height:{get:function(){return this.Oa.height},set:function(t){this.Oa.height=t}},style:{get:function(){return this.Oa.style}}}),un.className="CanvasSurface",(x=Ur.prototype).Wx=function(t){this.Z.imageSmoothingEnabled=t},x.arc=function(t,e,n,o,r,s){this.Z.arc(t,e,n,o,r,s)},x.beginPath=function(){this.Z.beginPath()},x.Se=function(){},x.bezierCurveTo=function(t,e,n,o,r,s){this.Z.bezierCurveTo(t,e,n,o,r,s)},x.clearRect=function(t,e,n,o){this.yc(),this.Z.clearRect(t,e,n,o)},x.clip=function(){this.Z.clip()},x.closePath=function(){this.Z.closePath()},x.createLinearGradient=function(t,e,n,o){return this.Z.createLinearGradient(t,e,n,o)},x.createPattern=function(t,e){return this.Z.createPattern(t,e)},x.createRadialGradient=function(t,e,n,o,r,s){return this.Z.createRadialGradient(t,e,n,o,r,s)},x.drawImage=function(t,e,n,o,r,s,l,a,p){void 0===o?this.Z.drawImage(t,e,n):this.Z.drawImage(t,e,n,o,r,s,l,a,p)},x.fill=function(t){this.Z.fill(t?"evenodd":"nonzero")},x.fillRect=function(t,e,n,o){this.Z.fillRect(t,e,n,o)},x.ox=function(t,e,n,o){this.Z.fillRect(t,e,n,o)},x.fillText=function(t,e,n){this.Z.fillText(t,e,n)},x.getImageData=function(t,e,n,o){return this.Z.getImageData(t,e,n,o)},x.lineTo=function(t,e){this.Z.lineTo(t,e)},x.measureText=function(t){return this.Z.measureText(t)},x.moveTo=function(t,e){this.Z.moveTo(t,e)},x.quadraticCurveTo=function(t,e,n,o){this.Z.quadraticCurveTo(t,e,n,o)},x.rect=function(t,e,n,o){this.Z.rect(t,e,n,o)},x.restore=function(){this.Z.restore()},x.save=function(){this.yc(),this.Z.save()},Ur.prototype.rotate=function(t){this.El.rotate(57.2958*t,0,0)},(x=Ur.prototype).setTransform=function(t,e,n,o,r,s){this.El.setTransform(t,e,n,o,r,s)},x.scale=function(t,e){this.El.scale(t,e)},x.translate=function(t,e){this.El.translate(t,e)},x.stroke=function(){this.Z.stroke()},x.transform=function(t,e,n,o,r,s){if(1!==t||0!==e||0!==n||1!==o||0!==r||0!==s){var l=this.El,a=l.m11*t+l.m21*e;t=l.m12*t+l.m22*e,e=l.m11*n+l.m21*o,n=l.m12*n+l.m22*o,l.dx=l.m11*r+l.m21*s+l.dx,l.dy=l.m12*r+l.m22*s+l.dy,l.m11=a,l.m12=t,l.m21=e,l.m22=n}},x.yc=function(){var t=this.El;this.Z.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},x.ng=function(t,e){if(t instanceof Pt&&t.type===Gi){var n=t.yk;(t=t.ft)>n?(this.scale(n/t,1),this.translate((t-n)/2,0)):n>t&&(this.scale(1,t/n),this.translate(0,(n-t)/2)),this.Hm?this.clip():this.fill(e),t>n?(this.translate(-(t-n)/2,0),this.scale(1/(n/t),1)):n>t&&(this.translate(0,-(n-t)/2),this.scale(1,1/(t/n)))}else this.Hm?this.clip():this.fill(e)},x.jk=function(){this.Hm||this.stroke()},x.Ev=function(t,e,n){this.Ar=t,this.Br=e,this.Vg=n},x.js=function(t,e){var n=this.Z;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},x.fs=function(){var t=this.Z;void 0!==t.setLineDash&&(t.setLineDash($_),t.lineDashOffset=0)},x.Vc=function(t){t&&(this.dt=""),this.ct=this.et=""},x.Hs=function(){},pt.Object.defineProperties(Ur.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(t){this.ct!==t&&(this.ct=this.Z.fillStyle=t)}},font:{get:function(){return this.Z.font},set:function(t){this.dt!==t&&(this.dt=this.Z.font=t)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(t){this.Z.globalAlpha=t}},lineCap:{get:function(){return this.Z.lineCap},set:function(t){this.Z.lineCap=t}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(t){this.Z.lineDashOffset=t}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(t){this.Z.lineJoin=t}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(t){this.Z.lineWidth=t}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(t){this.Z.miterLimit=t}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(t){this.Z.shadowBlur=t}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(t){this.Z.shadowColor=t}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(t){this.Z.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(t){this.Z.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(t){this.et!==t&&(this.et=this.Z.strokeStyle=t)}},textAlign:{get:function(){return this.Z.textAlign},set:function(t){this.Z.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(t){this.Z.imageSmoothingEnabled=t}},filter:{get:function(){return this.Z.filter},set:function(t){this.Z.filter=""===t?"none":t}},clipInsteadOfFill:{get:function(){return this.Hm},set:function(t){this.Hm=t}}});var $_=Object.freeze([]);function mu(){this.F=this.o=this.u=this.j=0}function Pt(t,e){gl||(sd(),gl=!0),ye(this),this._isFrozen=!1,void 0===t?(this.na=qo,this.xk="black"):"string"==typeof t?(this.na=qo,this.xk=t):(this.na=t,this.xk="black"),(t=this.na)===To?(this.Qd=yo,this.Lk=ls):this.Lk=this.Qd=t===Gi?Mt:Fe,this.Gr=0,this.Xp=NaN,this.xe=this.cr=this.we=null,this.ft=this.yk=0,e&&Object.assign(this,e)}function kg(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?_l:n,So(t),dl(e,n)}function Ig(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?_l:n,So(t),dl(-e,n)}function ed(t,e,n){So(t),t=Ut.j;var o=Ut.u,r=Ut.o,s=Ut.F;return So(e),void 0===n&&(n=.5),"rgba("+Math.round((Ut.j-t)*n+t)+", "+Math.round((Ut.u-o)*n+o)+", "+Math.round((Ut.o-r)*n+r)+", "+Math.round((Ut.F-s)*n+s)+")"}function cl(t){return!!t&&(t instanceof Pt?t.Gx():(So(t),128>(299*Ut.j+587*Ut.u+114*Ut.o)/1e3))}function dl(t,e){switch(e){case _l:e=100*nd(Ut.j);var n=100*nd(Ut.u),o=100*nd(Ut.o);return ei.j=.4124564*e+.3575761*n+.1804375*o,ei.u=.2126729*e+.7151522*n+.072175*o,ei.o=.0193339*e+.119192*n+.9503041*o,ei.F=Ut.F,e=rd(ei.j/fl[0]),n=rd(ei.u/fl[1]),o=rd(ei.o/fl[2]),no.j=116*n-16,no.u=500*(e-n),no.o=200*(n-o),no.F=ei.F,no.j=Math.min(100,Math.max(0,no.j+100*t)),e=(t=(no.j+16)/116)-no.o/200,ei.j=fl[0]*Ug(no.u/500+t),ei.u=fl[1]*(no.j>Ka*ld?Math.pow(t,3):no.j/Ka),ei.o=fl[2]*Ug(e),ei.F=no.F,t=-.969266*ei.j+1.8760108*ei.u+.041556*ei.o,e=.0556434*ei.j+-.2040259*ei.u+1.0572252*ei.o,Ut.j=255*od((3.2404542*ei.j+-1.5371385*ei.u+-.4985314*ei.o)/100),Ut.u=255*od(t/100),Ut.o=255*od(e/100),Ut.F=ei.F,Ut.j=Math.round(Ut.j),255<Ut.j?Ut.j=255:0>Ut.j&&(Ut.j=0),Ut.u=Math.round(Ut.u),255<Ut.u?Ut.u=255:0>Ut.u&&(Ut.u=0),Ut.o=Math.round(Ut.o),255<Ut.o?Ut.o=255:0>Ut.o&&(Ut.o=0),"rgba("+Ut.j+", "+Ut.u+", "+Ut.o+", "+Ut.F+")";case Fg:return id(),Zi.o=Math.min(100,Math.max(0,Zi.o+100*t)),"hsla("+Zi.j+", "+Zi.u+"%, "+Zi.o+"%, "+Zi.F+")";default:q("Unknown color space: "+e)}}function So(t){gl||(sd(),gl=!0);var e=ud;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var n=e.fillStyle;e.fillStyle=t,e.fillStyle!==n?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,Ut.j=t[0],Ut.u=t[1],Ut.o=t[2],Ut.F=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,Ut.j=0,Ut.u=0,Ut.o=0,Ut.F=1)}}function id(){var t=Ut.j/255,e=Ut.u/255,n=Ut.o/255,o=Math.max(t,e,n),r=Math.min(t,e,n),s=o-r;if(r=(o+r)/2,0===s)var l=t=0;else{switch(o){case t:l=(e-n)/s%6;break;case e:l=(n-t)/s+2;break;case n:l=(t-e)/s+4}0>(l*=60)&&(l+=360),t=s/(1-Math.abs(2*r-1))}Zi.j=Math.round(l),Zi.u=Math.round(100*t),Zi.o=Math.round(100*r),Zi.F=Ut.F}function nd(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function od(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function rd(t){return t>ld?Math.pow(t,1/3):(Ka*t+16)/116}function Ug(t){var e=t*t*t;return e>ld?e:(116*t-16)/Ka}function ys(t,e){"string"!=typeof t&&(t instanceof Pt||q("Value for "+e+" must be a color string or a Brush, not "+t))}function sd(){ud=gn?new un(null,void 0,{willReadFrequently:!0}).context:null}Ur.className="CanvasSurfaceContext",mu.className="ColorNumbers",Pt.prototype.copy=function(){var t=new Pt;return t.na=this.na,t.xk=this.xk,t.Qd=this.Qd.J(),t.Lk=this.Lk.J(),t.Gr=this.Gr,t.Xp=this.Xp,null!==this.we&&(t.we=this.we.copy()),t.cr=this.cr,t},(x=Pt.prototype).freeze=function(){return this._isFrozen=!0,null!==this.we&&this.we.freeze(),this},x.ka=function(){return Object.isFrozen(this)&&q("cannot thaw constant: "+this),this._isFrozen=!1,null!==this.we&&this.we.ka(),this},x.qb=function(t){t.classType===Pt&&(this.type=t)},x.toString=function(){var t="Brush(";if(this.type===qo)t+=this.color;else if(t=this.type===To?t+"Linear ":this.type===Gi?t+"Radial ":this.type===ml?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},x.addColorStop=function(t,e){return this._isFrozen&&gt(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Jt(t,"0 <= loc <= 1",Pt,"addColorStop:loc"),null===this.we&&(this.we=new lt),this.we.add(t,e),this.na===qo&&(this.type=To),this.xe=null,this},x.Vz=function(t,e){if(this._isFrozen&&gt(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?_l:e,this.type===qo)So(this.color),this.color=dl(t,e);else if((this.type===To||this.type===Gi)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)So(n.value),this.addColorStop(n.key,dl(t,e));return this},x.Wy=function(t,e){if(this._isFrozen&&gt(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?_l:e,this.type===qo)So(this.color),this.color=dl(-t,e);else if((this.type===To||this.type===Gi)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)So(n.value),this.addColorStop(n.key,dl(-t,e));return this},x.Gx=function(){if(this.type===qo)return cl(this.color);if((this.type===To||this.type===Gi)&&null!==this.colorStops){var t=this.colorStops;if(this.type===Gi)return cl(t.first().value);if(null!==t.get(.5))return cl(t.get(.5));if(2===t.count)return cl(ed((t=t.Fa())[0].value,t[1].value));for(var e=t.iterator,n=-1,o=-1,r=1,s=1;e.next();){var l=e.key,a=Math.abs(.5-e.key);r>s&&a<r?(n=l,r=a):s>=r&&a<s&&(o=l,s=a)}return n>o&&(s=n,n=o,o=s,s=r),r=o-n,cl(ed(t.get(n),t.get(o),1-s/r))}return!1},pt.Object.defineProperties(Pt.prototype,{type:{get:function(){return this.na},set:function(t){this._isFrozen&&gt(this,t),this.na=t,this.start.Mc()&&(t===To?this.start=yo:t===Gi&&(this.start=Mt)),this.end.Mc()&&(t===To?this.end=ls:t===Gi&&(this.end=Mt)),this.xe=null}},color:{get:function(){return this.xk},set:function(t){this._isFrozen&&gt(this,t),this.xk=t,this.xe=null}},start:{get:function(){return this.Qd},set:function(t){this._isFrozen&&gt(this,t),this.Qd=t.J(),this.xe=null}},end:{get:function(){return this.Lk},set:function(t){this._isFrozen&&gt(this,t),this.Lk=t.J(),this.xe=null}},startRadius:{get:function(){return this.Gr},set:function(t){this._isFrozen&&gt(this,t),0>t&&Jt(t,">= zero",Pt,"startRadius"),this.Gr=t,this.xe=null}},endRadius:{get:function(){return this.Xp},set:function(t){this._isFrozen&&gt(this,t),0>t&&Jt(t,">= zero",Pt,"endRadius"),this.Xp=t,this.xe=null}},colorStops:{get:function(){return this.we},set:function(t){this._isFrozen&&gt(this,t),this.we=t,this.xe=null}},pattern:{get:function(){return this.cr},set:function(t){this._isFrozen&&gt(this,t),this.cr=t,this.xe=null}}}),Pt.prototype.isDark=Pt.prototype.Gx,Pt.prototype.darkenBy=Pt.prototype.Wy,Pt.prototype.lightenBy=Pt.prototype.Vz,Pt.prototype.addColorStop=Pt.prototype.addColorStop;var qo,To,Gi,ml,_l,Fg,ld=216/24389,Ka=24389/27,fl=[95.047,100,108.883],ud=null,Ut=new mu,Zi=new mu,ei=new mu,no=new mu,gl=!1;function de(){this.xa="Base"}function Va(){this.xa="Base"}function za(){this.xa="Base"}function Xa(){this.xa="Base"}function Wa(){this.xa="Base"}function ad(t,e,n){var o=null;if(t instanceof O&&""!==t.$e&&(o=t.fb(t.$e))===t&&(o=null),null!==o)for(n&&t.arrange(0,0,e.width,e.height),e.assign(o.actualBounds),o=o.panel;o!==t;)o.transform.pp(e),o=o.panel}function $a(){this.xa="Base"}function th(){this.xa="Base",this.name="Table"}function eh(){this.xa="Base"}function ih(){this.xa="Base"}function nh(){this.xa="Base"}function _u(){this.xa="Base"}function oh(t,e,n,o){if(0>e)return t%e===n;if(t%e!==n)return!1;e=o.length;for(var r=0;r<e;r++)if(t%o[r]===n)return!1;return!0}function rh(){this.xa="Base"}function Og(t,e,n,o){if(!1!==Lo(o)){var r=o.strokeWidth;0===r&&t instanceof mt&&t.type===O.Link&&t.adornedObject instanceof ut&&(r=t.adornedObject.strokeWidth),r*=o.Ca,t instanceof L&&null!==t.ua?o.Ge((t=t.geometry.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):t instanceof mt&&null!==t.adornedPart.ua?o.Ge((t=t.adornedPart.ua.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):o.Ge(-r/2,-r/2,e+r,n+r),(r=o.desiredSize).w()||null===o.ua?o.dc.h(0,0,r.width,r.height):o.dc.assign(o.ua.bounds),Bi(o,!1)}}function vu(){this.xa="Base"}function O(t,e){if(X.call(this),this.na=null,void 0===t)this.na=O.Position;else if("string"==typeof t){var n=vn.I(t);null!==n&&(this.na=n)}else t instanceof de?this.na=t:t&&(this.na=O.Position,e=t);null===this.na&&q("Panel type not specified or PanelLayout not loaded: "+t),this.l=4194304|this.l|(this.na===O.Grid?1048576:0),this.O=new H,this.yb=bs,this.Tm=Oe,this.Uf=mn,this.$g=null,this.$e="",this.jg=new U(NaN,NaN,NaN,NaN),this.T=this.F=null,this.xo=En,this.jn=Yf,this.kn=mo,this.ub=this.ra=null,this.zn=NaN,this.ge=this.Hh=null,e&&Object.assign(this,e)}function hd(t,e){e.lineCap="butt";var n=0<t.rowCount?t.rowDefs:null,o=0<t.columnCount?t.colDefs:null;null!==n&&sh(t,e,!0,n,!0),null!==o&&sh(t,e,!1,o,!0),null!==n&&Lg(t,e,!0,n),null!==o&&Lg(t,e,!1,o),null!==n&&sh(t,e,!0,n,!1),null!==o&&sh(t,e,!1,o,!1)}function Lg(t,e,n,o){for(var r=o.length,s=t.actualBounds,l=t.naturalBounds,a=!0,p=0;p<r;p++){var d=o[p];if(void 0!==d&&0!==d.actual)if(a)a=!1;else{if(n){if(d.position>l.height)continue}else if(d.position>l.width)continue;var f=d.separatorStrokeWidth;isNaN(f)&&(f=n?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var g=d.separatorStroke;if(null===g&&(g=n?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),0!==f&&null!==g){Mi(t,e,g,!1,!1,l,s),g=!1;var m=d.separatorDashArray;null===m&&(m=n?t.defaultRowSeparatorDashArray:t.defaultColumnSeparatorDashArray),null!==m&&(g=!0,e.js(m,0)),e.beginPath(),m=d.position+f,n?m>l.height&&(f-=m-l.height):m>l.width&&(f-=m-l.width),d=d.position+f/2,e.lineWidth=f,f=t.yb,n?(m=l.width-f.right,e.moveTo(f.left,d+=f.top),e.lineTo(m,d)):(m=l.height-f.bottom,e.moveTo(d+=f.left,f.top),e.lineTo(d,m)),e.stroke(),e.Se(),g&&e.fs()}}}}function sh(t,e,n,o,r){for(var s=o.length,l=t.actualBounds,a=t.naturalBounds,p=bg(t,!0),d=bg(t,!1),f=0;f<s;f++){var g=o[f];if(void 0!==g&&null!==g.background&&g.coversSeparators!==r&&0!==g.actual){var m=n?l.height:l.width;if(!(g.position>m)){var v=g.Wc(),y=g.separatorStrokeWidth;isNaN(y)&&(y=n?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var P=g.separatorStroke;null===P&&(P=n?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),(null===P||g.index===(n?p:d))&&(y=0),v-=y,(y=g.position+y)+(v+=g.actual)>m&&(v=m-y),0>=v||(m=t.yb,Mi(t,e,g.background,!0,!1,a,l),n?e.fillRect(m.left,y+m.top,l.width-(m.left+m.right),v):e.fillRect(y+m.left,m.top,v,l.height-(m.top+m.bottom)))}}}}function bg(t,e){for(var n=e?t.rowCount:t.columnCount,o=0;o<n;o++){var r=e?t.rowDefs[o]:t.colDefs[o];if(void 0!==r)return r.index}return 0}function pd(t){return"LineV"===t||"BarV"===t}function Co(t){return null!==t.part?t.part.locationObject:null}function Fr(t,e){qg(t,t,e)}function qg(t,e,n){n(e);for(var o=(e=e.O.s).length,r=0;r<o;r++){var s=e[r];s instanceof O&&qg(t,s,n)}}function t2(t,e){Yg(t,t,e)}function Yg(t,e,n){if(n(e),e instanceof O)for(var o=(e=e.O.s).length,r=0;r<o;r++)Yg(t,e[r],n)}function Jg(t,e,n){if(n(e))return e;if(e instanceof O)for(var o=(e=e.O.s).length,r=0;r<o;r++){var s=Jg(t,e[r],n);if(null!==s)return s}return null}function Rg(t){for(var e=(t=t.O.s).length,n=0,o=0;o<e;o++){var r=t[o];r instanceof O?n=Math.max(n,Rg(r)):r instanceof ut&&(n=Math.max(n,r.ig/2*r.strokeMiterLimit*r.Df()))}return n}function Yo(t){return t.type===O.TableRow||t.type===O.TableColumn}function cd(t,e,n,o){for(var r=t.O.s,s=r.length;s--;){var l=r[s];if(l.visible){var a=l.actualBounds,p=t.naturalBounds;a.x>p.width||a.y>p.height||0>a.x+a.width||0>a.y+a.height||(l instanceof O&&cd(l,e,n,o),null!==e&&(l=e(l)),null===l||null!==n&&!n(l)||o.add(l))}}}function dd(t){var e=null;return t instanceof ut&&((e=t.spot1)===Oe&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=Ee),e}function fd(t){var e=null;return t instanceof ut&&((e=t.spot2)===Oe&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=Xn),e}function gd(t,e){t.l=e?16777216|t.l:-16777217&t.l}function Eg(t,e,n){var o=t.rowDefs;if(!(0>e)){if(o[e]=n instanceof le?n:void 0,!n)for(e=o.length-1;0<=e&&void 0===o[e--];)o.length--;t.v()}}function Bg(t,e,n){var o=t.colDefs;if(!(0>e)){if(o[e]=n instanceof le?n:void 0,!n)for(e=o.length-1;0<=e&&void 0===o[e--];)o.length--;t.v()}}function Qg(t){return null!==(t=t.allBindings)&&t._isFrozen}function an(t){var e=t.allBindings;if(null===e)null!==t.data&&q("Template cannot have .data be non-null: "+t),t.allBindings=e=new H;else if(e._isFrozen)return;var n=new H;gd(t,!1),t.qm(t,function(d,f){f.th();var g=f.localBindings;if(null!==g)for(Xc(f,!1),g=g.iterator;g.next();){var m=g.value;m.mode===Ju&&Xc(f,!0);var v=m.sourceName;null!==v&&("/"===v&&gd(d,!0),null!==(v=rm(m,d,f))&&(n.add(v),null===v.srcBindings&&(v.srcBindings=new H),v.srcBindings.add(m))),e.add(m)}if(f instanceof O&&f.type===O.Table){if(0<f.rowCount)for(g=(d=f.rowDefs).length,m=0;m<g;m++)if(void 0!==(v=d[m])&&null!==v.be)for(var y=v.be.iterator;y.next();){var P=y.value;P.xd=v,P.to=2,P.wl=v.index,e.add(P)}if(0<f.columnCount)for(d=(f=f.colDefs).length,g=0;g<d;g++)if(void 0!==(m=f[g])&&null!==m.be)for(v=m.be.iterator;v.next();)(y=v.value).xd=m,y.to=1,y.wl=m.index,e.add(y)}});for(var o=n.iterator;o.next();){var r=o.value;if(null!==r.srcBindings){Xc(r,!0);for(var s=r.srcBindings.iterator;s.next();){var l=s.value;null===r.localBindings&&(r.localBindings=new H),r.localBindings.add(l)}}r.srcBindings=null}for(o=e.iterator;o.next();)if(null!==(s=(r=o.value).xd)){r.xd=null;var a=r.targetProperty,p=a.indexOf(".");0<p&&s instanceof O&&(l=a.substring(0,p),a=a.substr(p+1),null!==(p=s.fb(l))?(s=p,r.targetProperty=a):Di('Warning: unable to find GraphObject named "'+l+'" for Binding: '+r.toString())),s instanceof le?(l=ui(s.panel),r.Ai=void 0===l?-1:l,s.panel.bindingId=r.Ai):s instanceof X?(l=ui(s),r.Ai=void 0===l?-1:l,s.bindingId=r.Ai):q("Unknown type of binding target: "+s)}e.freeze(),t instanceof W&&t.Zc()&&t.Va()}function yu(t){if(t.type===O.Spot||t.type===O.Auto)return Math.min(t.O.length,1);if(t.type===O.Link){for(var e=(t=t.O).length,n=0;n<e;n++){var o=t.M(n);if(!(o instanceof ut&&o.isPanelMain))break}return n}return t.type===O.Table&&0<t.O.length&&(t=t.O.M(0)).isPanelMain&&t instanceof O&&Yo(t)?1:0}function Gg(t,e){var n=yu(t);if(null===e||0===e.length)for(;t.O.length>n;)t.pc(t.O.length-1,!1);else if(t.O.length<=n){n=e.length;for(var o=0;o<n;o++)lh(t,e[o],o,!0)}else{o=n;for(var r=0;r<e.length;r++,o++){var s=e[r],l=o<t.O.length?t.O.M(o):null;if(l instanceof O){if(l.data!==s){var a=_d(t,l.data),p=_d(t,s),d=p!==a;d||(a=vd(t,a),d=vd(t,p)!==a),d?(t.pc(o,!1),lh(t,s,r,!1)):l.data=s}}else lh(t,s,r,!1)}for(;o<t.O.length;)t.pc(o,!1);t.$g=null,md(t,n,0),Lo(t)||t.v(),t.graduatedIntervals=null,t.If()||uh(t,t,!1),null!==(e=t.part)&&(e.Rh=null,e.ag=NaN,t.Te&&e instanceof B&&(e.Te=!0),e.Te&&e instanceof B&&(e.wc=null))}}function lh(t,e,n,o){if(!(null==e||0>n)){var r=_d(t,e);if(null!==(r=vd(t,r))){if(an(r),16777216&(r=r.copy()).l){var s=t.ih();null!==s&&gd(s,!0)}"object"==typeof e&&(null===t.ge&&(t.ge=new lt),t.ge.add(e,r)),s=n+yu(t),t.Gb(s,r),o&&(r.ub=e,md(t,s,n),r.ub=null),r.data=e}}}function md(t,e,n){for(t=t.O;e<t.length;){var o=t.M(e);if(o instanceof O){var r=e,s=n;o.type===O.TableRow?o.row=r:o.type===O.TableColumn&&(o.column=r),o.itemIndex=s}e++,n++}}function _d(t,e){if(null===e)return"";if("function"==typeof(t=t.itemCategoryProperty))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=ee(e,t)}return void 0===t?"":"string"==typeof t?t:void q("Panel.getCategoryForItemData found a non-string category for "+e+": "+t)}function vd(t,e){var n=t.itemTemplateMap,o=null;return null!==n&&(o=n.I(e)),null===o&&(null!==n&&(o=n.I("")),null===o&&(Hg||(Hg=!0,Di('No item template Panel found for category "'+e+'" on '+t),Di("  Using default item template."),t=new O,(e=new kt).bind(new re("text","",cn)),t.add(e),Kg=t),o=Kg)),o}function uh(t,e,n){var o=e.enabledChanged;if(null!==o&&o(e,n),e instanceof O){o=(e=e.O.s).length;for(var r=0;r<o;r++){var s=e[r];n&&s instanceof O&&!s.isEnabled||uh(t,s,n)}}}function Qn(t,e){e.name=t,vn.add(t,e)}Pt.className="Brush",Pt.Solid=qo=new Q(Pt,"Solid",0),Pt.Linear=To=new Q(Pt,"Linear",1),Pt.Radial=Gi=new Q(Pt,"Radial",2),Pt.Pattern=ml=new Q(Pt,"Pattern",4),Pt.Lab=_l=new Q(Pt,"Lab",5),Pt.HSL=Fg=new Q(Pt,"HSL",6),Pt.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var n=Math.abs(e-t);e=Math.floor(t+Math.random()*n).toString(16);var o=Math.floor(t+Math.random()*n).toString(16);return t=Math.floor(t+Math.random()*n).toString(16),2>e.length&&(e="0"+e),2>o.length&&(o="0"+o),2>t.length&&(t="0"+t),"#"+e+o+t},Pt.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;gl||(sd(),gl=!0);var e=ud;if(null===e)return!0;e.fillStyle="#000000";var n=e.fillStyle;return e.fillStyle=t,e.fillStyle!==n||(e.fillStyle="#FFFFFF",n=e.fillStyle,e.fillStyle=t,e.fillStyle!==n)},Pt.lighten=function(t){return kg(t)},Pt.lightenBy=kg,Pt.darken=function(t){return Ig(t)},Pt.darkenBy=Ig,Pt.mix=ed,Pt.isDark=cl,de.prototype.measure=function(){},de.prototype.Yz=function(t,e,n,o,r){t.measure(e,n,o,r)},de.prototype.arrange=function(){},de.prototype.Ly=function(t,e,n,o,r,s){t.arrange(e,n,o,r,s)},de.prototype.iA=function(t){t.Uj()},de.prototype.gc=function(){},pt.Object.defineProperties(de.prototype,{name:{get:function(){return this.xa},set:function(t){this.xa=t}},classType:{get:function(){return O}}}),de.prototype.remeasureObject=de.prototype.iA,de.prototype.arrangeElement=de.prototype.Ly,de.prototype.measureElement=de.prototype.Yz,de.className="PanelLayout",At(Va,de),Va.prototype.measure=function(t,e,n,o,r,s,l){var a=o.length;t=Co(t);for(var p=0;p<a;p++){var d=o[p];if(d.visible||d===t){var f=d.margin,g=f.right+f.left;f=f.top+f.bottom,d.measure(e,n,s,l);var m=d.measuredBounds;g=Math.max(m.width+g,0),f=Math.max(m.height+f,0),m=d.position.x;var v=d.position.y;isFinite(m)||(m=0),isFinite(v)||(v=0),d instanceof ut&&d.isGeometryPositioned&&(m-=d=d.strokeWidth/2,v-=d),Me(r,m,v,g,f)}}},Va.prototype.arrange=function(t,e,n){var o=e.length,r=t.padding;for(t=n.x-r.left,n=n.y-r.top,r=0;r<o;r++){var s=e[r],l=s.measuredBounds,a=s.margin,p=s.position.x,d=s.position.y;if(p=isNaN(p)?-t:p-t,d=isNaN(d)?-n:d-n,s instanceof ut&&s.isGeometryPositioned){var f=s.strokeWidth/2;p-=f,d-=f}s.visible&&s.arrange(p+a.left,d+a.top,l.width,l.height)}},At(za,de),za.prototype.measure=function(t,e,n,o,r,s,l){var a=o.length;e=bt(),s=Co(t);for(var p=0;p<a;p++){var d=o[p];if(d.visible||d===s){var f=kn(d,!1);if(f!==te&&f!==Ue)e.push(d);else{d.measure(1/0,n,0,l),f=d.margin,d=d.measuredBounds;var g=Math.max(d.height+f.top+f.bottom,0);r.width+=Math.max(d.width+f.right+f.left,0),r.height=Math.max(r.height,g)}}}for(o=e.length,t.desiredSize.height?n=Math.min(t.desiredSize.height,t.maxSize.height):0!==r.height&&(n=Math.min(r.height,t.maxSize.height)),t=0;t<o;t++)((p=e[t]).visible||p===s)&&(a=(f=p.margin).right+f.left,f=f.top+f.bottom,p.measure(1/0,n,0,l),p=p.measuredBounds,f=Math.max(p.height+f,0),r.width+=Math.max(p.width+a,0),r.height=Math.max(r.height,f));Nt(e)},za.prototype.arrange=function(t,e,n){for(var o=e.length,r=t.padding,s=r.top,l=t.isOpposite,a=l?n.width:r.left,p=0;p<o;p++){var d=s,f=e[p];if(f.visible){var g=f.measuredBounds,m=f.margin,v=m.top+m.bottom,y=s+r.bottom,P=g.height,T=kn(f,!1);(isNaN(f.desiredSize.height)&&T===oe||T===be)&&(P=Math.max(n.height-v-y,0)),v=P+v+y,(y=f.alignment).Xb()&&(y=t.defaultAlignment),y.sb()||(y=Mt),l&&(a-=g.width+m.left+m.right),f.arrange(a+y.offsetX+m.left,d+y.offsetY+m.top+(n.height*y.y-v*y.y),g.width,P),l||(a+=g.width+m.left+m.right)}}},At(Xa,de),Xa.prototype.measure=function(t,e,n,o,r,s){var l=o.length;n=bt();for(var a=Co(t),p=0;p<l;p++){var d=o[p];if(d.visible||d===a){var f=kn(d,!1);if(f!==te&&f!==be)n.push(d);else{var g=d.margin;f=g.right+g.left,g=g.top+g.bottom,d.measure(e,1/0,s,0),d=d.measuredBounds,vo(r,Math.max(r.width,Math.max(d.width+f,0)),r.height+Math.max(d.height+g,0))}}}if(0!==(o=n.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==r.width&&(e=Math.min(r.width,t.maxSize.width)),t=0;t<o;t++)((p=n[t]).visible||p===a)&&(l=(d=p.margin).right+d.left,d=d.top+d.bottom,p.measure(e,1/0,s,0),p=p.measuredBounds,d=Math.max(p.height+d,0),r.width=Math.max(r.width,Math.max(p.width+l,0)),r.height+=d);Nt(n)}},Xa.prototype.arrange=function(t,e,n){for(var o=e.length,r=t.padding,s=r.left,l=t.isOpposite,a=l?n.height:r.top,p=0;p<o;p++){var d=s,f=e[p];if(f.visible){var g=f.measuredBounds,m=f.margin,v=m.left+m.right,y=s+r.right,P=g.width,T=kn(f,!1);(isNaN(f.desiredSize.width)&&T===oe||T===Ue)&&(P=Math.max(n.width-v-y,0)),v=P+v+y,(y=f.alignment).Xb()&&(y=t.defaultAlignment),y.sb()||(y=Mt),l&&(a-=g.height+m.bottom+m.top),f.arrange(d+y.offsetX+m.left+(n.width*y.x-v*y.x),a+y.offsetY+m.top,P,g.height),l||(a+=g.height+m.bottom+m.top)}}},At(Wa,de),Wa.prototype.measure=function(t,e,n,o,r,s,l){var a=o.length,p=t.Pb(),d=p.margin,f=d.right+d.left,g=d.top+d.bottom;p.measure(e,n,s,l);var m=p.measuredBounds;s=m.width,l=m.height;var v=Math.max(s+f,0),y=Math.max(l+g,0),P=t.isClipping,T=U.allocAt(-d.left,-d.top,v,y),S=U.allocAt(0,0,s,l);ad(p,S,!0),s=S.width,l=S.height;for(var A=!0,M=Co(t),Z=0;Z<a;Z++){var j=o[Z];m=e;var k=n;if(j!==p&&(j.visible||j===M)){var J=(d=j.margin).left,V=d.top;switch(v=d.right+d.left,y=d.top+d.bottom,d=kn(j,!1)){case oe:m=s,k=l,V=J=y=v=0;break;case Ue:m=s,J=v=0;break;case be:k=l,V=y=0}j.measure(m,k,0,0),m=j.measuredBounds,v=Math.max(m.width+v,0),y=Math.max(m.height+y,0),(d=j.alignment).Xb()&&(d=t.defaultAlignment),d.sb()||(d=Mt);var K=j.alignmentFocus;if(K.Xb()&&(K=Mt),k=null,j instanceof O&&""!==j.$e&&(k=j.fb(j.$e))===j&&(k=null),J=S.x-J,V=S.y-V,null!==k){for(j.arrange(0,0,m.width,m.height),m=w.allocAt((m=k.actualBounds).x+(K.x*m.width-K.offsetX),m.y+(K.y*m.height-K.offsetY)),k=k.panel;k!==j;)k.transform.Ga(m),k=k.panel;J+=d.x*s+d.offsetX-m.x,V+=d.y*l+d.offsetY-m.y,w.free(m)}else J+=d.x*s+d.offsetX-(K.x*m.width+K.offsetX),V+=d.y*l+d.offsetY-(K.y*m.height+K.offsetY);A?(A=!1,r.h(J,V,v,y)):Me(r,J,V,v,y)}}switch(A?r.assign(T):P?r.Uu(S.x,S.y,S.width,S.height):Me(r,T.x,T.y,T.width,T.height),U.free(T),U.free(S),(d=p.stretch)===mn&&(d=kn(p,!1)),d){case te:return;case oe:if(!isFinite(e)&&!isFinite(n))return;break;case Ue:if(!isFinite(e))return;break;case be:if(!isFinite(n))return}for(s=(m=p.measuredBounds).width,l=m.height,v=Math.max(s+f,0),y=Math.max(l+g,0),ad(p,S=U.allocAt(-(d=p.margin).left,-d.top,v,y),!0),s=S.width,l=S.height,e=0;e<a;e++)(n=o[e])===p||!n.visible&&n!==M||(v=(d=n.margin).right+d.left,y=d.top+d.bottom,m=n.measuredBounds,v=Math.max(m.width+v,0),y=Math.max(m.height+y,0),(f=n.alignment).Xb()&&(f=t.defaultAlignment),f.sb()||(f=Mt),(n=n.alignmentFocus).Xb()&&(n=Mt),A?(A=!1,r.h(f.x*s+f.offsetX-(n.x*m.width+n.offsetX)-d.left,f.y*l+f.offsetY-(n.y*m.height+n.offsetY)-d.top,v,y)):Me(r,f.x*s+f.offsetX-(n.x*m.width+n.offsetX)-d.left,f.y*l+f.offsetY-(n.y*m.height+n.offsetY)-d.top,v,y));A?r.assign(T):P?r.Uu(S.x,S.y,S.width,S.height):Me(r,T.x,T.y,T.width,T.height),U.free(S)},Wa.prototype.arrange=function(t,e,n){var o=e.length,r=t.Pb(),s=r.measuredBounds,l=s.width,a=s.height,p=t.padding,d=(s=p.left)-n.x,f=(p=p.top)-n.y;for(r.arrange(d,f,l,a),ad(r,l=U.allocAt(0,0,l,a),!1),a=0;a<o;a++){var g=e[a];if(g!==r){var m=(d=g.measuredBounds).width,v=d.height;(f=g.alignment).Xb()&&(f=t.defaultAlignment),f.sb()||(f=Mt);var y=g.alignmentFocus;if(y.Xb()&&(y=Mt),d=null,g instanceof O&&""!==g.$e&&(d=g.fb(g.$e))===g&&(d=null),null!==d){var P=d.actualBounds;for(y=w.allocAt(P.x+(y.x*P.width-y.offsetX),P.y+(y.y*P.height-y.offsetY)),d=d.panel;d!==g;)d.transform.Ga(y),d=d.panel;d=f.x*l.width+f.offsetX-y.x,f=f.y*l.height+f.offsetY-y.y,w.free(y)}else d=f.x*l.width+f.offsetX-(y.x*m+y.offsetX),f=f.y*l.height+f.offsetY-(y.y*v+y.offsetY);d+=l.x-n.x,f+=l.y-n.y,g.visible&&g.arrange(s+d,p+f,m,v)}}U.free(l)},At($a,de),$a.prototype.measure=function(t,e,n,o,r,s,l){var a=o.length,p=t.Pb(),d=p.margin,f=e,g=n,m=d.right+d.left,v=d.top+d.bottom;p.measure(e,n,s,l),d=p.measuredBounds;var y=0,P=null;p instanceof ut&&(y=(P=p).strokeWidth*P.scale);var T=Math.max(d.width+m,0);d=Math.max(d.height+v,0);var S=dd(p),A=S.x*T+S.offsetX;S=S.y*d+S.offsetY;var M=fd(p),Z=M.x*T+M.offsetX;for(M=M.y*d+M.offsetY,isFinite(e)&&(f=Math.max(Math.abs(A-Z)-y,0)),isFinite(n)&&(g=Math.max(Math.abs(S-M)-y,0)),(y=ot.alloc()).h(0,0),t=Co(t),M=0;M<a;M++)(S=o[M])===p||!S.visible&&S!==t||(T=(d=S.margin).right+d.left,A=d.top+d.bottom,S.measure(f,g,0,0),d=S.measuredBounds,T=Math.max(d.width+T,0),d=Math.max(d.height+A,0),y.h(Math.max(T,y.width),Math.max(d,y.height)));if(1===a)r.width=T,r.height=d,ot.free(y);else{switch(S=dd(p),a=o=0,(M=fd(p)).x!==S.x&&M.y!==S.y&&(o=y.width/Math.abs(M.x-S.x),a=y.height/Math.abs(M.y-S.y)),ot.free(y),y=0,null!==P&&(y=P.strokeWidth*P.scale,xd(P)===En&&(o=a=Math.max(o,a))),o+=Math.abs(S.offsetX)+Math.abs(M.offsetX)+y,a+=Math.abs(S.offsetY)+Math.abs(M.offsetY)+y,(P=p.stretch)===mn&&(P=kn(p,!1)),P){case te:l=s=0;break;case oe:isFinite(e)&&(o=e),isFinite(n)&&(a=n);break;case Ue:isFinite(e)&&(o=e),l=0;break;case be:s=0,isFinite(n)&&(a=n)}p.Uj(),p.measure(o,a,s,l),r.width=p.measuredBounds.width+m,r.height=p.measuredBounds.height+v}},$a.prototype.arrange=function(t,e){var n=e.length,o=t.Pb(),r=o.measuredBounds,s=U.alloc();s.h(0,0,1,1);var l=o.margin,a=l.left,p=t.padding,d=p.left;o.arrange(d+a,(p=p.top)+(l=l.top),r.width,r.height);var f=dd(o),g=fd(o),m=f.y*r.height+f.offsetY,v=g.x*r.width+g.offsetX;for(g=g.y*r.height+g.offsetY,s.x=f.x*r.width+f.offsetX,s.y=m,Me(s,v,g,0,0),s.x+=a+d,s.y+=l+p,r=0;r<n;r++)(a=e[r])!==o&&(d=a.measuredBounds,l=a.margin,p=Math.max(d.width+l.right+l.left,0),f=Math.max(d.height+l.top+l.bottom,0),(m=a.alignment).Xb()&&(m=t.defaultAlignment),m.sb()||(m=Mt),p=s.width*m.x+m.offsetX-p*m.x+l.left+s.x,l=s.height*m.y+m.offsetY-f*m.y+l.top+s.y,a.visible&&(An(s.x,s.y,s.width,s.height,p,l,d.width,d.height)?a.arrange(p,l,d.width,d.height):a.arrange(p,l,d.width,d.height,new U(s.x,s.y,s.width,s.height))));U.free(s)},At(th,de),th.prototype.measure=function(t,e,n,o,r){for(var s=o.length,l=bt(),a=bt(),p=0;p<s;p++){var d=o[p],f=d instanceof O?d:null;if(null!==f&&Yo(f)&&d.visible){a.push(f);for(var g=f.O.s,m=g.length,v=0;v<m;v++){var y=g[v];f.type===O.TableRow?y.row=d.row:f.type===O.TableColumn&&(y.column=d.column),l.push(y)}}else l.push(d)}0===(s=l.length)&&(t.Fb(0),t.Eb(0));for(var P=[],T=0;T<s;T++){var S=l[T];S.visible&&(Bi(S,!0),Nr(S,!0),P[S.row]||(P[S.row]=[]),P[S.row][S.column]||(P[S.row][S.column]=[]),P[S.row][S.column].push(S))}Nt(l);var A=bt(),M=bt(),Z=bt(),j={count:0},k={count:0},J=e,V=n,K=t.rowDefs,b=t.colDefs,F=null;s=K.length;for(var st=0;st<s;st++)void 0!==(F=K[st])&&(F.actual=0);s=b.length;for(var it=0;it<s;it++)void 0!==(F=b[it])&&(F.actual=0);for(var yt=P.length,Ft=0,xe=0;xe<yt;xe++)P[xe]&&(Ft=Math.max(Ft,P[xe].length));var Ae=Math.min(t.topIndex,yt-1),di=Math.min(t.leftIndex,Ft-1),Pe=0;yt=P.length;for(var Br=Co(t),ae=0;ae<yt;ae++)if(P[ae]){Ft=P[ae].length;var ao=t.Fb(ae);ao.actual=0;for(var fi=ao.oc=0;fi<Ft;fi++)if(P[ae][fi]){var Qr=t.Eb(fi);void 0===A[fi]&&(Qr.actual=0,Qr.oc=0,A[fi]=!0);for(var pn=P[ae][fi],Ln=pn.length,Xi=0;Xi<Ln;Xi++){var Fi=pn[Xi];if(Fi.visible||Fi===Br){var Ms=1<Fi.rowSpan||1<Fi.columnSpan;Ms&&(ae<Ae||fi<di||M.push(Fi));var ho=Fi.margin,gp=ho.right+ho.left,Wi=ho.top+ho.bottom,gi=du(Fi,ao,Qr,!1),Df=Fi.desiredSize,na=!isNaN(Df.height),Ao=!isNaN(Df.width)&&na;if(Ms||gi===te||Ao||ae<Ae||fi<di||(void 0!==j[fi]||gi!==oe&&gi!==Ue||(j[fi]=-1,j.count++),void 0!==k[ae]||gi!==oe&&gi!==be||(k[ae]=-1,k.count++),Z.push(Fi)),Fi.measure(1/0,1/0,0,0),!(ae<Ae||fi<di)){var Oi=Fi.measuredBounds,Ll=Math.max(Oi.width+gp,0),$i=Math.max(Oi.height+Wi,0);if(1===Fi.rowSpan&&(gi===te||gi===Ue)){var Zs=(F=t.Fb(ae)).Wc();(Pe=Math.max($i-F.actual,0))+Zs>V&&(Pe=Math.max(V-Zs,0));var Gm=0===F.oa;F.oc=F.oc+Pe,F.actual=F.oa+Pe,V=Math.max(V-(Pe+(Gm?Zs:0)),0)}if(1===Fi.columnSpan&&(gi===te||gi===be)){var Sf=(F=t.Eb(fi)).Wc();(Pe=Math.max(Ll-F.actual,0))+Sf>J&&(Pe=Math.max(J-Sf,0));var E2=0===F.oa;F.oc=F.oc+Pe,F.actual=F.oa+Pe,J=Math.max(J-(Pe+(E2?Sf:0)),0)}Ms&&Fi.Uj()}}}}}Nt(A);var $o=0,vr=0;s=t.columnCount;for(var oa=0;oa<s;oa++){var js=b[oa];void 0!==js&&($o+=isNaN(js.Hc)?js.oc:js.Hc,0!==js.oc&&($o+=js.Wc()))}s=t.rowCount;for(var mp=0;mp<s;mp++){var Ns=K[mp];void 0!==Ns&&(vr+=isNaN(Ns.Hc)?Ns.oc:Ns.Hc,0!==Ns.oc&&(vr+=Ns.Wc()))}J=Math.max(e-$o,0);var tr=V=Math.max(n-vr,0),Gr=J;s=Z.length;for(var Li=0;Li<s;Li++){var Mo=Z[Li],Hm=t.Fb(Mo.row),yr=t.Eb(Mo.column),_p=Mo.measuredBounds,po=Mo.margin,Zo=po.top+po.bottom;j[Mo.column]=0===yr.oc&&void 0!==j[Mo.column]?Math.max(_p.width+(po.right+po.left),j[Mo.column]):null,k[Mo.row]=0===Hm.oc&&void 0!==k[Mo.row]?Math.max(_p.height+Zo,k[Mo.row]):null}var Kn,ra=0,vp=0;for(Kn in k)"count"!==Kn&&(ra+=k[Kn]);for(Kn in j)"count"!==Kn&&(vp+=j[Kn]);for(var ke=ot.alloc(),Tf=0;Tf<s;Tf++){var yi=Z[Tf];if(yi.visible||yi===Br){var he=t.Fb(yi.row),xi=t.Eb(yi.column),xr=0;isFinite(xi.width)?xr=xi.width:(xr=isFinite(J)&&null!==j[yi.column]?0===vp?xi.actual+J:j[yi.column]/vp*Gr:null!==j[yi.column]?J:xi.actual||J,xr=Math.max(0,xr-xi.Wc()));var Hr=0;switch(isFinite(he.height)?Hr=he.height:(Hr=isFinite(V)&&null!==k[yi.row]?0===ra?he.actual+V:k[yi.row]/ra*tr:null!==k[yi.row]?V:he.actual||V,Hr=Math.max(0,Hr-he.Wc())),ke.h(Math.max(xi.minimum,Math.min(xr,xi.maximum)),Math.max(he.minimum,Math.min(Hr,he.maximum))),gi=du(yi,he,xi,!1)){case Ue:ke.height=Math.max(ke.height,he.actual+V);break;case be:ke.width=Math.max(ke.width,xi.actual+J)}var ql=yi.margin,B2=ql.right+ql.left,Km=ql.top+ql.bottom;yi.Uj(),yi.measure(ke.width,ke.height,xi.minimum,he.minimum);var yp=yi.measuredBounds,Yl=Math.max(yp.width+B2,0),sa=Math.max(yp.height+Km,0);isFinite(J)&&(Yl=Math.min(Yl,ke.width)),isFinite(V)&&(sa=Math.min(sa,ke.height));var bi=0;bi=he.actual,he.actual=Math.max(he.actual,sa),he.oc=Math.max(he.oc,sa),Pe=he.actual-bi,V=Math.max(V-Pe,0),null===k[yi.row]&&(tr=Math.max(tr-Pe,0)),bi=xi.actual,xi.actual=Math.max(xi.actual,Yl),xi.oc=Math.max(xi.oc,Yl),Pe=xi.actual-bi,J=Math.max(J-Pe,0),null===j[yi.column]&&(Gr=Math.max(Gr-Pe,0))}}Nt(Z);var Pr=ot.alloc(),co=bt(),Cn=bt();if(0!==(s=M.length))for(var ks=0;ks<yt;ks++)if(P[ks]){Ft=P[ks].length;var xp=t.Fb(ks);co[ks]=xp.actual;for(var Is=0;Is<Ft;Is++)if(P[ks][Is]){var Vm=t.Eb(Is);Cn[Is]=Vm.actual}}for(var Pp=0;Pp<s;Pp++){var ie=M[Pp];if(ie.visible||ie===Br){var Vn=t.Fb(ie.row),bn=t.Eb(ie.column);switch(ke.h(Math.max(bn.minimum,Math.min(e,bn.maximum)),Math.max(Vn.minimum,Math.min(n,Vn.maximum))),gi=du(ie,Vn,bn,!1)){case oe:0!==Cn[bn.index]&&(ke.width=Math.min(ke.width,Cn[bn.index])),0!==co[Vn.index]&&(ke.height=Math.min(ke.height,co[Vn.index]));break;case Ue:0!==Cn[bn.index]&&(ke.width=Math.min(ke.width,Cn[bn.index]));break;case be:0!==co[Vn.index]&&(ke.height=Math.min(ke.height,co[Vn.index]))}isFinite(bn.width)&&(ke.width=bn.width),isFinite(Vn.height)&&(ke.height=Vn.height),Pr.h(0,0);for(var zm=bn.minimum,tn=Vn.minimum,Kr=1;Kr<ie.rowSpan&&!(ie.row+Kr>=t.rowCount);Kr++)F=t.Fb(ie.row+Kr),Pe=0,Pe=gi===oe||gi===be?Math.max(F.minimum,0===co[ie.row+Kr]?F.maximum:Math.min(co[ie.row+Kr],F.maximum)):Math.max(F.minimum,isNaN(F.Hc)?F.maximum:Math.min(F.Hc,F.maximum)),Pr.height+=Pe,tn+=F.minimum;for(var qn=1;qn<ie.columnSpan&&!(ie.column+qn>=t.columnCount);qn++)F=t.Eb(ie.column+qn),Pe=0,Pe=gi===oe||gi===Ue?Math.max(F.minimum,0===Cn[ie.column+qn]?F.maximum:Math.min(Cn[ie.column+qn],F.maximum)):Math.max(F.minimum,isNaN(F.Hc)?F.maximum:Math.min(F.Hc,F.maximum)),Pr.width+=Pe,zm+=F.minimum;ke.width+=Pr.width,ke.height+=Pr.height;var Dp=ie.margin,Us=Dp.right+Dp.left,Cf=Dp.top+Dp.bottom;ie.measure(ke.width,ke.height,zm,tn);for(var Sp=ie.measuredBounds,jo=Math.max(Sp.width+Us,0),Jl=Math.max(Sp.height+Cf,0),Fs=0,Tp=0;Tp<ie.rowSpan&&!(ie.row+Tp>=t.rowCount);Tp++)Fs+=(F=t.Fb(ie.row+Tp)).total||0;if(Fs<Jl){var Vr=Jl-Fs,er=Jl-Fs;if(null!==ie.spanAllocation)for(var zr=ie.spanAllocation,Dr=0;Dr<ie.rowSpan&&!(0>=Vr)&&!(ie.row+Dr>=t.rowCount);Dr++){var Xr=(F=t.Fb(ie.row+Dr)).oa||0,Rl=zr(ie,F,er);F.actual=Math.min(F.maximum,Xr+Rl),F.oa!==Xr&&(Vr-=F.oa-Xr)}for(;0<Vr;){var fo=F.oa||0;if(isNaN(F.height)&&F.maximum>fo&&(F.actual=Math.min(F.maximum,fo+Vr),F.oa!==fo&&(Vr-=F.oa-fo)),0===F.index)break;F=t.Fb(F.index-1)}}for(var la=0,Wr=0;Wr<ie.columnSpan&&!(ie.column+Wr>=t.columnCount);Wr++)la+=(F=t.Eb(ie.column+Wr)).total||0;if(la<jo){var ua=jo-la,Q2=jo-la;if(null!==ie.spanAllocation)for(var Sr=ie.spanAllocation,El=0;El<ie.columnSpan&&!(0>=ua)&&!(ie.column+El>=t.columnCount);El++){var wf=(F=t.Eb(ie.column+El)).oa||0,G2=Sr(ie,F,Q2);F.actual=Math.min(F.maximum,wf+G2),F.oa!==wf&&(ua-=F.oa-wf)}for(;0<ua;){var Xm=F.oa||0;if(isNaN(F.width)&&F.maximum>Xm&&(F.actual=Math.min(F.maximum,Xm+ua),F.oa!==Xm&&(ua-=F.oa-Xm)),0===F.index)break;F=t.Eb(F.index-1)}}}}Nt(M),ot.free(Pr),ot.free(ke),void 0!==co&&Nt(co),void 0!==Cn&&Nt(Cn);var aa=0,ha=0,Wm=t.desiredSize,$v=t.maxSize;gi=kn(t,!0);var Af=vr=$o=0,Mf=0;s=t.columnCount;for(var $m=0;$m<s;$m++)void 0!==b[$m]&&(F=t.Eb($m),isFinite(F.width)?(Af+=F.width,Af+=F.Wc()):hh(F)===xu?(Af+=F.oa,Af+=F.Wc()):0!==F.oa&&($o+=F.oa,$o+=F.Wc()));aa=isFinite(Wm.width)?Math.min(Wm.width,$v.width):gi!==te&&isFinite(e)?e:$o,aa=Math.max(aa,t.minSize.width),aa=Math.max(aa-Af,0);for(var e6=0===$o?1:Math.max(aa/$o,1),t_=0;t_<s;t_++)void 0!==b[t_]&&(F=t.Eb(t_),isFinite(F.width)||hh(F)===xu||(F.actual=F.oa*e6),F.position=r.width,0!==F.oa&&(r.width+=F.oa,r.width+=F.Wc()));s=t.rowCount;for(var e_=0;e_<s;e_++)void 0!==K[e_]&&(F=t.Fb(e_),isFinite(F.height)?(Mf+=F.height,Mf+=F.Wc()):hh(F)===xu?(Mf+=F.oa,Mf+=F.Wc()):0!==F.oa&&(vr+=F.oa,vr+=F.Wc()));ha=isFinite(Wm.height)?Math.min(Wm.height,$v.height):gi!==te&&isFinite(n)?n:vr,ha=Math.max(ha,t.minSize.height),ha=Math.max(ha-Mf,0);for(var i6=0===vr?1:Math.max(ha/vr,1),i_=0;i_<s;i_++)void 0!==K[i_]&&(F=t.Fb(i_),isFinite(F.height)||hh(F)===xu||(F.actual=F.oa*i6),F.position=r.height,0!==F.oa&&(r.height+=F.oa,r.height+=F.Wc()));s=a.length;for(var H2=0;H2<s;H2++){var Zf=a[H2],K2=0,V2=0;Zf.type===O.TableRow?(K2=r.width,V2=(F=t.Fb(Zf.row)).actual):(K2=(F=t.Eb(Zf.column)).actual,V2=r.height),Zf.measuredBounds.h(0,0,K2,V2),Bi(Zf,!1)}Nt(a),t.inRowsCols=P},th.prototype.arrange=function(t,e,n){var o=e.length,r=t.padding,s=r.left;r=r.top;var l=t.inRowsCols;if(null!==l){for(var a,p,d=l.length,f=0,g=0;g<d;g++)l[g]&&(f=Math.max(f,l[g].length));p=t.rowDefs,a=t.colDefs;var m=g=0,v=Math.min(t.topIndex,d-1);if(0<p.length){for(;v!==d&&(void 0===p[v]||0===p[v].oa);)v++;g=-p[v=Math.max(Math.min(v,d-1),0)].position}var y=Math.min(t.leftIndex,f-1);if(0<a.length){for(;y!==f&&(void 0===a[y]||0===a[y].oa);)y++;m=-a[y=Math.max(Math.min(y,f-1),0)].position}for(var P=0,T=0;P!==d&&void 0===p[P];)P++;for(;T!==d&&void 0===a[T];)T++;f=t.part,t.Fb(P),t.Eb(T);for(var S=0;S<e.length;S++){var A=e[S];if(A instanceof O&&A.visible&&Yo(A)){if(A.type===O.TableRow){a=t.Fb(A.row);var M=t.Eb(T)}else a=t.Fb(P),M=t.Eb(A.column);p=a.position+g+r,0!==a.oa&&(p+=a.Io(Math.max(P,v))),a=M.position+m+s,0!==M.oa&&(a+=M.Io(Math.max(T,y))),M=A.measuredBounds,A.Uk(),A.actualBounds.ka();var Z=A.actualBounds,j=U.allocAt(Z.x,Z.y,Z.width,Z.height);Z.x=A.type===O.TableRow?s:a,Z.y=A.type===O.TableColumn?r:p,Z.width=M.width,Z.height=M.height,A.actualBounds.freeze(),Nr(A,!1),Lp(j,Z)||null===f||(f.oh(),A.Pn(f)),U.free(j)}}for(S=ot.alloc(),A=0;A<d;A++)if(l[A])for(f=l[A].length,p=(M=t.Fb(A)).position+g+r,0!==M.oa&&(p+=M.Io(Math.max(P,v))),Z=0;Z<f;Z++)if(l[A][Z]){a=(j=t.Eb(Z)).position+m+s,0!==j.oa&&(a+=j.Io(Math.max(T,y)));for(var k=l[A][Z],J=k.length,V=0;V<J;V++){var K=k[V],b=K.measuredBounds;S.h(0,0);for(var F=1;F<K.rowSpan&&!(A+F>=t.rowCount);F++){var st=t.Fb(A+F);0!==st.oa&&(S.height+=st.total)}for(F=1;F<K.columnSpan&&!(Z+F>=t.columnCount);F++)0!==(st=t.Eb(Z+F)).oa&&(S.width+=st.total);var it=j.oa+S.width,yt=M.oa+S.height;F=a,st=p;var Ft=it,xe=yt,Ae=a,di=p,Pe=it,Br=yt;a+it>n.width&&(Pe=Math.max(n.width-a,0)),p+yt>n.height&&(Br=Math.max(n.height-p,0));var ae=K.alignment;if(ae.Xb()){(ae=t.defaultAlignment).sb()||(ae=Mt);var ao=ae.x,fi=ae.y,Qr=ae.offsetX;ae=ae.offsetY;var pn=j.alignment,Ln=M.alignment;pn.sb()&&(ao=pn.x,Qr=pn.offsetX),Ln.sb()&&(fi=Ln.y,ae=Ln.offsetY)}else ao=ae.x,fi=ae.y,Qr=ae.offsetX,ae=ae.offsetY;(isNaN(ao)||isNaN(fi))&&(fi=ao=.5,ae=Qr=0),pn=b.width,Ln=b.height;var Xi=K.margin,Fi=Xi.left+Xi.right,Ms=Xi.top+Xi.bottom,ho=du(K,M,j,!1);!isNaN(K.desiredSize.width)||ho!==oe&&ho!==Ue||(pn=Math.max(it-Fi,0)),!isNaN(K.desiredSize.height)||ho!==oe&&ho!==be||(Ln=Math.max(yt-Ms,0)),it=K.maxSize,yt=K.minSize,pn=Math.min(it.width,pn),Ln=Math.min(it.height,Ln),pn=Math.max(yt.width,pn),Ln=Math.max(yt.height,Ln),F+=Ft*ao-(pn+Fi)*ao+Qr+Xi.left,st+=xe*fi-(it=Ln+Ms)*fi+ae+Xi.top,K.visible&&(An(Ae,di,Pe,Br,F,st,b.width,b.height)?K.arrange(F,st,pn,Ln):K.arrange(F,st,pn,Ln,new U(Ae,di,Pe,Br)))}}for(ot.free(S),t=0;t<o;t++)null!==(s=(n=e[t])instanceof O?n:null)&&Yo(s)&&(s=n.actualBounds,n.naturalBounds.ka(),n.naturalBounds.h(0,0,s.width,s.height),n.naturalBounds.freeze())}},At(eh,de),eh.prototype.measure=function(){},eh.prototype.arrange=function(){},At(ih,de),ih.prototype.measure=function(){},ih.prototype.arrange=function(){},At(nh,de),nh.prototype.measure=function(t,e,n,o,r,s,l){1<o.length&&q("Viewbox Panel cannot contain more than one GraphObject."),(o=o[0]).Ca=1,o.Uj(),o.measure(1/0,1/0,s,l);var a=o.measuredBounds,p=o.margin,d=p.right+p.left;if(p=p.top+p.bottom,isFinite(e)||isFinite(n)){var f=o.scale,g=a.width;a=a.height;var m=Math.max(e-d,0),v=Math.max(n-p,0),y=1;t.viewboxStretch===En?0!==g&&0!==a&&(y=Math.min(m/g,v/a)):0!==g&&0!==a&&(y=Math.max(m/g,v/a)),0===y&&(y=1e-4),o.Ca*=y,f!==o.scale&&(Bi(o,!0),o.measure(1/0,1/0,s,l))}a=o.measuredBounds,r.width=isFinite(e)?e:Math.max(a.width+d,0),r.height=isFinite(n)?n:Math.max(a.height+p,0)},nh.prototype.arrange=function(t,e,n){var o=(e=e[0]).measuredBounds,r=e.margin,s=Math.max(o.width+(r.right+r.left),0);r=Math.max(o.height+(r.top+r.bottom),0);var l=e.alignment;l.Xb()&&(l=t.defaultAlignment),l.sb()||(l=Mt),e.arrange(n.width*l.x-s*l.x+l.offsetX,n.height*l.y-r*l.y+l.offsetY,o.width,o.height)},At(_u,de),_u.prototype.measure=function(){},_u.prototype.arrange=function(){},_u.prototype.gc=function(t,e,n){0>=(n=t.Df()*n.scale)&&(n=1);var o=t.gridCellSize,r=o.width;o=o.height;var s=t.naturalBounds,l=t.actualBounds,a=s.width,p=s.height,d=Math.ceil(a/r),f=Math.ceil(p/o),g=t.gridOrigin,m=g.x;g=g.y,e.save(),e.beginPath(),e.rect(0,0,a,p),e.clip(),e.Se();for(var v=[],y=t.O.s,P=y.length,T=0;T<P;T++){var S=y[T],A=[];if(v.push(A),S.visible){var M=S.interval;if(!(0>M)){S=pd(S.figure);for(var Z=0;Z<P;Z++)if(Z!==T){var j=y[Z];j.visible&&pd(j.figure)===S&&(j=j.interval)>M&&A.push(j)}}}}for(P=(y=t.O.s).length,T=0;T<P;T++){var k=y[T];if(k.visible&&(A=k.interval||1,!(2>r*(S=Math.abs(A))*n))){if(M=k.segmentIndex,(!isFinite(M)||isNaN(M))&&(M=0),0>M&&(M=S-Math.min(-M,S)),M=Math.round(M%S),Z=1,1!==(S=k.opacity)){if(0===S)continue;e.globalAlpha=(Z=e.globalAlpha)*S}j=v[T];var J=!1,V=k.strokeDashArray;if(null!==V&&(J=!0,e.js(V,k.strokeDashOffset)),"LineV"===k.figure&&null!==k.stroke&&0<k.strokeWidth){for(e.lineWidth=k.strokeWidth,Mi(t,e,k.stroke,!1,!1,s,l),e.beginPath(),V=k=Math.floor((m-r)/r);V<=k+d;V++){var K=V*r+m;0<=K&&K<=a&&oh(V,A,M,j)&&(e.moveTo(K,0),e.lineTo(K,p))}e.stroke(),e.Se()}else if("LineH"===k.figure&&null!==k.stroke&&0<k.strokeWidth){for(e.lineWidth=k.strokeWidth,Mi(t,e,k.stroke,!1,!1,s,l),e.beginPath(),V=k=Math.floor((g-o)/o);V<=k+f;V++)0<=(K=V*o+g)&&K<=p&&oh(V,A,M,j)&&(e.moveTo(0,K),e.lineTo(a,K));e.stroke(),e.Se()}else if("BarV"===k.figure&&null!==k.fill)for(Mi(t,e,k.fill,!0,!1,s,l),k=k.width,isNaN(k)&&(k=r),K=V=Math.floor((m-r)/r);K<=V+d;K++){var b=K*r+m;0<=b+k&&b<=a&&oh(K,A,M,j)&&e.fillRect(b,0,k,p)}else if("BarH"===k.figure&&null!==k.fill)for(Mi(t,e,k.fill,!0,!1,s,l),k=k.height,isNaN(k)&&(k=o),K=V=Math.floor((g-o)/o);K<=V+f;K++)0<=(b=K*o+g)+k&&b<=p&&oh(K,A,M,j)&&e.fillRect(0,b,a,k);J&&e.fs(),1!==S&&(e.globalAlpha=Z)}}e.restore(),e.Vc(!1)},At(rh,de),rh.prototype.measure=function(t,e,n,o,r){var s=o.length;if(t instanceof mt||t instanceof L){var l=null,a=null;if(t instanceof L&&(l=t),t instanceof mt&&(l=(a=t).adornedPart,null===t.j&&(t.j=[])),l instanceof L){var p=l;if(0===s)vo(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var d=t instanceof mt?null:l.path;(n=t.jg).h(0,0,(e=l.routeBounds).width,e.height);var f=p.points,g=l.pointsCount;null!==a?a.Ul(!1):null!==l&&l.Ul(!1),a=e.width;var m=e.height,v=t.j;if(v.length=0,null!==d){Og(t,a,m,d);var y=d.measuredBounds;n.ed(y),v.push(y)}y=ct.alloc();for(var P=w.alloc(),T=w.alloc(),S=0;S<s;S++){var A=o[S];if(A!==d)if(A.isPanelMain&&A instanceof ut){Og(t,a,m,A);var M=A.measuredBounds;n.ed(M),v.push(M)}else if(2>g)A.measure(1/0,1/0,0,0),n.ed(M=A.measuredBounds),v.push(M);else{var Z=A.segmentIndex,j=A.segmentFraction,k=A.alignmentFocus;k.Mc()&&(k=Mt);var J=A.segmentOrientation,V=A.segmentOffset;if(isNaN(Z)){var K=p.ua;M=bt(),K.Qu(j,M);var b=w.allocAt(M[0],M[1]);if(b.add(p.i(0)),(K.type===Y.j||null!==(K=K.figures.first()))&&b.offset(-K.startX,-K.startY),K=M[2],J!==ni){var F=p.computeAngle(A,J,K);A.Kb=F}F=b.x-e.x;var st=b.y-e.y;w.free(b),Nt(M)}else if(Z<-g||Z>=g)M=w.alloc(),p.vg(),p.computeMidPoint(M),K=p.midAngle,J!==ni&&(F=p.computeAngle(A,J,K),A.Kb=F),F=M.x-e.x,st=M.y-e.y,w.free(M);else{if(F=0,0<=Z?(st=f.M(Z),M=Z<g-1?f.M(Z+1):st):(st=f.M(F=g+Z),M=0<F?f.M(F-1):st),st.Xa(M)){0<=Z?(K=0<Z?f.M(Z-1):st,F=Z<g-2?f.M(Z+2):M):(K=F<g-1?f.M(F+1):st,F=1<F?f.M(F-2):M),b=K.Bf(st);var it=M.Bf(F);K=b>it+10?0<=Z?K.ab(st):st.ab(K):it>b+10?0<=Z?M.ab(F):F.ab(M):0<=Z?K.ab(F):F.ab(K)}else K=0<=Z?st.ab(M):M.ab(st);J!==ni&&(F=p.computeAngle(A,J,K),A.Kb=F),F=st.x+(M.x-st.x)*j-e.x,st=st.y+(M.y-st.y)*j-e.y}A.measure(1/0,1/0,0,0),M=A.measuredBounds;var yt=0;A instanceof ut&&(yt=A.strokeWidth),it=(b=A.naturalBounds).width+yt;var Ft=b.height+yt;y.reset(),y.translate(-M.x,-M.y),y.scale(A.scale,A.scale),y.rotate(J===ni?A.angle:K,it/2,Ft/2),J!==ju&&J!==ku||y.rotate(90,it/2,Ft/2),J!==Nu&&J!==Iu||y.rotate(-90,it/2,Ft/2),J===Fh&&(45<K&&135>K||225<K&&315>K)&&y.rotate(-K,it/2,Ft/2),b=new U(0,0,it,Ft),P.xi(b,k),y.Ga(P),k=yt/2*A.scale-P.x,A=yt/2*A.scale-P.y,T.assign(V),yt=isNaN(V.x);var xe=isNaN(V.y);if(yt||xe){it=it/2+3,Ft=Ft/2+3;var Ae=45<=K&&135>=K,di=225<=K&&315>=K;J===ni&&(Ae||di)?(T.x=xe?it:V.y,T.y=yt?Ft:V.x,Ae?0<=Z||isNaN(Z)&&.5>j||!yt||(T.y=-Ft):di&&((0<=Z||isNaN(Z)&&.5>j)&&yt&&(T.y=-Ft),xe&&(T.x=-it))):(yt&&(T.x=0<=Z||isNaN(Z)&&.5>j?it:-it),xe&&(T.y=-Ft),T.rotate(K))}else T.rotate(K);F+=T.x,st+=T.y,b.set(M),b.h(F+k,st+A,M.width,M.height),v.push(b),n.ed(b)}}if(null!==l)for(o=l.labelNodes;o.next();)o.value.measure(1/0,1/0);t.jg=n,t.position.h(e.x+n.x,e.y+n.y),vo(r,n.width||0,n.height||0),ct.free(y),w.free(P),w.free(T)}}}},rh.prototype.arrange=function(t,e){var n=e.length;if(t instanceof mt||t instanceof L){var o=t,r=null;t instanceof mt&&(o=(r=t).adornedPart);var s=t instanceof mt?null:o.path,l=t.j;if(0!==l.length){var a=0;if(null!==s&&a<l.length){var p=l[a];a++,s.arrange(p.x-t.jg.x,p.y-t.jg.y,p.width,p.height)}for(p=0;p<n;p++){var d=e[p];if(d!==s&&a<l.length){var f=l[a];a++,d.arrange(f.x-t.jg.x,f.y-t.jg.y,f.width,f.height)}}}if(2<=(n=(e=o.points).count)&&t instanceof L)for(s=t.labelNodes;s.next();){var g=t;a=(l=s.value).segmentIndex,p=l.segmentFraction;var m=l.alignmentFocus;if(d=l.segmentOrientation,f=l.segmentOffset,isNaN(a)){var v=g.ua,y=bt();v.Qu(p,y);var P=w.allocAt(y[0],y[1]);P.add(g.i(0)),v.type===Y.j||(v=v.figures.first()),P.offset(-v.startX,-v.startY),v=y[2],d!==ni&&(g=g.computeAngle(l,d,v),l.angle=g),g=P.x;var T=P.y;w.free(P),Nt(y)}else if(a<-n||a>=n)T=y=w.alloc(),(v=g).vg(),v.computeMidPoint(T),v=g.midAngle,d!==ni&&(g=g.computeAngle(l,d,v),l.angle=g),g=y.x,T=y.y,w.free(y);else{if(P=0,0<=a?(y=e.s[a],T=a<n-1?e.s[a+1]:y):(y=e.s[P=n+a],T=0<P?e.s[P-1]:y),y.Xa(T)){0<=a?(v=0<a?e.s[a-1]:y,P=a<n-2?e.s[a+2]:T):(v=P<n-1?e.s[P+1]:y,P=1<P?e.s[P-2]:T);var S=v.Bf(y),A=T.Bf(P);v=S>A+10?0<=a?v.ab(y):y.ab(v):A>S+10?0<=a?T.ab(P):P.ab(T):0<=a?v.ab(P):P.ab(v)}else v=0<=a?y.ab(T):T.ab(y);d!==ni&&(g=g.computeAngle(l,d,v),l.angle=g),g=y.x+(T.x-y.x)*p,T=y.y+(T.y-y.y)*p}if(m.ys())l.location=new w(g,T);else{m.Mc()&&(m=Mt),(y=ct.alloc()).reset(),y.scale(l.scale,l.scale),y.rotate(l.angle,0,0);var M=l.naturalBounds;P=U.allocAt(0,0,M.width,M.height),(S=w.alloc()).xi(P,m),y.Ga(S),m=-S.x,A=-S.y;var Z=M.width,j=M.height;(M=w.alloc()).assign(f);var k=isNaN(f.x),J=isNaN(f.y);if(k||J){Z=Z/2+3,j=j/2+3;var V=45<=v&&135>=v,K=225<=v&&315>=v;d===ni&&(V||K)?(M.x=J?Z:f.y,M.y=k?j:f.x,V?0<=a||isNaN(a)&&.5>p||!k||(M.y=-j):K&&((0<=a||isNaN(a)&&.5>p)&&k&&(M.y=-j),J&&(M.x=-Z))):(k&&(M.x=0<=a||isNaN(a)&&.5>p?Z:-Z),J&&(M.y=-j),M.rotate(v))}else M.rotate(v);g+=M.x,T+=M.y,y.pp(P),a=w.allocAt(g+(m+=P.x),T+(A+=P.y)),l.move(a),w.free(a),w.free(M),w.free(S),U.free(P),ct.free(y)}}null!==r?r.Ul(!1):o.Ul(!1),o=p1(t),t.location.h(t.position.x+o.x,t.position.y+o.y),w.free(o)}},At(vu,de),vu.prototype.measure=function(t,e,n,o,r,s,l){var a=t.Pb();t.graduatedBounds=[];var p=a.margin,d=p.right+p.left,f=p.top+p.bottom;a.measure(e,n,s,l);var g=a.measuredBounds,m=new U(-p.left,-p.top,Math.max(g.width+d,0),Math.max(g.height+f,0));t.graduatedBounds.push(m),r.assign(m);for(var v=a.geometry,y=a.strokeWidth,P=v.flattenedSegments,T=v.flattenedLengths,S=v.flattenedTotalLength,A=P.length,M=0,Z=0,j=bt(),k=0;k<A;k++){var J=P[k],V=[];Z=M=0;for(var K=J.length,b=0;b<K;b+=2){var F=J[b],st=J[b+1];if(0!==b){var it=180*Math.atan2(st-Z,F-M)/Math.PI;0>it&&(it+=360),V.push(it)}M=F,Z=st}j.push(V)}if(null===t.graduatedIntervals){for(var yt=[],Ft=t.O.s,xe=Ft.length,Ae=0;Ae<xe;Ae++){var di=Ft[Ae],Pe=[];if(yt.push(Pe),di.visible){var Br=di.interval;if(!(0>Br))for(var ae=0;ae<xe;ae++)if(ae!==Ae){var ao=Ft[ae];if(ao.visible&&di.constructor===ao.constructor){var fi=ao.interval;fi>Br&&Pe.push(fi)}}}}t.graduatedIntervals=yt}var Qr=t.graduatedIntervals,pn=t.O.s,Ln=pn.length,Xi=0,Fi=0,Ms=S;t.graduatedMarks=[];for(var ho,gp=0;gp<Ln;gp++){var Wi=pn[gp];if(ho=[],Wi.visible&&Wi!==a){var gi=Math.abs(Wi.interval),Df=t.graduatedTickUnit;if(!(2>Df*gi*S/t.graduatedRange&&null===Wi.graduatedSkip)){var na=T[0][0],Ao=0,Oi=0;Fi=S*Wi.graduatedStart-1e-4,Ms=S*Wi.graduatedEnd+1e-4;var Ll=Df*gi,$i=t.graduatedTickBase;if($i<t.graduatedMin){var Zs=(t.graduatedMin-$i)/Ll;$i+=(Zs=Zs%1==0?Zs:Math.floor(Zs+1))*Ll}else $i>t.graduatedMin+Ll&&($i-=Math.floor(($i-t.graduatedMin)/Ll)*Ll);for(var Gm=Qr[gp],Sf=$i,E2=1e-6*t.graduatedMax,$o=1;$i<=t.graduatedMax+E2;$o++){t:{for(var vr=Gm.length,oa=0;oa<vr;oa++){var js=($i-t.graduatedTickBase)%(Gm[oa]*t.graduatedTickUnit),mp=1e-6*t.graduatedTickUnit;if(js<mp&&js>-mp){var Ns=!1;break t}}Ns=!0}if(Ns&&($i>t.graduatedMax&&($i=t.graduatedMax),null===Wi.graduatedSkip||Wi instanceof kt&&!Wi.graduatedSkip($i,Wi)||Wi instanceof ut&&!Wi.graduatedSkip($i,Wi))&&((Xi=($i-t.graduatedMin)*S/t.graduatedRange)>S&&(Xi=S),Fi<=Xi&&Xi<=Ms)){for(var tr=j[Ao][Oi],Gr=T[Ao][Oi];Ao<T.length;){for(;Xi>na&&Oi<T[Ao].length-1;)Oi++,tr=j[Ao][Oi],na+=Gr=T[Ao][Oi];if(Xi<=na)break;tr=j[++Ao][Oi=0],na+=Gr=T[Ao][Oi]}var Li=P[Ao],Mo=Li[2*Oi],Hm=Li[2*Oi+1],yr=(Xi-(na-Gr))/Gr,_p=new w(Mo+(Li[2*Oi+2]-Mo)*yr+y/2-v.bounds.x,Hm+(Li[2*Oi+3]-Hm)*yr+y/2-v.bounds.y);_p.scale(a.scale,a.scale);t:{var po=tr,bl=j[Ao];if(!(.5005>yr&&.4995<yr)){var Zo=po;if(.5>yr?0<Oi?Zo=bl[Oi-1]:N.$(Li[0],Li[Li.length-2])&&N.$(Li[1],Li[Li.length-1])&&(Zo=bl[bl.length-1]):.5<yr&&(Oi+1<bl.length?Zo=bl[Oi+1]:N.$(Li[0],Li[Li.length-2])&&N.$(Li[1],Li[Li.length-1])&&(Zo=bl[0])),po!==Zo){var ra=Math.abs(po-Zo);if(180<ra&&(po<Zo?po+=360:Zo+=360,ra=Math.abs(po-Zo)),5e-4>yr||.9995<yr){tr=(po+Zo)/2%360;break t}if(10>ra){var vp=1-Math.abs(.5-yr);tr=(po*vp+Zo*(1-vp))%360;break t}}}tr=po}if(Wi instanceof kt){var Kn="";""!==(Kn=null!==Wi.graduatedFunction?null!=(Kn=Wi.graduatedFunction($i,Wi))?Kn.toString():"":(+$i.toFixed(2)).toString())&&ho.push({$l:_p,angle:tr,text:Kn})}else ho.push({$l:_p,angle:tr})}$i=Sf+$o*Ll}}}t.graduatedMarks.push(ho)}Nt(j);var ke=t.graduatedMarks;if(null!==ke)for(var Tf=o.length,yi=0;yi<Tf;yi++){var he=o[yi],xi=ke[yi];if(he.visible&&he!==a&&0!==xi.length){if(he instanceof ut){var xr=t,Hr=r,ql=he.alignmentFocus;ql.Mc()&&(ql=yo);var B2=he.angle;he.Kb=0,he.measure(1/0,1/0,0,0),he.Kb=B2;var Km=he.measuredBounds,yp=Km.width,Yl=Km.height,sa=U.allocAt(0,0,yp,Yl),bi=w.alloc();bi.xi(sa,ql),U.free(sa);for(var Pr=-bi.x,co=-bi.y,Cn=new U,ks=xi.length,xp=0;xp<ks;xp++)for(var Is=xi[xp],Vm=Is.$l.x,Pp=Is.$l.y,ie=Is.angle,Vn=0;4>Vn;Vn++){switch(Vn){case 0:bi.h(Pr,co);break;case 1:bi.h(Pr+yp,co);break;case 2:bi.h(Pr,co+Yl);break;case 3:bi.h(Pr+yp,co+Yl)}bi.rotate(ie+he.angle),bi.offset(Vm,Pp),0===xp&&0===Vn?Cn.h(bi.x,bi.y,0,0):Cn.Ye(bi),bi.offset(-Vm,-Pp),bi.rotate(-ie-he.angle)}w.free(bi),null!==xr.graduatedBounds&&xr.graduatedBounds.push(Cn),Me(Hr,Cn.x,Cn.y,Cn.width,Cn.height)}else if(he instanceof kt){var bn=t,zm=r;null===bn.temporaryTextBlock&&(bn.temporaryTextBlock=new kt);var tn=bn.temporaryTextBlock;Xg(tn,he);var Kr=he.alignmentFocus;Kr.Mc()&&(Kr=yo);for(var qn=he.segmentOrientation,Dp=he.segmentOffset,Us=new U,Cf=0,Sp=0,jo=0,Jl=0,Fs=0,Tp=xi.length,Vr=0;Vr<Tp;Vr++){var er=xi[Vr];Cf=er.$l.x,Sp=er.$l.y,jo=er.angle,Fs=Jl=he.angle,qn!==ni&&(Jl=L.computeAngle(qn,Fs=qn===Zu||qn===Uh?jo+he.angle:jo)),tn.Kb=Jl,tn.text=er.text||"",tn.measure(1/0,1/0,0,0);var zr=tn.measuredBounds,Dr=tn.naturalBounds,Xr=Dr.width,Rl=Dr.height,fo=ct.alloc();fo.reset(),fo.translate(-zr.x,-zr.y),fo.scale(tn.scale,tn.scale),fo.rotate(Fs,Xr/2,Rl/2),qn!==ju&&qn!==ku||fo.rotate(90,Xr/2,Rl/2),qn!==Nu&&qn!==Iu||fo.rotate(-90,Xr/2,Rl/2),qn===Fh&&(45<jo&&135>jo||225<jo&&315>jo)&&fo.rotate(-jo,Xr/2,Rl/2);var la=U.allocAt(0,0,Xr,Rl),Wr=w.alloc();Wr.xi(la,Kr),fo.Ga(Wr);var ua=-Wr.x,Q2=-Wr.y,Sr=w.alloc();Sr.assign(Dp),isNaN(Sr.x)&&(Sr.x=Xr/2+3),isNaN(Sr.y)&&(Sr.y=-(Rl/2+3)),Sr.rotate(jo);var El=new U(Cf+=Sr.x+ua,Sp+=Sr.y+Q2,zr.width,zr.height),wf=new U(zr.x,zr.y,zr.width,zr.height),G2=new U(Dr.x,Dr.y,Dr.width,Dr.height);er.Sz=Jl,er.lineCount=tn.lineCount,er.lines=[tn.Cb,tn.Ih,tn.df,tn.Le,tn.Qc,tn.Qb,tn.ze],er.actualBounds=El,er.measuredBounds=wf,er.naturalBounds=G2,0===Vr?Us.assign(El):Us.ed(El),w.free(Sr),w.free(Wr),U.free(la),ct.free(fo)}null!==bn.graduatedBounds&&bn.graduatedBounds.push(Us),Me(zm,Us.x,Us.y,Us.width,Us.height)}Bi(he,!1)}}},vu.prototype.arrange=function(t,e,n){if(null!==t.graduatedBounds){var o=t.Pb(),r=t.graduatedMarks;if(null!==r){var s=t.graduatedBounds,l=0,a=s[l];l++,null!==o&&o.arrange(a.x-n.x,a.y-n.y,a.width,a.height);for(var p=e.length,d=0;d<p;d++){var f=e[d];a=r[d],f.visible&&f!==o&&0!==a.length&&(a=s[l],l++,f.arrange(a.x-n.x,a.y-n.y,a.width,a.height))}t.graduatedBounds=null}}},vu.prototype.gc=function(t,e,n){var o=n.$i;n.$i=!0;var r=t.naturalBounds,s=r.width,l=r.height;r=e instanceof Ci,e.save(),e.beginPath(),e.rect(-1,-1,s+1,l+1),e.clip(),e.Se(),(s=t.Pb()).gc(e,n),0>=(l=t.Df()*n.scale)&&(l=1);for(var a=s.actualBounds,p=t.O.s,d=t.graduatedMarks,f=p.length,g=0;g<f;g++){var m=p[g],v=d[g],y=v.length;if(m.visible&&m!==s&&0!==v.length)if(m instanceof ut){if(!(2>t.graduatedTickUnit*m.interval*s.geometry.flattenedTotalLength/t.graduatedRange*l&&null===m.graduatedSkip)){var P=m.measuredBounds,T=m.strokeWidth*m.scale,S=m.alignmentFocus;S.Mc()&&(S=yo);for(var A=0;A<y;A++){var M=v[A].$l,Z=v[A].angle,j=S,k=m.Ab;k.reset(),k.translate(M.x+a.x,M.y+a.y),k.rotate(Z+m.angle,0,0),k.translate(-P.width*j.x+j.offsetX+T/2,-P.height*j.y+j.offsetY+T/2),k.scale(m.scale,m.scale),al(m,!1),m.wh.set(m.Ab),m.Kk=m.scale,rr(m,!1),m.gc(e,n),r&&(t.svg.appendChild(m.svg),m.svg=null),m.Ab.reset()}}}else if(m instanceof kt)for(null===t.temporaryTextBlock&&(t.temporaryTextBlock=new kt),Xg(P=t.temporaryTextBlock,m),T=0;T<y;T++)(S=v[T]).actualBounds&&S.measuredBounds&&S.naturalBounds&&(P.ec=S.text||"",P.Kb=S.Sz||0,P.Gc=S.lineCount||0,void 0!==(A=S.lines)&&(P.Cb=A[0],P.Ih=A[1],P.df=A[2],P.Le=A[3],P.Qc=A[4],P.Qb=A[5],P.ze=A[6]),S.naturalBounds&&(P.dc=S.naturalBounds),S.actualBounds&&P.arrange((A=S.actualBounds).x,A.y,A.width,A.height),P.arrange((A=S.actualBounds).x,A.y,A.width,A.height),M=S.measuredBounds,S=S.naturalBounds,(Z=P.Ab).reset(),Z.translate(A.x+a.x,A.y+a.y),Z.translate(-M.x,-M.y),P.no(Z,S.x,S.y,S.width,S.height),al(P,!1),P.wh.set(P.Ab),P.Kk=P.scale,rr(P,!1),P.Ng=m.part,P.Me=m.panel,P.gc(e,n),P.Me=null,P.Ng=null,r&&(t.svg.appendChild(P.svg),P.svg=null))}n.$i=o,e.restore(),e.Vc(!0)},At(O,X),O.prototype.cloneProtected=function(t){X.prototype.cloneProtected.call(this,t),t.na=this.na,t.yb=this.yb.J(),t.Tm=this.Tm.J(),t.Uf=this.Uf,t.$e=this.$e,t.jg.assign(this.jg),null!==this.T&&(t.T=this.T.copy(t)),t.xo=this.xo,t.jn=this.jn.J(),t.kn=this.kn.J(),null!==this.ra&&(t.ra=this.ra.copy()),t.ub=this.ub,t.zn=this.zn,t.Hh=this.Hh},O.prototype.Af=function(t){X.prototype.Af.call(this,t),t.O=this.O;for(var e=t.O.s,n=e.length,o=0;o<n;o++)e[o].Me=t;t.$g=null},O.prototype.copy=function(){var t=X.prototype.copy.call(this);if(null!==t){for(var e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o].copy();r.wi(t),r.Ng=null;var s=t.O,l=s.count;if(s.Gb(l,r),null!==(s=t.part)){s.Rh=null,null!==r.portId&&s instanceof B&&(s.Te=!0);var a=t.diagram;null!==a&&a.undoManager.isUndoingRedoing||s.cb(ge,"elements",t,null,r,null,l)}}return t}return null},(x=O.prototype).toString=function(){return"Panel("+this.type.name+")#"+ui(this)},x.Pn=function(t){X.prototype.Pn.call(this,t);for(var e=this.O.s,n=e.length,o=0;o<n;o++)e[o].Pn(t)},x.hh=function(t,e){if(this.na===O.Grid)t.yc(),this.na.gc(this,t,e);else if(this.na===O.Graduated)t.yc(),this.na.gc(this,t,e);else{if(this.na===O.Table)if(t.yc(),t instanceof Ci){var n=t.yd;t.yd=Ga(t,"gojs-ts"),hd(this,t),t.nh.pop(),t.yd=n}else hd(this,t);(n=this.isClipping&&this.na===O.Spot)&&t.save();for(var o=this.Pb(),r=this.O.s,s=r.length,l=0;l<s;l++){var a=r[l];n&&a===o&&(t.clipInsteadOfFill=!0),a.gc(t,e),n&&a===o&&(t.clipInsteadOfFill=!1)}n&&(t.restore(),t.Vc(!0))}},x.lv=function(){for(var t=this.O.s,e=t.length,n=0;n<e;n++)t[n].lv();this.Uc=!0},x.kk=function(t,e,n){if(!X.prototype.kk.call(this,t,e,n))return!1;if(this.type===O.Table)null!==(n=0!==(n=this.svg.getElementsByClassName("gojs-ts")).length?n[0]:null)&&(n.innerHTML=""),t.yd=n,hd(this,t),t.yd=null;else if(this.na===O.Grid||this.na===O.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1;for(var o=(n=this.O.s).length,r=0;r<o;r++)n[r].gc(t,e);return!0},x.nk=function(){return!0},x.$o=function(t,e,n,o){if(!this.isClipping)if(this.Dd()&&null!==t.bk){t=t.bk,e=this.O.s;for(var r=0,s=0,l=0;l<e.length;l++)if(e[l].Ed()){var a=e[l].actualBounds;r=0===l?a.x:Math.min(a.x,r),s=0===l?a.y:Math.min(a.y,s)}o.setAttributeNS(null,"clip-path","path('M "+(t.x-n.x-r)+","+(t.y-n.y-s)+" l "+t.width+" 0 l 0 "+t.height+" l -"+t.width+" 0 z')")}else X.prototype.$o.call(this,t,e,n,o)},x.Sj=function(t,e,n,o,r){var s=this.se(),l=this.transform,a=1/(l.m11*l.m22-l.m12*l.m21),p=l.m22*a,d=-l.m12*a,f=-l.m21*a,g=l.m11*a,m=a*(l.m21*l.dy-l.m22*l.dx),v=a*(l.m12*l.dx-l.m11*l.dy);if(null!==this.areaBackground)return N.Ff((l=this.actualBounds).left,l.top,l.right,l.bottom,t,e,n,o,r);if(null!==this.background)return s=t*p+e*f+m,a=t*d+e*g+v,t=n*p+o*f+m,p=n*d+o*g+v,r.h(0,0),s=N.Ff(0,0,(n=this.naturalBounds).width,n.height,s,a,t,p,r),r.transform(l),s;s||(p=1,f=d=0,g=1,v=m=0),a=t*p+e*f+m,t=t*d+e*g+v,r.h(p=n*p+o*f+m,n=n*d+o*g+v),o=(p-a)*(p-a)+(n-t)*(n-t),d=!1,v=(g=this.O.s).length,f=w.alloc(),m=null,e=1/0;var y=null,P=this.isClipping&&this.na===O.Spot;P&&(y=w.alloc(),(d=(m=this.Pb()).Sj(a,t,p,n,y))&&(e=(a-y.x)*(a-y.x)+(t-y.y)*(t-y.y)));for(var T=0;T<v;T++){var S=g[T];S.visible&&S!==m&&S.Sj(a,t,p,n,f)&&(d=!0,(S=(a-f.x)*(a-f.x)+(t-f.y)*(t-f.y))<o&&(o=S,r.set(f)))}return P&&(e>o&&r.set(y),w.free(y)),w.free(f),s&&r.transform(l),d},x.Gj=function(){for(var t=this.O.s,e=t.length,n=0;n<e;n++)t[n].Gj();X.prototype.Gj.call(this)},x.v=function(t){if(!Lo(this)){X.prototype.v.call(this,t),t=null,(this.na===O.Auto||this.na===O.Link)&&(t=this.Pb());for(var e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o];if((r===t||r.isPanelMain)&&r.v(!0),!r.desiredSize.w()){var s=kn(r,!1);(r instanceof ii||r instanceof O||r instanceof kt||s!==te)&&r.v(!0)}}}},x.Uj=function(){if(!Lo(this)){Bi(this,!0),Nr(this,!0);for(var t=this.O.s,e=t.length,n=0;n<e;n++)t[n].Uj()}},x.Uk=function(){if(!(2048&this.l)){al(this,!0),rr(this,!0);for(var t=this.O.s,e=t.length,n=0;n<e;n++)t[n].Wu()}},x.Wu=function(){rr(this,!0);for(var t=this.O.s,e=t.length,n=0;n<e;n++)t[n].Wu()},x.Wl=function(t,e,n,o){var r=this.jg;r.h(0,0,0,0);var s=this.desiredSize,l=this.minSize;void 0===n&&(n=l.width,o=l.height),n=Math.max(n,l.width),o=Math.max(o,l.height);var a=this.maxSize;isNaN(s.width)||(t=Math.min(s.width,a.width)),isNaN(s.height)||(e=Math.min(s.height,a.height)),t=Math.max(n,t),e=Math.max(o,e);var p=this.yb;t=Math.max(t-p.left-p.right,0),e=Math.max(e-p.top-p.bottom,0);var d=this.O.s;0!==d.length&&this.na.measure(this,t,e,d,r,n,o),t=r.width+p.left+p.right,p=r.height+p.top+p.bottom,isFinite(s.width)&&(t=s.width),isFinite(s.height)&&(p=s.height),t=Math.min(a.width,t),p=Math.min(a.height,p),t=Math.max(l.width,t),p=Math.max(l.height,p),vo(r,t=Math.max(n,t),p=Math.max(o,p)),vo(this.naturalBounds,t,p),this.Ge(0,0,t,p)},x.Pb=function(){if(null===this.$g){var t=this.O.s,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var o=t[n];if(!0===o.isPanelMain)return this.$g=o}this.$g=t[0]}return this.$g},x.eh=function(t,e,n,o){var r=this.O.s;if(this.actualBounds.h(t,e,n,o),0!==r.length){if(!this.desiredSize.w()){t=kn(this,!0);var s=this.measuredBounds;e=s.width,s=s.height;var l=this.Kg,a=l.left+l.right;switch(l=l.top+l.bottom,e===n&&s===o&&(t=te),t){case te:(e>n||s>o)&&(this.v(),this.measure(e>n?n:e,s>o?o:s,0,0));break;case oe:this.v(!0),this.measure(n+a,o+l,0,0);break;case Ue:this.v(!0),this.measure(n+a,s+l,0,0);break;case be:this.v(!0),this.measure(e+a,o+l,0,0)}}this.na.arrange(this,r,this.jg)}},x.gh=function(t){var e=this.naturalBounds,n=Co(this);if(An(0,0,e.width,e.height,t.x,t.y)){for(var o=(e=this.O.s).length,r=w.allocAt(0,0);o--;){var s=e[o];if((s.visible||s===n)&&(Xe(r.set(t),s.transform),s.ca(r)))return w.free(r),!0}return w.free(r),!(null===this.Ma&&null===this.areaBackground)}return!1},x.ks=function(t){if(this.bindingId===t)return this;for(var e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o].ks(t);if(null!==r)return r}return null},x.qm=function(t,e){if(e(this,t),t instanceof O)for(var n=(t=t.O.s).length,o=0;o<n;o++)this.qm(t[o],e)},x.Nl=function(t){return Jg(this,this,t)},x.fb=function(t){if(this.name===t)return this;var e=this.O.s,n=e.length;null===this.Hh&&null===this.itemTemplateMap||(n=yu(this));for(var o=0;o<n;o++){var r=e[o];if(r instanceof O){var s=r.fb(t);if(null!==s)return s}if(r.name===t)return r}return null},x.se=function(){return!(this.type===O.TableRow||this.type===O.TableColumn)},x.ic=function(t,e,n){if(!1===this.pickable||(void 0===e&&(e=null),void 0===n&&(n=null),_n(this)))return null;var o=this.naturalBounds,r=1/this.Df(),s=this.se(),l=s?t:Xe(w.allocAt(t.x,t.y),this.transform),a=this.diagram,p=10,d=5;if(null!==a&&(d=(p=a.Ql("extraTouchArea"))/2),An(-d*r,-d*r,o.width+p*r,o.height+p*r,l.x,l.y)){if(!this.isAtomic){var f=(r=this.O.s).length;if(a=w.alloc(),d=(p=this.isClipping&&this.na===O.Spot)?this.Pb():null,p&&(d.se()?Xe(a.set(t),d.transform):a.set(t),!d.ca(a)))return w.free(a),s||w.free(l),null;for(var g=Co(this);f--;){var m=r[f];if((m.visible||m===g)&&(m.se()?Xe(a.set(t),m.transform):a.set(t),!p||m!==d)){var v=null;if(m instanceof O?v=m.ic(a,e,n):!0===m.pickable&&m.ca(a)&&(v=m),null!==v&&(null!==e&&(v=e(v)),null!==v&&(null===n||n(v))))return w.free(a),s||w.free(l),v}}w.free(a)}return null===this.background&&null===this.areaBackground?(s||w.free(l),null):(t=An(0,0,o.width,o.height,l.x,l.y)?this:null,s||w.free(l),t)}return s||w.free(l),null},x.ji=function(t,e,n,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var r=this.naturalBounds,s=this.se(),l=s?t:Xe(w.allocAt(t.x,t.y),this.transform);if(r=An(0,0,r.width,r.height,l.x,l.y),Yo(this)||r){if(!this.isAtomic){for(var a=this.O.s,p=a.length,d=w.alloc(),f=Co(this);p--;){var g=a[p];if(g.visible||g===f){g.se()?Xe(d.set(t),g.transform):d.set(t);var m=g;(null!==(g=g instanceof O?g:null)?g.ji(d,e,n,o):m.ca(d))&&!1!==m.pickable&&(null!==e&&(m=e(m)),null===m||null!==n&&!n(m)||o.add(m))}}w.free(d)}return s||w.free(l),r&&(null!==this.background||null!==this.areaBackground)}return s||w.free(l),!1},x.Cf=function(t,e,n,o,r,s){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var l=s;if(void 0===s&&(l=ct.alloc()).reset(),l.multiply(this.transform),this.fh(t,l))return cd(this,e,n,r),void 0===s&&ct.free(l),!0;if(this.Yc(t,l)){if(!this.isAtomic)for(var a=Co(this),p=this.O.s,d=p.length;d--;){var f=p[d];if(f.visible||f===a){var g=f.actualBounds,m=this.naturalBounds;g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height||(g=f,f=f instanceof O?f:null,(m=ct.alloc()).set(l),(null!==f?f.Cf(t,e,n,o,r,m):Sg(g,t,o,m))&&(null!==e&&(g=e(g)),null===g||null!==n&&!n(g)||r.add(g)),ct.free(m))}}return void 0===s&&ct.free(l),o}return void 0===s&&ct.free(l),!1},x.og=function(t,e,n,o,r,s){if(!1===this.pickable)return!1;void 0===n&&(n=null),void 0===o&&(o=null);var l=this.naturalBounds,a=this.se(),p=a?t:Xe(w.allocAt(t.x,t.y),this.transform),d=a?e:Xe(w.allocAt(e.x,e.y),this.transform),f=p.Bf(d),g=0<p.x&&p.x<l.width&&0<p.y&&p.y<l.height||We(p.x,p.y,0,0,0,l.height)<=f||We(p.x,p.y,0,l.height,l.width,l.height)<=f||We(p.x,p.y,l.width,l.height,l.width,0)<=f||We(p.x,p.y,l.width,0,0,0)<=f;if(l=p.zd(0,0)<=f&&p.zd(0,l.height)<=f&&p.zd(l.width,0)<=f&&p.zd(l.width,l.height)<=f,a||(w.free(p),w.free(d)),g){if(!this.isAtomic){p=w.alloc(),d=w.alloc(),f=Co(this);for(var m=this.O.s,v=m.length;v--;){var y=m[v];if(y.visible||y===f){var P=y.actualBounds,T=this.naturalBounds;(!a||!(P.x>T.width||P.y>T.height||0>P.x+P.width||0>P.y+P.height))&&(y.se()?(P=y.transform,Xe(p.set(t),P),Xe(d.set(e),P)):(p.set(t),d.set(e)),P=y,(null!==(y=y instanceof O?y:null)?y.og(p,d,n,o,r,s):P.tx(p,d,r))&&(null!==n&&(P=n(P)),null===P||null!==o&&!o(P)||s.add(P)))}}w.free(p),w.free(d)}return r?g:l}return!1},x.add=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(n=0;n<e.length;n++)this.Gb(this.O.count,e[n]);return this},x.M=function(t){return this.O.M(t)},x.Gb=function(t,e){e instanceof W&&q("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.rg(e))&&(this===e&&q("Cannot make a Panel contain itself: "+this.toString()),q("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.panel;if(null!==n&&n!==this&&q("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==O.Grid||e instanceof ut||q("Can only add Shapes to a Grid Panel, not: "+e),this.na!==O.Graduated||e instanceof ut||e instanceof kt||q("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.wi(this),e.Ng=null,null!==this.itemArray){var o=e.data;null!==o&&"object"==typeof o&&(null===this.ge&&(this.ge=new lt),this.ge.add(o,e))}var r=this.O;if(o=-1,n===this){for(var s=-1,l=this.O.s,a=l.length,p=0;p<a;p++)if(l[p]===e){s=p;break}if(-1!==s){if(s===t||s+1>=r.count&&t>=r.count)return;r.mb(s),o=s}else q("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Gb(t,e),(0===t||e.isPanelMain)&&(this.$g=null),Lo(this)||this.v(),e.v(!1),(null!==e.portId||e instanceof O&&!0===e.Te)&&(this.Te=!0),this.graduatedIntervals=null,this.If()||uh(this,e,!1),null!==(n=this.part)&&(n.Rh=null,n.ag=NaN,this.Te&&n instanceof B&&(n.Te=!0),n.Te&&n instanceof B&&(n.wc=null),null!==(r=this.diagram)&&r.undoManager.isUndoingRedoing||(-1!==o&&n.cb(_e,"elements",this,e,null,o,null),n.cb(ge,"elements",this,null,e,null,t)))},x.remove=function(t){for(var e=this.O.s,n=e.length,o=-1,r=0;r<n;r++)if(e[r]===t){o=r;break}-1!==o&&this.pc(o,!0)},x.mb=function(t){0<=t&&this.pc(t,!0)},x.pc=function(t,e){var n=this.O,o=n.M(t);if(o.Ng=null,o.wi(null),null!==this.ge){var r=o.data;"object"==typeof r&&this.ge.remove(r)}n.mb(t),Bi(this,!1),this.v(),this.$g===o&&(this.$g=null),this.graduatedIntervals=null;var s=this.part;null!==s&&(s.Rh=null,s.ag=NaN,s.Wb(),s instanceof B&&(o instanceof O?o.qm(o,function(l,a){bd(s,a,e)}):bd(s,o,e)),null!==(n=this.diagram)&&n.undoManager.isUndoingRedoing||s.cb(_e,"elements",this,o,null,t,null))},x.Fb=function(t){0>t&&Jt(t,">= 0",O,"getRowDefinition:idx"),t=Math.round(t);var e=this.rowDefs;if(void 0===e[t]){var n=new le;n.wi(this),n.isRow=!0,n.index=t,e[t]=n,this.cb(ge,"rowdefs",this,null,n,null,t)}return e[t]},x.oA=function(t){if(0>t&&Jt(t,">= 0",O,"removeRowDefinition:idx"),0!==this.rowCount){t=Math.round(t);var e=this.rowDefs,n=e[t];if(n){e[t]=void 0;for(var o=e.length-1;0<=o&&void 0===e[o--];)e.length--;this.cb(_e,"rowdefs",this,n,null,t,null),this.v()}}},x.Eb=function(t){0>t&&Jt(t,">= 0",O,"getColumnDefinition:idx"),t=Math.round(t);var e=this.colDefs;if(void 0===e[t]){var n=new le;n.wi(this),n.isRow=!1,n.index=t,e[t]=n,this.cb(ge,"coldefs",this,null,n,null,t)}return e[t]},x.jA=function(t){if(0>t&&Jt(t,">= 0",O,"removeColumnDefinition:idx"),0!==this.columnCount){t=Math.round(t);var e=this.colDefs,n=e[t];if(n){e[t]=void 0;for(var o=e.length-1;0<=o&&void 0===e[o--];)e.length--;this.cb(_e,"coldefs",this,n,null,t,null),this.v()}}},x.Gy=function(t){var e=null;return t.isRow?e=this.Fb(t.index):t.isRow||(e=this.Eb(t.index)),e&&ah(e,t),this},x.Hy=function(t,e){return(t=this.Fb(t))&&ah(t,new le(e)),this},x.By=function(t,e){return(t=this.Eb(t))&&ah(t,new le(e)),this},x.nz=function(t){if(0>t||this.type!==O.Table||0===this.rowCount)return-1;for(var e=0,n=this.rowDefs,o=n.length,r=this.topIndex;r<o;r++){var s=n[r];if(void 0!==s&&t<(e+=s.total))break}return r},x.fz=function(t){if(0>t||this.type!==O.Table||0===this.columnCount)return-1;for(var e=0,n=this.colDefs,o=n.length,r=this.leftIndex;r<o;r++){var s=n[r];if(void 0!==s&&t<(e+=s.total))break}return r},x.Fz=function(t,e){if(void 0===e&&(e=new w(NaN,NaN)),this.type!==O.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var n=this.Pb();return n.geometry.Pu((t-this.graduatedMin)/this.graduatedRange,e),n.transform.Ga(e)},x.Gz=function(t){if(this.type!==O.Graduated)return NaN;var e=this.Pb();return e.transform.Cd(t),e.geometry.xx(t)*this.graduatedRange+this.graduatedMin},x.Uy=function(t){void 0===t&&(t=!1);var e=this.copy();return t2(e,function(n){n instanceof O&&(n.allBindings=null,n.ub=null);var o=n.localBindings;null!==o&&(n.localBindings=null,o.each(function(r){n.bind(r.copy())})),null!==(o=n.animationTriggers)&&(n.animationTriggers=null,o.each(function(r){n.Jv(r.value.copy())}))}),t&&an(e),e},x.La=function(t){var e=this.allBindings;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var n=e.value,o=n.sourceProperty;if((""===t||""===o||o===t)&&(o=n.targetProperty,null!==n.converter||""!==o)){o=this.data;var r=n.sourceName;if(null!==r){if(""===r)o=this;else if("/"===r)o=this;else if("."===r)o=this;else if(".."===r)o=this;else if(null===(o=this.fb(r)))continue}else if(n.isToModel){if(null===(o=this.diagram))continue;o=o.model.modelData}var s=this,l=n.Ai;if(-1!==l){if(null===(s=this.ks(l)))continue}else null!==n.xd&&(s=n.xd);if("/"===r?o=s.part:"."===r?o=s:".."===r&&(o=s.panel),0!==(r=n.to)){if(!(s instanceof O))continue;1===r?s=s.Eb(n.wl):2===r&&(s=s.Fb(n.wl))}void 0!==s&&n.Mv(s,o)}}},x.sx=function(t){return null==t||null===this.ge?null:this.ge.I(t)},x.mv=function(){for(var t=yu(this);this.O.length>t;)this.pc(this.O.length-1,!1);Gg(this,this.itemArray)},pt.Object.defineProperties(O.prototype,{type:{get:function(){return this.na},set:function(t){var e=this.na;e!==t&&(this.na=t,this.isAtomic=this.na===O.Grid,this.v(),this.g("type",e,t))}},elements:{get:function(){return this.O.iterator}},naturalBounds:{get:function(){return this.dc}},padding:{get:function(){return this.yb},set:function(t){"number"==typeof t?(0>t&&Jt(t,">= 0",O,"padding"),t=new St(t)):(0>t.left&&Jt(t.left,">= 0",O,"padding:value.left"),0>t.right&&Jt(t.right,">= 0",O,"padding:value.right"),0>t.top&&Jt(t.top,">= 0",O,"padding:value.top"),0>t.bottom&&Jt(t.bottom,">= 0",O,"padding:value.bottom"));var e=this.yb;e.D(t)||(this.yb=t=t.J(),this.v(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Tm},set:function(t){var e=this.Tm;e.D(t)||(this.Tm=t=t.J(),this.v(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.v(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return null!==this.T?this.T.Qp:bs},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.defaultSeparatorPadding;e.D(t)||(t=t.J(),null===this.T&&(this.T=new Hi),this.T.Qp=t,this.v(),this.g("defaultSeparatorPadding",e,t))}},defaultRowSeparatorStroke:{get:function(){return null!==this.T?this.T.ia:null},set:function(t){var e=this.defaultRowSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof Pt)&&(t instanceof Pt&&t.freeze(),null===this.T&&(this.T=new Hi),this.T.ia=t,this.N(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.Ha:1},set:function(t){var e=this.defaultRowSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new Hi),this.T.Ha=t,this.v(),this.g("defaultRowSeparatorStrokeWidth",e,t))}},defaultRowSeparatorDashArray:{get:function(){return null!==this.T?this.T.V:null},set:function(t){var e=this.defaultRowSeparatorDashArray;if(e!==t){if(null!==t){for(var n=t.length,o=0,r=0;r<n;r++){var s=t[r];"number"==typeof s&&0<=s&&isFinite(s)||q("defaultRowSeparatorDashArray value "+s+" at index "+r+" must be a positive number or zero."),o+=s}if(0===o){if(null===e)return;t=null}}null===this.T&&(this.T=new Hi),this.T.V=t,this.N(),this.g("defaultRowSeparatorDashArray",e,t)}}},defaultColumnSeparatorStroke:{get:function(){return null!==this.T?this.T.u:null},set:function(t){var e=this.defaultColumnSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof Pt)&&(t instanceof Pt&&t.freeze(),null===this.T&&(this.T=new Hi),this.T.u=t,this.N(),this.g("defaultColumnSeparatorStroke",e,t))}},defaultColumnSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.F:1},set:function(t){var e=this.defaultColumnSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new Hi),this.T.F=t,this.v(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}},defaultColumnSeparatorDashArray:{get:function(){return null!==this.T?this.T.o:null},set:function(t){var e=this.defaultColumnSeparatorDashArray;if(e!==t){if(null!==t){for(var n=t.length,o=0,r=0;r<n;r++){var s=t[r];"number"==typeof s&&0<=s&&isFinite(s)||q("defaultColumnSeparatorDashArray value "+s+" at index "+r+" must be a positive number or zero."),o+=s}if(0===o){if(null===e)return;t=null}}null===this.T&&(this.T=new Hi),this.T.o=t,this.N(),this.g("defaultColumnSeparatorDashArray",e,t)}}},inRowsCols:{get:function(){return null!==this.T?this.T.nb:null},set:function(t){null===this.T&&(this.T=new Hi),this.T.nb=t}},viewboxStretch:{get:function(){return this.xo},set:function(t){var e=this.xo;e!==t&&(this.xo=t,this.v(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.jn},set:function(t){var e=this.jn;if(!e.D(t)){t.w()&&0!==t.width&&0!==t.height||q("Invalid Panel.gridCellSize: "+t),this.jn=t.J();var n=this.diagram;null!==n&&this===n.grid&&Fo(n),this.N(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.kn},set:function(t){var e=this.kn;if(!e.D(t)){t.w()||q("Invalid Panel.gridOrigin: "+t),this.kn=t.J();var n=this.diagram;null!==n&&this===n.grid&&Fo(n),this.N(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return null!==this.ra?this.ra.lq:0},set:function(t){var e=this.graduatedMin;e!==t&&(null===this.ra&&(this.ra=new wo),this.ra.lq=t,this.v(),this.g("graduatedMin",e,t),ms(this)&&null!==(t=this.part)&&jr(this,t,"graduatedRange"))}},graduatedMax:{get:function(){return null!==this.ra?this.ra.F:100},set:function(t){var e=this.graduatedMax;e!==t&&(null===this.ra&&(this.ra=new wo),this.ra.F=t,this.v(),this.g("graduatedMax",e,t),ms(this)&&null!==(t=this.part)&&jr(this,t,"graduatedRange"))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return null!==this.ra?this.ra.ia:10},set:function(t){var e=this.graduatedTickUnit;e!==t&&0<t&&(null===this.ra&&(this.ra=new wo),this.ra.ia=t,this.v(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return null!==this.ra?this.ra.V:0},set:function(t){var e=this.graduatedTickBase;e!==t&&(null===this.ra&&(this.ra=new wo),this.ra.V=t,this.v(),this.g("graduatedTickBase",e,t))}},graduatedMarks:{get:function(){return null!==this.ra?this.ra.u:null},set:function(t){null!==this.ra?this.ra.u=t:null!==t&&(this.ra=new wo,this.ra.u=t)}},graduatedBounds:{get:function(){return null!==this.ra?this.ra.j:null},set:function(t){null!==this.ra?this.ra.j=t:null!==t&&(this.ra=new wo,this.ra.j=t)}},graduatedIntervals:{get:function(){return null!==this.ra?this.ra.o:null},set:function(t){null!==this.ra?this.ra.o=t:null!==t&&(this.ra=new wo,this.ra.o=t)}},temporaryTextBlock:{get:function(){return null!==this.ra?this.ra.Zh:null},set:function(t){null!==this.ra?this.ra.Zh=t:null!==t&&(this.ra=new wo,this.ra.Zh=t)}},panelLayoutState:{get:function(){return this.F},set:function(t){this.F=t}},Te:{get:function(){return 0!=(8388608&this.l)},set:function(t){0!=(8388608&this.l)!==t&&(this.l^=8388608)}},rowDefs:{get:function(){return null===this.T&&(this.T=new Hi),this.T.Pc}},rowCount:{get:function(){return null===this.T?0:this.rowDefs.length}},colDefs:{get:function(){return null===this.T&&(this.T=new Hi),this.T.Oc}},columnCount:{get:function(){return null===this.T?0:this.colDefs.length}},rowSizing:{get:function(){return null!==this.T?this.T.ob:ph},set:function(t){var e=this.rowSizing;e!==t&&(null===this.T&&(this.T=new Hi),this.T.ob=t,this.v(),this.g("rowSizing",e,t))}},columnSizing:{get:function(){return null!==this.T?this.T.j:ph},set:function(t){var e=this.columnSizing;e!==t&&(null===this.T&&(this.T=new Hi),this.T.j=t,this.v(),this.g("columnSizing",e,t))}},topIndex:{get:function(){return null!==this.T?this.T.Hb:0},set:function(t){var e=this.topIndex;e!==t&&((!isFinite(t)||0>t)&&q("Panel.topIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new Hi),this.T.Hb=t,this.v(),this.g("topIndex",e,t))}},leftIndex:{get:function(){return null!==this.T?this.T.hb:0},set:function(t){var e=this.leftIndex;e!==t&&((!isFinite(t)||0>t)&&q("Panel.leftIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new Hi),this.T.hb=t,this.v(),this.g("leftIndex",e,t))}},data:{get:function(){return this.ub},set:function(t){var e=this.ub;if(e!==t){var n=this instanceof W&&!(this instanceof mt);an(this),this.ub=t;var o=this.diagram;null!==o&&(n?(n=o.partManager,this instanceof L?(null!==e&&n.bf.remove(e),null!==t&&n.bf.add(t,this)):this instanceof W&&(null!==e&&n.cf.remove(e),null!==t&&n.cf.add(t,this))):null!==(n=this.panel)&&null!==n.ge&&(null!==e&&n.ge.remove(e),null!==t&&n.ge.add(t,this))),this.g("data",e,t),null!==o&&o.undoManager.isUndoingRedoing||null!==t&&this.La()}}},itemIndex:{get:function(){return this.zn},set:function(t){var e=this.zn;e!==t&&(this.zn=t,this.g("itemIndex",e,t))}},allBindings:{get:function(){return null!==this.A?this.A.nb:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new _s),this.A.nb=t)}},itemArray:{get:function(){return this.Hh},set:function(t){var e=this.Hh;if(e!==t||null!==t&&function e2(t,e){for(var n=(t=t.O.s).length,o=e.length,r=0,s=null;r<n&&!((s=t[r])instanceof O&&null!==s.data);)s=t[++r];if(n-r!==o)return!0;if(null===s)return 0<o;for(var l=0;r<n&&l<o;){if(!((s=t[r])instanceof O)||s.data!==e[l])return!0;r++,l++}return!1}(this,t)){var n=this.diagram;e!==t&&(null!==n&&null!==e&&rf(n.partManager,this,n),this.Hh=t,null!==n&&null!==t&&of(n.partManager,this)),this.g("itemArray",e,t),null!==n&&n.undoManager.isUndoingRedoing||Gg(this,t)}}},itemTemplate:{get:function(){return null===this.itemTemplateMap?null:this.itemTemplateMap.I("")},set:function(t){if(null===this.itemTemplateMap){if(null===t)return;this.itemTemplateMap=new lt}var e=this.itemTemplateMap.I("");e!==t&&((t instanceof W||t.isPanelMain)&&q("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.mv())}},itemTemplateMap:{get:function(){return null!==this.A?this.A.Pc:null},set:function(t){var e=this.itemTemplateMap;if(e!==t){for(var n=t.iterator;n.next(););me(this),this.A.Pc=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.mv()}}},itemCategoryProperty:{get:function(){return null!==this.A?this.A.Oc:"category"},set:function(t){var e=this.itemCategoryProperty;e!==t&&(me(this),this.A.Oc=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.l)},set:function(t){var e=0!=(1048576&this.l);e!==t&&(this.l^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.l)},set:function(t){var e=0!=(2097152&this.l);e!==t&&(this.l^=2097152,this instanceof rt&&(this.tb=null),this.v(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.l)},set:function(t){var e=0!=(33554432&this.l);e!==t&&(this.l^=33554432,this.v(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.l)},set:function(t){var e=0!=(4194304&this.l);if(e!==t){var n=null===this.panel||this.panel.If();this.l^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||n&&uh(this,this,t)}}},alignmentFocusName:{get:function(){return this.$e},set:function(t){var e=this.$e;e!==t&&(this.$e=t,this.v(),this.g("alignmentFocusName",e,t))}}}),pt.Object.defineProperties(O,{Position:{get:function(){return vn.I("Position")}},Horizontal:{get:function(){return vn.I("Horizontal")}},Vertical:{get:function(){return vn.I("Vertical")}},Spot:{get:function(){return vn.I("Spot")}},Auto:{get:function(){return vn.I("Auto")}},Table:{get:function(){return vn.I("Table")}},Viewbox:{get:function(){return vn.I("Viewbox")}},TableRow:{get:function(){return vn.I("TableRow")}},TableColumn:{get:function(){return vn.I("TableColumn")}},Link:{get:function(){return vn.I("Link")}},Grid:{get:function(){return vn.I("Grid")}},Graduated:{get:function(){return vn.I("Graduated")}}}),O.prototype.rebuildItemElements=O.prototype.mv,O.prototype.findItemPanelForData=O.prototype.sx,O.prototype.updateTargetBindings=O.prototype.La,O.prototype.copyTemplate=O.prototype.Uy,O.prototype.graduatedValueForPoint=O.prototype.Gz,O.prototype.graduatedPointForValue=O.prototype.Fz,O.prototype.findColumnForLocalX=O.prototype.fz,O.prototype.findRowForLocalY=O.prototype.nz,O.prototype.addColumnDefinition=O.prototype.By,O.prototype.addRowDefinition=O.prototype.Hy,O.prototype.addRowColumnDefinition=O.prototype.Gy,O.prototype.removeColumnDefinition=O.prototype.jA,O.prototype.getColumnDefinition=O.prototype.Eb,O.prototype.removeRowDefinition=O.prototype.oA,O.prototype.getRowDefinition=O.prototype.Fb,O.prototype.removeAt=O.prototype.mb,O.prototype.remove=O.prototype.remove,O.prototype.insertAt=O.prototype.Gb,O.prototype.elt=O.prototype.M,O.prototype.add=O.prototype.add,O.prototype.findObject=O.prototype.fb,O.prototype.findInVisualTree=O.prototype.Nl,O.prototype.walkVisualTreeFrom=O.prototype.qm,O.prototype.findMainElement=O.prototype.Pb;var Hg=!1,Kg=null,vn=new lt;function wo(){this.lq=0,this.F=100,this.ia=10,this.V=0,this.Zh=this.o=this.j=this.u=null}function Hi(){this.Pc=[],this.Oc=[],this.j=this.ob=ph,this.hb=this.Hb=0,this.Qp=bs,this.Ha=1,this.V=this.ia=null,this.F=1,this.nb=this.o=this.u=null}function le(t){ye(this),this.Me=null,this.uq=!0,this.Za=0,this.Hc=NaN,this.jj=0,this.hj=1/0,this.Jb=Oe,this.pa=this.oc=this.oa=0,this.be=null,this.oo=yd,this.hg=mn,this.lo=this.dg=null,this.mo=NaN,this.Ma=this.tj=null,this.Pm=!1,t&&(Object.assign(this,t),void 0!==t.column?(this.isRow=!1,this.index=t.column):void 0!==t.row&&(this.isRow=!0,this.index=t.row))}function ah(t,e){e.isRow?t.height=e.height:t.width=e.width,t.minimum=e.minimum,t.maximum=e.maximum,t.alignment=e.alignment,t.stretch=e.stretch,t.sizing=e.sizing,t.dg=null===e.separatorPadding?null:e.separatorPadding.J(),t.separatorStroke=e.separatorStroke,t.separatorStrokeWidth=e.separatorStrokeWidth,t.tj=null,e.separatorDashArray&&(t.tj=Os(e.separatorDashArray)),t.background=e.background,t.coversSeparators=e.coversSeparators,t.be=e.be}function hh(t){if(t.sizing===yd){var e=t.Me;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}O.className="Panel",O.definePanelLayout=Qn,Qn("Position",new Va),Qn("Vertical",new Xa),Qn("Auto",new $a),Qn("Link",new rh),wo.prototype.copy=function(){var t=new wo;return t.lq=this.lq,t.F=this.F,t.ia=this.ia,t.V=this.V,t.u=this.u,t.j=this.j,t.o=this.o,t.Zh=this.Zh,t},wo.className="GradPanelSettings",Hi.prototype.copy=function(t){for(var e=new Hi,n=this.Pc,o=n.length,r=e.Pc,s=0;s<o;s++)if(void 0!==n[s]){var l=n[s].copy();l.wi(t),r[s]=l}for(o=(n=this.Oc).length,r=e.Oc,s=0;s<o;s++)void 0!==n[s]&&((l=n[s].copy()).wi(t),r[s]=l);return e.ob=this.ob,e.j=this.j,e.Hb=this.Hb,e.hb=this.hb,e.Qp=this.Qp.J(),e.Ha=this.Ha,e.ia=this.ia,e.V=this.V,e.F=this.F,e.u=this.u,e.o=this.o,e.nb=this.nb,e},Hi.className="TablePanelSettings",le.prototype.copy=function(){var t=new le;return t.uq=this.uq,t.Za=this.Za,t.Hc=this.Hc,t.jj=this.jj,t.hj=this.hj,t.Jb=this.Jb,t.oa=this.oa,t.oc=this.oc,t.pa=this.pa,t.hg=this.hg,t.oo=this.oo,t.dg=null===this.dg?null:this.dg.J(),t.lo=this.lo,t.mo=this.mo,t.tj=null,null!==this.tj&&(t.separatorDashArray=Os(this.separatorDashArray)),t.Ma=this.Ma,t.Pm=this.Pm,t.be=this.be,t},(x=le.prototype).qb=function(t){t.classType===le&&(this.sizing=t)},x.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+ui(this)},x.wi=function(t){this.Me=t},x.Io=function(t){var e=0,n=this.Me;if(this.index!==t&&(null===(t=this.separatorStroke)&&null!==n&&(t=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),null!==t&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==n?this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:0))),null===(t=this.dg)){if(null===n)return e;t=n.defaultSeparatorPadding}return e+(this.isRow?t.top:t.left)},x.Wc=function(){var t=0,e=this.Me,n=0,o=this.isRow;if(null!==e&&e.type===O.Table)for(var r=o?e.rowDefs.length:e.colDefs.length,s=0;s<r;s++){var l=o?e.rowDefs[s]:e.colDefs[s];if(void 0!==l&&0!==l.oa){n=l.index;break}}if(this.index!==n&&(null===(n=this.separatorStroke)&&null!==e&&(n=o?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==n&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?o?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(o=this.dg)){if(null===e)return t;o=e.defaultSeparatorPadding}return t+(this.isRow?o.top+o.bottom:o.left+o.right)},x.Ob=function(t,e,n){var o=this.Me;if(null!==o&&(o.cb(Bt,t,this,e,n,void 0,void 0),null!==this.be&&null!==(e=o.diagram)&&!e.skipsModelSourceBindings&&null!==(o=o.ih())&&null!==(e=o.data)))for(n=this.be.iterator;n.next();)n.value.sp(this,e,t,o)},x.bind=function(t,e,n,o){var r=null;return(r="string"==typeof t?new re(t,e,n,o):t).xd=this,null!==(t=this.panel)&&null!==(e=t.ih())&&Qg(e)&&q("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+r+" on "+t),null===this.be&&(this.be=new H),this.be.add(r),this},pt.Object.defineProperties(le.prototype,{panel:{get:function(){return this.Me}},isRow:{get:function(){return this.uq},set:function(t){this.uq=t}},index:{get:function(){return this.Za},set:function(t){this.Za=t}},height:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(0>t&&Jt(t,">= 0",le,"height"),this.Hc=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("height",e,t))}},width:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(0>t&&Jt(t,">= 0",le,"width"),this.Hc=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("width",e,t))}},minimum:{get:function(){return this.jj},set:function(t){var e=this.jj;e!==t&&((0>t||!isFinite(t))&&Jt(t,">= 0",le,"minimum"),this.jj=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("minimum",e,t))}},maximum:{get:function(){return this.hj},set:function(t){var e=this.hj;e!==t&&(0>t&&Jt(t,">= 0",le,"maximum"),this.hj=t,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Ob("maximum",e,t))}},alignment:{get:function(){return this.Jb},set:function(t){var e=this.Jb;e.D(t)||(this.Jb=t.J(),null!==this.panel&&this.panel.v(),this.Ob("alignment",e,t))}},stretch:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,null!==this.panel&&this.panel.v(),this.Ob("stretch",e,t))}},separatorPadding:{get:function(){return this.dg},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.dg;null!==t&&null!==e&&e.D(t)||(null!==t&&(t=t.J()),this.dg=t,null!==this.panel&&this.panel.v(),this.Ob("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(null!==t&&ys(t,"RowColumnDefinition.separatorStroke"),t instanceof Pt&&t.freeze(),this.lo=t,null!==this.panel&&this.panel.v(),this.Ob("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&(this.mo=t,null!==this.panel&&this.panel.v(),this.Ob("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.tj},set:function(t){var e=this.tj;if(e!==t){if(null!==t){for(var n=t.length,o=0,r=0;r<n;r++){var s=t[r];"number"==typeof s&&0<=s&&isFinite(s)||q("separatorDashArray value "+s+" at index "+r+" must be a positive number or zero."),o+=s}if(0===o){if(null===e)return;t=null}}this.tj=t,null!==this.panel&&this.panel.N(),this.Ob("separatorDashArray",e,t)}}},background:{get:function(){return this.Ma},set:function(t){var e=this.Ma;e!==t&&(null!==t&&ys(t,"RowColumnDefinition.background"),t instanceof Pt&&t.freeze(),this.Ma=t,null!==this.panel&&this.panel.N(),this.Ob("background",e,t))}},coversSeparators:{get:function(){return this.Pm},set:function(t){var e=this.Pm;e!==t&&(this.Pm=t,null!==this.panel&&this.panel.N(),this.Ob("coversSeparators",e,t))}},sizing:{get:function(){return this.oo},set:function(t){var e=this.oo;e!==t&&(this.oo=t,null!==this.panel&&this.panel.v(),this.Ob("sizing",e,t))}},actual:{get:function(){return this.oa},set:function(t){this.oa=isNaN(this.Hc)?Math.max(Math.min(this.hj,t),this.jj):Math.max(Math.min(this.hj,this.Hc),this.jj)}},measured:{get:function(){return this.oc},set:function(t){this.oc=t}},total:{get:function(){return this.oa+this.Wc()}},position:{get:function(){return this.pa},set:function(t){this.pa=t}}}),le.prototype.computeEffectiveSpacing=le.prototype.Wc,le.prototype.computeEffectiveSpacingTop=le.prototype.Io;var yd=new Q(le,"Default",0),xu=new Q(le,"None",1),ph=new Q(le,"ProportionalExtra",2);function ut(t,e){X.call(this),this.Rd=this.ua=null,this.an="None",this.xc=this.Ui="black",this.ig=1,this.Na=this.Yg=null,this.Vn=this.Un=NaN,this.fa=null,"string"==typeof t?this.figure=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function Or(t){null===t.Na?t.Na=new Dd:t.Na.nc&&(t.Na=t.Na.copy())}function vl(t,e,n,o){var r=n.length;if(!(4>r)){var s=o.measuredBounds,l=Math.max(1,s.width);s=s.height;for(var d,f,g,m,v,y,a=n[0],p=n[1],P=0,T=bt(),S=2;S<r;S+=2)0==(g=(d=n[S])-a)&&(g=.001),m=(a=(f=n[S+1])-p)/g,v=Math.atan2(a,g),y=Math.sqrt(g*g+a*a),T.push([g,v,m,y]),P+=y,a=d,p=f;a=n[0],p=n[1],g=o.measuredBounds.width,o instanceof ut&&(g-=o.strokeWidth),1>g&&(g=1),r=n=g,f=0!=(d=l/2),g=(y=T[S=0])[0],v=y[1],m=y[2],y=y[3];for(var A=0;.1<=P;){if(0===A&&(f?(r=n,r-=d,P-=d,f=!1):r=n,0===r&&(r=1)),r>P)return void Nt(T);r>y?(A=r-y,r=y):A=0;var M=Math.sqrt(r*r/(1+m*m));if(0>g&&(M=-M),t.translate(a+=M,p+=m*M),t.rotate(v),t.translate(-l/2,-s/2),0===A&&o.hh(t,e),t.translate(l/2,s/2),t.rotate(-v),t.translate(-a,-p),P-=r,y-=r,0!==A){if(++S===T.length)return void Nt(T);g=(y=T[S])[0],v=y[1],m=y[2],y=y[3],r=A}}Nt(T)}}function xd(t){var e=t.geometryStretch;return null!==t.Rd?e===mn?oe:e:e===mn?Pd[t.figure].defaultStretch:e}function ch(t,e,n,o,r){return(e=(t=n.x-t)*t+(e=n.y-e)*e)<o?(r.x=n.x,r.y=n.y,e):o}function dh(t,e,n,o,r,s,l,a,p){if(N.$(t,n)&&N.$(e,o)||N.$(r,l)&&N.$(s,a))return!1;var d=!1,f=(r-l)*(e-o)-(s-a)*(t-n);return 0!==f&&(p.x=((r*a-s*l)*(t-n)-(r-l)*(t*o-e*n))/f,p.y=((r*a-s*l)*(e-o)-(s-a)*(t*o-e*n))/f,(t>n?t-n:n-t)<(e>o?e-o:o-e)?(t=e<o?e:o,e=e<o?o:e,(p.y>t||N.$(p.y,t))&&(p.y<e||N.$(p.y,e))&&(d=!0)):(e=t<n?t:n,t=t<n?n:t,(p.x>e||N.$(p.x,e))&&(p.x<t||N.$(p.x,t))&&(d=!0)),d)}function Lr(t,e,n,o){if(!t.rs(e,n,o))return!1;t=e.x,e=e.y;var r=n.x,s=n.y;return n=o.x,o=o.y,t===r?(e<s?(t=e,e=s):t=s,o>=t&&o<=e):(t<r?(o=t,t=r):o=r,n>=o&&n<=t)}function Vg(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=Zu,"None"!==t.toArrow?(t.segmentIndex=-1,t.alignmentFocus=Si):"None"!==t.fromArrow&&(t.segmentIndex=0,t.alignmentFocus=new $(1-Si.x,Si.y)))}function zg(t){var e=oo[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=oo[n])){var r,o=null;for(r in N.um)if(r.toLowerCase()===n){o=r;break}if(null!==o)return t=Y.parse(N.um[o],!1),oo[o]=t,n!==o&&(oo[n]=o),o}}return"string"==typeof e?e:e instanceof Y?t:null}le.className="RowColumnDefinition",le.Default=yd,le.None=xu,le.ProportionalExtra=ph,At(ut,X),ut.prototype.cloneProtected=function(t){X.prototype.cloneProtected.call(this,t),t.ua=this.ua,t.Rd=this.Rd,t.an=this.an,t.Ui=this.Ui,t.xc=this.xc,t.ig=this.ig,null!==this.Yg&&(t.Yg=Os(this.Yg)),null!==this.Na&&(t.Na=this.Na.nc?this.Na:this.Na.copy()),t.Un=this.Un,t.Vn=this.Vn,null!==this.fa&&(t.fa=this.fa.copy())},(x=ut.prototype).th=function(){X.prototype.th.call(this),null!==this.Na&&(this.Na.nc=!0)},x.qb=function(t){t===te||t===En||t===au||t===mn?this.geometryStretch=t:X.prototype.qb.call(this,t)},x.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+ui(this)},x.hh=function(t,e){var n=this.xc,o=this.Ui;if(null!==n||null!==o){var r=this.ua;if(null!==r){t.yc();var s=this.actualBounds,l=this.naturalBounds;null!==o&&Mi(this,t,o,!0,!1,l,s);var a=this.part,p=this.ig;if(null===n||0!==p||null===a||!this.isPanelMain&&a.Pb()!==this||(p=a.type===O.Link&&a instanceof mt&&"Selection"===a.category&&a.adornedObject instanceof ut&&a.adornedPart.Pb()===a.adornedObject?a.adornedObject.strokeWidth:0),0===p&&(n=null),null!==n&&0!==p&&(Mi(this,t,n,!1,!1,l,s),t.lineWidth=p,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit),s=!1,a&&e.Gf("drawShadows")&&(s=a.isShadowed),!1===t.Il&&(s=!1),a=!0,null===n||null!==o&&"transparent"!==o||(a=!1),l=!1,null!==(p=this.strokeDashArray)&&(l=!0,t.js(p,this.strokeDashOffset)),r.type===Y.j)t.beginPath(),t.moveTo(r.startX,r.startY),t.lineTo(r.endX,r.endY),null!==n&&t.jk(),t.Se();else if(r.type===Y.u){var d=r.startX;p=r.startY;var f=r.endX,g=r.endY;r=Math.min(d,f);var m=Math.min(p,g);d=Math.abs(f-d),p=Math.abs(g-p),t.beginPath(),t.rect(r,m,d,p),null!==o&&t.ng(o),null!==n&&(a&&s&&io(t),t.jk(),a&&s&&Do(t)),t.Se()}else if(r.type===Y.F)d=r.startX,p=r.startY,f=r.endX,g=r.endY,r=Math.abs(f-d)/2,m=Math.abs(g-p)/2,d=Math.min(d,f)+r,p=Math.min(p,g)+m,t.beginPath(),t.moveTo(d,p-m),t.bezierCurveTo(d+N.wg*r,p-m,d+r,p-N.wg*m,d+r,p),t.bezierCurveTo(d+r,p+N.wg*m,d+N.wg*r,p+m,d,p+m),t.bezierCurveTo(d-N.wg*r,p+m,d-r,p+N.wg*m,d-r,p),t.bezierCurveTo(d-r,p-N.wg*m,d-N.wg*r,p-m,d,p-m),t.closePath(),null!==o&&t.ng(o),null!==n&&(a&&s&&io(t),t.jk(),a&&s&&Do(t)),t.Se();else if(r.type===Y.o)for(p=(r=r.figures).length,m=0;m<p;m++){d=r.s[m],t.beginPath(),t.moveTo(d.startX,d.startY),g=(f=d.segments.s).length;for(var v=null,y=0;y<g;y++){var P=f[y];switch(P.type){case fn:t.moveTo(P.endX,P.endY);break;case Gt:t.lineTo(P.endX,P.endY);break;case Yi:t.bezierCurveTo(P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY);break;case Rn:t.quadraticCurveTo(P.point1X,P.point1Y,P.endX,P.endY);break;case pe:if(P.radiusX===P.radiusY){var T=Math.PI/180;t.arc(P.point1X,P.point1Y,P.radiusX,P.startAngle*T,(P.startAngle+P.sweepAngle)*T,0>P.sweepAngle,null!==v?v.endX:d.startX,null!==v?v.endY:d.startY)}else if(0===(T=(v=xo(P,d)).length))t.lineTo(P.centerX,P.centerY);else for(var S=0;S<T;S++){var A=v[S];0===S&&t.lineTo(A[0],A[1]),t.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7])}break;case Mn:if(S=T=0,null!==v&&v.type===pe){if(0===(A=(v=xo(v,d)).length)){t.lineTo(P.endX,P.endY);break}null!==(v=v[A-1]||null)&&(T=v[6],S=v[7])}else T=null!==v?v.endX:d.startX,S=null!==v?v.endY:d.startY;if(0===(T=(v=Cr(P,d,T,S)).length)){t.lineTo(P.endX,P.endY);break}for(S=0;S<T;S++)t.bezierCurveTo((A=v[S])[2],A[3],A[4],A[5],A[6],A[7]);break;default:q("Segment not of valid type: "+P.type)}P.isClosed&&t.closePath(),v=P}f=d.isFilled,s?d.isShadowed?(!0===f&&"transparent"!==o&&null!==o&&t.ng(o,d.isEvenOdd),null!==n&&(f&&a&&io(t),t.jk(),f&&a&&Do(t))):(io(t),f&&"transparent"!==o&&null!==o&&t.ng(o,d.isEvenOdd),null!==n&&t.jk(),Do(t)):(f&&null!==o&&t.ng(o,d.isEvenOdd),null!==n&&t.jk()),t.Se(m)}if(l&&t.fs(),null!==this.pathPattern){if((n=this.pathPattern).measure(1/0,1/0),n.arrange(0,0,(o=n.measuredBounds).width,o.height),s=this.geometry,t.save(),t.beginPath(),o=bt(),s.type===Y.j)o.push(s.startX),o.push(s.startY),o.push(s.endX),o.push(s.endY),vl(t,e,o,n);else if(s.type===Y.o)for(s=s.figures.iterator;s.next();){for(a=s.value,o.length=0,o.push(a.startX),o.push(a.startY),p=l=a.startX,m=r=a.startY,f=(d=a.segments.s).length,g=0;g<f;g++){switch((y=d[g]).type){case fn:vl(t,e,o,n),o.length=0,o.push(y.endX),o.push(y.endY),p=l=y.endX,m=r=y.endY;break;case Gt:o.push(y.endX),o.push(y.endY),l=y.endX,r=y.endY;break;case Yi:N.Qe(l,r,y.point1X,y.point1Y,y.point2X,y.point2Y,y.endX,y.endY,.5,o),l=y.endX,r=y.endY;break;case Rn:N.ep(l,r,y.point1X,y.point1Y,y.endX,y.endY,.5,o),l=y.endX,r=y.endY;break;case pe:if(0===(v=(P=xo(y,a)).length)){o.push(y.centerX),o.push(y.centerY),l=y.centerX,r=y.centerY;break}for(T=0;T<v;T++)N.Qe(l,r,(S=P[T])[2],S[3],S[4],S[5],S[6],S[7],.5,o),l=S[6],r=S[7];break;case Mn:if(0===(v=(P=Cr(y,a,l,r)).length)){o.push(y.endX),o.push(y.endY),l=y.endX,r=y.endY;break}for(T=0;T<v;T++)N.Qe(l,r,(S=P[T])[2],S[3],S[4],S[5],S[6],S[7],.5,o),l=S[6],r=S[7];break;default:q("Segment not of valid type: "+y.type)}y.isClosed&&(o.push(p),o.push(m),vl(t,e,o,n))}vl(t,e,o,n)}else if(s.type===Y.u)o.push(s.startX),o.push(s.startY),o.push(s.endX),o.push(s.startY),o.push(s.endX),o.push(s.endY),o.push(s.startX),o.push(s.endY),o.push(s.startX),o.push(s.startY),vl(t,e,o,n);else if(s.type===Y.F){if((r=new Ce).startX=s.endX,r.startY=(s.startY+s.endY)/2,(l=new xt(pe)).startAngle=0,l.sweepAngle=360,l.centerX=(s.startX+s.endX)/2,l.centerY=(s.startY+s.endY)/2,l.radiusX=Math.abs(s.startX-s.endX)/2,l.radiusY=Math.abs(s.startY-s.endY)/2,r.add(l),0===(a=(s=xo(l,r)).length))o.push(l.centerX),o.push(l.centerY);else for(l=r.startX,r=r.startY,p=0;p<a;p++)N.Qe(l,r,(m=s[p])[2],m[3],m[4],m[5],m[6],m[7],.5,o),l=m[6],r=m[7];vl(t,e,o,n)}Nt(o),t.restore(),t.Vc(!1)}}}},x.kk=function(t,e,n){return!(!X.prototype.kk.call(this,t,e,n)||null===this.xc&&null===this.Ui||null===this.ua||null!==this.pathPattern||this.geometry.figures.length!==this.svg.getElementsByTagName("path").length||(t.Hl=this.svg,this.hh(t,e),t.Hl=null,0))},x.nk=function(t){return null!==this.geometry&&1<this.geometry.figures.length||null!==this.pathPattern||X.prototype.nk.call(this,t)},x.Dv=function(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{t=t.getElementsByTagName("path");for(var n=0;n<t.length;n++)t[n].setAttributeNS(null,"filter",e)}},x.ga=function(t,e){if(void 0===e&&(e=new w),t instanceof $){t.Mc()&&q("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.naturalBounds,o=this.strokeWidth;e.h(t.x*(n.width+o)-o/2+n.x+t.offsetX,t.y*(n.height+o)-o/2+n.y+t.offsetY)}else e.set(t);return this.oe.Ga(e),e},x.mi=function(t){void 0===t&&(t=new U);var e=this.naturalBounds,n=this.oe;e=U.allocAt(e.x,e.y,e.width,e.height);var o=this.strokeWidth;return e.Bc(o/2,o/2),o=w.allocAt(e.x,e.y).transform(n),t.h(o.x,o.y,0,0),o.h(e.right,e.y).transform(n),Me(t,o.x,o.y,0,0),o.h(e.right,e.bottom).transform(n),Me(t,o.x,o.y,0,0),o.h(e.x,e.bottom).transform(n),Me(t,o.x,o.y,0,0),U.free(e),w.free(o),t},x.gh=function(t,e){var n=this.geometry;if(null===n||null===this.fill&&null===this.stroke)return!1;var o=n.bounds,r=this.strokeWidth/2;n.type!==Y.j||e||(r+=2);var s=U.alloc();if(s.assign(o),s.Bc(r+2,r+2),!s.ca(t))return U.free(s),!1;if(o=r+1e-4,n.type===Y.j)return!(null===this.stroke||(o=(n.endX-n.startX)*(t.x-n.startX)+(n.endY-n.startY)*(t.y-n.startY),0>(n.startX-n.endX)*(t.x-n.endX)+(n.startY-n.endY)*(t.y-n.endY)||0>o))&&(U.free(s),N.Yb(n.startX,n.startY,n.endX,n.endY,r,t.x,t.y));if(n.type===Y.u){e=n.startX;var l=n.startY,a=n.endX;if(n=n.endY,s.x=Math.min(e,a),s.y=Math.min(l,n),s.width=Math.abs(a-e),s.height=Math.abs(n-l),null===this.fill){if(s.Bc(-o,-o),s.ca(t))return U.free(s),!1;s.Bc(o,o)}return null!==this.stroke&&s.Bc(r,r),t=s.ca(t),U.free(s),t}if(n.type===Y.F){l=n.startX,r=n.startY,a=n.endX;var p=n.endY;if(n=Math.min(l,a),e=Math.min(r,p),l=Math.abs(a-l)/2,r=Math.abs(p-r)/2,n=t.x-(n+l),e=t.y-(e+r),null===this.fill){if(r-=o,0>=(l-=o)||0>=r||1>=n*n/(l*l)+e*e/(r*r))return U.free(s),!1;l+=o,r+=o}return null!==this.stroke&&(l+=o,r+=o),U.free(s),!(0>=l||0>=r)&&1>=n*n/(l*l)+e*e/(r*r)}if(n.type===Y.o)return U.free(s),null===this.fill?l0(n,t.x,t.y,r):tc(n,t,r,1<this.strokeWidth,e);q("Unknown Geometry type: "+n.type)},x.Wl=function(t,e,n,o){var r=this.desiredSize,s=this.ig;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Rd)var l=this.geometry.bounds;else{var a=this.figure,p=Pd[a];if(void 0===p){var d=N.Ze[a];"string"==typeof d&&(d=N.Ze[d]),"function"==typeof d?(p=d(null,100,100),Pd[a]=p):q("Unsupported Figure: "+a)}l=p.bounds}a=l.width,p=l.height,d=l.width;var f=l.height;switch(kn(this,!0)){case te:o=n=0;break;case oe:d=Math.max(t-s,0),f=Math.max(e-s,0);break;case Ue:d=Math.max(t-s,0),o=0;break;case be:n=0,f=Math.max(e-s,0)}isFinite(r.width)&&(d=r.width),isFinite(r.height)&&(f=r.height);var g=this.maxSize,m=this.minSize;switch(n=Math.max(n-s,m.width),o=Math.max(o-s,m.height),d=Math.min(g.width,d),f=Math.min(g.height,f),d=isFinite(d)?Math.max(n,d):Math.max(a,n),f=isFinite(f)?Math.max(o,f):Math.max(p,o),n=xd(this)){case te:break;case oe:a=d,p=f;break;case En:n=Math.min(d/a,f/p),isFinite(n)||(n=1),a*=n,p*=n;break;default:q(n+" is not a valid geometryStretch.")}null!==this.Rd?(0===a&&(a=.001),0===p&&(p=.001),o=a/(l=(n=null!==this.Rd?this.Rd:this.ua).bounds).width,l=p/l.height,isFinite(o)||(o=1),isFinite(l)||(l=1),this.ua=1===o&&1===l?n:n.copy().scale(o,l)):null!==this.ua&&N.$(this.ua.Sk,t-s)&&N.$(this.ua.Rk,e-s)||(this.ua=ut.makeGeometry(this,a,p)),l=this.ua.bounds,t===1/0||e===1/0?this.Ge(l.x-s/2,l.y-s/2,0===t&&0===a?0:l.width+s,0===e&&0===p?0:l.height+s):this.Ge(-s/2,-s/2,d+s,f+s),r.w()?(d=r.width,f=r.height,d=Math.min(g.width,d),f=Math.min(g.height,f),d=Math.max(m.width,d),f=Math.max(m.height,f),this.dc.h(0,0,d,f)):this.dc.assign(l)},x.eh=function(t,e,n,o){Kc(this,t,e,n,o)},x.rs=function(t,e,n){return this.Sj(t.x,t.y,e.x,e.y,n)},x.Sj=function(t,e,n,o,r){var s=this.transform,l=1/(s.m11*s.m22-s.m12*s.m21),a=s.m22*l,p=-s.m12*l,d=-s.m21*l,f=s.m11*l,g=l*(s.m21*s.dy-s.m22*s.dx),m=l*(s.m12*s.dx-s.m11*s.dy);s=t*a+e*d+g,l=t*p+e*f+m,a=n*a+o*d+g,p=n*p+o*f+m,g=this.ig/2,null===(d=this.ua)&&(this.measure(1/0,1/0),d=this.ua);var v=d.bounds;if(f=!1,d.type===Y.j)if(1.5>=this.strokeWidth)f=N.Ve(d.startX,d.startY,d.endX,d.endY,s,l,a,p,r);else{if(d.startX===d.endX?(o=g,f=0):(e=(d.endY-d.startY)/(d.endX-d.startX),o=(f=g/Math.sqrt(1+e*e))*e),e=bt(),t=new w,N.Ve(d.startX+o,d.startY+f,d.endX+o,d.endY+f,s,l,a,p,t)&&e.push(t),t=new w,N.Ve(d.startX-o,d.startY-f,d.endX-o,d.endY-f,s,l,a,p,t)&&e.push(t),t=new w,N.Ve(d.startX+o,d.startY+f,d.startX-o,d.startY-f,s,l,a,p,t)&&e.push(t),t=new w,N.Ve(d.endX+o,d.endY+f,d.endX-o,d.endY-f,s,l,a,p,t)&&e.push(t),0===(a=e.length))return Nt(e),!1;for(f=!0,p=1/0,o=0;o<a;o++)(n=((t=e[o]).x-s)*(t.x-s)+(t.y-l)*(t.y-l))<p&&(p=n,r.x=t.x,r.y=t.y);Nt(e)}else if(d.type===Y.u)f=N.Ff(v.x-g,v.y-g,v.x+v.width+g,v.y+v.height+g,s,l,a,p,r);else if(d.type===Y.F){t:if(0===(e=U.allocAt(v.x,v.y,v.width,v.height).Bc(g,g)).width)f=N.Ve(e.x,e.y,e.x,e.y+e.height,s,l,a,p,r);else if(0===e.height)f=N.Ve(e.x,e.y,e.x+e.width,e.y,s,l,a,p,r);else{if(o=e.x+(t=e.width/2),f=e.y+(d=e.height/2),n=9999,s!==a&&(n=(l-p)/(s-a)),9999>Math.abs(n)){if(0>t*t*n*n+d*d-(p=l-f-n*(s-o))*p){r.x=NaN,r.y=NaN,f=!1;break t}a=(-t*t*n*p+t*d*(g=Math.sqrt(t*t*n*n+d*d-p*p)))/(d*d+t*t*n*n)+o,t=(-t*t*n*p-t*d*g)/(d*d+t*t*n*n)+o,d=n*(a-o)+p+f,p=n*(t-o)+p+f,Math.abs((s-a)*(s-a))+Math.abs((l-d)*(l-d))<Math.abs((s-t)*(s-t))+Math.abs((l-p)*(l-p))?(r.x=a,r.y=d):(r.x=t,r.y=p)}else{if(a=d*d,0>(a-=a/(t*t)*(p=s-o)*p)){r.x=NaN,r.y=NaN,f=!1;break t}a=f+(p=Math.sqrt(a)),p=f-p,Math.abs(a-l)<Math.abs(p-l)?(r.x=s,r.y=a):(r.x=s,r.y=p)}f=!0}U.free(e)}else if(d.type===Y.o){m=w.alloc();var y=a-s,P=p-l,T=y*y+P*P,S=s,A=l;if(0<T&&v.contains(S,A)&&(m.x=S,m.y=A,this.ca(m)))for(0!==y&&.5>Math.abs(y)?(P*=.5/y,y=.5):0!==P&&.5>Math.abs(P)&&(y*=.5/P,P=.5),S-=y,A-=P;v.contains(S,A);)S-=y,A-=P;for(r.x=a,r.y=p,P=0;P<d.figures.count;P++)for(var M=d.figures.s[P],Z=M.isFilled?S:s,j=M.isFilled?A:l,k=M.segments,J=v=M.startX,V=y=M.startY,K=0;K<k.count;K++){var b=k.s[K],F=b.type,st=b.endX,it=b.endY,yt=!1;switch(F){case fn:J=st,V=it;break;case Gt:yt=dh(v,y,st,it,Z,j,a,p,m);break;case Yi:yt=N.Eo(v,y,b.point1X,b.point1Y,b.point2X,b.point2Y,st,it,Z,j,a,p,.6,m);break;case Rn:yt=N.Eo(v,y,v+2/3*(b.point1X-v),y+2/3*(b.point1Y-y),st+2/3*(b.point1X-st),it+2/3*(b.point1Y-it),st,it,Z,j,a,p,.6,m);break;case pe:case Mn:var Ft=(F=b.type===pe?xo(b,M):Cr(b,M,v,y)).length;if(0===Ft){yt=dh(v,y,b.type===pe?b.centerX:b.endX,b.type===pe?b.centerY:b.endY,Z,j,a,p,m);break}for(it=null,st=0;st<Ft;st++){if(it=F[st],0===st&&dh(v,y,it[0],it[1],Z,j,a,p,m)){var xe=ch(Z,j,m,T,r);xe<T&&(T=xe,f=!0)}N.Eo(it[0],it[1],it[2],it[3],it[4],it[5],it[6],it[7],Z,j,a,p,.6,m)&&(xe=ch(Z,j,m,T,r))<T&&(T=xe,f=!0)}st=it[6],it=it[7];break;default:q("Unknown Segment type: "+F)}v=st,y=it,yt&&(yt=ch(Z,j,m,T,r))<T&&(T=yt,f=!0),b.isClosed&&dh(v,y,st=J,it=V,Z,j,a,p,m)&&(b=ch(Z,j,m,T,r))<T&&(T=b,f=!0)}s=n-t,l=o-e,0!==(a=Math.sqrt(s*s+l*l))&&(s/=a,l/=a),r.x-=s*g,r.y-=l*g,w.free(m)}else q("Unknown Geometry type: "+d.type);return!!f&&(this.transform.Ga(r),!0)},x.fh=function(t,e){if(void 0===e)return t.Re(this.actualBounds);var n=this.ua;null===n&&(this.measure(1/0,1/0),n=this.ua),n=n.bounds;var o=this.strokeWidth/2,r=!1,s=w.alloc();return s.h(n.x-o,n.y-o),t.ca(e.Ga(s))&&(s.h(n.x-o,n.bottom+o),t.ca(e.Ga(s))&&(s.h(n.right+o,n.bottom+o),t.ca(e.Ga(s))&&(s.h(n.right+o,n.y-o),t.ca(e.Ga(s))&&(r=!0)))),w.free(s),r},x.Yc=function(t,e){if(this.fh(t,e)||void 0===e&&(e=this.transform,t.Re(this.actualBounds)))return!0;var n=ct.alloc();n.set(e),n.Vj();var o=t.left,r=t.right,s=t.top;t=t.bottom;var l=w.alloc();if(l.h(o,s),n.Ga(l),this.gh(l,!0)||(l.h(r,s),n.Ga(l),this.gh(l,!0))||(l.h(o,t),n.Ga(l),this.gh(l,!0))||(l.h(r,t),n.Ga(l),this.gh(l,!0)))return w.free(l),!0;var a=w.alloc(),p=w.alloc();return n.set(e),n.bv(this.transform),n.Vj(),a.x=r,a.y=s,a.transform(n),l.x=o,l.y=s,l.transform(n),e=!1,Lr(this,l,a,p)?e=!0:(l.x=r,l.y=t,l.transform(n),Lr(this,l,a,p)?e=!0:(a.x=o,a.y=t,a.transform(n),Lr(this,l,a,p)?e=!0:(l.x=o,l.y=s,l.transform(n),Lr(this,l,a,p)&&(e=!0)))),w.free(l),ct.free(n),w.free(a),w.free(p),e},x.tx=function(t,e,n){function o(T,S){for(var A=T.length,M=0;M<A;M+=2)if(S.zd(T[M],T[M+1])>r)return!0;return!1}if(n&&null!==this.fill&&this.gh(t,!0))return!0;var r=t.Bf(e),s=r;if(1.5<this.strokeWidth&&(r=this.strokeWidth/2+Math.sqrt(r),r*=r),null===(e=this.ua)&&(this.measure(1/0,1/0),null===(e=this.ua)))return!1;if(!n){var l=e.bounds,a=l.x,p=l.y,d=l.x+l.width;if(l=l.y+l.height,_o(t.x,t.y,a,p)<=r&&_o(t.x,t.y,d,p)<=r&&_o(t.x,t.y,a,l)<=r&&_o(t.x,t.y,d,l)<=r)return!0}if(a=e.startX,p=e.startY,d=e.endX,l=e.endY,e.type===Y.j){if(n=(a-d)*(t.x-d)+(p-l)*(t.y-l),We(t.x,t.y,a,p,d,l)<=(0<=(d-a)*(t.x-a)+(l-p)*(t.y-p)&&0<=n?r:s))return!0}else{if(e.type===Y.u)return e=!1,n&&(e=We(t.x,t.y,a,p,a,l)<=r||We(t.x,t.y,a,p,d,p)<=r||We(t.x,t.y,d,p,d,l)<=r||We(t.x,t.y,a,l,d,l)<=r),e;if(e.type===Y.F){e=t.x-(a+d)/2,s=t.y-(p+l)/2;var f=Math.abs(d-a)/2,g=Math.abs(l-p)/2;if(0===f||0===g)return We(t.x,t.y,a,p,d,l)<=r;if(!n)return!(_o(e,s,-f,0)>=r||_o(e,s,0,-g)>=r||_o(e,s,0,g)>=r||_o(e,s,f,0)>=r);if((t=N.$y(f,g,e,s))*t<=r)return!0}else if(e.type===Y.o){if(s=(d=e.bounds).x,a=d.y,p=d.x+d.width,d=d.y+d.height,t.x>p&&t.x<s&&t.y>d&&t.y<a&&We(t.x,t.y,s,a,s,d)>r&&We(t.x,t.y,s,a,p,a)>r&&We(t.x,t.y,p,d,s,d)>r&&We(t.x,t.y,p,d,p,a)>r)return!1;if(s=Math.sqrt(r),!n){for(n=e.figures,e=0;e<n.count;e++){if(t.zd(l=(s=n.s[e]).startX,f=s.startY)>r)return!1;for(p=(a=s.segments.s).length,d=0;d<p;d++)switch(g=a[d],g.type){case fn:case Gt:if(t.zd(l=g.endX,f=g.endY)>r)return!1;break;case Yi:var m=bt();if(N.Qe(l,f,g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY,.8,m),l=o(m,t),Nt(m),l||t.zd(l=g.endX,f=g.endY)>r)return!1;break;case Rn:if(m=bt(),N.ep(l,f,g.point1X,g.point1Y,g.endX,g.endY,.8,m),l=o(m,t),Nt(m),l||t.zd(l=g.endX,f=g.endY)>r)return!1;break;case pe:case Mn:var v=(m=g.type===pe?xo(g,s):Cr(g,s,l,f)).length;if(0===v){if(t.zd(l=g.type===pe?g.centerX:g.endX,f=g.type===pe?g.centerY:g.endY)>r)return!1;break}g=null;for(var y=bt(),P=0;P<v;P++)if(g=m[P],y.length=0,N.Qe(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],.8,y),o(y,t))return Nt(y),!1;Nt(y),null!==g&&(l=g[6],f=g[7]);break;default:q("Unknown Segment type: "+g.type)}}return!0}if(null===this.fill?l0(e,t.x,t.y,s):tc(e,t,s,!0,!1))return!0}}return!1},x.qc=function(){this.ua=null},x.kq=function(){return this.ig},ut.makeGeometry=function(t,e,n){if("None"!==t.toArrow)var o=oo[t.toArrow];else"None"!==t.fromArrow?o=oo[t.fromArrow]:("string"==typeof(o=N.Ze[t.figure])&&(o=N.Ze[o]),void 0===o&&q("Unknown Shape.figure: "+t.figure),(o=o(t,e,n)).Sk=e,o.Rk=n);if(null===o){var r=N.Ze.Rectangle;"function"==typeof r&&(o=r(t,e,n))}return o},pt.Object.defineProperties(ut.prototype,{geometry:{get:function(){return null!==this.ua?this.ua:this.Rd},set:function(t){var e=this.ua,n=this.Rd;if(e!==t){this.Rd=this.ua=null!==t?t.freeze():null;var o=this.part;null!==o&&(o.ag=NaN),this.v(),this.g("geometry",e||n,t),ms(this)&&null!==(t=this.part)&&jr(this,t,"geometryString")}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=Y.parse(t)).normalize();this.geometry=t,this.position=t=w.allocAt(-e.x,-e.y),w.free(t)}},isGeometryPositioned:{get:function(){return 0!=(1048576&this.l)},set:function(t){var e=0!=(1048576&this.l);e!==t&&(this.l^=1048576,this.v(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.Ui},set:function(t){var e=this.Ui;e!==t&&(null!==t&&ys(t,"Shape.fill"),t instanceof Pt&&t.freeze(),this.Ui=t,this.N(),this.g("fill",e,t))}},stroke:{get:function(){return this.xc},set:function(t){var e=this.xc;e!==t&&(null!==t&&ys(t,"Shape.stroke"),t instanceof Pt&&t.freeze(),this.xc=t,this.N(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.ig},set:function(t){var e=this.ig;if(e!==t)if(0<=t){this.ig=t,this.v();var n=this.part;null!==n&&(n.ag=NaN),this.g("strokeWidth",e,t)}else Jt(t,"value >= 0",ut,"strokeWidth:value")}},strokeCap:{get:function(){return null!==this.Na?this.Na.Hr:"butt"},set:function(t){var e=this.strokeCap;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Jt(t,'"butt", "round", or "square"',ut,"strokeCap"):(Or(this),this.Na.Hr=t,this.N(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return null!==this.Na?this.Na.Ir:"miter"},set:function(t){var e=this.strokeJoin;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Jt(t,'"miter", "bevel", or "round"',ut,"strokeJoin"):(Or(this),this.Na.Ir=t,this.N(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return null!==this.Na?this.Na.Jr:10},set:function(t){var e=this.strokeMiterLimit;if(e!==t&&1<=t){Or(this),this.Na.Jr=t,this.N();var n=this.part;null!==n&&(n.ag=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.Yg},set:function(t){var e=this.Yg;if(e!==t){if(null!==t){for(var n=t.length,o=0,r=0;r<n;r++){var s=t[r];0<=s&&isFinite(s)||q("strokeDashArray:value "+s+" at index "+r+" must be a positive number or zero."),o+=s}if(0===o){if(null===e)return;t=null}}this.Yg=t,this.N(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return null!==this.Na?this.Na.uj:0},set:function(t){var e=this.strokeDashOffset;e!==t&&0<=t&&(Or(this),this.Na.uj=t,this.N(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.an},set:function(t){var e=this.an;if(e!==t){var n=N.Ze[t];"function"==typeof n?n=t:(n=N.Ze[t.toLowerCase()])||q("Unknown Shape.figure: "+t),e!==n&&(null!==(t=this.part)&&(t.ag=NaN),this.an=n,this.Rd=null,this.qc(),this.v(),this.g("figure",e,n))}}},toArrow:{get:function(){return null!==this.Ua?this.Ua.V:"None"},set:function(t){var e=this.toArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=zg(t);null===n?q("Unknown Shape.toArrow: "+t):e!==n&&(null===this.Ua&&(this.Ua=new sr),this.Ua.V=n,this.Rd=null,this.qc(),this.v(),Vg(this),this.g("toArrow",e,n))}}},fromArrow:{get:function(){return null!==this.Ua?this.Ua.j:"None"},set:function(t){var e=this.fromArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=zg(t);null===n?q("Unknown Shape.fromArrow: "+t):e!==n&&(null===this.Ua&&(this.Ua=new sr),this.Ua.j=n,this.Rd=null,this.qc(),this.v(),Vg(this),this.g("fromArrow",e,n))}}},spot1:{get:function(){return null!==this.Na?this.Na.fg:Oe},set:function(t){var e=this.spot1;e.D(t)||(t=t.J(),Or(this),this.Na.fg=t,this.v(),this.g("spot1",e,t))}},spot2:{get:function(){return null!==this.Na?this.Na.gg:Oe},set:function(t){var e=this.spot2;e.D(t)||(t=t.J(),Or(this),this.Na.gg=t,this.v(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.Un},set:function(t){var e=this.Un;e!==t&&(this.Un=t,this.qc(),this.v(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.qc(),this.v(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){return this.dc}},pathPattern:{get:function(){return null!==this.Na?this.Na.br:null},set:function(t){var e=this.pathPattern;e!==t&&(Or(this),this.Na.br=t,this.N(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return null!==this.Na?this.Na.jq:mn},set:function(t){var e=this.geometryStretch;e!==t&&(Or(this),this.Na.jq=t,this.v(),this.g("geometryStretch",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Tk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new ro),this.fa.Tk=t;var n=this.diagram;null!==n&&this.panel===n.grid&&Fo(n),this.v(),null!==(n=this.panel)&&(n.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ro),this.fa.u=t,this.v(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ro),this.fa.j=t,this.v(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.o:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new ro),this.fa.o=t,this.v(),this.g("graduatedSkip",e,t))}}}),ut.prototype.intersectsRect=ut.prototype.Yc,ut.prototype.containedInRect=ut.prototype.fh,ut.prototype.getNearestIntersectionPoint=ut.prototype.rs,ut.prototype.getDocumentBounds=ut.prototype.mi,ut.prototype.getDocumentPoint=ut.prototype.ga;var oo=new en,Pd=new en;function Dd(){this.nc=!1,this.Hr="butt",this.Ir="miter",this.Jr=10,this.uj=0,this.br=null,this.jq=mn,this.gg=this.fg=Oe}function kt(t,e){return X.call(this),vh||(ai=gn?new un(null).context:null,vh=!0),this.l|=2097152,this.ec="",this.xc="black",this.Ae="13px sans-serif",this.Lq=this.Cb=this.Gc=0,this.da=this.fa=this.Gm=null,this.Ih=0,this.df=null,this.Le=0,this.ze=this.Qb=this.Qc=null,"string"==typeof t?this.text=t:t&&Object.assign(this,t),e&&Object.assign(this,e),this}function Gn(t){null===t.da?t.da=new Zd:t.da.nc&&(t.da=t.da.copy())}function Xg(t,e){t.l=6144|e.l,t.pb=e.opacity,t.Ma=e.background,t.areaBackground=e.areaBackground,t.jd=e.desiredSize.J(),t.minSize=e.minSize.J(),t.maxSize=e.maxSize.J(),t.Lb=null!==e.Lb?e.Lb.copy():null,t.Ca=e.scale,t.Kb=e.angle,t.stretch=e.stretch,t.Kg=e.margin.J(),t.Jb=e.alignment.J(),t.sk=e.alignmentFocus.J(),t.segmentFraction=e.segmentFraction,t.segmentOffset=e.segmentOffset.J(),t.segmentOrientation=e.segmentOrientation,null!==e.tb&&(t.tb=e.tb.copy()),t.shadowVisible=e.shadowVisible,t.ec=e.ec,t.xc=e.xc,t.Ae=e.Ae,null!==t.fa&&(t.fa=e.fa.copy()),null!==e.da&&(t.da=e.da.nc?e.da:e.da.copy()),t.Ih=e.Ih}function Pu(t,e,n){null===t.ze?(t.ze=e,t.Cb=n):((null===t.Qb||null===t.Qc)&&(t.Qb=[],t.Qc=[],t.Qb.push(t.ze),t.Qc.push(t.Cb)),t.Qb.push(e),t.Qc.push(n),t.Qb.length>t.maxLines&&(t.l|=16777216))}function Sd(t,e,n,o){var r=t.formatting===Su;r&&(e=e.trim());var s=0,l=t.Ae,a=t.spacingAbove+t.spacingBelow;a=Math.max(0,Du(t)+a);var p=t.overflow===mh?Wg(l):0;if(t.Gc>=t.maxLines)null!==o&&o.h(0,a);else if(l=e,t.wrap===Td){t.Le=1;var d=yn(e);if(0===p||d<=n)t.Cb=Math.max(t.Cb,d),Pu(t,e,t.Cb),null!==o&&o.h(d,a);else{for(d=yn((s=yl(t,l))+(e=yl(t,l=l.substr(s.length))));0<e.length&&d<=n;)d=(s+=e)+(e=yl(t,l=l.substr(e.length))),r&&(d=d.trim()),d=yn(d);for(r&&(e=e.trim()),s+=e,n=Math.max(1,n-p);yn(s)>n&&1<s.length;)s=s.substr(0,s.length-1);t.l|=16777216;var f=yn(s+=Tu);t.Cb=f,Pu(t,s,f),null!==o&&o.h(f,a)}}else{for(p=0,0===l.length&&(p=1,Pu(t,l,0));0<l.length;){for(e=yl(t,l),l=l.substr(e.length);yn(e)>n;){var g=1;for(d=yn(e.substr(0,g)),f=0;d<=n;)g++,f=d,d=yn(e.substr(0,g));if(1===g){var m=d;s=Math.max(s,d)}else m=f,s=Math.max(s,f);if(1>--g&&(g=1),Pu(t,e.substr(0,g),m),p++,e=e.substr(g),t.Gc+p>t.maxLines)break}for(d=yn(e+(f=yl(t,l)));0<f.length&&d<=n;)d=(e+=f)+(f=yl(t,l=l.substr(f.length))),r&&(d=d.trim()),d=yn(d);if(r&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===f.length?(g=d,s=Math.max(s,d)):(g=f=yn(e),s=Math.max(s,f)),Pu(t,e,g),p++,t.Gc+p>t.maxLines))break}t.Le=Math.min(t.maxLines,p),t.Cb=Math.max(t.Cb,s),null!==o&&o.h(t.Cb,a*t.Le)}}function yl(t,e){if(t.wrap===e1)return e.substr(0,1);for(var n=e.length,o=0,r=i2;o<n&&!r.test(e.charAt(o));)o++;for(t.formatting===i1&&(n=Math.min(n,o+1));o<n&&r.test(e.charAt(o));)o++;return o>=e.length?e:e.substr(0,o)}function yn(t){return null===ai?8*t.length:ai.measureText(t).width}function Du(t){if(null!==t.df)return t.df;var e=t.Ae;if(null===ai){var n=16;return t.df=n}return void 0!==Ad[e]&&5e3>n1?n=Ad[e]:(n=1.3*ai.measureText("M").width,Ad[e]=n,n1++),t.df=n}function Wg(t){if(null===ai)return 6;if(void 0!==_h[t]&&5e3>Md)var e=_h[t];else e=ai.measureText(Tu).width,_h[t]=e,Md++;return e}function $g(t,e){var n=t.ec.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),o=t.spacingAbove+t.spacingBelow;if(o=Math.max(0,Du(t)+o),0===n.length)return t.Cb=0,t.Gc=1,o;if(!t.isMultiline){var r=n.indexOf("\n",0);0<=r&&(n=n.substr(0,r))}r=0;for(var l,s=t.Gc=0,a=!1;!a;){if(-1===(l=n.indexOf("\n",s))&&(l=n.length,a=!0),s<=l){if(s=n.substr(s,l-s),t.wrap!==Td){t.Le=0;var p=ot.alloc();Sd(t,s,e,p),r+=p.height,ot.free(p),t.Gc+=t.Le}else Sd(t,s,e,null),r+=o,t.Gc++;t.Gc===t.maxLines&&(a=!0)}s=l+1}return t.Lq=r}ut.className="Shape",ut.getFigureGenerators=function(){var e,t=new lt;for(e in N.Ze)e!==e.toLowerCase()&&t.add(e,N.Ze[e]);return t.freeze(),t},ut.defineFigureGenerator=function(t,e){var n=t.toLowerCase(),o=N.Ze;o[t]=e,o[n]=t},ut.getArrowheadGeometries=function(){var t=new lt;for(o in N.um)if(void 0===oo[o]){var e=Y.parse(N.um[o],!1);oo[o]=e,(e=o.toLowerCase())!==o&&(oo[e]=o)}for(var n in oo)if(n!==n.toLowerCase()){var o=oo[n];o instanceof Y&&t.add(n,o)}return t.freeze(),t},ut.defineArrowheadGeometry=function(t,e){var n;n="string"==typeof e?Y.parse(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||q("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var o=oo;o[t]=n,o[e]=t},Dd.prototype.copy=function(){var t=new Dd;return t.Hr=this.Hr,t.Ir=this.Ir,t.Jr=this.Jr,t.uj=this.uj,t.br=this.br,t.jq=this.jq,t.fg=this.fg.J(),t.gg=this.gg.J(),t},At(kt,X),kt.prototype.cloneProtected=function(t){X.prototype.cloneProtected.call(this,t),t.ec=this.ec,t.xc=this.xc,t.Ae=this.Ae,t.Gc=this.Gc,t.Cb=this.Cb,t.Lq=this.Lq,t.Gm=this.Gm,null!==this.fa&&(t.fa=this.fa.copy()),null!==this.da&&(t.da=this.da.nc?this.da:this.da.copy()),t.Ih=this.Ih,t.df=this.df,t.Le=this.Le,t.Qc=this.Qc,t.Qb=this.Qb,t.ze=this.ze},(x=kt.prototype).th=function(){X.prototype.th.call(this),null!==this.da&&(this.da.nc=!0)},x.qb=function(t){t.classType===kt?this.wrap=t:X.prototype.qb.call(this,t)},x.toString=function(){return 22<this.ec.length?'TextBlock("'+this.ec.substring(0,20)+'"...)':'TextBlock("'+this.ec+'")'},x.v=function(){X.prototype.v.call(this)},x.hh=function(t,e){if(null!==this.xc&&0!==this.ec.length&&null!==this.Ae){var n=this.naturalBounds,o=this.actualBounds,r=n.width,s=n.height,l=Du(this),a=t.textAlign=this.textAlign,p=e.tn;"start"===a?a=p?"right":"left":"end"===a&&(a=p?"left":"right"),p=this.isUnderline;var d=this.isStrikethrough;Mi(this,t,this.xc,!0,!1,n,o),(p||d)&&Mi(this,t,this.xc,!1,!1,n,o),o=0,n=!1;var f=this.oe,g=f.dx-(l*f.m21+f.dx),m=e.scale;switch(8>(g*g+(f=f.dy-(l*f.m22+f.dy))*f)*m*m&&(n=!0),e.ib!==t&&(n=!1),e.ib instanceof Ci&&(n=!1),!1===e.Gf("textGreeking")&&(n=!1),e=this.spacingAbove,g=this.spacingBelow,this.flip){case pu:t.translate(r,0),t.scale(-1,1);break;case hu:t.translate(0,s),t.scale(1,-1);break;case cu:t.translate(r,s),t.scale(-1,-1)}if(t.yc(),s>(m=(e+l+g)*(f=this.Gc))&&(o=(o=this.verticalAlignment).y*s-o.y*m+o.offsetY),1===f&&null!==this.ze)(g=this.Cb)>r&&(g=r),this.Oj(this.ze,t,0,o+e,r,l,g,n,a,p,d);else if(null!==this.Qc&&null!==this.Qb)for(m=0;m<f;m++){var v=this.Qc[m];v>r&&(v=r),this.Oj(this.Qb[m],t,0,o+=e,r,l,v,n,a,p,d),o+=l+g}switch(this.flip){case pu:t.scale(-1,1),t.translate(-r,0);break;case hu:t.scale(1,-1),t.translate(0,-s);break;case cu:t.scale(-1,-1),t.translate(-r,-s)}}},x.Oj=function(t,e,n,o,r,s,l,a,p,d,f){var g=0;if(a)"left"===p?g=0:"right"===p?g=r-l:"center"===p&&(g=(r-l)/2),e.fillRect(n+g,o+.25*s,l,1);else{if("left"===p?g=0:"right"===p?g=r:"center"===p&&(g=r/2),r=null!==fh?fh(this,s):.75*s,e.fillText(t,n+g,o+r),0==(t=s/20|0)&&(t=1),"right"===p?g-=l:"center"===p&&(g-=l/2),d){p=n+g,d=o+(a=null!==gh?gh(this,s):.8*s),r=n+g+l,a=o+a;var m=t;e.beginPath(),e.lineWidth=m,e.moveTo(p,d),e.lineTo(r,a),e.stroke(),e.Se(),e instanceof Ci&&e.ad.classList.add("gojs-td")}f&&(f=o+s-s/2.2|0,t%2!=0&&(f+=.5),o=n+g,s=f,n=n+g+l,l=f,g=t,e.beginPath(),e.lineWidth=g,e.moveTo(o,s),e.lineTo(n,l),e.stroke(),e.Se(),e instanceof Ci&&e.ad.classList.add("gojs-td"))}},x.kk=function(t,e,n){if(!X.prototype.kk.call(this,t,e,n))return!1;if(Mi(this,t,this.xc,!0,!1,this.naturalBounds,this.actualBounds),n){if(0===this.svg.getElementsByTagName("text").length)return!0;for(e=this.svg.getElementsByClassName("gojs-td"),n=0;n<e.length;n++)jg(t,e[n],!1)}else(e=this.svg).innerHTML=this.text,jg(t,e,!0);return!0},x.nk=function(t){return!!(1<this.lineCount||this.isUnderline||this.isStrikethrough)||X.prototype.nk.call(this,t)},x.Dv=function(t,e){if("g"!==t.nodeName)t.setAttributeNS(null,"filter",e);else{t=t.getElementsByTagName("text");for(var n=0;n<t.length;n++)t[n].setAttributeNS(null,"filter",e)}},x.Wl=function(t,e,n,o){var r=this.Gc;this.Ih=t,this.l&=-16777217;var l,s=this.Ae;if(null!==ai&&o1!==s&&(o1=ai.font=s),this.Cb=this.Le=0,this.ze=this.Qb=this.Qc=this.df=null,isNaN(this.desiredSize.width)){if(0===(s=this.ec.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)s=8;else if(this.isMultiline){for(var a=l=0,p=!1;!p;){var d=s.indexOf("\n",a);-1===d&&(d=s.length,p=!0),a=s.substr(a,d-a),this.formatting===Su&&(a=a.trim()),l=Math.max(l,yn(a)),a=d+1}s=l}else 0<=(l=s.indexOf("\n",0))&&(s=s.substr(0,l)),s=yn(s);s=Math.min(s,t/this.scale)}else s=this.desiredSize.width;if(null!==this.panel&&(s=Math.min(s,this.panel.maxSize.width)),l=$g(this,s),p=l=isNaN(this.desiredSize.height)?Math.min(l,e/this.scale):this.desiredSize.height,0!==this.Cb&&null!==this.Qc&&null!==this.Qb&&this.overflow===mh&&(e=this.Ae,e=this.overflow===mh?Wg(e):0,d=this.spacingAbove+this.spacingBelow,d=Math.max(0,Du(this)+d),!((p=Math.min(this.maxLines-1,Math.max(Math.floor(p/d+.01)-1,0)))+1>=this.Qb.length))){for(this.l|=16777216,d=this.Qb[p],e=Math.max(1,t-e);yn(d)>e&&1<d.length;)d=d.substr(0,d.length-1);e=yn(d+=Tu),this.Qb[p]=d,this.Qb=this.Qb.slice(0,p+1),this.Qc[p]=e,this.Qc=this.Qc.slice(0,p+1),this.Le=this.Qb.length,this.Cb=Math.max(this.Cb,e),this.Gc=this.Le,1===this.Gc&&(this.ze=this.Qb[0])}(this.wrap===t1||isNaN(this.desiredSize.width))&&(s=isNaN(t)?this.Cb:Math.min(t,this.Cb)),s=Math.max(n,s),l=Math.max(o,l),vo(this.dc,s,l),this.Ge(0,0,s,l),null!==this.svg&&r!==this.Gc&&(this.Uc=!0)},x.eh=function(t,e,n,o){Kc(this,t,e,n,o)},pt.Object.defineProperties(kt.prototype,{font:{get:function(){return this.Ae},set:function(t){var e=this.Ae;e!==t&&(this.Ae=t,this.df=null,this.v(),this.g("font",e,t))}},text:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==(t=null!=t?t.toString():"")&&(this.ec=t,this.v(),this.g("text",e,t),this.Uc=!0)}},textAlign:{get:function(){return null!==this.da?this.da.Or:"start"},set:function(t){var e=this.textAlign;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(Gn(this),this.da.Or=t,this.N(),this.g("textAlign",e,t))}},flip:{get:function(){return null!==this.da?this.da.Xf:te},set:function(t){var e=this.flip;e!==t&&(Gn(this),this.da.Xf=t,this.N(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return null!==this.da?this.da.Yr:va},set:function(t){var e=this.verticalAlignment;e.D(t)||(t=t.J(),Gn(this),this.da.Yr=t,ul(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.dc.w()){var t=ot.alloc();Sd(this,this.ec,999999,t);var e=t.width;ot.free(t),t=$g(this,e);var n=this.desiredSize;isNaN(n.width)||(e=n.width),isNaN(n.height)||(t=n.height),vo(this.dc,e,t)}return this.dc}},isMultiline:{get:function(){return 0!=(2097152&this.l)},set:function(t){var e=0!=(2097152&this.l);e!==t&&(this.l^=2097152,this.v(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return 0!=(4194304&this.l)},set:function(t){var e=0!=(4194304&this.l);e!==t&&(this.l^=4194304,this.Uc=!0,this.N(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return 0!=(8388608&this.l)},set:function(t){var e=0!=(8388608&this.l);e!==t&&(this.l^=8388608,this.Uc=!0,this.N(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return null!==this.da?this.da.$r:Cd},set:function(t){var e=this.wrap;e!==t&&(Gn(this),this.da.$r=t,this.v(),this.g("wrap",e,t))}},overflow:{get:function(){return null!==this.da?this.da.$q:wd},set:function(t){var e=this.overflow;e!==t&&(Gn(this),this.da.$q=t,this.v(),this.g("overflow",e,t))}},isOverflowed:{get:function(){return 0!=(16777216&this.l)}},stroke:{get:function(){return this.xc},set:function(t){var e=this.xc;e!==t&&(null!==t&&ys(t,"TextBlock.stroke"),t instanceof Pt&&t.freeze(),this.xc=t,this.N(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Gc}},lineHeight:{get:function(){return Du(this)}},editable:{get:function(){return 0!=(1048576&this.l)},set:function(t){var e=0!=(1048576&this.l);e!==t&&(this.l^=1048576,this.g("editable",e,t))}},textEditor:{get:function(){return null!==this.da?this.da.Qr:null},set:function(t){var e=this.textEditor;e!==t&&(Gn(this),this.da.Qr=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return null!==this.da?this.da.Hd:null},set:function(t){var e=this.errorFunction;e!==t&&(Gn(this),this.da.Hd=t,this.g("errorFunction",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Tk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new ro),this.fa.Tk=t,this.v();var n=this.panel;null!==n&&(n.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ro),this.fa.u=t,this.v(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new ro),this.fa.j=t,this.v(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return null!==this.fa?this.fa.F:null},set:function(t){var e=this.graduatedFunction;e!==t&&(null===this.fa&&(this.fa=new ro),this.fa.F=t,this.v(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.o:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new ro),this.fa.o=t,this.v(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return null!==this.da?this.da.vj:null},set:function(t){var e=this.textValidation;e!==t&&(Gn(this),this.da.vj=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return null!==this.da?this.da.Pr:null},set:function(t){var e=this.textEdited;e!==t&&(Gn(this),this.da.Pr=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return null!==this.da?this.da.Dr:0},set:function(t){var e=this.spacingAbove;e!==t&&(Gn(this),this.da.Dr=t,this.v(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return null!==this.da?this.da.Er:0},set:function(t){var e=this.spacingBelow;e!==t&&(Gn(this),this.da.Er=t,this.v(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return null!==this.da?this.da.gq:Su},set:function(t){var e=this.formatting;e!==t&&(Gn(this),this.da.gq=t,this.v(),this.g("formatting",e,t))}},maxLines:{get:function(){return null!==this.da?this.da.Jq:1/0},set:function(t){var e=this.maxLines;e!==t&&(0>=(t=Math.floor(t))&&Jt(t,"> 0",kt,"maxLines"),Gn(this),this.da.Jq=t,this.v(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Qc?this.Qc:[this.Cb],arrText:null!==this.Qb?this.Qb:[this.ze],maxLineWidth:this.Cb,fontHeight:this.df}}},choices:{get:function(){return this.Gm},set:function(t){var e=this.Gm;e!==t&&(this.Gm=t,this.g("choices",e,t))}}});var xl,fh=null,gh=null,Td=new Q(kt,"None",0),t1=new Q(kt,"WrapFit",1),Cd=new Q(kt,"WrapDesiredSize",2),e1=new Q(kt,"WrapBreakAll",3),wd=new Q(kt,"OverflowClip",0),mh=new Q(kt,"OverflowEllipsis",1),Su=new Q(kt,"FormatTrim",0),i1=new Q(kt,"FormatNone",0),i2=/[ \u200b\u00ad]/,Ad=new en,n1=0,_h=new en,Md=0,Tu="...",o1="",ai=null,vh=!1;function Zd(){this.nc=!1,this.Hd=null,this.Xf=te,this.gq=Su,this.Jq=1/0,this.$q=wd,this.Er=this.Dr=0,this.Or="start",this.vj=this.Qr=this.Pr=null,this.Yr=va,this.$r=Cd}function ro(){this.Tk=1,this.u=0,this.j=1,this.o=this.F=null}function hi(t,e){X.call(this),this.Eg=null,this.qo="",this.Xg=Vf,this.Nk=oe,this.Zg=this.Hd=null,this.Mk=Mt,this.Xf=te,this.vl=null,this.qn=!1,this.en=!0,this.al=!1,this.bt=this.rl=null,"string"==typeof t?this.source=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function Pl(t){void 0===t&&(t=""),""!==t?xl[t]&&(delete xl[t],yh--):(xl=new en,yh=0)}function r1(t,e){e.qy||(e.Fq=function(n){e.sq=!0,e.ln=!1;var o=e.Bg.copy();if(null!=o){for(o=o.iterator;o.next();){var r=o.value;r.N();var s=e.getAttribute("src")||"",l=r.Og.I(s);if(null!==l)for(var a=l.length,p=0;p<a;p++)r.Xn.add(s=l[p]),s.Uc=!0,r.$b(),e.hn&&(void 0===e.eu&&(e.eu=n),null!==s.Zg&&s.Zg(s,n))}e.Bg.clear()}t.desiredSize.w()||(Bi(t,!1),t.v())},e.Yp=function(n){e.ln=n;var o=e.Bg.copy();if(null!=o){for(o=o.iterator;o.next();){var r=o.value,s=e.getAttribute("src")||"",l=r.Og.I(s);if(null!==l){r=l.length,s=bt();for(var a=0;a<r;a++)s.push(l[a]);if(e.hn)for(a=0;a<r;a++)null!==(l=s[a]).Hd&&l.Hd(l,n);Nt(s)}}e.Bg.clear()}},e.addEventListener("load",e.Fq),e.addEventListener("error",e.Yp),e.qy=!0)}kt.className="TextBlock",Zd.prototype.copy=function(){var t=new Zd;return t.Hd=this.Hd,t.Xf=this.Xf,t.gq=this.gq,t.Jq=this.Jq,t.$q=this.$q,t.Dr=this.Dr,t.Er=this.Er,t.Or=this.Or,t.Pr=this.Pr,t.Qr=this.Qr,t.vj=this.vj,t.Yr=this.Yr,t.$r=this.$r,t},kt.getEllipsis=function(){return Tu},kt.setEllipsis=function(t){Tu=t,_h=new en,Md=0},kt.getBaseline=function(){return fh},kt.setBaseline=function(t){fh=t},kt.getUnderline=function(){return gh},kt.setUnderline=function(t){gh=t},kt.isValidFont=function(t){if(vh||(ai=gn?new un(null).context:null,vh=!0),null===ai)return!0;var e=ai.font;if(t===e||"10px sans-serif"===t)return!0;ai.font="10px sans-serif",ai.font=t;var n=ai.font;if("10px sans-serif"!==n)return ai.font=e,!0;ai.font="19px serif";var o=ai.font;return ai.font=t,n=ai.font,ai.font=e,n!==o},kt.FormatNone=i1,kt.FormatTrim=Su,kt.None=Td,kt.OverflowClip=wd,kt.OverflowEllipsis=mh,kt.WrapBreakAll=e1,kt.WrapDesiredSize=Cd,kt.WrapFit=t1,ro.prototype.copy=function(){var t=new ro;return t.Tk=this.Tk,t.u=this.u,t.j=this.j,t.F=this.F,t.o=this.o,t},ro.className="GradElementSettings",At(hi,X),hi.prototype.cloneProtected=function(t){X.prototype.cloneProtected.call(this,t),t.qo=this.qo,t.element=this.Eg,t.Xg=this.Xg.J(),t.Nk=this.Nk,t.Xf=this.Xf,t.Hd=this.Hd,t.Zg=this.Zg,t.Mk=this.Mk.J(),t.en=this.en,t.rl=this.rl},hi.prototype.qb=function(t){t===te||t===En||t===au?this.imageStretch=t:X.prototype.qb.call(this,t)},hi.prototype.toString=function(){return"Picture("+this.source+")#"+ui(this)},hi.prototype.hA=function(){if(""!==this.source){Pl(this.source);var t=this.source;this.source="",this.source=t}},hi.prototype.redraw=function(){this.N(),this.Uc=!0},hi.prototype.hh=function(t,e){var n=this.Eg;if(null!==n){var o=n.getAttribute("src");if(!(n instanceof HTMLImageElement&&(null===o||""===o)||n.ln instanceof Event&&t instanceof Ur)){var r=t instanceof Ci;o=this.naturalBounds;var s=0,l=0,a=this.qn,p=a?+n.width:n.naturalWidth;if(void 0===p&&n.videoWidth&&(p=n.videoWidth),void 0===(a=a?+n.height:n.naturalHeight)&&n.videoHeight&&(a=n.videoHeight),a=a||o.height,0!==(p=p||o.width)&&0!==a){var d=p,f=a;this.sourceRect.w()&&(s=this.Xg.x,l=this.Xg.y,p=this.Xg.width,a=this.Xg.height);var g=p,m=a,v=this.Nk,y=this.Mk;switch(v){case te:if(this.sourceRect.w())break;g>=o.width&&(s=s+y.offsetX+(g*y.x-o.width*y.x)),m>=o.height&&(l=l+y.offsetY+(m*y.y-o.height*y.y)),p=Math.min(o.width,g),a=Math.min(o.height,m);break;case oe:g=o.width,m=o.height;break;case En:case au:v===En?(g*=v=Math.min(o.height/m,o.width/g),m*=v):v===au&&((g*=v=Math.max(o.height/m,o.width/g))>=o.width&&(s=(s+y.offsetX+(g*y.x-o.width*y.x)/g)*p),(m*=v)>=o.height&&(l=(l+y.offsetY+(m*y.y-o.height*y.y)/m)*a),p*=1/(g/o.width),a*=1/(m/o.height),g=o.width,m=o.height)}var P=g*(v=this.Df()*e.scale)*m*v,T=p*a/P,S=n.__goCache;if(v=null,!r){if(n.sq&&void 0!==S&&4<P&&T>n2*n2)for(null===S.gi&&(l1(S,4,d,f,n),l1(S,16,d,f,n)),d=(r=S.gi).length,f=0;f<d&&r[f].ratio*r[f].ratio<T;f++)v=r[f];if(!e.Xm){if(null===this.vl)if(null===this.Eg)this.vl=!1;else{r=new un(null).context;try{r.drawImage(this.Eg,0,0)}catch{this.en=!1}try{r.getImageData(0,0,1,1).data[3]&&(this.vl=!1),this.vl=!1}catch{this.vl=!0}}if(this.vl)return}}switch(r=g<o.width?y.offsetX+(o.width*y.x-g*y.x):0,y=m<o.height?y.offsetY+(o.height*y.y-m*y.y):0,this.flip){case pu:t.translate(Math.min(o.width,g),0),t.scale(-1,1);break;case hu:t.translate(0,Math.min(o.height,m)),t.scale(1,-1);break;case cu:t.translate(Math.min(o.width,g),Math.min(o.height,m)),t.scale(-1,-1)}if(t.yc(),e.Gf("pictureRatioOptimization")&&!e.$i&&void 0!==S&&null!==v&&1!==v.ratio){t.save(),e=v.ratio;try{t.drawImage(v.source,s/e,l/e,Math.min(v.source.width,p/e),Math.min(v.source.height,a/e),r,y,Math.min(o.width,g),Math.min(o.height,m)),t instanceof Ci&&(this.bt=[s/e,l/e,Math.min(v.source.width,p/e),Math.min(v.source.height,a/e),r,y,Math.min(o.width,g),Math.min(o.height,m)])}catch{this.en=!1}t.restore()}else try{t.drawImage(n,s,l,p,a,r,y,Math.min(o.width,g),Math.min(o.height,m)),t instanceof Ci&&(this.bt=[s,l,p,a,r,y,Math.min(o.width,g),Math.min(o.height,m)])}catch{this.en=!1}switch(this.flip){case pu:t.scale(-1,1),t.translate(-Math.min(o.width,g),0);break;case hu:t.scale(1,-1),t.translate(0,-Math.min(o.height,m));break;case cu:t.scale(-1,-1),t.translate(-Math.min(o.width,g),-Math.min(o.height,m))}}}}},hi.prototype.Wl=function(t,e,n,o){var r=this.desiredSize,s=kn(this,!0),l=this.Eg,a=this.qn,p=0,d=0;(a||!this.al&&l&&l.complete)&&(this.al=!0),null===l?(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)):(p=a?+l.width:l.naturalWidth,d=a?+l.height:l.naturalHeight),isFinite(r.width)||s===oe||s===Ue?(isFinite(t)||(this.sourceRect.w()?t=this.sourceRect.width:null!==l&&(t=p)),n=0):null!==l&&!1!==this.al&&(t=this.sourceRect.w()?this.sourceRect.width:p),isFinite(r.height)||s===oe||s===be?(isFinite(e)||(this.sourceRect.w()?e=this.sourceRect.height:null!==l&&(e=d)),o=0):null!==l&&!1!==this.al&&(e=this.sourceRect.w()?this.sourceRect.height:d),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.maxSize,s=this.minSize,n=Math.max(n||0,s.width),o=Math.max(o||0,s.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(o,e),null===l||l.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),vo(this.dc,t,e),this.Ge(0,0,t,e)},hi.prototype.eh=function(t,e,n,o){Kc(this,t,e,n,o)},pt.Object.defineProperties(hi.prototype,{element:{get:function(){return this.Eg},set:function(t){var e=this.Eg;if(this.Uc=!0,e!==t){this.qn=t instanceof HTMLCanvasElement;var n=t instanceof HTMLImageElement;null===t||n||t instanceof HTMLVideoElement||this.qn||q("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var o=this.diagram;null!==o&&Fc(o,this),this.Eg=t,null!==t&&n&&void 0===t.Bg&&(t.Bg=new E),null!==o&&n&&Uc(o,this),null!==t&&(this.qn||!0===t.complete?(t.hn&&(t.ln instanceof Event&&null!==this.Hd?this.Hd(this,t.ln):!0===t.sq&&!t.ln&&null!==this.Zg&&t.eu&&this.Zg(this,t.eu)),t.sq=!0,this.desiredSize.w()||(Bi(this,!1),this.v())):n&&r1(this,t)),this.g("element",e,t),this.N()}}},source:{get:function(){return this.qo},set:function(t){var e=this.qo;if(e!==t){this.Uc=!0,this.qo=t;var n=xl;if(gn){var o=null;if(void 0!==n[t])o=n[t];else if(""!==t){30<yh&&(Pl(),n=xl),(o=Yn("img")).hn=!0,r1(this,o);var r=this.rl;null!==r&&(o.crossOrigin=r(this)),o.src=t,n[t]=o,yh++}this.element=o,null!==o&&void 0===o.__goCache&&(o.__goCache=new s1),this.v(),this.N()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.rl},set:function(t){if(this.rl!==t&&(this.rl=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.Xg},set:function(t){var e=this.Xg;e.D(t)||(this.Xg=t=t.J(),this.N(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.Nk},set:function(t){var e=this.Nk;e!==t&&(this.Nk=t,this.N(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Xf},set:function(t){var e=this.Xf;e!==t&&(this.Xf=t,this.N(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.Mk},set:function(t){var e=this.Mk;e.D(t)||(this.Mk=t=t.J(),this.N(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.Hd},set:function(t){var e=this.Hd;e!==t&&(this.Hd=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.Zg},set:function(t){var e=this.Zg;e!==t&&(this.Zg=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.dc}}}),hi.prototype.redraw=hi.prototype.redraw,hi.prototype.reloadSource=hi.prototype.hA;var yh=0,n2=4;function s1(){this.gi=null}function l1(t,e,n,o,r){null===t.gi&&(t.gi=[]);var s=new un(null),l=s.context,a=1/e;s.width=n/e,s.height=o/e,0!==s.width&&0!==s.height&&(e=new u1(s.Oa,e),n=1,0<t.gi.length&&(r=(n=t.gi[t.gi.length-1]).source,n=n.ratio),l.setTransform(a*n,0,0,a*n,0,0),l.yc(),l.drawImage(r,0,0),t.gi.push(e))}function u1(t,e){this.source=t,this.ratio=e}function Dl(){this.os=new Y,this.mc=null}function Sl(t,e,n,o,r,s){t.mc=new Ce,t.mc.startX=e,t.mc.startY=n,t.mc.isFilled=o,t.mc.isEvenOdd=s||!1,t.os.figures.add(t.mc),void 0!==r&&(t.mc.isShadowed=r)}function o2(t){var e=t.mc.segments.length;0<e&&t.mc.segments.M(e-1).close()}function Jo(t,e,n,o,r,s,l){var a;void 0===a&&(a=!1);var p=new xt(Yi);p.point1X=e,p.point1Y=n,p.point2X=o,p.point2Y=r,p.endX=s,p.endY=l,a&&p.close(),t.mc.segments.add(p)}function xh(t,e,n,o,r){var s;void 0===s&&(s=!1);var l=new xt(Rn);l.point1X=e,l.point1Y=n,l.endX=o,l.endY=r,s&&l.close(),t.mc.segments.add(l)}function r2(t,e,n,o,r,s,l,a){var p;void 0===p&&(p=!1),e=new xt(Mn,l,a,e,n,o,r,s),p&&e.close(),t.mc.segments.add(e)}function a1(t){var e=Ph;return null!==e?(Ph=null,e.reset(t),e):((e=new Dl).reset(t),e)}hi.className="Picture",xl=new en,hi.clearCache=Pl,s1.className="PictureCacheArray",u1.className="PictureCacheInstance",Dl.prototype.reset=function(t){null!==t?(t.ka(),this.os=t,t.figures.clear()):this.os=new Y,this.mc=null},Dl.prototype.moveTo=function(t,e,n){void 0===n&&(n=!1);var o=new xt(fn);o.endX=t,o.endY=e,n&&o.close(),this.mc.segments.add(o)},Dl.prototype.lineTo=function(t,e,n){void 0===n&&(n=!1);var o=new xt(Gt);o.endX=t,o.endY=e,n&&o.close(),this.mc.segments.add(o)},Dl.prototype.arcTo=function(t,e,n,o,r,s,l){void 0===s&&(s=0),void 0===l&&(l=!1);var a=new xt(pe);a.startAngle=t,a.sweepAngle=e,a.centerX=n,a.centerY=o,a.radiusX=r,a.radiusY=0!==s?s:r,l&&a.close(),this.mc.segments.add(a)};var Ph=null;function qe(t,e){var n=t.toLowerCase(),o=N.Ze;o[t]=e,o[n]=t}function jd(){this.nc=!1,this.tr=this.Kp=this.zq=null,this.vr="",this.fr=this.oq=this.ur=null,this.hr="",this.gr=ga,this.ir=null,this.jr="",this.lr=Oe,this.Gq="",this.Hq=Ee,this.Pq=jp,this.Kq=Np,this.Up=null,this.Cq=127,this.zr=kp,this.yr="gray",this.Vg=4}function W(t,e){void 0===t||t instanceof de||"string"==typeof t?O.call(this,t):(O.call(this),t&&(e=t)),this.G=2408959,this.Tf="",this.P=null,this.Jg="",this.Qf=this.Ug=null,this.ec="",this.Ah=this.Ig=null,this.ke=new w(NaN,NaN).freeze(),this.nf=null,this.Ao=NaN,this.vw=-1,this.py=new U,this.Rh=null,this.ag=NaN,e&&Object.assign(this,e)}function pi(t){null===t.P?t.P=new jd:t.P.nc&&(t.P=t.P.copy())}function Nd(t){16384&t.G&&(t.updateAdornments(),t.G&=-16385)}function Dh(t){if(!1===lr(t)){Id(t,!0),t.Uk();var e=t.diagram;null!==e&&(e.De.add(t),e.$b())}}function h1(t){if(t.G|=2097152,!1!==lr(t)){var e=t.position,n=t.location;n.w()&&e.w()||d1(t,e,n),n=t.Ib;var o=U.alloc().assign(n);n.ka(),n.x=e.x,n.y=e.y,n.freeze(),t.Xl(o,n),U.free(o),Id(t,!1)}}function Ro(t,e,n,o){void 0===o&&(o=new w),n=n.Mc()?Mt:n;var r=e.naturalBounds;if(o.h(r.width*n.x+n.offsetX,r.height*n.y+n.offsetY),null===e||e===t)return o;for(e.transform.Ga(o),e=e.panel;null!==e&&e!==t;)e.transform.Ga(o),e=e.panel;return null!==t.Lb&&t.Lb.Ga(o),o.offset(-t.uc.x,-t.uc.y),o}function p1(t){var e=w.alloc(),n=t.locationObject,o=n.naturalBounds,r=n instanceof ut?n.strokeWidth:0;if(e.yi(0,0,o.width+r,o.height+r,t.locationSpot),n!==t)for(e.offset(-r/2,-r/2),n.transform.Ga(e),n=n.panel;null!==n&&n!==t;)n.transform.Ga(e),n=n.panel;return null!==t.Lb&&t.Lb.Ga(e),e.offset(-t.uc.x,-t.uc.y),e}function br(t,e){var n=t.py;isNaN(t.ag)&&(t.ag=Rg(t));var o=t.ag,r=2*o;if(!t.isShadowed)return n.h(e.x-1-o,e.y-1-o,e.width+2+r,e.height+2+r),n;o=e.x,r=e.y;var s=e.width;e=e.height;var l=t.shadowBlur;return s+=l,e+=l,o-=l/2,r-=l/2,0<(t=t.shadowOffset).x?s+=t.x:(o+=t.x,s-=t.x),0<t.y?e+=t.y:(r+=t.y,e-=t.y),n.h(o-1,r-1,s+2,e+2),n}function c1(t,e,n,o,r){null===e||t instanceof mt||(e=e.animationManager).zb&&j0(e,t,new w(o,r),n)}function d1(t,e,n){var o=p1(t),r=t.diagram,s=n.w(),l=e.w();s&&l?2097152&t.G?f1(t,e,n,r,o):g1(t,e,n,r,o):s?f1(t,e,n,r,o):l&&g1(t,e,n,r,o),t.G|=2097152,w.free(o),t.Uk()}function f1(t,e,n,o,r){var s=e.x,l=e.y;e.h(n.x-r.x,n.y-r.y),null!==o&&((o=(n=o.animationManager).defaultAnimation.isAnimating)||!n.zb||t instanceof mt||j0(n,t,new w(s,l),e),o||e.x===s&&e.y===l||t.g("position",new w(s,l),e.copy()))}function g1(t,e,n,o,r){var s=n.copy();n.h(e.x+r.x,e.y+r.y),n.D(s)||null===o||t.g("location",s,n.copy())}function m1(t,e,n){Ud(t,!1),t instanceof B&&Jc(n,t),t.layer.isTemporary||e||n.Ya(),e=t.Ib;var o=n.viewportBounds;o.w()?ur(t)?(Hf(e,o)||t.Fd(!1),t.updateAdornments()):t.isVisible()&&e.Yc(o)?(t.Fd(!0),t.updateAdornments()):t.Wb():n.vd=!0}function kd(t,e,n,o){e.constructor===t.constructor||y1||(y1=!0,Di('Should not change the class of the Part when changing category from "'+n+'" to "'+o+'"'),Di("  Old class: "+is(t.constructor)+", new class: "+is(e.constructor)+", part: "+t.toString())),t.Ej();var r=t.data;n=t.layerName;var s=t.isSelected,l=t.isHighlighted,a=!0,p=!0,d=!1;t instanceof B&&(a=t.isTreeLeaf,p=t.isTreeExpanded,d=t.wasTreeExpanded),e.Af(t),e.cloneProtected(t),t.Tf=o,null!==t.svg&&(t.svg.remove(),t.svg=null,t.Uc=!0),t.v(),t.N(),o=!0,null!==(e=t.diagram)&&(o=e.skipsUndoManager,e.skipsUndoManager=!0),t.ub=r,t.G=s?4096|t.G:-4097&t.G,t.G=l?524288|t.G:-524289&t.G,t instanceof B&&(t.U=a?4|t.U:-5&t.U,t.U=p?1|t.U:-2&t.U,t.U=d?2|t.U:-3&t.U),null!==r&&t.La(),(r=t.layerName)!==n&&(t.Jg=n,t.layerName=r),null!==e&&(e.skipsUndoManager=o),t.Zc()&&t.C(64)}function lr(t){return 0!=(32768&t.G)}function Id(t,e){t.G=e?32768|t.G:-32769&t.G}function Ud(t,e){t.G=e?65536|t.G:-65537&t.G}function ur(t){return 0!=(131072&t.G)}function Sh(t,e){t.G=e?1048576|t.G:-1048577&t.G}function Fd(t,e){var n=e.containingGroup;return null!==n?1+Fd(t,n):e instanceof B&&null!==(e=e.labeledLink)?Fd(t,e):0}function _1(t,e){var n=e.containingGroup;return null!==n||e instanceof B&&null!==(n=e.labeledLink)?_1(t,n):e}function Od(t,e,n){if(e===n||null===n)return!1;var o=e.containingGroup;return!(null===o||o!==n&&!Od(t,o,n))||e instanceof B&&null!==(e=e.labeledLink)&&Od(t,e,n)}function v1(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.isTemporary)}function ar(t,e,n,o,r,s){if(void 0===s&&(s=null),!(t.contains(e)||null!==s&&!s(e)||e instanceof mt))if(t.add(e),e instanceof B){if(n&&e instanceof rt)for(var l=e.memberParts;l.next();)ar(t,l.value,n,o,r,s);if(!1!==r)for(l=e.linksConnected;l.next();){var a=l.value;if(!t.contains(a)){var p=a.fromNode,d=a.toNode;p=null===p||t.contains(p),d=null===d||t.contains(d),(r?p&&d:p||d)&&ar(t,a,n,o,r,s)}}if(1<o)for(e=e.Ou();e.next();)ar(t,e.value,n,o-1,r,s)}else if(e instanceof L)for(e=e.labelNodes;e.next();)ar(t,e.value,n,o,r,s)}Dl.className="StreamGeometryContext",qe("Rectangle",function(t,e,n){var o=N.Mf[t="r"+e+","+n];return void 0!==o||((o=new Y(Y.u)).endX=e,o.endY=n,N.Nf<N.vm&&(N.Mf[t]=o,N.Nf++)),o}),qe("Square",function(t,e,n){var o=N.Mf[t="s"+e+","+n];return void 0!==o||((o=new Y(Y.u)).endX=e,o.endY=n,o.defaultStretch=En,N.Nf<N.vm&&(N.Mf[t]=o,N.Nf++)),o}),qe("RoundedRectangle",function(t,e,n){t=t?t.parameter1:NaN,(isNaN(t)||0>t)&&(t=5),t=Math.min(t,e/3);var o="rr"+e+","+n+","+(t=Math.min(t,n/3)),r=N.Mf[o];if(void 0!==r)return r;var s=t*N.wg;return r=(new Y).add(new Ce(t,0,!0).add(new xt(Gt,e-t,0)).add(new xt(Yi,e,t,e-s,0,e,s)).add(new xt(Gt,e,n-t)).add(new xt(Yi,e-t,n,e,n-s,e-s,n)).add(new xt(Gt,t,n)).add(new xt(Yi,0,n-t,s,n,0,n-s)).add(new xt(Gt,0,t)).add(new xt(Yi,t,0,0,s,s,0).close())),1<s&&(r.spot1=new $(0,0,s,s),r.spot2=new $(1,1,-s,-s)),N.Nf<N.vm&&(N.Mf[o]=r,N.Nf++),r}),qe("Border","RoundedRectangle"),qe("Ellipse",function(t,e,n){var o=N.Mf[t="e"+e+","+n];return void 0!==o||((o=new Y(Y.F)).endX=e,o.endY=n,o.spot1=Xp,o.spot2=Wp,N.Nf<N.vm&&(N.Mf[t]=o,N.Nf++)),o}),qe("Circle",function(t,e,n){var o=N.Mf[t="c"+e+","+n];return void 0!==o||((o=new Y(Y.F)).endX=e,o.endY=n,o.spot1=Xp,o.spot2=Wp,o.defaultStretch=En,N.Nf<N.vm&&(N.Mf[t]=o,N.Nf++)),o}),qe("TriangleRight",function(t,e,n){return(new Y).add(new Ce(0,0).add(new xt(Gt,e,.5*n)).add(new xt(Gt,0,n).close())).pm(0,.25,.5,.75)}),qe("TriangleDown",function(t,e,n){return(new Y).add(new Ce(0,0).add(new xt(Gt,e,0)).add(new xt(Gt,.5*e,n).close())).pm(.25,0,.75,.5)}),qe("TriangleLeft",function(t,e,n){return(new Y).add(new Ce(e,n).add(new xt(Gt,0,.5*n)).add(new xt(Gt,e,0).close())).pm(.5,.25,1,.75)}),qe("TriangleUp",function(t,e,n){return(new Y).add(new Ce(e,n).add(new xt(Gt,0,n)).add(new xt(Gt,.5*e,0).close())).pm(.25,.5,.75,1)}),qe("Triangle","TriangleUp"),qe("Diamond",function(t,e,n){return(new Y).add(new Ce(.5*e,0).add(new xt(Gt,0,.5*n)).add(new xt(Gt,.5*e,n)).add(new xt(Gt,e,.5*n).close())).pm(.25,.25,.75,.75)}),qe("LineH",function(t,e,n){return(t=new Y(Y.j)).startX=0,t.startY=n/2,t.endX=e,t.endY=n/2,t}),qe("LineV",function(t,e,n){return(t=new Y(Y.j)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=n,t}),qe("None","Rectangle"),qe("BarH","Rectangle"),qe("BarV","Rectangle"),qe("MinusLine","LineH"),qe("PlusLine",function(t,e,n){return(new Y).add(new Ce(0,n/2,!1).add(new xt(Gt,e,n/2)).add(new xt(fn,e/2,0)).add(new xt(Gt,e/2,n)))}),qe("XLine",function(t,e,n){return(new Y).add(new Ce(0,n,!1).add(new xt(Gt,e,0)).add(new xt(fn,0,0)).add(new xt(Gt,e,n)))}),qe("LineRight",function(t,e,n){return(new Y).add(new Ce(.25*e,0,!1).add(new xt(Gt,.75*e,.5*n)).add(new xt(Gt,.25*e,n)))}),qe("LineDown",function(t,e,n){return(new Y).add(new Ce(0,.25*n,!1).add(new xt(Gt,.5*e,.75*n)).add(new xt(Gt,e,.25*n)))}),qe("LineLeft",function(t,e,n){return(new Y).add(new Ce(.75*e,0,!1).add(new xt(Gt,.25*e,.5*n)).add(new xt(Gt,.75*e,n)))}),qe("LineUp",function(t,e,n){return(new Y).add(new Ce(0,.75*n,!1).add(new xt(Gt,.5*e,.25*n)).add(new xt(Gt,e,.75*n)))}),N.um={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},jd.prototype.copy=function(){var t=new jd;return t.zq=this.zq,t.Kp=this.Kp,t.tr=this.tr,t.vr=this.vr,t.ur=this.ur,t.oq=this.oq,t.fr=this.fr,t.hr=this.hr,t.gr=this.gr.J(),t.ir=this.ir,t.jr=this.jr,t.lr=this.lr.J(),t.Gq=this.Gq,t.Hq=this.Hq.J(),t.Pq=this.Pq.J(),t.Kq=this.Kq.J(),t.Up=this.Up,t.Cq=this.Cq,t.zr=this.zr.J(),t.yr=this.yr,t.Vg=this.Vg,t},At(W,O),W.prototype.cloneProtected=function(t){O.prototype.cloneProtected.call(this,t),t.G=-4097&this.G|49152,t.Tf=this.Tf,null!==this.P&&(t.P=this.P.nc?this.P:this.P.copy()),t.Jg=this.Jg,t.Qf=null,t.ec=this.ec,t.ke.assign(this.ke),t.Ao=this.Ao},(x=W.prototype).Af=function(t){O.prototype.Af.call(this,t),t.oh(),t.Ug=null,t.nf=null,t.Rh=null},x.toString=function(){var t=is(this.constructor)+"#"+ui(this);return null!==this.data&&(t+="("+cn(this.data)+")"),t},x.th=function(){O.prototype.th.call(this),null!==this.P&&(this.P.nc=!0)},x.gk=function(t,e,n,o,r,s,l){var a=this.diagram;null!==a&&(t===ge&&"elements"===e?r instanceof O?Fr(r,function(p){of(a.partManager,p),eg(a,p)}):Uc(a,r):t===_e&&"elements"===e&&(r instanceof O?Fr(r,function(p){rf(a.partManager,p,a)}):Fc(a,r)),a.cb(t,e,n,o,r,s,l))},x.La=function(t){if(O.prototype.La.call(this,t),null!==this.data){for(var e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o];r instanceof O&&Fr(r,function(s){null!==s.data&&s.La()})}for(e=this.adornments;e.next();)e.value.La(t)}},W.prototype.updateRelationshipsFromData=function(){var t;null!==this.data&&(null===(t=this.diagram)||void 0===t||t.partManager.updateRelationshipsFromData(this))},W.prototype.Pj=function(t){var e=this.Qf;return null===e?null:e.I(t)},W.prototype.bh=function(t,e){if(null!==e){var n=null,o=this.Qf;if(null!==o&&(n=o.I(t)),n!==e){if(null!==n){var r=n.diagram;null!==r&&r.remove(n)}null===o&&(this.Qf=o=new lt),e.Tf!==t&&(e.category=t),o.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&null!==(t=t.ih())&&(e.data=t.data))}}},W.prototype.Jf=function(t){var e=this.Qf;if(null!==e){var n=e.I(t);if(null!==n){var o=n.diagram;null!==o&&o.remove(n)}e.remove(t),0===e.count&&(this.Qf=null)}},W.prototype.Ej=function(){var t=this.Qf;if(null!==t){var e=bt();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var n=0;n<t;n++)this.Jf(e[n]);Nt(e)}},W.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var n=e.value;n.v(),n.placeholder&&n.placeholder.v()}t:{if(this.isSelected&&this.selectionAdorned&&null!==(e=this.selectionObject)&&this.actualBounds.w()&&this.isVisible()&&e.Ed()&&e.actualBounds.w()){if(null===(n=this.Pj("Selection"))){if(null===(n=this.selectionAdornmentTemplate)&&(n=this.ph()?t.linkSelectionAdornmentTemplate:this instanceof rt?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(n instanceof mt))break t;an(n),null!==(n=n.copy())&&(this.ph()&&this.selectionObject===this.path&&(n.type=O.Link),n.adornedObject=e)}if(null!==n){n.type===O.Link&&n.v(),this.bh("Selection",n);break t}}this.Jf("Selection")}for(function s2(t,e){e.toolManager.mouseDownTools.each(function(n){n.isEnabled&&n.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.La()}},W.prototype.Wb=function(){var t=this.diagram;null!==t&&(t.vd=!0,!(16384&this.G)&&(this.G|=16384))},W.prototype.Ge=function(t,e,n,o){var r=this.uc;r.h(t,e,n,o),null===this.Lb&&(this.Lb=new ct);var s=this.Lb;s.reset(),this.no(s,t,e,n,o),this.Lb=s,s.ws()||s.pp(r)},W.prototype.no=function(t,e,n,o,r){if(1!==this.Ca&&t.scale(this.Ca),0!==this.Kb){var s=Mt;this.locationSpot.sb()&&(s=this.locationSpot);var l=w.alloc();if(this.locationObject!==this)for(l.yi((n=(e=this.locationObject).naturalBounds).x,n.y,n.width,n.height,s),null!==e.Lb&&e.Lb.Ga(l),l.offset(-e.measuredBounds.x,-e.measuredBounds.y),s=e.panel;null!==s&&s!==this;)null!==s.Lb&&s.Lb.Ga(l),l.offset(-s.measuredBounds.x,-s.measuredBounds.y),s=s.panel;else l.yi(e,n,o,r,s);t.rotate(this.Kb,l.x,l.y),w.free(l)}},W.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},W.prototype.moveTo=function(t,e,n){t=w.allocAt(t,e),this.move(t,n),w.free(t)},W.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.fv(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},W.prototype.Zb=function(t){var e=this.diagram;t?(this.C(4),this.Wb(),null!==e&&e.De.add(this)):(this.C(8),this.Ej()),this.oh(),null!==e&&(e.Ya(),e.N())},W.prototype.fb=function(t){if(this.name===t)return this;var e=this.Rh;if(null===e&&(this.Rh=e=new lt),null!==e.I(t))return e.I(t);var n=O.prototype.fb.call(this,t);return null!==n?(e.set(t,n),n):(e.set(t,null),null)},W.prototype.mi=function(t){return void 0===t&&(t=new U),t.assign(this.actualBounds)},W.prototype.Va=function(){this.measure(1/0,1/0),this.arrange()},W.prototype.arrange=function(){if(!1===_n(this))h1(this);else{Nr(this,!1);var t=this.Ib,e=U.alloc();e.assign(t);var n=ur(this);this.eh(0,0,this.uc.width,this.uc.height);var o=this.position;d1(this,o,this.location),t.ka(),t.x=o.x,t.y=o.y,t.freeze(),this.Xl(e,t),e.D(t)?this.Fd(n):!this.Zc()||N.B(e.width,t.width)&&N.B(e.height,t.height)||0<=this.vw&&this.C(16),U.free(e),Id(this,!1)}},(x=W.prototype).Xl=function(t,e){var n=this.diagram;if(null!==n){var o=!1;if(!1===n.Zi&&t.w()){var r=U.alloc();r.assign(n.documentBounds),r.Fv(n.padding),t.x>r.x&&t.y>r.y&&t.right<r.right&&t.bottom<r.bottom&&e.x>r.x&&e.y>r.y&&e.right<r.right&&e.bottom<r.bottom&&(o=!0),U.free(r)}!(65536&this.G)&&t.D(e)||m1(this,o,n),n.N(),!t.w()&&!e.w()||Lp(t,e)||(this instanceof B&&!n.undoManager.isUndoingRedoing&&this.Bd(),this.oh())}},x.zv=function(t,e,n){if(this.ph()||!t.w())return!1;var o=this.diagram;return null!==o&&c1(this,o,t,e,n),this.pa=t,this.G&=-2097153,!this.ke.w()||null!==o&&!o.animationManager.isTicking&&o.undoManager.isUndoingRedoing||(this.ke=new w((o=this.ke).x+(t.x-e),o.y+(t.y-n)),this.g("location",o,this.ke.copy())),!1===lr(this)&&!1===_n(this)&&(Dh(this),h1(this)),!0},x.mm=function(t,e,n){var o=this.ke,r=this.pa;if(n){if(o.x===t&&o.y===e)return;lr(this)||_n(this)?r.h(NaN,NaN):r.h(r.x+t-o.x,r.y+e-o.y),o.h(t,e)}else{if(r.x===t&&r.y===e)return;o.h(o.x+t-r.x,o.y+e-r.y),r.h(t,e)}Dh(this)},x.Av=function(){this.G&=-2097153,Dh(this)},x.si=function(){return!0},x.Zc=function(){return!0},x.ph=function(){return!1},x.Dd=function(){return!0},W.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},W.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},W.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},W.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},W.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},W.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},W.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},W.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},W.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(x=W.prototype).Fd=function(t){this.G=t?131072|this.G:-131073&this.G},x.oh=function(){var t=this.containingGroup;null!==t&&(t.v(),null!==t.placeholder&&t.placeholder.v(),t.Bd())},x.N=function(){var t=this.diagram;null!==t&&!_n(this)&&!lr(this)&&this.isVisible()&&this.Ib.w()&&t.N(br(this,this.Ib))},x.v=function(){O.prototype.v.call(this);var t=this.diagram;null!==t&&(t.De.add(this),this instanceof B&&null!==this.labeledLink&&ul(this.labeledLink),t.$b(!0))},x.Vo=function(t){t||null!==(t=this.Ah)&&Yd(t,this)},x.Wo=function(t){t||null!==(t=this.Ah)&&Jd(t,this)},x.Lj=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&null!==(e=e.model)&&e.cm(t)}},x.oz=function(){return Fd(this,this)},x.sz=function(){return _1(this,this)},x.Td=function(t){return t instanceof rt&&Od(this,this,t)},x.px=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof rt&&Sh(e,!0),e instanceof B){var n=e.labeledLink;null!==n&&(e=n)}e=e.containingGroup}for(n=null,e=t;null!==e;){if(1048576&e.G){n=e;break}e instanceof B&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup}for(e=this;null!==e;)e instanceof rt&&Sh(e,!1),e instanceof B&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup;return n},W.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof B&&this.isLinkLabel)},W.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&t&this.layoutConditions){var e=this.layer;e=!(null!==e&&e.isTemporary||this instanceof B&&this.isLinkLabel)&&!(null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing)}else e=!1;if(e)if(null!==(e=this.Ah)){var n=e.layout;null!==n?n.C():e.C(t)}else null!==(t=this.diagram)&&null!==(t=t.layout)&&t.C()},pt.Object.defineProperties(W.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.wa(this.data)}},adornments:{get:function(){return null===this.Qf?dn:this.Qf.iteratorValues}},layer:{get:function(){return this.Ig}},diagram:{get:function(){var t=this.Ig;return null==t?null:t.diagram}},layerName:{get:function(){return this.Jg},set:function(t){var e=this.Jg;if(e!==t){var n=this.diagram;if((null===n||null!==n.Qj(t)&&!n.partManager.addsToTemporaryLayer)&&(this.Jg=t,null!==n&&n.Ya(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(n=e.diagram)&&null!==(t=n.Qj(t))&&t!==e)){var o=e.pc(-1,this,!0);if(0<=o&&n.cb(_e,"parts",e,this,null,o,!0),o=t.oi(99999999,this,!0),e.visible!==t.visible&&this.Zb(t.visible),0<=o&&n.cb(ge,"parts",t,null,this,!0,o),null!==(o=this.layerChanged)){var r=n.aa;n.aa=!0,o(this,e,t),n.aa=r}}}}},layerChanged:{get:function(){return null!==this.P?this.P.zq:null},set:function(t){var e=this.layerChanged;e!==t&&(pi(this),this.P.zq=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.Ao},set:function(t){var e=this.Ao;if(e!==t){this.Ao=t;var n=this.layer;null!==n&&Na(n,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.N()}}},locationObject:{get:function(){if(null===this.nf){var t=this.locationObjectName;""!==t?(t=this.fb(t),this.nf=null!==t?t:this):this.nf=this instanceof mt&&this.type!==O.Link&&null!==this.placeholder?this.placeholder:this}return this.nf.visible?this.nf:this}},minLocation:{get:function(){return null!==this.P?this.P.Pq:jp},set:function(t){var e=this.minLocation;e.D(t)||(t=t.J(),pi(this),this.P.Pq=t,this.g("minLocation",e,t))}},maxLocation:{get:function(){return null!==this.P?this.P.Kq:Np},set:function(t){var e=this.maxLocation;e.D(t)||(t=t.J(),pi(this),this.P.Kq=t,this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return null!==this.P?this.P.Gq:""},set:function(t){var e=this.locationObjectName;e!==t&&(pi(this),this.P.Gq=t,this.nf=null,this.v(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return null!==this.P?this.P.Hq:Ee},set:function(t){var e=this.locationSpot;e.D(t)||(t=t.J(),pi(this),this.P.Hq=t,this.v(),this.g("locationSpot",e,t))}},location:{get:function(){return this.ke},set:function(t){var e=t.x,n=t.y,o=this.ke;if(!(o.x===e||isNaN(o.x)&&isNaN(e))||!(o.y===n||isNaN(o.y)&&isNaN(n))){if(e=t=t.copy(),this.ph())e=!1;else{if(this.ke=e,this.G|=2097152,!1===_n(this)&&(Dh(this),(n=this.pa).w())){var r=this.diagram;if(null===r||r.animationManager.isTicking||!r.undoManager.isUndoingRedoing){var s=n.copy();n.h(n.x+(e.x-o.x),n.y+(e.y-o.y)),c1(this,r,n,s.x,s.y),this.g("position",s,n.copy())}}e=!0}e&&this.g("location",o,t.copy())}}},category:{get:function(){return this.Tf},set:function(t){var e=this.Tf;if(e!==t){null!==this.svg&&(this.svg.remove(),this.Uc=!0);var n=this.diagram,o=this.data,r=null;if(null!==n&&null!==o&&!(this instanceof mt)){var s=n.model.undoManager;s.isEnabled&&!s.isUndoingRedoing&&(r=this.clone()).O.addAll(this.O)}this.Tf=t,this.g("category",e,t),null===n||null===o||this instanceof mt?this instanceof mt&&null!==(r=this.adornedPart)&&(null!==(t=r.Qf)&&t.remove(e),r.bh(this.category,this)):(s=n.model).undoManager.isUndoingRedoing||(this.ph()?(n.partManager.setLinkCategoryForData(o,t),null!==(n=n.partManager.findLinkTemplateForCategory(t))&&(an(n),null!==(n=n.copy())&&kd(this,n,e,t))):(null!==s&&s.jm(o,t),null!==(n=B1(n.partManager,o,t))&&(an(n),null===(n=n.copy())||n instanceof L||(o=this.location.copy(),kd(this,n,e,t),this.location.w()||(this.location=o)))),null!==r&&((e=this.clone()).O.addAll(this.O),this.g("self",r,e)))}}},self:{get:function(){return this},set:function(t){kd(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.G)},set:function(t){var e=0!=(1&this.G);e!==t&&(this.G^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.G)},set:function(t){var e=0!=(2&this.G);e!==t&&(this.G^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.G)},set:function(t){var e=0!=(4&this.G);e!==t&&(this.G^=4,this.g("textEditable",e,t),this.Wb())}},groupable:{get:function(){return 0!=(8&this.G)},set:function(t){var e=0!=(8&this.G);e!==t&&(this.G^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.G)},set:function(t){var e=0!=(16&this.G);e!==t&&(this.G^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.G)},set:function(t){var e=0!=(32&this.G);e!==t&&(this.G^=32,this.g("selectionAdorned",e,t),this.Wb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.G)},set:function(t){var e=0!=(64&this.G);if(e!==t){this.G^=64;var n=this.diagram;null!==n&&n.Ya(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.G)},set:function(t){var e=0!=(128&this.G);e!==t&&(this.G^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.G)},set:function(t){var e=0!=(256&this.G);e!==t&&(this.G^=256,this.g("selectable",e,t),this.Wb())}},reshapable:{get:function(){return 0!=(512&this.G)},set:function(t){var e=0!=(512&this.G);e!==t&&(this.G^=512,this.g("reshapable",e,t),this.Wb())}},resizable:{get:function(){return 0!=(1024&this.G)},set:function(t){var e=0!=(1024&this.G);e!==t&&(this.G^=1024,this.g("resizable",e,t),this.Wb())}},rotatable:{get:function(){return 0!=(2048&this.G)},set:function(t){var e=0!=(2048&this.G);e!==t&&(this.G^=2048,this.g("rotatable",e,t),this.Wb())}},isSelected:{get:function(){return 0!=(4096&this.G)},set:function(t){var e=0!=(4096&this.G);if(e!==t){var n=this.diagram;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.maxSelectionCount)){this.G^=4096;var o=!1;if(null!==n){o=n.skipsUndoManager,n.skipsUndoManager=!0;var r=n.selection;r.ka(),t?r.add(this):r.remove(this),r.freeze()}this.g("isSelected",e,t),this.Wb(),null!==(t=this.selectionChanged)&&t(this),null!==n&&(n.$b(),n.skipsUndoManager=o)}}}},isHighlighted:{get:function(){return 0!=(524288&this.G)},set:function(t){var e=0!=(524288&this.G);if(e!==t){this.G^=524288;var n=this.diagram;null!==n&&((n=n.highlighteds).ka(),t?n.add(this):n.remove(this),n.freeze()),this.g("isHighlighted",e,t),this.N(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.G)},set:function(t){var e=0!=(8192&this.G);e!==t&&(this.G^=8192,this.Uc=!0,this.g("isShadowed",e,t),this.N())}},isAnimated:{get:function(){return 0!=(262144&this.G)},set:function(t){var e=0!=(262144&this.G);e!==t&&(this.G^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return null!==this.P?this.P.oq:null},set:function(t){var e=this.highlightedChanged;e!==t&&(pi(this),this.P.oq=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return null!==this.P?this.P.vr:""},set:function(t){var e=this.selectionObjectName;e!==t&&(pi(this),this.P.vr=t,this.Ug=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return null!==this.P?this.P.tr:null},set:function(t){var e=this.selectionAdornmentTemplate;e!==t&&(pi(this),this.P.tr=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.Ug){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.fb(t),this.Ug=null!==t?t:this):this.Ug=this instanceof L&&null!==(t=this.path)?t:this}return this.Ug}},selectionChanged:{get:function(){return null!==this.P?this.P.ur:null},set:function(t){var e=this.selectionChanged;e!==t&&(pi(this),this.P.ur=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return null!==this.P?this.P.fr:null},set:function(t){var e=this.resizeAdornmentTemplate;e!==t&&(pi(this),this.P.fr=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return null!==this.P?this.P.hr:""},set:function(t){var e=this.resizeObjectName;e!==t&&(pi(this),this.P.hr=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},resizeCellSize:{get:function(){return null!==this.P?this.P.gr:ga},set:function(t){var e=this.resizeCellSize;e.D(t)||(t=t.J(),pi(this),this.P.gr=t,this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return null!==this.P?this.P.ir:null},set:function(t){var e=this.rotateAdornmentTemplate;e!==t&&(pi(this),this.P.ir=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return null!==this.P?this.P.jr:""},set:function(t){var e=this.rotateObjectName;e!==t&&(pi(this),this.P.jr=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},rotationSpot:{get:function(){return null!==this.P?this.P.lr:Oe},set:function(t){var e=this.rotationSpot;e.D(t)||(t=t.J(),pi(this),this.P.lr=t,this.g("rotationSpot",e,t))}},text:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(this.ec=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.Ah},set:function(t){if(this.Zc()){var e=this.Ah;if(e!==t){null===t||this!==t&&!t.Td(this)||(this===t&&q("Cannot make a Group a member of itself: "+this.toString()),q("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var n=this.diagram;if(null!==e?Jd(e,this):this instanceof rt&&null!==n&&n.ai.remove(this),this.Ah=t,null!==t?Yd(t,this):this instanceof rt&&null!==n&&n.ai.add(this),this.C(1),null!==n&&n.aa){var o=this.data,r=n.model;if(null!==o&&r.Xj()){var s=r.wa(null!==t?t.data:null);r.mp(o,s)}}if(null!==(o=this.containingGroupChanged)&&(r=!0,null!==n&&(r=n.aa,n.aa=!0),o(this,e,t),null!==n&&(n.aa=r)),this instanceof rt)for(ar(n=new E,this,!0,0,!0),n=n.iterator;n.next();)if((o=n.value)instanceof B)for(o=o.linksConnected;o.next();)Tl(o.value);if(this instanceof B){for(n=this.linksConnected;n.next();)Tl(n.value);null!==(n=this.labeledLink)&&Tl(n)}this.g("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Na(e,-1,t)}}else q("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return null!==this.P?this.P.Kp:null},set:function(t){var e=this.containingGroupChanged;e!==t&&(pi(this),this.P.Kp=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof B&&null!==this.labeledLink)}},layoutConditions:{get:function(){return null!==this.P?this.P.Cq:127},set:function(t){var e=this.layoutConditions;e!==t&&(pi(this),this.P.Cq=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return null!==this.P?this.P.Up:null},set:function(t){var e=this.dragComputation;e!==t&&(pi(this),this.P.Up=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return null!==this.P?this.P.zr:kp},set:function(t){var e=this.shadowOffset;e.D(t)||(t=t.J(),pi(this),this.P.zr=t,this.N(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return null!==this.P?this.P.yr:"gray"},set:function(t){var e=this.shadowColor;e!==t&&(pi(this),this.P.yr=t,this.N(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return null!==this.P?this.P.Vg:4},set:function(t){var e=this.shadowBlur;e!==t&&(pi(this),this.P.Vg=t,this.N(),this.g("shadowBlur",e,t))}}}),W.prototype.invalidateLayout=W.prototype.C,W.prototype.findCommonContainingGroup=W.prototype.px,W.prototype.isMemberOf=W.prototype.Td,W.prototype.findTopLevelPart=W.prototype.sz,W.prototype.findSubGraphLevel=W.prototype.oz,W.prototype.ensureBounds=W.prototype.Va,W.prototype.getDocumentBounds=W.prototype.mi,W.prototype.findObject=W.prototype.fb,W.prototype.moveTo=W.prototype.moveTo,W.prototype.invalidateAdornments=W.prototype.Wb,W.prototype.clearAdornments=W.prototype.Ej,W.prototype.removeAdornment=W.prototype.Jf,W.prototype.addAdornment=W.prototype.bh,W.prototype.findAdornment=W.prototype.Pj,W.prototype.updateTargetBindings=W.prototype.La;var y1=!1;function mt(t,e){void 0===t||t instanceof de||"string"==typeof t?W.call(this,t):(W.call(this),t&&(e=t)),this.G&=-257,this.Jg="Adornment",this.ue=null,this.Aw=0,this.Uw=!1,this.j=this.$a=null,e&&Object.assign(this,e)}function Ld(){this.nc=!1,this.Vr=this.gj=this.Eq=this.Dq=null,this.yp=qp,this.er=wh,this.Kr=this.ij=this.Nq=this.Mq=null}function B(t,e){void 0===t||t instanceof de||"string"==typeof t?W.call(this,t):(W.call(this),t&&(e=t)),this.U=13,this.Ba=null,this.jb=new H,this.wc=this.af=this.Yk=null,this.ci=!1,e&&Object.assign(this,e)}function Eo(t){null===t.Ba?t.Ba=new Ld:t.Ba.nc&&(t.Ba=t.Ba.copy())}function x1(t,e){null!==e&&(null===t.af&&(t.af=new E),t.af.add(e))}function P1(t,e,n,o){if(null===e||null===t.af)return null;for(var r=t.af.iterator;r.next();){var s=r.value;if(s.Ds===t&&s.cv===e&&s.Ox===n&&s.Px===o||s.Ds===e&&s.cv===t&&s.Ox===o&&s.Px===n)return s}return null}function D1(t,e){for(t=t.linksConnected;t.next();){var n=t.value;(n.fromPort===e||n.toPort===e)&&(wi(n.fromPort),wi(n.toPort),n.bb())}}function wi(t){if(null!==t){var e=t.Zn;null!==e&&e.Sl(),null===(e=(t=t.part).containingGroup)||t.isVisible()||wi(e.port)}}function S1(t,e,n,o){if(null!==e&&!n.has(e)){n.add(e);var r=!0,s=t.diagram;null!==s&&(r=s.isTreePathToChildren),e.linksConnected.each(function(l){l.isTreeLink?(r?l.fromNode===e:l.toNode===e)&&S1(t,r?l.toNode:l.fromNode,n,o):o.add(l)})}}function Th(t,e,n){wi(n);var o=t.jb.contains(e);if(o||t.jb.add(e),!o||e.fromNode===e.toNode){var r=t.linkConnected;if(null!==r){var s=!0,l=t.diagram;null!==l&&(s=l.aa,l.aa=!0),r(t,e,n),null!==l&&(l.aa=s)}}!o&&e.isTreeLink&&(n=e.fromNode,e=e.toNode,null!==n&&null!==e&&n!==e&&(o=!0,null!==(t=t.diagram)&&(o=t.isTreePathToChildren),s=o?n:e,(r=o?e:n).ci||(r.ci=s),!s.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(o?n===s&&(s.isTreeLeaf=!1):e===s&&(s.isTreeLeaf=!1))))}function Ch(t,e,n){wi(n);var o=t.jb.remove(e),r=null;if(o||e.toNode===e.fromNode){var s=t.linkDisconnected;if(r=t.diagram,null!==s){var l=!0;null!==r&&(l=r.aa,r.aa=!0),s(t,e,n),null!==r&&(r.aa=l)}}o&&e.isTreeLink&&(n=!0,null!==r&&(n=r.isTreePathToChildren),t=n?e.toNode:e.fromNode,e=n?e.fromNode:e.toNode,null!==t&&(t.ci=!1),null===e||e.isTreeLeaf||(0===e.jb.count?(e.ci=null,null!==r&&r.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):Cu(e)))}function Cu(t){if(t.ci=!1,0!==t.jb.count){var e=!0,n=t.diagram;if(null===n||!n.undoManager.isUndoingRedoing){for(null!==n&&(e=n.isTreePathToChildren),n=t.jb.iterator;n.next();){var o=n.value;if(o.isTreeLink)if(e){if(o.fromNode===t)return void(t.isTreeLeaf=!1)}else if(o.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function T1(t){null===t.wc?t.wc=new lt:t.wc.clear(),t.qm(t,function(e,n){C1(e,n)}),0===t.wc.count&&t.wc.add("",t)}function C1(t,e){var n=e.portId;null!==n&&null!==t.wc&&t.wc.add(n,e)}function bd(t,e,n){var o=e.portId;if(null!==o&&(null!==t.wc&&t.wc.remove(o),null!==(e=t.diagram)&&n)){for(n=null,t=t.findLinksConnected(o);t.next();)o=t.value,null===n&&(n=bt()),n.push(o);if(null!==n){for(t=0;t<n.length;t++)e.remove(n[t]);Nt(n)}}}function w1(t,e){return null===(e=e.pg())?0:1+w1(t,e)}function A1(t,e,n,o,r,s,l){if(1<o)for(var a=n?t.Mo():t.Sd();a.next();){var p=a.value;p.isTreeLink&&(null===(p=p.To(t))||p===t||e.contains(p)||(e.add(p),A1(p,e,n,o-1,r,s,l)))}else M1(t,e,n,r,s,l)}function M1(t,e,n,o,r,s){for(var l=r===t||t.isTreeExpanded,a=n?t.Mo():t.Sd(),p={};a.next();){var d=a.value;if(d.isTreeLink&&null!==(d=d.To(t))&&d!==t){var f=e.contains(d);if(f||e.add(d),l){var g=n?d.Oo():d.Po();p.uv=t,g.all(function(m){return function(v){return v===m.uv||!v.isTreeExpanded}}(p))&&o.Aj(d,r),d.oh(),d.Zb(!1)}d.isTreeExpanded&&(d.wasTreeExpanded=d.isTreeExpanded,f||M1(d,e,n,o,r,s))}p={uv:p.uv}}t.isTreeExpanded=!1}function Z1(t,e,n,o,r,s,l){for(var a=s!==t&&t.isTreeExpanded,p=n?t.Mo():t.Sd(),d={};p.next();){var f=p.value;if(f.isTreeLink&&(a||f.fd||f.bb(),null!==(f=f.To(t))&&f!==t&&!e.contains(f))){if(e.add(f),!a){f.Zb(!0),f.oh();var g=n?f.Oo():f.Po();d.vv=t,g.all(function(m){return function(v){return v===m.vv||!v.isTreeExpanded}}(d))&&r.Cj(f,s)}(2<o||f.wasTreeExpanded)&&(f.wasTreeExpanded=!1,Z1(f,e,n,o-1,r,s,l))}d={vv:d.vv}}t.isTreeExpanded=!0}W.className="Part",W.LayoutNone=0,W.LayoutAdded=1,W.LayoutRemoved=2,W.LayoutShown=4,W.LayoutHidden=8,W.LayoutNodeSized=16,W.LayoutGroupLayout=32,W.LayoutNodeReplaced=64,W.LayoutStandard=127,W.LayoutAll=16777215,At(mt,W),mt.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},mt.prototype.updateRelationshipsFromData=function(){},mt.prototype.Ul=function(t){var e=this.adornedObject,n=e?.part;if(n instanceof L&&e instanceof ut){e=n.path,n.Ul(t),t=e.geometry,e=(n=this.O.s).length;for(var o=0;o<e;o++){var r=n[o];r.isPanelMain&&r instanceof ut&&(r.ua=t)}}},mt.prototype.si=function(){var t=this.ue;return null===t||null===(t=t.part)||!_n(t)},mt.prototype.Zc=function(){return!1},mt.prototype.gk=function(t,e,n,o,r,s,l){if(t===ge&&"elements"===e){if(r instanceof ii)null===this.$a&&(this.$a=r);else if(r instanceof O){var a=r.Nl(function(p){return p instanceof ii});a instanceof ii&&null===this.$a&&(this.$a=a)}}else t===_e&&"elements"===e&&null!==this.$a&&(o===this.$a||o instanceof O&&this.$a.rg(o))&&(this.$a=null);W.prototype.gk.call(this,t,e,n,o,r,s,l)},mt.prototype.updateAdornments=function(){},mt.prototype.Lj=function(){},pt.Object.defineProperties(mt.prototype,{placeholder:{get:function(){return this.$a}},adornedObject:{get:function(){return this.ue},set:function(t){var e=this.adornedPart,n=null;null!==t&&(n=t.part),null===e||null!==t&&e===n||e.Jf(this.category),this.ue=t,null!==n&&n.bh(this.category,this)}},adornedPart:{get:function(){var t=this.ue;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}}),mt.className="Adornment",Ld.prototype.copy=function(){var t=new Ld;return t.Dq=this.Dq,t.Eq=this.Eq,t.gj=this.gj,t.Vr=this.Vr,t.yp=this.yp.J(),t.er=this.er,t.Mq=this.Mq,t.Nq=this.Nq,t.ij=this.ij,t.Kr=this.Kr,t},At(B,W),B.prototype.cloneProtected=function(t){W.prototype.cloneProtected.call(this,t),t.U=this.U,null!==this.Ba&&(t.Ba=this.Ba.nc?this.Ba:this.Ba.copy())},(x=B.prototype).Af=function(t){W.prototype.Af.call(this,t),t.Bd(),t.af=this.af,t.wc=null},x.th=function(){W.prototype.th.call(this),null!==this.Ba&&(this.Ba.nc=!0)},x.Lz=function(t,e,n){null==e&&(e=""),null==n&&(n=""),null!==(t=P1(this,t,e,n))&&t.Sl()},x.gk=function(t,e,n,o,r,s,l){(t===ge&&"elements"===e||t===_e&&"elements"===e)&&(this.wc=null),W.prototype.gk.call(this,t,e,n,o,r,s,l)},x.Bd=function(t){for(var e=this.linksConnected;e.next();){var n=e.value;void 0!==t&&t.contains(n)||(wi(n.fromPort),wi(n.toPort),n.bb())}},x.si=function(){return!0},B.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.Co(this.avoidableMargin),t},B.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},B.prototype.isVisible=function(){if(!W.prototype.isVisible.call(this))return!1;var t=!0,e=ds,n=this.diagram;if(null!==n&&(t=n.isTreePathToChildren,e=n.treeCollapsePolicy),e===ds){if(null!==(t=this.pg())&&!t.isTreeExpanded)return!1}else if(e===Bc){if(0<(t=t?this.Oo():this.Po()).count&&t.all(function(o){return!o.isTreeExpanded}))return!1}else if(e===Qc&&0<(t=t?this.Oo():this.Po()).count&&t.any(function(o){return!o.isTreeExpanded}))return!1;return null===(t=this.labeledLink)||t.isVisible()},B.prototype.Zb=function(t){W.prototype.Zb.call(this,t);for(var e=this.linksConnected;e.next();){var n=e.value;if(t&&null!==this.containingGroup){var o=n.To(this);null===o||o.Td(this.containingGroup)||n.bb()}n.Zb(t)}},B.prototype.qx=function(){var t=new E,e=new E;return S1(this,this,t,e),e.iterator},B.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.jb.iterator;var e=new Te(this.jb),n=this;return e.predicate=function(o){return o.fromNode===n&&o.fromPortId===t||o.toNode===n&&o.toPortId===t},e},(x=B.prototype).Mo=function(t){void 0===t&&(t=null);var e=new Te(this.jb),n=this;return e.predicate=function(o){return o.fromNode===n&&(null===t||o.fromPortId===t)},e},x.Sd=function(t){void 0===t&&(t=null);var e=new Te(this.jb),n=this;return e.predicate=function(o){return o.toNode===n&&(null===t||o.toPortId===t)},e},x.Mu=function(t){void 0===t&&(t=null);for(var e=null,n=null,o=this.jb.iterator;o.next();){var r=o.value;r.fromNode===this?(null===t||r.fromPortId===t)&&(r=r.toNode,null!==e?e.add(r):null!==n&&n!==r?((e=new E).add(n),e.add(r)):n=r):r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==n&&n!==r?((e=new E).add(n),e.add(r)):n=r)}return null!==e?e.iterator:null!==n?new Se(n):dn},x.Po=function(t){void 0===t&&(t=null);for(var e=null,n=null,o=this.jb.iterator;o.next();){var r=o.value;r.fromNode!==this||null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==n&&n!==r?((e=new E).add(n),e.add(r)):n=r)}return null!==e?e.iterator:null!==n?new Se(n):dn},x.Oo=function(t){void 0===t&&(t=null);for(var e=null,n=null,o=this.jb.iterator;o.next();){var r=o.value;r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==n&&n!==r?((e=new E).add(n),e.add(r)):n=r)}return null!==e?e.iterator:null!==n?new Se(n):dn},x.jz=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=new Te(this.jb),r=this;return o.predicate=function(s){return!((s.fromNode!==r||s.toNode!==t||null!==e&&s.fromPortId!==e||null!==n&&s.toPortId!==n)&&(s.fromNode!==t||s.toNode!==r||null!==n&&s.fromPortId!==n||null!==e&&s.toPortId!==e))},o},x.kz=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=new Te(this.jb),r=this;return o.predicate=function(s){return!(s.fromNode!==r||s.toNode!==t||null!==e&&s.fromPortId!==e||null!==n&&s.toPortId!==n)},o},B.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(x=B.prototype).Vo=function(t){W.prototype.Vo.call(this,t),t||(Cu(this),null!==(t=this.Yk)&&k1(t,this))},x.Wo=function(t){W.prototype.Wo.call(this,t),t||null!==(t=this.Yk)&&null!==t.wd&&(t.wd.remove(this),t.v())},x.Lj=function(){if(0<this.jb.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,n=this.jb.copy().iterator;n.next();){var o=n.value;e?t.remove(o):(o.fromNode===this&&(o.fromNode=null),o.toNode===this&&(o.toNode=null))}}this.labeledLink=null,W.prototype.Lj.call(this)},x.ns=function(t){if(null===this.wc){if(""===t&&!1===this.Te)return this;T1(this)}var e=this.wc.I(t);return null!==e||""!==t&&null!==(e=this.wc.I(""))?e:this},x.Nz=function(t){if(null===t||t===this)return!1;var e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),n=this,e)for(;n!==t;){e=null;for(var o=n.jb.iterator;o.next();){var r=o.value;if(r.isTreeLink&&(e=r.fromNode)!==n&&e!==this)break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,o=n.jb.iterator;o.next()&&(!(r=o.value).isTreeLink||(e=r.toNode)===n||e===this););if(e===this||null===e||e===n)return!1;n=e}return!0},x.xz=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var n=e.jb.iterator;n.next();){var o=n.value;if(o.isTreeLink&&(t=o.fromNode)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.jb.iterator;n.next()&&(!(o=n.value).isTreeLink||(t=o.toNode)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},x.gz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Sh(e,!0),e=e.pg();var n=null;for(e=t;null!==e;){if(1048576&e.G){n=e;break}e=e.pg()}for(e=this;null!==e;)Sh(e,!1),e=e.pg();return n},x.kh=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.jb.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},x.pg=function(){var t=this.ci;if(null===t)return null;if(t instanceof B)return t;t=null===(t=this.diagram)||t.isTreePathToChildren;for(var e=this.jb.iterator;e.next();){var n=e.value;if(n.isTreeLink&&(n=t?n.fromNode:n.toNode)!==this)return this.ci=n}return this.ci=null},x.vz=function(){var e=new E;return function t(n,o){o.add(n);var r=n.kh();null!==r&&(o.add(r),null!==(n=n.pg())&&t(n,o))}(this,e),e},x.uz=function(){return w1(this,this)},x.Qo=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new Te(this.jb);var n=this;return e.predicate=t?function(o){return!(!o.isTreeLink||o.fromNode!==n)}:function(o){return!(!o.isTreeLink||o.toNode!==n)},e},x.Ou=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var n=e=null,o=this.jb.iterator;if(t)for(;o.next();)(t=o.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==n&&n!==t?((e=new H).add(n),e.add(t)):n=t);else for(;o.next();)(t=o.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==n&&n!==t?((e=new H).add(n),e.add(t)):n=t);return null!==e?e.iterator:null!==n?new Se(n):dn},x.wz=function(t){void 0===t&&(t=1/0);var e=new E;return ar(e,this,!1,t,!0),e},B.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Ue){e.Ue=!0;var n=new E;n.add(this),A1(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ds),e.Ue=!1}},B.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Ue){e.Ue=!0;var n=new E;n.add(this),Z1(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ds),e.Ue=!1}},pt.Object.defineProperties(B.prototype,{portSpreading:{get:function(){return null!==this.Ba?this.Ba.er:wh},set:function(t){var e=this.portSpreading;e!==t&&(Eo(this),this.Ba.er=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.Bd())}},avoidable:{get:function(){return 0!=(8&this.U)},set:function(t){var e=0!=(8&this.U);if(e!==t){this.U^=8;var n=this.diagram;null!==n&&Jc(n,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return null!==this.Ba?this.Ba.yp:qp},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.avoidableMargin;if(!e.D(t)){t=t.J(),Eo(this),this.Ba.yp=t;var n=this.diagram;null!==n&&Jc(n,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.jb.iterator}},linkConnected:{get:function(){return null!==this.Ba?this.Ba.Dq:null},set:function(t){var e=this.linkConnected;e!==t&&(Eo(this),this.Ba.Dq=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return null!==this.Ba?this.Ba.Eq:null},set:function(t){var e=this.linkDisconnected;e!==t&&(Eo(this),this.Ba.Eq=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return null!==this.Ba?this.Ba.gj:null},set:function(t){var e=this.linkValidation;e!==t&&(Eo(this),this.Ba.gj=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Yk}},labeledLink:{get:function(){return this.Yk},set:function(t){var e=this.Yk;if(e!==t){var n=this.diagram,o=this.data;if(null!==e){if(null!==e.wd&&(e.wd.remove(this),e.v()),null!==n&&null!==o&&!n.undoManager.isUndoingRedoing){var r=e.data,s=n.model;if(null!==r&&s.ri()){var l=s.wa(o);void 0!==l&&s.Qx(r,l)}}this.containingGroup=null}this.Yk=t,null!==t&&(k1(t,this),null===n||null===o||n.undoManager.isUndoingRedoing||(n=n.model,null!==(r=t.data)&&n.ri()&&void 0!==(o=n.wa(o))&&n.Bu(r,o)),this.containingGroup=t.containingGroup),ul(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.ns("")}},ports:{get:function(){return null===this.wc&&T1(this),this.wc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.U)},set:function(t){var e=0!=(1&this.U);if(e!==t){this.U^=1;var n=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var o=!0;null!==n&&(o=n.aa,n.aa=!0),e(this),null!==n&&(n.aa=o)}null!==n&&n.undoManager.isUndoingRedoing?this.Zb(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.U)},set:function(t){var e=0!=(2&this.U);e!==t&&(this.U^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return null!==this.Ba?this.Ba.Vr:null},set:function(t){var e=this.treeExpandedChanged;e!==t&&(Eo(this),this.Ba.Vr=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.U)},set:function(t){var e=0!=(4&this.U);e!==t&&(this.U^=4,this.g("isTreeLeaf",e,t))}}}),B.prototype.expandTree=B.prototype.expandTree,B.prototype.collapseTree=B.prototype.collapseTree,B.prototype.findTreeParts=B.prototype.wz,B.prototype.findTreeChildrenNodes=B.prototype.Ou,B.prototype.findTreeChildrenLinks=B.prototype.Qo,B.prototype.findTreeLevel=B.prototype.uz,B.prototype.findTreeParentChain=B.prototype.vz,B.prototype.findTreeParentNode=B.prototype.pg,B.prototype.findTreeParentLink=B.prototype.kh,B.prototype.findCommonTreeParent=B.prototype.gz,B.prototype.findTreeRoot=B.prototype.xz,B.prototype.isInTreeOf=B.prototype.Nz,B.prototype.findPort=B.prototype.ns,B.prototype.findLinksTo=B.prototype.kz,B.prototype.findLinksBetween=B.prototype.jz,B.prototype.findNodesInto=B.prototype.Oo,B.prototype.findNodesOutOf=B.prototype.Po,B.prototype.findNodesConnected=B.prototype.Mu,B.prototype.findLinksInto=B.prototype.Sd,B.prototype.findLinksOutOf=B.prototype.Mo,B.prototype.findExternalTreeLinksConnected=B.prototype.qx,B.prototype.invalidateConnectedLinks=B.prototype.Bd,B.prototype.invalidateLinkBundle=B.prototype.Lz;var l2=new Q(B,"SpreadingNone",10),wh=new Q(B,"SpreadingEvenly",11),qd=new Q(B,"SpreadingPacked",12);function rt(t,e){void 0===t||t instanceof de||"string"==typeof t?B.call(this,t):(B.call(this),t&&(e=t)),this.U|=4608,this.Gn=new E,this.$a=null,this.Sc=new Yt,this.Sc.group=this,this.gl=new E,this.tb=this.$p=null,e&&Object.assign(this,e)}function Yd(t,e){if(t.Gn.add(e)){e instanceof rt&&t.gl.add(e);var n=t.memberAdded;if(null!==n){var o=!0,r=t.diagram;null!==r&&(o=r.aa,r.aa=!0),n(t,e),null!==r&&(r.aa=o)}t.isVisible()&&t.isSubGraphExpanded||e.Zb(!1)}e instanceof L&&!t.computesBoundsIncludingLinks||(null===(e=t.$a)&&(e=t),e.v())}function Jd(t,e){if(t.Gn.remove(e)){e instanceof rt&&t.gl.remove(e);var n=t.memberRemoved;if(null!==n){var o=!0,r=t.diagram;null!==r&&(o=r.aa,r.aa=!0),n(t,e),null!==r&&(r.aa=o)}t.isVisible()&&t.isSubGraphExpanded||e.Zb(!0)}e instanceof L&&!t.computesBoundsIncludingLinks||(null===(e=t.$a)&&(e=t),e.v())}function j1(t,e,n,o){for(var r=t.memberParts;r.next();){var s=r.value;if(s.Zb(!1),s instanceof rt&&s.isSubGraphExpanded&&(s.wasSubGraphExpanded=s.isSubGraphExpanded,j1(s,e,n,o)),s instanceof B)s.Bd(e),n.Aj(s,o);else if(s instanceof L)for(s=s.labelNodes;s.next();)s.value.Bd(e)}t.isSubGraphExpanded=!1}function N1(t,e,n,o){for(var r=t.memberParts;r.next();){var s=r.value;if(s.Zb(!0),s instanceof rt&&s.wasSubGraphExpanded&&(s.wasSubGraphExpanded=!1,N1(s,e,n,o)),s instanceof B)s.Bd(e),n.Cj(s,o);else if(s instanceof L)for(s=s.labelNodes;s.next();)s.value.Bd(e)}t.isSubGraphExpanded=!0}function ii(t){X.call(this),this.yb=bs,this.ko=new U(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}function L(t){W.call(this,O.Link),this.Qa=8,this.ef=null,this.ff="",this.uf=this.gn=null,this.vf="",this.uo=null,this.qk=ni,this.Om=0,this.Qm=ni,this.Rm=NaN,this.qj=Gd,this.po=.5,this.wd=null,this.Nb=(new H).freeze(),this.Tg=this.Mg=null,this.ml=new U,this.ua=new Y,this.u=this.o=this.Sf=this.Wf=null,this.su=new w,this.cq=this.Mw=this.Lw=null,this.vt=NaN,this.ba=null,this.j=[],t&&Object.assign(this,t)}function Tl(t){var o,e=t.fromNode,n=t.toNode;if(o=null!==e?null!==n?e.px(n):e.containingGroup:null!==n?n.containingGroup:null,(n=t.Ah)!==(e=o)){null!==n&&Jd(n,t),t.Ah=e,null!==e&&Yd(e,t);var r=t.containingGroupChanged;if(null!==r){var s=!0,l=t.diagram;null!==l&&(s=l.aa,l.aa=!0),r(t,n,e),null!==l&&(l.aa=s)}!t.fd||t.Lw!==n&&t.Mw!==n||t.bb()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=o}function k1(t,e){null===t.wd&&(t.wd=new E),t.wd.add(e),t.v()}function Bo(t,e,n){if(0!==e||0!==n)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.offset(e,n),t.defaultToPoint&&t.defaultToPoint.offset(e,n);else{for(var o=t.fd,r=new H,s=t.Nb.iterator;s.next();){var l=s.value;r.add(new w(l.x+e,l.y+n).freeze())}r.freeze(),s=t.Nb,t.Nb=r,l=t.diagram,isNaN(e)||isNaN(n)||null!==l&&l.animationManager.zb?t.v():(t.ke.h(t.ke.x+e,t.ke.y+n),t.pa.h(t.pa.x+e,t.pa.y+n),ul(t)),o?Ah(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==l&&l.animationManager.zb&&vc(l.animationManager,t,r),t.g("points",s,r)}}function Ah(t){0===t.Nb.count?t.fd=!1:(t.fd=!0,t.cq=null,t.vt=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Nh(t,!1))}function Rd(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Mh(t,e){var n=e.Zn;return null===n&&((n=new Ts).port=e,n.node=e.part,e.Zn=n),Y1(n,t)}function Cl(t){return t===Fe||.5===t.x&&.5===t.y}function Zh(t){return.5===t.x&&.5===t.y?t:Mt}function Ed(t){if(null===t.diagram||!t.isAvoiding||!rg(t.diagram))return!1;var e=t.points.s,n=e.length;if(4>n)return!1;t=qc(t.diagram,!0,t.containingGroup,null);for(var o=1;o<n-2;o++){var r=e[o],s=e[o+1];if(!t.Yj(Math.min(r.x,s.x),Math.min(r.y,s.y),Math.abs(r.x-s.x),Math.abs(r.y-s.y)))return!0}return!1}function Bd(t,e,n,o,r,s,l){var a=e.Ho,p=e.Go,d=so(e,n,o),f=n,g=o;for(0===r?f+=a:90===r?g+=p:180===r?f-=a:g-=p,r!==l&&d>Yr&&so(e,f,g)!==d-1&&(so(e,n-a,o)===d-1?(r=180,f=n-a,g=o):so(e,n+a,o)===d-1?(r=0,f=n+a,g=o):so(e,n,o-p)===d-1?(r=270,f=n,g=o-p):so(e,n,o+p)===d-1&&(r=90,f=n,g=o+p));d>Yr&&so(e,f,g)===d-1;)n=f,o=g,0===r?f+=a:90===r?g+=p:180===r?f-=a:g-=p,--d;s?d>Yr&&(180===r||0===r?n=Math.floor(n/a)*a+a/2:(90===r||270===r)&&(o=Math.floor(o/p)*p+p/2)):(n=Math.floor(n/a)*a+a/2,o=Math.floor(o/p)*p+p/2),d>Yr&&(s=r,l=n,f=o,0===r?(s=90,f+=p):90===r?(s=180,l-=a):180===r?(s=270,f-=p):270===r&&(s=0,l+=a),so(e,l,f)===d-1?Bd(t,e,l,f,s,!1,s):(l=n,f=o,0===r?(s=270,f-=p):90===r?(s=0,l+=a):180===r?(s=90,f+=p):270===r&&(s=180,l-=a),so(e,l,f)===d-1&&Bd(t,e,l,f,s,!1,s))),t.yf(n,o)}function jh(t,e,n,o){return t=n-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),e=o-e,isNaN(e)||e===1/0||e===-1/0?NaN:(0>e&&(e=-e),N.$(t,0)?e:N.$(e,0)?t:Math.sqrt(t*t+e*e)))}function xs(t,e,n,o){var r=t.pointsCount;if(2>r)return e;if(n){var s=t.i(1);if(0===(o=jh(e.x,e.y,n=s.x-o.x,s=s.y-o.y)))return e;r=2===r?.5*o:o,(t=t.computeShortLength(!0))>r&&(t=r),r=t*(s-e.y)/o,e.x+=t*(n-e.x)/o,e.y+=r}else{if(s=t.i(r-2),0===(o=jh(e.x,e.y,n=s.x-o.x,s=s.y-o.y)))return e;r=2===r?.5*o:o,(t=t.computeShortLength(!1))>r&&(t=r),r=t*(e.y-s)/o,e.x-=t*(e.x-n)/o,e.y-=r}return e}function Qd(t,e,n,o){for(var r=t.pointsCount,s=e;N.$(e.x,s.x)&&N.$(e.y,s.y);){if(n>=r)return r-1;s=t.i(n++)}if(!N.$(e.x,s.x)&&!N.$(e.y,s.y))return n-1;for(var l=s;N.$(e.x,s.x)&&N.$(s.x,l.x)&&(!o||(e.y>=s.y?s.y>=l.y:s.y<=l.y))||N.$(e.y,s.y)&&N.$(s.y,l.y)&&(!o||(e.x>=s.x?s.x>=l.x:s.x<=l.x));){if(n>=r)return r-1;l=t.i(n++)}return n-2}function Ps(t,e,n,o,r,s,l){if(!l&&qr(t)){var a=(l=t.computeJumpLength())/2,p=[],d=0;if(t.isVisible()&&(d=function u2(t,e,n,o){var r=t.diagram;if(null===r||e.D(n))return 0;for(r=r.layers;r.next();){var s=r.value;if(null!==s&&s.visible)for(var l=(s=s.Pa.s).length,a=0;a<l;a++){var p=s[a];if(p instanceof L){if(p===t)return 0<o.length&&o.sort(function(f,g){return f-g}),o.length;if(p.isVisible()&&qr(p)){var d=p.routeBounds;d.w()&&t.routeBounds.Yc(d)&&!t.usesSamePort(p)&&null!==(d=p.path)&&d.Ed()&&a2(e,n,o,p)}}}}return 0<o.length&&o.sort(function(f,g){return f-g}),o.length}(t,r,s,p)),0<d)if(N.B(r.y,s.y))if(r.x<s.x)for(var f=0;f<d;){var g=Math.max(r.x,Math.min(p[f++]-a,s.x-l));e.lineTo(g+n,s.y+o);for(var m=g+n,v=Math.min(g+l,s.x);f<d&&(g=p[f])<v+l;)f++,v=Math.min(g+a,s.x);g=s.y-l+o,v+=n;var y=s.y+o;t.curve===Qo?Sl(e,v,y,!1):Jo(e,m,g,v,g,v,y)}else for(--d;0<=d;){for(f=Math.min(r.x,Math.max(p[d--]+a,s.x+l)),e.lineTo(f+n,s.y+o),m=f+n,g=Math.max(f-l,s.x);0<=d&&(f=p[d])>g-l;)d--,g=Math.max(f-a,s.x);f=s.y-l+o,g+=n,v=s.y+o,t.curve===Qo?Sl(e,g,v,!1):Jo(e,m,f,g,f,g,v)}else if(N.B(r.x,s.x))if(r.y<s.y)for(f=0;f<d;){for(g=Math.max(r.y,Math.min(p[f++]-a,s.y-l)),e.lineTo(s.x+n,g+o),m=g+o,g=Math.min(g+l,s.y);f<d&&(v=p[f])<g+l;)f++,g=Math.min(v+a,s.y);v=s.x-l+n,y=s.x+n,g+=o,t.curve===Qo?Sl(e,y,g,!1):Jo(e,v,m,v,g,y,g)}else for(--d;0<=d;){for(f=Math.min(r.y,Math.max(p[d--]+a,s.y+l)),e.lineTo(s.x+n,f+o),m=f+o,f=Math.max(f-l,s.y);0<=d&&(g=p[d])>f-l;)d--,f=Math.max(g-a,s.y);g=s.x-l+n,v=s.x+n,f+=o,t.curve===Qo?Sl(e,v,f,!1):Jo(e,g,m,g,f,v,f)}}e.lineTo(s.x+n,s.y+o)}function a2(t,e,n,o){for(var r=N.B(t.y,e.y),s=o.pointsCount,l=o.i(0),a=w.alloc(),p=1;p<s;p++){var d=o.i(p);if(p<s-1){var f=o.i(p+1);if(l.y===d.y&&d.y===f.y){if(d.x>l.x&&f.x>=d.x||d.x<l.x&&f.x<=d.x)continue}else if(l.x===d.x&&d.x===f.x&&(d.y>l.y&&f.y>=d.y||d.y<l.y&&f.y<=d.y))continue}t:{var g=t.y,m=e.x,v=e.y,y=l.x;l=l.y;var P=d.x,T=d.y;if(N.B(f=t.x,m)){if(!N.B(g,v)&&N.B(l,T)&&Math.min(g,v)<l&&Math.max(g,v)>l&&Math.min(y,P)<f&&Math.max(y,P)>f&&!N.B(y,P)){a.x=f,a.y=l,f=!0;break t}}else if(N.B(g,v)&&N.B(y,P)&&Math.min(f,m)<y&&Math.max(f,m)>y&&Math.min(l,T)<g&&Math.max(l,T)>g&&!N.B(l,T)){a.x=y,a.y=g,f=!0;break t}a.x=0,a.y=0,f=!1}f&&n.push(r?a.x:a.y),l=d}w.free(a)}function qr(t){return(t=t.curve)===wl||t===Qo}function Nh(t,e){(e||qr(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Eh.contains(t)||0===t.ml.width&&0===t.ml.height||e.Eh.add(t,t.ml.copy()))}function I1(t,e,n){if(null!==e&&e.lk&&e.fd&&qr(e)){var o=e.routeBounds;o.w()&&(t.routeBounds.Yc(o)||n.Yc(o))&&(t.usesSamePort(e)||e.qc())}}function wu(t){var e=t.ef;if(null!==e){var n=t.uf;if(null!==n&&isNaN(t.curviness)){for(var o=t.ff,r=t.vf,s=t=null,l=e.jb.s,a=l.length,p=0;p<a;p++){var d=l[p];(d.ef===e&&d.ff===o&&d.uf===n&&d.vf===r||d.ef===n&&d.ff===r&&d.uf===e&&d.vf===o)&&(null===s?s=d:(null===t&&(t=[]).push(s),t.push(d)))}if(null!==t){for(null===(s=P1(e,n,o,r))&&(x1(e,s=new Oh(e,o,n,r)),x1(n,s)),s.links=t,e=0;e<t.length;e++)t[e].Sf=s;s.Sl()}}}}function Au(t){var e=t.Sf;null!==e&&isNaN(t.curviness)&&(t.Sf=null,0<=(t=e.links.indexOf(t))&&(es(e.links,t),e.Sl()))}B.className="Node",B.SpreadingNone=l2,B.SpreadingEvenly=wh,B.SpreadingPacked=qd,At(rt,B),rt.prototype.cloneProtected=function(t){B.prototype.cloneProtected.call(this,t),this.U=-32769&this.U;var e=t.Nl(function(n){return n instanceof ii});t.$a=e instanceof ii?e:null,null!==this.Sc?(t.Sc=this.Sc.copy(),t.Sc.group=t):(null!==t.Sc&&(t.Sc.group=null),t.Sc=null),null!==this.tb&&(t.tb=this.tb.copy())},(x=rt.prototype).Af=function(t){B.prototype.Af.call(this,t);var e=t.Rj();for(t=t.memberParts;t.next();){var n=t.value;if(n.v(),n.C(8),n.Ej(),n instanceof B)n.Bd(e);else if(n instanceof L)for(n=n.labelNodes;n.next();)n.value.Bd(e)}},x.gk=function(t,e,n,o,r,s,l){if(t===ge&&"elements"===e){if(r instanceof ii)null===this.$a?this.$a=r:this.$a!==r&&q("Cannot insert a second Placeholder into the visual tree of a Group.");else if(r instanceof O){var a=r.Nl(function(p){return p instanceof ii});a instanceof ii&&(null===this.$a?this.$a=a:this.$a!==a&&q("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===_e&&"elements"===e&&null!==this.$a&&(o===this.$a||o instanceof O&&this.$a.rg(o))&&(this.$a=null);B.prototype.gk.call(this,t,e,n,o,r,s,l)},x.Xl=function(t,e){B.prototype.Xl.call(this,t,e),this.isClipping&&this.type!==O.Spot&&this.isSubGraphExpanded&&((t=this.resizeObject)instanceof O&&(t=t.Pb()),null===this.tb&&(this.tb=new U),t.mi(this.tb),t instanceof ut&&this.tb.Bc(-t.strokeWidth,-t.strokeWidth))},x.eh=function(t,e,n,o){this.nf=this.$a,B.prototype.eh.call(this,t,e,n,o)},x.Va=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(e){!t.computesBoundsIncludingLinks&&e instanceof L||e.Va()}),B.prototype.Va.call(this)},x.si=function(){if(!B.prototype.si.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof B){if(e.isVisible()&&_n(e))return!1}else if(e instanceof L&&e.isVisible()&&_n(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},x.Lj=function(){if(0<this.Gn.count){var t=this.diagram;if(null!==t)for(var e=this.Gn.copy().iterator;e.next();)t.remove(e.value)}B.prototype.Lj.call(this)},rt.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Hc(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},rt.prototype.addMembers=function(t,e){var n=this.diagram;if(null===n)return!1;n=n.commandHandler;var o=!0;for(t=Hc(t).iterator;t.next();){var r=t.value;!e||n.isValidMember(this,r)?r.containingGroup=this:o=!1}return o},rt.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null===t||!t.allowUngroup||null!==(t=t.diagram)&&!t.allowUngroup)},(x=rt.prototype).Bd=function(t){var e=0!=(65536&this.U);if(B.prototype.Bd.call(this,t),!e)for(!(65536&this.U)&&(this.U=65536^this.U),e=this.Lu();e.next();){var n=e.value;if(void 0===t||!t.contains(n)){var o=n.fromNode;(null!==o&&o!==this&&o.Td(this)&&!o.isVisible()||null!==(o=n.toNode)&&o!==this&&o.Td(this)&&!o.isVisible())&&(wi(n.fromPort),wi(n.toPort),n.bb())}}},x.Lu=function(){var t=null!==this.diagram&&this.diagram.Pw;if(t&&null!==this.$p)return this.$p.iterator;var e=this.Rj();e.add(this);for(var n=new E,o=e.iterator;o.next();){var r=o.value;if(r instanceof B)for(r=r.linksConnected;r.next();){var s=r.value;e.contains(s)||n.add(s)}}return t&&(this.$p=n),n.iterator},x.iz=function(){var t=this.Rj();t.add(this);for(var e=new E,n=t.iterator;n.next();){var o=n.value;if(o instanceof B)for(o=o.linksConnected;o.next();){var r=o.value,s=r.fromNode;null===s||t.contains(s)&&s!==this||e.add(s),null===(r=r.toNode)||t.contains(r)&&r!==this||e.add(r)}}return e.iterator},x.hz=function(){var e=new E;return function t(n,o){null!==n&&(o.add(n),t(n.containingGroup,o))}(this,e),e},x.Rj=function(){var t=new E;return ar(t,this,!0,0,!0),t.remove(this),t},x.Zb=function(t){B.prototype.Zb.call(this,t);for(var e=this.memberParts;e.next();)e.value.Zb(t)},rt.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Ue||(t.Ue=!0,j1(this,this.Rj(),t,this),t.Ue=!1)},rt.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Ue||(t.Ue=!0,N1(this,this.Rj(),t,this),t.Ue=!1)},rt.prototype.move=function(t,e){void 0===e&&(e=!1);var n=e?this.location:this.position,o=n.x;n=n.y;var r=t.x,s=t.y;if(!(o===r||isNaN(o)&&isNaN(r))||!(n===s||isNaN(n)&&isNaN(s))){for(o=r-(isNaN(o)?0:o),n=s-(isNaN(n)?0:n),s=w.alloc(),B.prototype.move.call(this,t,e),t=new E,e=this.Rj().iterator;e.next();)(r=e.value)instanceof L&&(r.suspendsRouting&&t.add(r),r.fd||r.fromNode!==this&&r.toNode!==this)&&(r.suspendsRouting=!0);for(e.reset();e.next();)if(!((r=e.value).ph()||r instanceof B&&r.isLinkLabel)){var l=r.position,a=r.location;l.w()?(s.x=l.x+o,s.y=l.y+n,r.position=s):a.w()&&(s.x=a.x+o,s.y=a.y+n,r.location=s)}for(e.reset();e.next();)(r=e.value)instanceof L&&(r.suspendsRouting=t.contains(r),r.fd||r.fromNode!==this&&r.toNode!==this)&&(s.x=(l=r.position).x+o,s.y=l.y+n,s.w()?r.move(s):r.bb(),Ed(r)&&r.bb());w.free(s)}},pt.Object.defineProperties(rt.prototype,{placeholder:{get:function(){return this.$a}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.U)},set:function(t){var e=0!=(2048&this.U);e!==t&&(this.U^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.U)},set:function(t){var e=0!=(4096&this.U);e!==t&&(this.U^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.U)},set:function(t){var e=0!=(8192&this.U);e!==t&&(this.U^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.U)},set:function(t){var e=0!=(16384&this.U);e!==t&&(this.U^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Gn.iterator}},layout:{get:function(){return this.Sc},set:function(t){var e=this.Sc;if(e!==t){null!==t&&null!==t.diagram&&t.diagram.layout===t&&q("A layout cannot be both the Diagram.layout and a Group.layout: "+t),null!==e&&(e.diagram=null,e.group=null),this.Sc=t;var n=this.diagram;null!==t&&(t.diagram=n,t.group=this),null!==n&&(n.xh=!0),this.g("layout",e,t),null!==n&&n.$b()}}},memberAdded:{get:function(){return null!==this.Ba?this.Ba.Mq:null},set:function(t){var e=this.memberAdded;e!==t&&(Eo(this),this.Ba.Mq=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return null!==this.Ba?this.Ba.Nq:null},set:function(t){var e=this.memberRemoved;e!==t&&(Eo(this),this.Ba.Nq=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return null!==this.Ba?this.Ba.ij:null},set:function(t){var e=this.memberValidation;e!==t&&(Eo(this),this.Ba.ij=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.U)},set:function(t){var e=0!=(256&this.U);e!==t&&(this.U^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.U)},set:function(t){var e=0!=(512&this.U);if(e!==t){this.U^=512;var n=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var o=!0;null!==n&&(o=n.aa,n.aa=!0),e(this),null!==n&&(n.aa=o)}null!==n&&n.undoManager.isUndoingRedoing?(null!==this.$a&&this.$a.v(),this.memberParts.each(function(r){r.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.U)},set:function(t){var e=0!=(1024&this.U);e!==t&&(this.U^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return null!==this.Ba?this.Ba.Kr:null},set:function(t){var e=this.subGraphExpandedChanged;e!==t&&(Eo(this),this.Ba.Kr=t,this.g("subGraphExpandedChanged",e,t))}},rh:{get:function(){return 0!=(32768&this.U)},set:function(t){0!=(32768&this.U)!==t&&(this.U^=32768)}}}),rt.prototype.expandSubGraph=rt.prototype.expandSubGraph,rt.prototype.collapseSubGraph=rt.prototype.collapseSubGraph,rt.prototype.findSubGraphParts=rt.prototype.Rj,rt.prototype.findContainingGroupChain=rt.prototype.hz,rt.prototype.findExternalNodesConnected=rt.prototype.iz,rt.prototype.findExternalLinksConnected=rt.prototype.Lu,rt.prototype.ensureBounds=rt.prototype.Va,rt.className="Group",At(ii,X),ii.prototype.cloneProtected=function(t){X.prototype.cloneProtected.call(this,t),t.yb=this.yb.J(),t.ko=this.ko.copy()},ii.prototype.gh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return An(0,0,e.width,e.height,t.x,t.y)},ii.prototype.Wl=function(){var t=this.part;if(null!==t&&(t instanceof rt||t instanceof mt)||q("Placeholder is not inside a Group or Adornment."),t instanceof rt){var e=this.computeBorder(this.ko),n=this.minSize,o=this.dc;for(vo(o,(isFinite(n.width)?Math.max(n.width,e.width):e.width)||0,(isFinite(n.height)?Math.max(n.height,e.height):e.height)||0),this.Ge(0,0,o.width,o.height),o=t.memberParts,n=!1;o.next();)if(o.value.isVisible()){n=!0;break}o=t.diagram,!n||null===o||o.animationManager.Xu(t)||isNaN(e.x)||isNaN(e.y)||((n=w.alloc()).xi(e,t.locationSpot),n.D(t.location)||(t.location=n),w.free(n))}else{e=this.dc,o=(n=this.yb).left+n.right;var r=n.top+n.bottom,s=t.adornedObject;t.angle=s.li();var l=0;s instanceof ut&&(l=s.strokeWidth);var a=s.Df(),p=s.naturalBounds,d=(p.width+l)*a;l=(p.height+l)*a,t.type!==O.Link&&(a=s.ga("Selection"===t.category?Ee:t.locationSpot,w.alloc()),t.location=a,w.free(a)),isNaN(d)||isNaN(l)?(t=s.ga(Ee,w.alloc()),(d=U.allocAt(t.x,t.y,0,0)).Ye(s.ga(Xn,t)),d.Ye(s.ga(qs,t)),d.Ye(s.ga(Ys,t)),vo(e,d.width+o||0,d.height+r||0),this.Ge(-n.left,-n.top,e.width,e.height),w.free(t),U.free(d)):(vo(e,d+o||0,l+r||0),this.Ge(-n.left,-n.top,e.width,e.height))}},ii.prototype.eh=function(t,e,n,o){this.actualBounds.h(t,e,n,o)},ii.prototype.computeBorder=function(t){var e=this.part,n=e.diagram,o=null===n||!n.animationManager.isAnimating;if(null!==n&&e instanceof rt&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.ko.w()){var r=n.toolManager.findTool("Dragging");if(r===n.currentTool&&null!==(n=r.computeBorder(e,this.ko,t)))return n}n=U.alloc(),r=this.computeMemberBounds(n);var s=this.yb;return e instanceof rt&&!e.isSubGraphExpanded?t.h(r.x-s.left,r.y-s.top,0,0):t.h(r.x-s.left,r.y-s.top,Math.max(r.width+s.left+s.right,0),Math.max(r.height+s.top+s.bottom,0)),U.free(n),o&&e instanceof rt&&e.computesBoundsIncludingLocation&&e.location.w()&&t.Ye(e.location),t},ii.prototype.computeMemberBounds=function(t){if(!(this.part instanceof rt))return t.h(0,0,0,0),t;for(var e=this.part,n=1/0,o=1/0,r=-1/0,s=-1/0,l=e.memberParts;l.next();){var a=l.value;if(a.isVisible()){if(a instanceof L&&(!e.computesBoundsIncludingLinks||Lo(a)||a.fromNode===e||a.toNode===e))continue;(a=a.actualBounds).left<n&&(n=a.left),a.top<o&&(o=a.top),a.right>r&&(r=a.right),a.bottom>s&&(s=a.bottom)}}return isFinite(n)&&isFinite(o)?t.h(n,o,r-n,s-o):t.h((e=e.location).x,e.y,0,0),t},pt.Object.defineProperties(ii.prototype,{padding:{get:function(){return this.yb},set:function(t){"number"==typeof t&&(t=new St(t));var e=this.yb;e.D(t)||(this.yb=t=t.J(),this.g("padding",e,t),this.v())}}}),ii.className="Placeholder",At(L,W),L.prototype.cloneProtected=function(t){W.prototype.cloneProtected.call(this,t),t.Qa=-113&this.Qa,t.ff=this.ff,t.gn=this.gn,t.vf=this.vf,t.uo=this.uo,t.qk=this.qk,t.Om=this.Om,t.Qm=this.Qm,t.Rm=this.Rm,t.qj=this.qj,t.po=this.po,null!==this.ba&&(t.ba=this.ba.copy())},(x=L.prototype).Af=function(t){W.prototype.Af.call(this,t),this.ff=t.ff,this.vf=t.vf,t.Mg=null,t.bb(),t.Sf=this.Sf;var e=t.fromPort;null!==e&&wi(e),null!==(t=t.toPort)&&wi(t)},x.qb=function(t){t.classType===L?2==(2&t.value)?this.routing=t:t===ji||t===Qo||t===wl?this.curve=t:t===Mu||t===kh||t===Ih?this.adjusting=t:t!==Gd&&t!==ni&&q("Unknown Link enum value for a Link property: "+t):W.prototype.qb.call(this,t)},x.Xc=function(){null===this.ba&&(this.ba=new fu)},x.si=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),_n(t)||lr(t))return!1}return!(null!==(t=this.toNode)&&(e=t.findVisibleNode(),null!==e&&(t=e),_n(t)||lr(t)))},x.zv=function(){return!1},x.Av=function(){},x.Zc=function(){return!1},L.prototype.computeAngle=function(t,e,n){return L.computeAngle(e,n)},L.computeAngle=function(t,e){switch(t){default:case ni:t=0;break;case Zu:t=e;break;case ju:t=e+90;break;case Nu:t=e-90;break;case Hd:t=e+180;break;case Uh:90<(t=N.bp(e))&&270>t&&(t-=180);break;case ku:90<(t=N.bp(e+90))&&270>t&&(t-=180);break;case Iu:90<(t=N.bp(e-90))&&270>t&&(t-=180);break;case Fh:if(45<(t=N.bp(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return N.bp(t)},(x=L.prototype).oh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&W.prototype.oh.call(this)},x.To=function(t){var e=this.fromNode;return t===e?this.toNode:e},x.Cz=function(t){var e=this.fromPort;return t===e?this.toPort:e},x.Vo=function(t){if(W.prototype.Vo.call(this,t),qr(this)&&this.Xo(this.actualBounds),!t){var e=null;null!==(t=this.ef)&&Th(t,this,e=this.fromPort);var n=this.uf;if(null!==n){var o=this.toPort;n===t&&o===e||Th(n,this,o)}wu(this)}},x.Wo=function(t){if(W.prototype.Wo.call(this,t),qr(this)&&this.Xo(this.actualBounds),!t){var e=null;null!==(t=this.ef)&&Ch(t,this,e=this.fromPort);var n=this.uf;if(null!==n){var o=this.toPort;n===t&&o===e||Ch(n,this,o)}Au(this)}},x.Lj=function(){if(this.fd=!0,null!==this.wd){var t=this.diagram;if(null!==t)for(var e=this.wd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&null!==(t=this.diagram)&&t.partManager.removeDataForLink(this)},L.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},L.prototype.move=function(t,e){var n=e?this.location:this.position,o=n.x;isNaN(o)&&(o=0);var r=n.y;for(isNaN(r)&&(r=0),o=t.x-o,r=t.y-r,!0===e?W.prototype.move.call(this,t,!1):(t=w.allocAt(n.x+o,n.y+r),W.prototype.move.call(this,t,!1),w.free(t)),Bo(this,o,r),t=this.labelNodes;t.next();)(e=t.value).moveTo((n=e.position).x+o,n.y+r)},L.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},L.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},L.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(da),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var n=this.i(0),o=this.i(1);return t.h((n.x+o.x)/2,(n.y+o.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ji))return this.ua.Pu(.5,t),t.add(this.i(0)),n=this.ua.figures.first(),t.offset(-n.startX,-n.startY),t;if(this.computeCurve()===ji){if(3===e){n=this.i(0),o=this.i(1);var r=this.i(2);return N.ax(n.x,n.y,o.x,o.y,o.x,o.y,r.x,r.y,t),t}if(n=3*((o=(e-1)/3|0)/2|0),o%2==1){o=this.i(n),r=this.i(n+1);var s=this.i(n+2);n=this.i(n+3),N.ax(o.x,o.y,r.x,r.y,s.x,s.y,n.x,n.y,t)}else t.assign(this.i(n));return t}var l=this.flattenedLengths;for(n=this.flattenedTotalLength,r=s=o=0;o<n/2&&s<e&&!(o+(r=l[s])>n/2);)o+=r,s++;return e=this.i(s),s=this.i(s+1),1>Math.abs(e.x-s.x)?t.h(e.x,e.y>s.y?e.y-(n/2-o):e.y+(n/2-o)):1>Math.abs(e.y-s.y)?t.h(e.x>s.x?e.x-(n/2-o):e.x+(n/2-o),e.y):t.h(e.x+(n=(n/2-o)/r)*(s.x-e.x),e.y+n*(s.y-e.y)),t},L.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).ab(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ji))return this.ua.wx(.5);if(this.computeCurve()===ji&&4<=t){var e=(t-1)/3|0,n=3*(e/2|0);if(e%2==1){n=Math.floor(n),t=this.i(n),e=this.i(n+1);var o=this.i(n+2);return n=this.i(n+3),N.My(t.x,t.y,e.x,e.y,o.x,o.y,n.x,n.y)}if(0<n&&n+1<t)return this.i(n-1).ab(this.i(n+1))}e=this.flattenedLengths,o=this.flattenedTotalLength;var s,r=0;for(n=0;r<o/2&&n<t&&!(r+(s=e[n])>o/2);)r+=s,n++;if(e=this.i(n),o=this.i(n+1),1>Math.abs(e.x-o.x)&&1>Math.abs(e.y-o.y)){if(0<n&&n+2<t)return this.i(n-1).ab(this.i(n+2))}else{if(1>Math.abs(e.x-o.x))return e.y>o.y?270:90;if(1>Math.abs(e.y-o.y))return e.x>o.x?180:0}return e.ab(o)},(x=L.prototype).i=function(t){return this.Nb.s[t]},x.dd=function(t,e){this.Nb.cd(t,e)},x.L=function(t,e,n){this.Nb.cd(t,new w(e,n))},x.Kz=function(t,e){this.Nb.Gb(t,e)},x.m=function(t,e,n){this.Nb.Gb(t,new w(e,n))},x.ne=function(t){this.Nb.add(t)},x.yf=function(t,e){this.Nb.add(new w(t,e))},x.pv=function(t){this.Nb.mb(t)},x.Fj=function(){this.Nb.clear()},x.uh=function(){null===this.Mg&&(this.Mg=this.Nb,this.Nb=this.Nb.copy())},x.zf=function(){if(null!==this.Mg){for(var t=this.Mg,e=this.Nb,n=1/0,o=1/0,r=t.s,s=r.length,l=0;l<s;l++){var a=r[l];n=Math.min(a.x,n),o=Math.min(a.y,o)}a=l=1/0;for(var p=e.s,d=p.length,f=0;f<d;f++){var g=p[f];l=Math.min(g.x,l),a=Math.min(g.y,a),g.freeze()}if(e.freeze(),d===s){for(s=0;s<d;s++)if((f=r[s]).x-n!=(g=p[s]).x-l||f.y-o!=g.y-a){this.qc();break}}else this.qc();this.Mg=null,null!==(n=this.diagram)&&n.animationManager.zb&&vc(n.animationManager,this,e),Ah(this),this.g("points",t,e)}},x.rv=function(){null!==this.Mg&&(this.Nb=this.Mg,this.Mg=null)},x.bb=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.As.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager).isTicking&&!t.isAnimating)return;null===this.Tg||t.isTicking||(this.Tg=null)}null!==(t=this.path)&&(this.fd=!1,this.v(),t.v())}},x.vg=function(){if(!this.fd&&!this.computingPoints){var t=!0;try{this.computingPoints=!0,this.uh(),t=this.computePoints()}catch{this.computingPoints=!1,this.rv()}finally{this.computingPoints=!1,t?this.zf():this.rv()}}},L.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(Ds||((Ds=new B).desiredSize=Jn,Ds.Va()),this.defaultFromPoint&&(Ds.location=this.defaultFromPoint,Ds.Va(),e=t=Ds)):e=this.fromPort,null!==e&&!t.isVisible()){var n=t.findVisibleNode();null!==n&&n!==t?(t=n,e=n.port):t=n}if(this.Lw=t,null===t||!t.location.w())return!1;for(;!(null===e||e.actualBounds.w()&&e.Ed());)e=e.panel;if(null===e)return!1;var o=this.toNode,r=null;if(null===o?(Ss||((Ss=new B).desiredSize=Jn,Ss.Va()),this.defaultToPoint&&(Ss.location=this.defaultToPoint,Ss.Va(),r=o=Ss)):r=this.toPort,null===r||o.isVisible()||(null!==(n=o.findVisibleNode())&&n!==o?(o=n,r=n.port):o=n),this.Mw=o,null===o||!o.location.w())return!1;for(;!(null===r||r.actualBounds.w()&&r.Ed());)r=r.panel;if(null===r)return!1;var s=this.pointsCount,l=this.computeSpot(!0,e);n=this.computeSpot(!1,r);var a=Cl(l),p=Cl(n),d=e===r&&null!==e,f=this.isOrthogonal,g=this.curve===ji;this.Wf=!(!d||f)&&(g=!0);var m=this.computeAdjusting()===ni||d;if(!f&&!d&&a&&p){if(a=!1,!m&&3<=s&&(m=this.getLinkPoint(t,e,l,!0,!1,o,r),p=this.getLinkPoint(o,r,n,!1,!1,t,e),a=this.adjustPoints(0,m,s-1,p))&&(m=this.getLinkPoint(t,e,l,!0,!1,o,r),p=this.getLinkPoint(o,r,n,!1,!1,t,e),this.adjustPoints(0,m,s-1,p)),!a)if(this.Fj(),g){s=this.getLinkPoint(t,e,l,!0,!1,o,r),a=(m=this.getLinkPoint(o,r,n,!1,!1,t,e)).x-s.x,p=m.y-s.y,d=this.computeCurviness(),g=f=0;var v=s.x+a/3,y=s.y+p/3,P=v,T=y;N.B(p,0)?T=0<a?T-d:T+d:(f=-a/p,g=Math.sqrt(d*d/(f*f+1)),0>d&&(g=-g),T=f*((P=(0>p?-1:1)*g+v)-v)+y);var S=v=s.x+2*a/3,A=y=s.y+2*p/3;A=N.B(p,0)?0<a?A-d:A+d:f*((S=(0>p?-1:1)*g+v)-v)+y,this.Fj(),this.ne(s),this.yf(P,T),this.yf(S,A),this.ne(m),this.dd(0,this.getLinkPoint(t,e,l,!0,!1,o,r)),this.dd(3,this.getLinkPoint(o,r,n,!1,!1,t,e))}else o=this.getLinkPoint(t,e,l,!0,!1,s=o,m=r),r=this.getLinkPoint(s,m,n,!1,!1,t,e),this.hasCurviness()?(m=r.x-o.x,n=r.y-o.y,l=this.computeCurviness(),s=t=o.x+m/2,a=e=o.y+n/2,N.B(n,0)?a=0<m?a-l:a+l:(m=-m/n,s=Math.sqrt(l*l/(m*m+1)),0>l&&(s=-s),a=m*((s=(0>n?-1:1)*s+t)-t)+e),this.ne(o),this.yf(s,a),this.ne(r)):(this.ne(o),this.ne(r),a=U.alloc(),e.mi(a),p=a.ca(r),m.mi(a),d=a.ca(o),(p||d)&&(l=e.ga(Zh(l),new w),this.dd(0,this.getLinkPointFromPoint(t,e,l,r,!0,l)),n=m.ga(Zh(n),new w),this.dd(1,this.getLinkPointFromPoint(s,m,n,o,!1,n))),U.free(a))}else{g=this.isAvoiding,m&&(f&&g||d)&&this.Fj();var M=d?this.computeCurviness():0;g=this.getLinkPoint(t,e,l,!0,f,o,r),v=P=y=0,(f||!a||d)&&(T=this.computeEndSegmentLength(t,e,l,!0),v=this.getLinkDirection(t,e,g,l,!0,f,o,r),d&&(a||l.D(n)||!f&&l.x+n.x===1&&l.y+n.y===1)&&(v-=f?90:30,0>M&&(v-=180)),0>v?v+=360:360<=v&&(v-=360),d&&(T+=Math.abs(M)*(f?1:2)),0===v?y=T:90===v?P=T:180===v?y=-T:270===v?P=-T:(y=T*Math.cos(v*Math.PI/180),P=T*Math.sin(v*Math.PI/180)),l.Mc()&&d&&(T=e.ga(Mt,w.alloc()),S=w.allocAt(T.x+1e3*y,T.y+1e3*P),this.getLinkPointFromPoint(t,e,T,S,!0,g),w.free(T),w.free(S))),T=this.getLinkPoint(o,r,n,!1,f,t,e);var Z=A=S=0;if(f||!p||d){var j=this.computeEndSegmentLength(o,r,n,!1);Z=this.getLinkDirection(o,r,T,n,!1,f,t,e),d&&(p||l.D(n)||!f&&l.x+n.x===1&&l.y+n.y===1)&&(Z+=f?0:30,0>M&&(Z+=180)),0>Z?Z+=360:360<=Z&&(Z-=360),d&&(j+=Math.abs(M)*(f?1:2)),0===Z?S=j:90===Z?A=j:180===Z?S=-j:270===Z?A=-j:(S=j*Math.cos(Z*Math.PI/180),A=j*Math.sin(Z*Math.PI/180)),n.Mc()&&d&&(n=r.ga(Mt,w.alloc()),l=w.allocAt(n.x+1e3*S,n.y+1e3*A),this.getLinkPointFromPoint(o,r,n,l,!1,T),w.free(n),w.free(l))}n=g,(f||!a||d)&&(n=new w(g.x+y,g.y+P)),l=T,(f||!p||d)&&(l=new w(T.x+S,T.y+A)),!m&&!f&&a&&3<s&&this.adjustPoints(0,g,s-2,l)?this.dd(s-1,T):!m&&!f&&p&&3<s&&this.adjustPoints(1,n,s-1,T)?this.dd(0,g):!m&&(f?6<=s:4<s)&&this.adjustPoints(1,n,s-2,l)?(this.dd(0,g),this.dd(s-1,T)):(this.Fj(),this.ne(g),(f||!a||d)&&this.ne(n),f&&this.addOrthoPoints(n,v,l,Z,t,o),(f||!p||d)&&this.ne(l),this.ne(T))}return!0},L.prototype.getLinkPointFromPoint=function(t,e,n,o,r,s){if(void 0===s&&(s=new w),null===t||null===e)return s.assign(n),s;if(t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port),t=null,null===(r=e.panel)||r.se()||(r=r.panel),null===r){r=o.x,o=o.y;var l=n.x;n=n.y}else{var a=-(t=r.oe).m12*(r=1/(t.m11*t.m22-t.m12*t.m21)),p=-t.m21*r,d=t.m11*r,f=r*(t.m21*t.dy-t.m22*t.dx),g=r*(t.m12*t.dx-t.m11*t.dy);r=o.x*(l=t.m22*r)+o.y*p+f,o=o.x*a+o.y*d+g,l=n.x*l+n.y*p+f,n=n.x*a+n.y*d+g}return e.Sj(r,o,l,n,s),null!==t&&s.transform(t),s},L.prototype.getLinkPoint=function(t,e,n,o,r,s,l,a){if(void 0===a&&(a=new w),n.sb()&&!Cl(n))return e.ga(n,a),a;if(n.$c()){var p=Mh(this,e);if(null!==p){if(a.assign(p.Zo),r&&this.routing===U1){var d=Mh(this,l);if(null!==d&&p.Gl<d.Gl){p=w.alloc(),d=w.alloc();var f=new U(e.ga(Ee,p),e.ga(Xn,d)),g=this.computeSpot(!o,l);t=this.getLinkPoint(s,l,g,!o,r,t,e,d),(n.Hf(Rs)||n.Hf(Es))&&t.y>=f.y&&t.y<=f.y+f.height?a.y=t.y:(n.Hf(Js)||n.Hf(Bs))&&t.x>=f.x&&t.x<=f.x+f.width&&(a.x=t.x),w.free(p),w.free(d)}}return a}}return n=e.ga(Zh(n),w.alloc()),this.pointsCount>(r?6:2)?(l=this.i(o?1:this.pointsCount-2),r&&(l=Rd(n,l.copy()))):(p=this.computeSpot(!o,l),s=w.alloc(),l=l.ga(Zh(p),s),r&&(l=Rd(n,l)),w.free(s)),this.getLinkPointFromPoint(t,e,n,l,o,a),w.free(n),a},L.prototype.getLinkDirection=function(t,e,n,o,r,s,l,a){t:if(o.sb())var p=o.x>o.y?o.x>1-o.y?0:o.x<1-o.y?270:315:o.x<o.y?o.x>1-o.y?90:o.x<1-o.y?180:135:.5>o.x?225:.5<o.x?45:0;else{if(o.$c()&&null!==(p=Mh(this,e)))switch(p.Nc){case 1:p=270;break t;case 2:p=180;break t;default:case 4:p=0;break t;case 8:p=90;break t}p=e.ga(Mt,w.alloc()),this.pointsCount>(s?6:2)?(a=this.i(r?1:this.pointsCount-2),a=s?Rd(p,a.copy()):n):(n=w.alloc(),a=a.ga(Mt,n),w.free(n)),n=Math.abs(a.x-p.x)>Math.abs(a.y-p.y)?a.x>=p.x?0:180:a.y>=p.y?90:270,w.free(p),p=n}return o.Mc()&&l.Td(t)&&360<=(p+=180)&&(p-=360),Cl(o)||0===(t=e.li())||(45<=t&&135>t?p+=90:135<=t&&225>t?p+=180:225<=t&&315>t&&(p+=270),360<=p&&(p-=360)),p},L.prototype.computeEndSegmentLength=function(t,e,n,o){return null!==e&&n.$c()&&null!==(t=Mh(this,e))?t.Ju:(t=o?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=o?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},L.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=Mt:((e=this.fromSpot).Xb()&&(e=t.fromSpot),t=e===Oe?Fe:e):null===(t=e||this.toPort)?t=Mt:((e=this.toSpot).Xb()&&(e=t.toSpot),t=e===Oe?Fe:e),t},L.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==ni&&4<this.pointsCount?this.computeMidPoint(new w):null!==(t=null!==(t=e.Zn)?Y1(t,this):null)?t.Zo:e.ga(Mt)},L.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&null!==(e=this.toPort)&&(t=e.toShortLength),isNaN(t)?0:t},L.prototype.Cf=function(t,e,n,o,r,s){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var l=s;if(void 0===s&&(l=ct.alloc()).reset(),l.multiply(this.transform),this.fh(t,l))return cd(this,e,n,r),void 0===s&&ct.free(l),!0;if(this.Yc(t,l)){var a=!1;if(!this.isAtomic)for(var p=this.O.s,d=p.length;d--;){var f=p[d];if(f.visible||f===this.locationObject){var g=f.actualBounds,m=this.naturalBounds;if(!(g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height)){if((g=ct.alloc()).set(l),f instanceof O)a=f.Cf(t,e,n,o,r,g);else if(this.path===f){if(f instanceof ut)if(a=t,m=o,!1===f.pickable)a=!1;else if(g.multiply(f.transform),m)t:{var v=a,y=g;if(f.fh(v,y))a=!0;else{if(void 0===y&&(y=f.transform,v.Re(f.actualBounds))){a=!0;break t}a=v.left,m=v.right;var P=v.top;v=v.bottom;var T=w.alloc(),S=w.alloc(),A=w.alloc(),M=ct.alloc();M.set(y),M.bv(f.transform),M.Vj(),S.x=m,S.y=P,S.transform(M),T.x=a,T.y=P,T.transform(M),y=!1,Lr(f,T,S,A)?y=!0:(T.x=m,T.y=v,T.transform(M),Lr(f,T,S,A)?y=!0:(S.x=a,S.y=v,S.transform(M),Lr(f,T,S,A)?y=!0:(T.x=a,T.y=P,T.transform(M),Lr(f,T,S,A)&&(y=!0)))),ct.free(M),w.free(T),w.free(S),w.free(A),a=y}}else a=f.fh(a,g)}else a=Sg(f,t,o,g);a&&(m=f,null!==e&&(m=e(f)),m&&(null===n||n(m))&&r.add(m)),ct.free(g)}}}return void 0===s&&ct.free(l),a||null!==this.background||null!==this.areaBackground}return void 0===s&&ct.free(l),!1},L.prototype.computeCurve=function(){if(null===this.Wf){var t=this.fromPort;this.Wf=null!==t&&t===this.toPort&&!this.isOrthogonal}return this.Wf?ji:this.curve},L.prototype.computeCorner=function(){if(this.curve===ji)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},L.prototype.findMidLabel=function(){for(var t=this.path,e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o];if(r!==t&&!r.isPanelMain&&(r.segmentIndex===-1/0||isNaN(r.segmentIndex)))return r}for(t=this.labelNodes;t.next();)if((e=t.value).segmentIndex===-1/0||isNaN(e.segmentIndex))return e;return null},L.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=O1;t=Math.max(t,this.computeThickness());var e=this.fromPort,n=this.toPort;if(null!==e&&null!==n){var o=this.findMidLabel();if(null!==o){var r=o.naturalBounds,s=o.margin,l=isNaN(r.width)?30:r.width*o.scale+s.left+s.right;r=isNaN(r.height)?14:r.height*o.scale+s.top+s.bottom,(o=o.segmentOrientation)===Zu||o===Uh||o===Hd?t=Math.max(t,r):o===Nu||o===Iu||o===ju||o===ku?t=Math.max(t,l):(e=e.ga(Mt).ab(n.ga(Mt))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*l)+Math.abs(Math.cos(e)*r)+1)),this.curve===ji&&(t*=1.333)}}return t},L.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var n=t[e];n.computeAdjusting()===ni&&n.bb()}},L.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=F1;var e=this.Sf;if(null!==e){for(var n=bt(),o=0,r=e.links,s=0;s<r.length;s++){var l=r[s].computeSpacing();n.push(l),o+=l}for(o=-o/2,s=0;s<r.length;s++){if(r[s]===this){t=o+n[s]/2;break}o+=n[s]}e.Ds===this.fromNode&&(t=-t),Nt(n)}}return t},L.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},L.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Sf},L.prototype.adjustPoints=function(t,e,n,o){var r=this.computeAdjusting();if(this.isOrthogonal){if(r===kh)return!1;r===Ih&&(r=Mu)}switch(r){case kh:var s=this.i(t),l=this.i(n);if(!s.Xa(e)||!l.Xa(o)){var a=l.x-(r=s.x),p=l.y-(s=s.y),d=Math.sqrt(a*a+p*p);if(!N.$(d,0)){if(N.$(a,0))var f=0>p?-Math.PI/2:Math.PI/2;else f=Math.atan(p/Math.abs(a)),0>a&&(f=Math.PI-f);var g=e.y;a=o.x-(l=e.x);var m=o.y-g;for(p=Math.sqrt(a*a+m*m),N.$(a,0)?m=0>m?-Math.PI/2:Math.PI/2:(m=Math.atan(m/Math.abs(a)),0>a&&(m=Math.PI-m)),d=p/d,f=m-f,this.dd(t,e),t+=1;t<n;t++)a=(e=this.i(t)).x-r,p=e.y-s,e=Math.sqrt(a*a+p*p),N.$(e,0)||(N.$(a,0)?p=0>p?-Math.PI/2:Math.PI/2:(p=Math.atan(p/Math.abs(a)),0>a&&(p=Math.PI-p)),a=p+f,this.L(t,l+(e*=d)*Math.cos(a),g+e*Math.sin(a)));this.dd(n,o)}}return!0;case Ih:if(s=this.i(t),g=this.i(n),!s.Xa(e)||!g.Xa(o)){d=((l=g.x)-(r=s.x))*(l-r)+((g=g.y)-(s=s.y))*(g-s),f=e.y,m=o.y;var v=1;if((p=o.x)-(a=e.x)!=0){var y=(m-f)/(p-a);v=Math.sqrt(1+1/(y*y))}else y=9e9;for(this.dd(t,e),t+=1;t<n;t++){var P=(e=this.i(t)).x,T=e.y,S=.5;0!==d&&(S=((r-P)*(r-l)+(s-T)*(s-g))/d);var A=r+S*(l-r),M=s+S*(g-s);e=Math.sqrt((P-A)*(P-A)+(T-M)*(T-M)),T<y*(P-A)+M&&(e=-e),0<y&&(e=-e),P=a+S*(p-a),S=f+S*(m-f),0!==y?this.L(t,e=P+e/v,S-(e-P)/y):this.L(t,P,S+e)}this.dd(n,o)}return!0;case Mu:return this.isOrthogonal&&(r=this.i(t),s=this.i(t+1),l=this.i(t+2),g=a=s.x,d=f=s.y,N.B(r.y,s.y)?N.B(s.x,l.x)?f=e.y:N.B(s.y,l.y)&&(a=e.x):N.B(r.x,s.x)&&(N.B(s.y,l.y)?a=e.x:N.B(s.x,l.x)&&(f=e.y)),this.L(t+1,a,f),r=this.i(n),s=this.i(n-1),l=this.i(n-2),p=a=s.x,m=f=s.y,N.B(r.y,s.y)?N.B(s.x,l.x)?f=o.y:N.B(s.y,l.y)&&(a=o.x):N.B(r.x,s.x)&&(N.B(s.y,l.y)?a=o.x:N.B(s.x,l.x)&&(f=o.y)),this.L(n-1,a,f),Ed(this))?(this.L(t+1,g,d),this.L(n-1,p,m),n=!1):(this.dd(t,e),this.dd(n,o),n=!0),n;default:return!1}},L.prototype.addOrthoPoints=function(t,e,n,o,r,s){0>e?e+=360:360<=e&&(e-=360),0>o?o+=360:360<=o&&(o-=360);var l=o;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,o=315<=o||45>o?0:45<=o&&135>o?90:135<=o&&225>o?180:270;var a=r.actualBounds.copy(),p=s.actualBounds.copy();if(a.w()&&p.w()){a.Bc(Uu,Uu),p.Bc(Uu,Uu),a.Ye(t),p.Ye(n);var d=w.alloc(),f=w.alloc();0===e?n.x>t.x||270===o&&n.y<t.y&&p.right>t.x||90===o&&n.y>t.y&&p.right>t.x?(d.h(n.x,t.y),f.h(n.x,(t.y+n.y)/2),180===o?(d.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),f.x=d.x,f.y=n.y):270===o&&n.y<t.y||90===o&&n.y>t.y?(d.x=t.x<p.left?this.computeMidOrthoPosition(t.x,t.y,p.left,n.y,!1):t.x<p.right&&(270===o&&t.y<p.top||90===o&&t.y>p.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):p.right,f.x=d.x,f.y=n.y):0===o&&t.x<p.left&&t.y>p.top&&t.y<p.bottom&&(d.x=t.x,d.y=t.y<n.y?Math.min(n.y,p.top):Math.max(n.y,p.bottom),f.y=d.y)):(d.h(t.x,n.y),f.h((t.x+n.x)/2,n.y),(180===o||90===o&&n.y<a.top||270===o&&n.y>a.bottom)&&(180===o&&(p.ca(t)||a.ca(n))?d.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(180===o||90===o)?d.y=this.computeMidOrthoPosition(t.x,a.top,n.x,Math.max(n.y,p.bottom),!0):n.y>t.y&&(180===o||270===o)&&(d.y=this.computeMidOrthoPosition(t.x,a.bottom,n.x,Math.min(n.y,p.top),!0)),f.x=n.x,f.y=d.y),d.y>a.top&&d.y<a.bottom&&(n.x>=a.left&&n.x<=t.x||t.x<=p.right&&t.x>=n.x?(90===o||270===o)&&(d.h(Math.max((t.x+n.x)/2,t.x),t.y),f.h(d.x,n.y)):(d.y=270===o||(0===o||180===o)&&n.y<t.y?Math.min(n.y,0===o?a.top:Math.min(a.top,p.top)):Math.max(n.y,0===o?a.bottom:Math.max(a.bottom,p.bottom)),f.x=n.x,f.y=d.y))):180===e?n.x<t.x||270===o&&n.y<t.y&&p.left<t.x||90===o&&n.y>t.y&&p.left<t.x?(d.h(n.x,t.y),f.h(n.x,(t.y+n.y)/2),0===o?(d.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),f.x=d.x,f.y=n.y):270===o&&n.y<t.y||90===o&&n.y>t.y?(d.x=t.x>p.right?this.computeMidOrthoPosition(t.x,t.y,p.right,n.y,!1):t.x>p.left&&(270===o&&t.y<p.top||90===o&&t.y>p.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):p.left,f.x=d.x,f.y=n.y):180===o&&t.x>p.right&&t.y>p.top&&t.y<p.bottom&&(d.x=t.x,d.y=t.y<n.y?Math.min(n.y,p.top):Math.max(n.y,p.bottom),f.y=d.y)):(d.h(t.x,n.y),f.h((t.x+n.x)/2,n.y),(0===o||90===o&&n.y<a.top||270===o&&n.y>a.bottom)&&(0===o&&(p.ca(t)||a.ca(n))?d.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(0===o||90===o)?d.y=this.computeMidOrthoPosition(t.x,a.top,n.x,Math.max(n.y,p.bottom),!0):n.y>t.y&&(0===o||270===o)&&(d.y=this.computeMidOrthoPosition(t.x,a.bottom,n.x,Math.min(n.y,p.top),!0)),f.x=n.x,f.y=d.y),d.y>a.top&&d.y<a.bottom&&(n.x<=a.right&&n.x>=t.x||t.x>=p.left&&t.x<=n.x?(90===o||270===o)&&(d.h(Math.min((t.x+n.x)/2,t.x),t.y),f.h(d.x,n.y)):(d.y=270===o||(0===o||180===o)&&n.y<t.y?Math.min(n.y,180===o?a.top:Math.min(a.top,p.top)):Math.max(n.y,180===o?a.bottom:Math.max(a.bottom,p.bottom)),f.x=n.x,f.y=d.y))):90===e?n.y>t.y||180===o&&n.x<t.x&&p.bottom>t.y||0===o&&n.x>t.x&&p.bottom>t.y?(d.h(t.x,n.y),f.h((t.x+n.x)/2,n.y),270===o?(d.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),f.x=n.x,f.y=d.y):180===o&&n.x<t.x||0===o&&n.x>t.x?(d.y=t.y<p.top?this.computeMidOrthoPosition(t.x,t.y,n.x,p.top,!0):t.y<p.bottom&&(180===o&&t.x<p.left||0===o&&t.x>p.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):p.bottom,f.x=n.x,f.y=d.y):90===o&&t.y<p.top&&t.x>p.left&&t.x<p.right&&(d.x=t.x<n.x?Math.min(n.x,p.left):Math.max(n.x,p.right),d.y=t.y,f.x=d.x)):(d.h(n.x,t.y),f.h(n.x,(t.y+n.y)/2),(270===o||0===o&&n.x<a.left||180===o&&n.x>a.right)&&(270===o&&(p.ca(t)||a.ca(n))?d.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(270===o||0===o)?d.x=this.computeMidOrthoPosition(a.left,t.y,Math.max(n.x,p.right),n.y,!1):n.x>t.x&&(270===o||180===o)&&(d.x=this.computeMidOrthoPosition(a.right,t.y,Math.min(n.x,p.left),n.y,!1)),f.x=d.x,f.y=n.y),d.x>a.left&&d.x<a.right&&(n.y>=a.top&&n.y<=t.y||t.y<=p.bottom&&t.y>=n.y?(0===o||180===o)&&(d.h(t.x,Math.max((t.y+n.y)/2,t.y)),f.h(n.x,d.y)):(d.x=180===o||(90===o||270===o)&&n.x<t.x?Math.min(n.x,90===o?a.left:Math.min(a.left,p.left)):Math.max(n.x,90===o?a.right:Math.max(a.right,p.right)),f.x=d.x,f.y=n.y))):n.y<t.y||180===o&&n.x<t.x&&p.top<t.y||0===o&&n.x>t.x&&p.top<t.y?(d.h(t.x,n.y),f.h((t.x+n.x)/2,n.y),90===o?(d.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),f.x=n.x,f.y=d.y):180===o&&n.x<t.x||0===o&&n.x>=t.x?(d.y=t.y>p.bottom?this.computeMidOrthoPosition(t.x,t.y,n.x,p.bottom,!0):t.y>p.top&&(180===o&&t.x<p.left||0===o&&t.x>p.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):p.top,f.x=n.x,f.y=d.y):270===o&&t.y>p.bottom&&t.x>p.left&&t.x<p.right&&(d.x=t.x<n.x?Math.min(n.x,p.left):Math.max(n.x,p.right),d.y=t.y,f.x=d.x)):(d.h(n.x,t.y),f.h(n.x,(t.y+n.y)/2),(90===o||0===o&&n.x<a.left||180===o&&n.x>a.right)&&(90===o&&(p.ca(t)||a.ca(n))?d.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(90===o||0===o)?d.x=this.computeMidOrthoPosition(a.left,t.y,Math.max(n.x,p.right),n.y,!1):n.x>t.x&&(90===o||180===o)&&(d.x=this.computeMidOrthoPosition(a.right,t.y,Math.min(n.x,p.left),n.y,!1)),f.x=d.x,f.y=n.y),d.x>a.left&&d.x<a.right&&(n.y<=a.bottom&&n.y>=t.y||t.y>=p.top&&t.y<=n.y?(0===o||180===o)&&(d.h(t.x,Math.min((t.y+n.y)/2,t.y)),f.h(n.x,d.y)):(d.x=180===o||(90===o||270===o)&&n.x<t.x?Math.min(n.x,270===o?a.left:Math.min(a.left,p.left)):Math.max(n.x,270===o?a.right:Math.max(a.right,p.right)),f.x=d.x,f.y=n.y)));var g=n;if(this.isAvoiding){var m=this.diagram;if(null===m||r===s||this.layer.isTemporary||!rg(m)||a.ca(g)&&!s.Td(r)||p.ca(t)&&!r.Td(s))e=!1;else{var v=qc(m,!0,this.containingGroup,null);if(17!==this.segmentIndex&&v.Yj(Math.min(t.x,d.x),Math.min(t.y,d.y),Math.abs(t.x-d.x),Math.abs(t.y-d.y))&&v.Yj(Math.min(d.x,f.x),Math.min(d.y,f.y),Math.abs(d.x-f.x),Math.abs(d.y-f.y))&&v.Yj(Math.min(f.x,g.x),Math.min(f.y,g.y),Math.abs(f.x-g.x),Math.abs(f.y-g.y)))e=!1;else{r=t,s=g;var y=n=null;if(m.isVirtualized){(m=v.bounds.copy()).Bc(-v.Ho,-v.Go);var P=w.alloc();Al(v,t.x,t.y)||(N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,t.x,t.y,d.x,d.y,P)?(n=t=P.copy(),e=P.ab(d)):N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,d.x,d.y,f.x,f.y,P)?(n=t=P.copy(),e=P.ab(f)):N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,f.x,f.y,g.x,g.y,P)&&(n=t=P.copy(),e=P.ab(g))),Al(v,g.x,g.y)||(N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,g.x,g.y,f.x,f.y,P)?(y=g=P.copy(),o=f.ab(P)):N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,f.x,f.y,d.x,d.y,P)?(y=g=P.copy(),o=d.ab(P)):N.Ff(m.x,m.y,m.x+m.width,m.y+m.height,d.x,d.y,t.x,t.y,P)&&(y=g=P.copy(),o=t.ab(P))),w.free(P)}(a=a.copy().ed(p)).Bc(v.Ho*v.Os,v.Go*v.Os),b1(v,t,e,g,o,a,!0),p=so(v,g.x,g.y),!v.abort&&p>=Ml&&(L1(v),a.Bc(v.Ho*v.Hx,v.Go*v.Ix),b1(v,t,e,g,o,a,!1),p=so(v,g.x,g.y)),!v.abort&&p<Ml&&so(v,g.x,g.y)!==Go?(Bd(this,v,g.x,g.y,o,!0,l),a=this.i(2),4>this.pointsCount?(0===e||180===e?(a.x=t.x,a.y=g.y):(a.x=g.x,a.y=t.y),this.L(2,a.x,a.y),this.m(3,a.x,a.y)):(l=this.i(3),0===e||180===e?N.B(a.x,l.x)?(a=0===e?Math.max(a.x,t.x):Math.min(a.x,t.x),this.L(2,a,t.y),this.L(3,a,l.y)):N.B(a.y,l.y)?(Math.abs(t.y-a.y)<=v.Go/2&&(this.L(2,a.x,t.y),this.L(3,l.x,t.y)),this.m(2,a.x,t.y)):this.L(2,t.x,a.y):(90===e||270===e)&&(N.B(a.y,l.y)?(a=90===e?Math.max(a.y,t.y):Math.min(a.y,t.y),this.L(2,t.x,a),this.L(3,l.x,a)):N.B(a.x,l.x)?(Math.abs(t.x-a.x)<=v.Ho/2&&(this.L(2,t.x,a.y),this.L(3,t.x,l.y)),this.m(2,t.x,a.y)):this.L(2,a.x,t.y))),null!==n&&(t=this.i(1),l=this.i(2),t.x!==l.x&&t.y!==l.y?0===e||180===e?this.m(2,t.x,l.y):this.m(2,l.x,t.y):0===e||180===e?this.m(2,r.x,n.y):this.m(2,n.x,r.y)),null!==y&&(0===o||180===o?this.yf(s.x,y.y):this.yf(y.x,s.y)),e=!0):e=!1}}}else e=!1;e||(this.ne(d.copy()),this.ne(f.copy())),w.free(d),w.free(f)}},L.prototype.computeMidOrthoPosition=function(t,e,n,o,r){var s=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).$c()||this.computeSpot(!1,this.toPort).$c()||(s=this.computeCurviness()),r?(e+o)/2+s:(t+n)/2+s},L.prototype.ez=function(t){var e=t.x;t=t.y;for(var n=this.i(0),o=this.i(1),r=We(e,t,n.x,n.y,o.x,o.y),s=0,l=1;l<this.pointsCount-1;l++){n=this.i(l+1);var a=We(e,t,o.x,o.y,n.x,n.y);o=n,a<r&&(s=l,r=a)}return s},L.prototype.qc=function(){this.lk=!1,this.v()},L.prototype.Ul=function(t){if((t||!1!==this.fd&&(t=this.Pb(),!this.lk||null!==t&&null===t.geometry))&&(2>this.pointsCount?this.lk=!0:this.ua=this.makeGeometry(),null!==(t=this.path))){t.ua=this.ua;for(var e=this.O.s,n=e.length,o=0;o<n;o++){var r=e[o];r!==t&&r.isPanelMain&&r instanceof ut&&(r.ua=this.ua)}}},L.prototype.makeGeometry=function(){var t=this.ua,e=this.pointsCount,n=!1,o=this.diagram;null!==o&&qr(this)&&o.Eh.contains(this)&&(0!==this.ml.width||0!==this.ml.height)&&(o.animationManager.isAnimating||o.currentTool!==o.toolManager)&&(n=!0);var r=this.i(0).copy(),s=r.copy();o=this.Nb.s;var l=this.computeCurve();if(l===ji&&3<=e&&!N.$(this.smoothness,0))if(3===e){var a=this.i(1);o=Math.min(r.x,a.x);var p=Math.min(r.y,a.y);a=this.i(2),o=Math.min(o,a.x),p=Math.min(p,a.y)}else{if(this.isOrthogonal)for(p=0;p<e;p++)a=o[p],s.x=Math.min(a.x,s.x),s.y=Math.min(a.y,s.y);else for(o=3;o<e;o+=3)o+3>=e&&(o=e-1),p=this.i(o),s.x=Math.min(p.x,s.x),s.y=Math.min(p.y,s.y);o=s.x,p=s.y}else{for(p=0;p<e;p++)a=o[p],s.x=Math.min(a.x,s.x),s.y=Math.min(a.y,s.y);o=s.x,p=s.y}if(p-=this.su.y,r.x-=o-=this.su.x,r.y-=p,2!==e||qr(this)){if(t.type=Y.o,a=a1(t),0!==this.computeShortLength(!0)&&(r=xs(this,r,!0,s)),Sl(a,r.x,r.y,!1),l===ji&&3<=e&&!N.$(this.smoothness,0))if(3===e)e=(n=this.i(1)).x-o,n=n.y-p,(r=this.i(2).copy()).x-=o,r.y-=p,0!==this.computeShortLength(!1)&&(r=xs(this,r,!1,s)),Jo(a,e,n,e,n,r.x,r.y);else if(this.isOrthogonal){e=w.allocAt(o,p),(n=w.alloc()).assign(this.i(1)),s=w.allocAt(o,p),r=w.allocAt(o,p),l=this.i(0);for(var d,f=this.smoothness/3,g=1;g<this.pointsCount-1;g++){var m=l,v=d=this.i(g),y=this.i(Qd(this,d,g,!1));if(!(N.$(m.x,v.x)&&N.$(v.x,y.x)||N.$(m.y,v.y)&&N.$(v.y,y.y))){var P=f;isNaN(P)&&(P=this.smoothness/3);var T=m.x,S=v.x,A=y.x;y=y.y;var M=P*jh(T,m=m.y,S,v=v.y);P*=jh(S,v,A,y),N.$(m,v)&&N.$(S,A)&&(S>T?y>v?(s.x=S-M,s.y=v-M,r.x=S+P,r.y=v+P):(s.x=S-M,s.y=v+M,r.x=S+P,r.y=v-P):y>v?(s.x=S+M,s.y=v-M,r.x=S-P,r.y=v+P):(s.x=S+M,s.y=v+M,r.x=S-P,r.y=v-P)),N.$(T,S)&&N.$(v,y)&&(v>m?(A>S?(s.x=S-M,s.y=v-M,r.x=S+P):(s.x=S+M,s.y=v-M,r.x=S-P),r.y=v+P):(A>S?(s.x=S-M,s.y=v+M,r.x=S+P):(s.x=S+M,s.y=v+M,r.x=S-P),r.y=v-P)),(N.$(T,S)&&N.$(S,A)||N.$(m,v)&&N.$(v,y))&&(m=.5*(m+y),s.x=T=.5*(T+A),s.y=m,r.x=T,r.y=m),(1===g||2===g&&N.$(l.x,this.i(0).x)&&N.$(l.y,this.i(0).y))&&(n.x=.5*(l.x+d.x),n.y=.5*(l.y+d.y)),Jo(a,n.x-o,n.y-p,s.x-o,s.y-p,d.x-o,d.y-p),e.set(s),n.set(r),l=d}}d=l.x,l=l.y,f=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(f=xs(this,f.copy(),!1,mo)),Jo(a,r.x-o,r.y-p,(d=.5*(d+f.x))-o,(l=.5*(l+f.y))-p,f.x-o,f.y-p),w.free(e),w.free(n),w.free(s),w.free(r)}else for(n=3;n<e;n+=3)s=this.i(n-2),n+3>=e&&(n=e-1),r=this.i(n-1),l=this.i(n),n===e-1&&0!==this.computeShortLength(!1)&&(l=xs(this,l.copy(),!1,mo)),Jo(a,s.x-o,s.y-p,r.x-o,r.y-p,l.x-o,l.y-p);else{for((s=w.alloc()).assign(this.i(0)),(r=w.alloc()).assign(s),l=this.computeCorner(),g=1,d=0;g<e;){if(g=Qd(this,s,g,1<g),f=this.i(g),g>=e-1){if(s.D(f)){if(0===d)for(g=1;g<e;)r.assign(s),Ps(this,a,-o,-p,s,f=this.i(g++),n),s.assign(f)}else 0!==this.computeShortLength(!1)&&(f=xs(this,f.copy(),!1,mo)),Ps(this,a,-o,-p,s,f,n);break}if(d=Qd(this,f,g+1,g<e-3),g=-o,T=-p,m=f,S=this.i(d),P=n,N.B(s.y,m.y)&&N.B(m.x,S.x))if(y=Math.min(l,Math.abs(m.x-r.x)/2),y=M=Math.min(y,Math.abs(S.y-m.y)/2),N.B(y,0))Ps(this,a,g,T,s,m,P),s.assign(m);else{var Z=m.x,j=m.y;v=Z,A=j,A=S.y>m.y?m.y+M:m.y-M,Ps(this,a,g,T,s,S=w.allocAt(Z=m.x>s.x?m.x-y:m.x+y,j),P),w.free(S),xh(a,m.x+g,m.y+T,v+g,A+T),s.h(v,A)}else N.B(s.x,m.x)&&N.B(m.y,S.y)?(y=Math.min(l,Math.abs(m.y-r.y)/2),y=M=Math.min(y,Math.abs(S.x-m.x)/2),N.B(M,0)?(Ps(this,a,g,T,s,m,P),s.assign(m)):(v=Z=m.x,A=j=m.y,v=S.x>m.x?m.x+M:m.x-M,Ps(this,a,g,T,s,S=w.allocAt(Z,j=m.y>s.y?m.y-y:m.y+y),P),w.free(S),xh(a,m.x+g,m.y+T,v+g,A+T),s.h(v,A))):(Ps(this,a,g,T,s,m,P),s.assign(m));r.assign(f),g=d}w.free(s)}Ph=a}else(a=this.i(1).copy()).x-=o,a.y-=p,0!==this.computeShortLength(!0)&&(r=xs(this,r,!0,s)),0!==this.computeShortLength(!1)&&(a=xs(this,a,!1,s)),t.type=Y.j,t.startX=r.x,t.startY=r.y,t.endX=a.x,t.endY=a.y;return this.lk=!0,t},L.prototype.computeJumpLength=function(){return 10},L.prototype.Xo=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var n=e.diagram;if(null!==n&&!n.animationManager.isTicking){var o=!1;for(n=n.layers;n.next();){var r=n.value;if(r.visible)if(r===e){o=!0;for(var s=!1,l=(r=r.Pa.s).length,a=0;a<l;a++){var p=r[a];p instanceof L&&(p===this?s=!0:s&&I1(this,p,t))}}else if(o)for(r=(s=r.Pa.s).length,l=0;l<r;l++)(a=s[l])instanceof L&&I1(this,a,t)}}}},L.prototype.usesSamePort=function(t){var e=this.pointsCount,n=t.pointsCount;if(0<e&&0<n){var o=this.i(0),r=t.i(0);if(o.Xa(r)||(e=this.i(e-1),t=t.i(n-1),e.Xa(t)||o.Xa(t)||e.Xa(r)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},L.prototype.isVisible=function(){if(!W.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),null!==(n=this.fromNode)){if(this.isTreeLink&&e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(var o=n;null!==o;){if(o.labeledLink===this)return!0;o=o.containingGroup}if(null===(n=n.findVisibleNode())||n===t)return!1}if(null!==(n=this.toNode)){if(this.isTreeLink&&!e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(e=n;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=n.findVisibleNode())||e===t)return!1}return!0},L.prototype.Zb=function(t){if(W.prototype.Zb.call(this,t),t&&Nh(this,!1),null!==this.Sf&&this.Sf.Sl(),null!==this.wd)for(var e=this.wd.iterator;e.next();)e.value.Zb(t)},L.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?Mu:this.qk},L.prototype.ph=function(){return!0},pt.Object.defineProperties(L.prototype,{fromNode:{get:function(){return this.ef},set:function(t){var e=this.ef;if(e!==t){var n=this.fromPort;null!==e&&(this.uf!==e&&Ch(e,this,n),Au(this),this.C(2)),this.ef=t,null!==t&&this.Zb(t.isVisible()),this.Wf=null,this.bb();var o=this.diagram;null!==o&&o.aa&&o.partManager.setFromNodeForLink(this,t,e);var r=this.fromPort,s=this.fromPortChanged;if(null!==s){var l=!0;null!==o&&(l=o.aa,o.aa=!0),s(this,n,r),null!==o&&(o.aa=l)}null!==t&&(this.uf!==t&&Th(t,this,r),wu(this),this.C(1)),this.g("fromNode",e,t),Tl(this)}}},fromPortId:{get:function(){return this.ff},set:function(t){var e=this.ff;if(e!==t){var n=this.fromPort;null!==n&&wi(n),Au(this),this.ff=t;var o=this.fromPort;null!==o&&wi(o);var r=this.diagram;if(null!==r){var s=this.data,l=r.model;null!==s&&l.ri()&&l.xv(s,t)}n!==o&&(this.Wf=null,this.bb(),null!==(s=this.fromPortChanged)&&(l=!0,null!==r&&(l=r.aa,r.aa=!0),s(this,n,o),null!==r&&(r.aa=l))),wu(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.ef;return null===t?null:t.ns(this.ff)}},fromPortChanged:{get:function(){return this.gn},set:function(t){var e=this.gn;e!==t&&(this.gn=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.uf},set:function(t){var e=this.uf;if(e!==t){var n=this.toPort;null!==e&&(this.ef!==e&&Ch(e,this,n),Au(this),this.C(2)),this.uf=t,null!==t&&this.Zb(t.isVisible()),this.Wf=null,this.bb();var o=this.diagram;null!==o&&o.aa&&o.partManager.setToNodeForLink(this,t,e);var r=this.toPort,s=this.toPortChanged;if(null!==s){var l=!0;null!==o&&(l=o.aa,o.aa=!0),s(this,n,r),null!==o&&(o.aa=l)}null!==t&&(this.ef!==t&&Th(t,this,r),wu(this),this.C(1)),this.g("toNode",e,t),Tl(this)}}},toPortId:{get:function(){return this.vf},set:function(t){var e=this.vf;if(e!==t){var n=this.toPort;null!==n&&wi(n),Au(this),this.vf=t;var o=this.toPort;null!==o&&wi(o);var r=this.diagram;if(null!==r){var s=this.data,l=r.model;null!==s&&l.ri()&&l.Cv(s,t)}n!==o&&(this.Wf=null,this.bb(),null!==(s=this.toPortChanged)&&(l=!0,null!==r&&(l=r.aa,r.aa=!0),s(this,n,o),null!==r&&(r.aa=l))),wu(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.uf;return null===t?null:t.ns(this.vf)}},toPortChanged:{get:function(){return this.uo},set:function(t){var e=this.uo;e!==t&&(this.uo=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Xi:Oe},set:function(t){var e=this.fromSpot;e.D(t)||(t=t.J(),this.Xc(),this.ba.Xi=t,this.g("fromSpot",e,t),(e.$c()||t.$c())&&null!==this.fromNode&&wi(this.fromPort),this.bb())}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Vi:NaN},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&Jt(t,">= 0",L,"fromEndSegmentLength"),this.Xc(),this.ba.Vi=t,this.g("fromEndSegmentLength",e,t),this.bb())}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Wi:NaN},set:function(t){var e=this.fromShortLength;e!==t&&(this.Xc(),this.ba.Wi=t,this.qc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.ba?this.ba.yj:Oe},set:function(t){var e=this.toSpot;e.D(t)||(t=t.J(),this.Xc(),this.ba.yj=t,this.g("toSpot",e,t),(e.$c()||t.$c())&&null!==this.toNode&&wi(this.toPort),this.bb())}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.wj:NaN},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&Jt(t,">= 0",L,"toEndSegmentLength"),this.Xc(),this.ba.wj=t,this.g("toEndSegmentLength",e,t),this.bb())}},toShortLength:{get:function(){return null!==this.ba?this.ba.xj:NaN},set:function(t){var e=this.toShortLength;e!==t&&(this.Xc(),this.ba.xj=t,this.qc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.wd&&0<this.wd.count}},labelNodes:{get:function(){return null===this.wd?dn:this.wd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Qa)},set:function(t){var e=0!=(1&this.Qa);e!==t&&(this.Qa^=1,this.g("relinkableFrom",e,t),this.Wb())}},relinkableTo:{get:function(){return 0!=(2&this.Qa)},set:function(t){var e=0!=(2&this.Qa);e!==t&&(this.Qa^=2,this.g("relinkableTo",e,t),this.Wb())}},resegmentable:{get:function(){return 0!=(4&this.Qa)},set:function(t){var e=0!=(4&this.Qa);e!==t&&(this.Qa^=4,this.g("resegmentable",e,t),this.Wb())}},isTreeLink:{get:function(){return 0!=(8&this.Qa)},set:function(t){var e=0!=(8&this.Qa);e!==t&&(this.Qa^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&Cu(this.fromNode),null!==this.toNode&&Cu(this.toNode))}},path:{get:function(){var t=this.Pb();return t instanceof ut?t:null}},routeBounds:{get:function(){this.vg();var t=this.ml,e=1/0,n=1/0,o=this.pointsCount;if(0===o)t.h(NaN,NaN,0,0);else{if(1===o)o=this.i(0),e=Math.min(o.x,e),n=Math.min(o.y,n),t.h(o.x,o.y,0,0);else if(2===o){o=this.i(0);var r=this.i(1);e=Math.min(o.x,r.x),n=Math.min(o.y,r.y),t.h(o.x,o.y,0,0),t.Ye(r)}else if(this.computeCurve()===ji&&3<=o&&!this.isOrthogonal)if(r=this.i(0),t.h(e=r.x,n=r.y,0,0),3===o){o=this.i(1),e=Math.min(o.x,e),n=Math.min(o.y,n);var s=this.i(2);e=Math.min(s.x,e),n=Math.min(s.y,n),N.Dl(r.x,r.y,o.x,o.y,o.x,o.y,s.x,s.y,.5,t)}else for(s=3;s<o;s+=3){var l=this.i(s-2);s+3>=o&&(s=o-1);var a=this.i(s-1),p=this.i(s);N.Dl(r.x,r.y,l.x,l.y,a.x,a.y,p.x,p.y,.5,t),e=Math.min(p.x,e),n=Math.min(p.y,n),r=p}else for(r=this.i(0),s=this.i(1),e=Math.min(r.x,s.x),n=Math.min(r.y,s.y),t.h(r.x,r.y,0,0),t.Ye(s),r=2;r<o;r++)s=this.i(r),e=Math.min(s.x,e),n=Math.min(s.y,n),t.Ye(s);this.su.h(e-t.x,n-t.y)}return t}},midPoint:{get:function(){return this.vg(),this.computeMidPoint(new w)}},midAngle:{get:function(){return this.vg(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.cq){this.fd||Ah(this);for(var t=this.cq=[],e=this.pointsCount,n=0;n<e-1;n++){var o=this.i(n),r=this.i(n+1);N.$(o.x,r.x)?0>(o=r.y-o.y)&&(o=-o):N.$(o.y,r.y)?0>(o=r.x-o.x)&&(o=-o):o=Math.sqrt(o.Bf(r)),t.push(o)}}return this.cq}},flattenedTotalLength:{get:function(){var t=this.vt;if(isNaN(t)){for(var e=this.flattenedLengths,n=e.length,o=t=0;o<n;o++)t+=e[o];this.vt=t}return t}},points:{get:function(){return this.Nb},set:function(t){var e=this.Nb;if(e!==t){var n=null;if(Array.isArray(t)){var o=t.length%2==0;if(o)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){o=!1;break}if(o)for(n=new H,o=0;o<t.length/2;o++)r=new w(t[2*o],t[2*o+1]).freeze(),n.add(r);else{for(o=!0,r=0;r<t.length;r++){var s=t[r];if(!Et(s)||"number"!=typeof s.x||isNaN(s.x)||"number"!=typeof s.y||isNaN(s.y)){o=!1;break}}if(o)for(n=new H,o=0;o<t.length;o++)n.add(new w((r=t[o]).x,r.y).freeze())}}else if(t instanceof H)for(n=t.copy(),t=n.iterator;t.next();)t.value.freeze();else q("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.Nb=n,this.qc(),Ah(this),null!==(t=this.diagram)&&(t.pi||t.undoManager.isUndoingRedoing||t.As.add(this),t.animationManager.zb&&vc(t.animationManager,this,n)),this.g("points",e,n)}}},pointsCount:{get:function(){return this.Nb.count}},fd:{get:function(){return 0!=(16&this.Qa)},set:function(t){0!=(16&this.Qa)!==t&&(this.Qa^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Qa)},set:function(t){0!=(32&this.Qa)!==t&&(this.Qa^=32)}},computingPoints:{get:function(){return 0!=(64&this.Qa)},set:function(t){0!=(64&this.Qa)!==t&&(this.Qa^=64)}},defaultFromPoint:{get:function(){return this.o},set:function(t){this.o=t.copy()}},defaultToPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.qj.value)}},isAvoiding:{get:function(){return 4==(4&this.qj.value)}},lk:{get:function(){return 0!=(128&this.Qa)},set:function(t){0!=(128&this.Qa)!==t&&(this.Qa^=128)}},geometry:{get:function(){if(!this.lk){if(this.vg(),2>this.pointsCount)return this.lk=!0,this.ua;this.ua=this.makeGeometry()}return this.ua}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Cl(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Cl(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.qk},set:function(t){var e=this.qk;e!==t&&(this.qk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Om},set:function(t){var e=this.Om;e!==t&&(this.Om=t,this.qc(),this.g("corner",e,t))}},curve:{get:function(){return this.Qm},set:function(t){var e=this.Qm;e!==t&&(this.Qm=t,this.bb(),this.qc(),Nh(this,e===Qo||e===wl||t===Qo||t===wl),this.g("curve",e,t))}},curviness:{get:function(){return this.Rm},set:function(t){var e=this.Rm;e!==t&&(this.Rm=t,this.bb(),this.qc(),this.g("curviness",e,t))}},routing:{get:function(){return this.qj},set:function(t){var e=this.qj;e!==t&&(this.qj=t,this.Wf=null,this.bb(),Nh(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.po},set:function(t){var e=this.po;e!==t&&(this.po=t,this.qc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.ri())return t.model.Ac(this.data)}}}),L.prototype.invalidateOtherJumpOvers=L.prototype.Xo,L.prototype.findClosestSegment=L.prototype.ez,L.prototype.updateRoute=L.prototype.vg,L.prototype.invalidateRoute=L.prototype.bb,L.prototype.rollbackRoute=L.prototype.rv,L.prototype.commitRoute=L.prototype.zf,L.prototype.startRoute=L.prototype.uh,L.prototype.clearPoints=L.prototype.Fj,L.prototype.removePoint=L.prototype.pv,L.prototype.addPointAt=L.prototype.yf,L.prototype.addPoint=L.prototype.ne,L.prototype.insertPointAt=L.prototype.m,L.prototype.insertPoint=L.prototype.Kz,L.prototype.setPointAt=L.prototype.L,L.prototype.setPoint=L.prototype.dd,L.prototype.getPoint=L.prototype.i,L.prototype.getOtherPort=L.prototype.Cz,L.prototype.getOtherNode=L.prototype.To;var Ds=null,Ss=null,Gd=new Q(L,"Normal",1),h2=new Q(L,"Orthogonal",2),p2=new Q(L,"AvoidsNodes",6),U1=new Q(L,"AvoidsNodesStraight",7),ni=new Q(L,"None",0),ji=new Q(L,"Bezier",9),Qo=new Q(L,"JumpGap",10),wl=new Q(L,"JumpOver",11),Mu=new Q(L,"End",17),kh=new Q(L,"Scale",18),Ih=new Q(L,"Stretch",19),Zu=new Q(L,"OrientAlong",21),ju=new Q(L,"OrientPlus90",22),Nu=new Q(L,"OrientMinus90",23),Hd=new Q(L,"OrientOpposite",24),Uh=new Q(L,"OrientUpright",25),ku=new Q(L,"OrientPlus90Upright",26),Iu=new Q(L,"OrientMinus90Upright",27),Fh=new Q(L,"OrientUpright45",28),F1=16,O1=14,Uu=8;function Oh(t,e,n,o){ye(this),this.Fe=this.qq=!1,this.Ds=t,this.Ox=e,this.cv=n,this.Px=o,this.links=[]}function Fu(t){ye(this),this.Yx=this.group=null,this.vs=!0,this.abort=!1,this.Od=this.Nd=1,this.Fn=this.En=-1,this.rc=t.width,this.sc=t.height,this.ac=null,this.ei=this.di=0,this.Os=11,this.Ix=this.Hx=22}function Al(t,e,n){return t.Nd<=e&&e<=t.En&&t.Od<=n&&n<=t.Fn}function so(t,e,n){return Al(t,e,n)?(e-=t.Nd,n-=t.Od,t.ac[0|(e/=t.rc)][0|(n/=t.sc)]):Kd}function L1(t){if(null!==t.ac)for(var e=0;e<=t.di;e++)for(var n=t.ac[e],o=0;o<=t.ei;o++)n[o]>=Yr&&(n[o]=Kd)}function lo(t,e,n,o,r,s,l,a,p){if(!(e<s||e>l||n<a||n>p)){var d=0|e,f=0|n,g=t.ac[d][f];if(g>=Yr&&g<Ml)for(r?f+=o:d+=o,g+=1;s<=d&&d<=l&&a<=f&&f<=p&&!(g>=t.ac[d][f]);)t.ac[d][f]=g,g+=1,r?f+=o:d+=o;if(d=r?f:d,r)if(0<o)for(n+=o;n<d;n+=o)lo(t,e,n,1,!r,s,l,a,p),lo(t,e,n,-1,!r,s,l,a,p);else for(n+=o;n>d;n+=o)lo(t,e,n,1,!r,s,l,a,p),lo(t,e,n,-1,!r,s,l,a,p);else if(0<o)for(e+=o;e<d;e+=o)lo(t,e,n,1,!r,s,l,a,p),lo(t,e,n,-1,!r,s,l,a,p);else for(e+=o;e>d;e+=o)lo(t,e,n,1,!r,s,l,a,p),lo(t,e,n,-1,!r,s,l,a,p)}}function Lh(t,e,n,o,r,s,l,a,p){var d=Go,f=Yr;for(t.ac[e|=0][n|=0]=f;d===Go&&e>s&&e<l&&n>a&&n<p;)t.ac[e][n]=f+=1,r?n+=o:e+=o,d=t.ac[e][n]}function bh(t,e,n,o,r,s,l,a,p){var d=Go,f=Ml;for(t.ac[e|=0][n|=0]=f;d===Go&&e>s&&e<l&&n>a&&n<p;)t.ac[e][n]=f,r?n+=o:e+=o,d=t.ac[e][n]}function b1(t,e,n,o,r,s,l){if(null!==t.ac){t.abort=!1;var a=e.x,p=e.y;if(Al(t,a,p)){a-=t.Nd,a/=t.rc,p-=t.Od,p/=t.sc;var d=o.x,f=o.y;if(Al(t,d,f))if(d-=t.Nd,d/=t.rc,f-=t.Od,f/=t.sc,1>=Math.abs(a-d)&&1>=Math.abs(p-f))t.abort=!0;else{var g=s.x;o=s.y,e=s.x+s.width;var m=s.y+s.height;g-=t.Nd,g/=t.rc,o-=t.Od,o/=t.sc,e-=t.Nd,e/=t.rc,m-=t.Od,m/=t.sc,s=Math.max(0,Math.min(t.di,0|g)),e=Math.min(t.di,Math.max(0,0|e)),g=Math.max(0,Math.min(t.ei,0|o)),m=Math.min(t.ei,Math.max(0,0|m)),d|=0,f|=0;var v=0===n||90===n?1:-1;if(n=90===n||270===n,(o=t.ac)[a|=0][p|=0]===Go?(Lh(t,a,p,v,n,s,e,g,m),Lh(t,a,p,1,!n,s,e,g,m),Lh(t,a,p,-1,!n,s,e,g,m)):Lh(t,a,p,v,n,a,p,a,p),o[d][f]===Go?(bh(t,d,f,0===r||90===r?1:-1,90===r||270===r,s,e,g,m),bh(t,d,f,1,!(90===r||270===r),s,e,g,m),bh(t,d,f,-1,!(90===r||270===r),s,e,g,m)):bh(t,d,f,v,n,d,f,d,f),n=bt(),l&&q1(t,d,f,r,a,p,n))for((n[0]!==d||n[1]!==f)&&(n.unshift(f),n.unshift(d)),(n[n.length-2]!==a||n[n.length-1]!==p)&&(n.push(a),n.push(p)),t=Yr,o[r=n[n.length-2]][l=n[n.length-1]]=t++,s=n.length-4;0<=s;s-=2)for(r=n[s+2],l=n[s+3],e=n[s],d=n[s+1];e>r?r++:e<r?r--:d>l?l++:d<l&&l--,o[r][l]=t++,r!==e||l!==d;);else lo(t,a,p,1,!1,s,e,g,m),lo(t,a,p,-1,!1,s,e,g,m),lo(t,a,p,1,!0,s,e,g,m),lo(t,a,p,-1,!0,s,e,g,m);Nt(n)}}}}function q1(t,e,n,o,r,s,l){for(var a=t.ac,p=e,d=n;;){if(p===r&&d===s)return!0;var f=p,g=d;if(0===o){if(!(f<r))break;f++}else if(90===o){if(!(g<s))break;g++}else if(180===o){if(!(f>r))break;f--}else{if(!(g>s))break;g--}var m=a[f][g];if(0===m||m===Vd)break;p=f,d=g}for(;;){if(f=o,g=p,m=d,0===o?m<s?(f=90,m++):m>s&&(f=270,m--):90===o?g<r?(f=0,g++):g>r&&(f=180,g--):180===o?m<s?(f=90,m++):m>s&&(f=270,m--):g<r?(f=0,g++):g>r&&(f=180,g--),g=a[g][m],f!==o&&0!==g&&g!==Vd){if(l.push(p),l.push(d),q1(t,p,d,f,r,s,l))return!0;l.pop(),l.pop()}if(a[p][d]=Vd,0===o){if(p===e)return!1;p--}else if(90===o){if(d===n)return!1;d--}else if(180===o){if(p===e)return!1;p++}else{if(d===n)return!1;d++}}}L.className="Link",L.Normal=Gd,L.Orthogonal=h2,L.AvoidsNodes=p2,L.AvoidsNodesStraight=U1,L.None=ni,L.Bezier=ji,L.JumpGap=Qo,L.JumpOver=wl,L.End=Mu,L.Scale=kh,L.Stretch=Ih,L.OrientAlong=Zu,L.OrientPlus90=ju,L.OrientMinus90=Nu,L.OrientOpposite=Hd,L.OrientUpright=Uh,L.OrientPlus90Upright=ku,L.OrientMinus90Upright=Iu,L.OrientUpright45=Fh,L.EndSegmentStep=8,L.CurvinessStart=F1,L.SpacingMin=O1,L.OrthoShortCut=Uu,Oh.prototype.Sl=function(){if(!this.qq){var t=this.links;0<t.length&&null!==(t=t[0].diagram)&&(t.ow.add(this),this.Fe=t.undoManager.isUndoingRedoing)}this.qq=!0},Oh.prototype.Nv=function(){if(this.qq){this.qq=!1;var t=this.links;if(0<t.length){var e=t[0],n=e.diagram;n=null===n||n.pi&&!this.Fe,this.Fe=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e.Sf=null,t.length=0)}0===t.length&&(t=this.Ds,null!==this&&null!==t.af&&t.af.remove(this),t=this.cv,null!==this&&null!==t.af&&t.af.remove(this))}},Oh.className="LinkBundle",Fu.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,o=t.y+t.height;if(this.Nd=Math.floor((t.x-this.rc)/this.rc)*this.rc,this.Od=Math.floor((e-this.sc)/this.sc)*this.sc,this.En=Math.ceil((n+2*this.rc)/this.rc)*this.rc,this.Fn=Math.ceil((o+2*this.sc)/this.sc)*this.sc,t=1+(0|Math.ceil((this.En-this.Nd)/this.rc)),e=1+(0|Math.ceil((this.Fn-this.Od)/this.sc)),null===this.ac||this.di<t-1||this.ei<e-1){for(n=[],o=0;o<=t;o++)n[o]=new Uint32Array(e);this.ac=n,this.di=t-1,this.ei=e-1}if(t=Kd,null!==this.ac)for(e=0;e<=this.di;e++)if((n=this.ac[e]).fill)n.fill(t);else for(o=0;o<=this.ei;o++)n[o]=t}},Fu.prototype.Yj=function(t,e,n,o){if(t>this.En||t+n<this.Nd||e>this.Fn||e+o<this.Od)return!0;t=(t-this.Nd)/this.rc|0,e=(e-this.Od)/this.sc|0,n=Math.max(0,n)/this.rc+1|0;var r=Math.max(0,o)/this.sc+1|0;if(0>t&&(n+=t,t=0),0>e&&(r+=e,e=0),0>n||0>r)return!0;for(o=0|Math.min(t+n-1,this.di),n=0|Math.min(e+r-1,this.ei);t<=o;t++){r=this.ac[t];for(var s=e;s<=n;s++)if(r[s]===Go)return!1}return!0},pt.Object.defineProperties(Fu.prototype,{bounds:{get:function(){return new U(this.Nd,this.Od,this.En-this.Nd,this.Fn-this.Od)}},Ho:{get:function(){return this.rc},set:function(t){0<t&&t!==this.rc&&(this.rc=t,this.initialize(this.bounds))}},Go:{get:function(){return this.sc},set:function(t){0<t&&t!==this.sc&&(this.sc=t,this.initialize(this.bounds))}}});var Go=0,Yr=1,Ml=999999,Kd=Ml+1,Vd=Ml+2;function Ts(){ye(this),this.port=this.node=null,this.pe=[],this.ap=!1}function c2(t,e,n,o){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<n?270:90;case 6:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return n>t&&n<=180+t?180:270;case 5:return n>180-t&&n<=360-t?270:0;case 12:return n>t&&n<=180+t?90:0;case 10:return n>180-t&&n<=360-t?180:90;case 7:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case 13:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case 14:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case 11:return n>180-t&&n<=180+t?180:n>180+t?270:90}return o&&15!==e&&0>(n-=15)&&(n+=360),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Y1(t,e){var n=t.pe;if(0===n.length){t:if(!t.ap){n=t.ap,t.ap=!0;var o=null,r=t.node,s=r instanceof rt?r:null;if(null===s||s.isSubGraphExpanded)var l=r.isTreeExpanded?r.findLinksConnected(t.port.portId):r.qx();else{if(!s.actualBounds.w()){t.ap=n;break t}l=(o=s).Lu()}s=t.pe.length=0;var a=t.port.ga(Ee,w.alloc()),p=t.port.ga(Xn,w.alloc());for((r=U.allocAt(a.x,a.y,0,0)).Ye(p),w.free(a),w.free(p),a=w.allocAt(r.x+r.width/2,r.y+r.height/2),p=t.port.li(),l=l.iterator;l.next();){var d=l.value;if(d.isVisible()&&d.fromPort!==d.toPort){var f=d.fromPort===t.port||null!==d.fromNode&&d.fromNode.Td(o),g=d.computeSpot(f,t.port);if(g.$c()&&null!==(f=f?d.toPort:d.fromPort)){var m=f.part;if(null!==m){var v=m.findVisibleNode();null!==v&&v!==m&&(f=(m=v).port),f=d.computeOtherPoint(m,f),m=a.ab(f),0>(m-=p)?m+=360:360<=m&&(m-=360),0===(g=c2(r,g,m,d.isOrthogonal))?(g=4,180<m&&(m-=360)):90===g?(g=8,270<m&&(m-=360)):180===g?g=2:(g=1,90>m&&(m+=360)),void 0===(v=t.pe[s])?(v=new zd(d,m,g),t.pe[s]=v):(v.link=d,v.angle=m,v.Nc=g),v.hv.set(f),s++}}}}for(w.free(a),t.pe.sort(Ts.prototype.j),p=t.pe.length,o=-1,s=a=0;s<p;s++)void 0!==(l=t.pe[s])&&(l.Nc!==o&&(o=l.Nc,a=0),l.Uo=a,a++);for(o=-1,a=0,s=p-1;0<=s;s--)void 0!==(p=t.pe[s])&&(p.Nc!==o&&(o=p.Nc,a=p.Uo+1),p.Gl=a);if(s=t.pe,g=t.port,o=t.node.portSpreading,a=w.alloc(),p=w.alloc(),l=w.alloc(),d=w.alloc(),g.ga(Ee,a),g.ga(qs,p),g.ga(Xn,l),g.ga(Ys,d),v=m=f=g=0,o===qd)for(var y=0;y<s.length;y++){var P=s[y];if(null!==P){var T=P.link.computeThickness();switch(P.Nc){case 8:m+=T;break;case 2:v+=T;break;case 1:g+=T;break;default:f+=T}}}var S=y=0,A=1,M=P=0;for(T=0;T<s.length;T++){var Z=s[T];if(null!==Z){if(y!==Z.Nc){switch(y=Z.Nc){case 8:var j=l;S=d;break;case 2:j=d,S=a;break;case 1:j=a,S=p;break;default:j=p,S=l}switch(P=S.x-j.x,M=S.y-j.y,y){case 8:m>Math.abs(P)?(A=Math.abs(P)/m,m=Math.abs(P)):A=1;break;case 2:v>Math.abs(M)?(A=Math.abs(M)/v,v=Math.abs(M)):A=1;break;case 1:g>Math.abs(P)?(A=Math.abs(P)/g,g=Math.abs(P)):A=1;break;default:f>Math.abs(M)?(A=Math.abs(M)/f,f=Math.abs(M)):A=1}S=0}var k=Z.Zo;if(o===qd){switch(Z=Z.link.computeThickness(),Z*=A,k.set(j),y){case 8:k.x=j.x+P/2+m/2-S-Z/2;break;case 2:k.y=j.y+M/2+v/2-S-Z/2;break;case 1:k.x=j.x+P/2-g/2+S+Z/2;break;default:k.y=j.y+M/2-f/2+S+Z/2}S+=Z}else{var J=.5;o===wh&&(J=(Z.Uo+1)/(Z.Gl+1)),k.x=j.x+P*J,k.y=j.y+M*J}}}for(w.free(a),w.free(p),w.free(l),w.free(d),j=t.pe,s=0;s<j.length;s++)null!==(o=j[s])&&(o.Ju=t.computeEndSegmentLength(o));t.ap=n,U.free(r)}n=t.pe}for(t=0;t<n.length;t++)if(null!==(r=n[t])&&r.link===e)return r;return null}function zd(t,e,n){this.link=t,this.angle=e,this.Nc=n,this.hv=new w,this.Gl=this.Uo=0,this.Zo=new w,this.Ju=0}function Yt(t){ye(this),this.o=this.H=null,this.Gh=this.sn=!0,this.yn=!1,this.Am=new w(0,0).freeze(),this.vn=!0,this.Em=this.un=null,this.xn=!1,this.j=null,t&&Object.assign(this,t)}function hr(t,e,n,o,r,s,l,a){for(n=n.iterator;n.next();){var p=n.value;o&&!p.isTopLevel||null!==r&&!r(p)||!p.canLayout()||(s&&p instanceof B?p.isLinkLabel||(p instanceof rt&&null===p.layout?hr(t,e,p.memberParts,!1,r,s,l,a):(Ou(p),e.add(p))):l&&p instanceof L?e.add(p):!a||!p.Zc()||p instanceof B||(Ou(p),e.add(p)))}}function Ou(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Va()}function It(t){ye(this),this.Sc=t,this.wf=new E,this.ye=new E,this.Es=new lt,this.zs=new lt}function J1(t,e){if(null===e)return!1;var n=t.wf.remove(e);return n&&null!==(e=e.node)&&t.Es.remove(e),n}function Xd(t,e){if(null!==e){t.ye.add(e);var n=e.link;null!==n&&null===t.Lo(n)&&t.zs.add(n,e),e.network=t}}function Wd(t,e){null!==e&&t.ye.remove(e)&&null!==(e=e.link)&&t.zs.remove(e)}function $d(t,e,n){if(null!==n&&n.network!==e){J1(t,n),e.dh(n);for(var o=n.sourceEdges;o.next();){var r=o.value;r.network!==e&&(Wd(t,r),Xd(e,r),$d(t,e,r.fromVertex))}for(o=n.destinationEdges;o.next();)(n=o.value).network!==e&&(Wd(t,n),Xd(e,n),$d(t,e,n.toVertex))}}function fe(t){ye(this),this.ob=t,this.j=new U(0,0,10,10).freeze(),this.o=new w(5,5).freeze(),this.Sh=this.ub=null,this.tg=new H,this.mg=new H}function tf(t,e){return e=e.Sh,(t=t.Sh)?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Ai(t){ye(this),this.nb=t,this.qd=this.kd=this.$k=this.ub=null}function we(t){Yt.call(this),this.isViewportSized=!0,this.yo=this.zo=NaN,this.yg=new ot(NaN,NaN).freeze(),this.tf=new ot(10,10).freeze(),this.Jb=Lu,this.Rb=Yh,this.nd=bu,this.hd=R1,t&&Object.assign(this,t)}function R1(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Fu.className="PositionArray",Ts.prototype.toString=function(){for(var t=this.pe,e=this.node.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var o=t[n];null!==o&&(e+="\n  "+o.toString())}return e},Ts.prototype.Sl=function(){this.pe.length=0},Ts.prototype.j=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Nc<e.Nc?-1:t.Nc>e.Nc?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Ts.prototype.computeEndSegmentLength=function(t){var e=t.link,n=e.computeEndSegmentLength(this.node,this.port,Fe,e.fromPort===this.port),o=t.Uo;if(0>o)return n;var r=t.Gl;if(1>=r||!e.isOrthogonal)return n;e=t.hv;var s=t.Zo;return(2===t.Nc||8===t.Nc)&&(o=r-1-o),((t=2===t.Nc||4===t.Nc)?e.y<s.y:e.x<s.x)?n+8*o:(t?e.y===s.y:e.x===s.x)?n:n+8*(r-1-o)},Ts.className="Knot",zd.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Nc.toString()+":"+this.Uo.toString()+"/"+this.Gl.toString()+" "+this.Zo.toString()+" "+this.Ju.toString()+" "+this.hv.toString()},zd.className="LinkInfo",Yt.prototype.cloneProtected=function(t){t.sn=this.sn,t.Gh=this.Gh,t.yn=this.yn,t.Am.assign(this.Am),t.vn=this.vn,t.un=this.un,t.Em=this.Em,t.xn=!0},Yt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Yt.prototype.qb=function(){},Yt.prototype.toString=function(){var t=is(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Yt.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Cc(),this.isOngoing&&t.pi||this.isInitial&&!t.pi)&&(this.isValidLayout=!1,t.$b())}}},Yt.prototype.createNetwork=function(){return new It(this)},Yt.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof I?(e.lg(t.nodes,!0),e.lg(t.links,!0)):e.lg(t instanceof rt?t.memberParts:t.iterator),e},Yt.prototype.updateParts=function(){this.isValidLayout=!0;var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var n=e.value.node;if(null!==n&&null!==(t=n.diagram))break}try{null!==t&&t.Ea("Layout"),this.commitLayout()}finally{null!==t&&t.eb("Layout")}},Yt.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Yt.prototype.doLayout=function(t){var e=new E;t instanceof I?(hr(this,e,t.nodes,!0,this.rh,!0,!1,!0),hr(this,e,t.parts,!0,this.rh,!0,!1,!0)):t instanceof rt?hr(this,e,t.memberParts,!1,this.rh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.Ea("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.eb("Layout")),this.isValidLayout=!0},Yt.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var n=this.arrangementOrigin.x,o=n,r=this.arrangementOrigin.y,s=0,l=0;for(t=t.iterator;t.next();){var a=t.value;Ou(a);var p=a.measuredBounds,d=p.width;p=p.height,a.moveTo(o,r),a instanceof rt&&(a.rh=!1),o+=Math.max(d,50)+20,l=Math.max(l,Math.max(p,50)),s>=e-1?(s=0,o=n,r+=l+20,l=0):s++}},Yt.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,n=e,o=this.arrangementOrigin.y,r=0,s=0,l=this.network.vertexes.iterator;l.next();){var a=l.value.node;if(!(null===a||a instanceof L)&&(Ou(a),this.rh(a))){var p=a.measuredBounds,d=p.width;p=p.height,a.moveTo(n,o),a instanceof rt&&(a.rh=!1),n+=Math.max(d,50)+20,s=Math.max(s,Math.max(p,50)),r>=t-1?(r=0,n=e,o+=s+20,s=0):r++}}},Yt.prototype.rh=function(t){return!(t.location.w()&&!(t instanceof rt&&t.rh))},Yt.prototype.ni=function(t,e){var n=this.boundsComputation;return null!==n?(e||(e=new U),n(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Yt.prototype.ex=function(t){var e=new E;return t instanceof I?(hr(this,e,t.nodes,!0,null,!0,!0,!0),hr(this,e,t.links,!0,null,!0,!0,!0),hr(this,e,t.parts,!0,null,!0,!0,!0)):hr(this,e,t instanceof rt?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Yt.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),null!==(e=e.placeholder)&&(n=e.ga(Ee),(isNaN(n.x)||isNaN(n.y))&&n.set(t),n.x+=(t=e.padding).left,n.y+=t.top),n}return t},pt.Object.defineProperties(Yt.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},group:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t,null!==t&&(this.H=t.diagram))}},isOngoing:{get:function(){return this.sn},set:function(t){this.sn!==t&&(this.sn=t)}},isInitial:{get:function(){return this.Gh},set:function(t){this.Gh=t,t||(this.xn=!0)}},isViewportSized:{get:function(){return this.yn},set:function(t){this.yn!==t&&(this.yn=t)&&this.C()}},isRouting:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t)}},isRealtime:{get:function(){return this.un},set:function(t){this.un!==t&&(this.un=t)}},isValidLayout:{get:function(){return this.xn},set:function(t){this.xn!==t&&(this.xn=t,t||null!==(t=this.diagram)&&(t.xh=!0))}},network:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.Em},set:function(t){this.Em!==t&&(this.Em=t,this.C())}},arrangementOrigin:{get:function(){return this.Am},set:function(t){this.Am.D(t)||(this.Am.assign(t),this.C())}}}),Yt.prototype.collectParts=Yt.prototype.ex,Yt.prototype.getLayoutBounds=Yt.prototype.ni,Yt.prototype.invalidateLayout=Yt.prototype.C,Yt.className="Layout",It.prototype.clear=function(){if(this.wf)for(var t=this.wf.iterator;t.next();)t.value.clear();if(this.ye)for(t=this.ye.iterator;t.next();)t.value.clear();this.wf=new E,this.ye=new E,this.Es=new lt,this.zs=new lt},It.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.wf.count+" edges: "+this.ye.count,1<t){for(var n=this.wf.iterator;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.ye.iterator;n.next();)e+="\n    "+n.value.toString(t-1)}return e},It.prototype.createVertex=function(){return new fe(this)},It.prototype.createEdge=function(){return new Ai(this)},It.prototype.lg=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),void 0===n&&(n=null),null===n&&(n=function(l){if(l instanceof B)return!l.isLinkLabel;if(l instanceof L){var a=l.fromNode;return null!==a&&!a.isLinkLabel&&!(null===(l=l.toNode)||l.isLinkLabel)}return!1}),t=t.iterator;t.next();){var o=t.value;if(o instanceof B&&(!e||o.isTopLevel)&&o.canLayout()&&n(o))if(o instanceof rt&&null===o.layout)this.lg(o.memberParts,!1);else if(null===this.ki(o)){var r=this.createVertex();r.node=o,this.dh(r)}}for(t.reset();t.next();)if((o=t.value)instanceof L&&(!e||o.isTopLevel)&&o.canLayout()&&n(o)&&null===this.Lo(o)){var s=o.fromNode;r=o.toNode,null!==s&&null!==r&&s!==r&&(s=this.findGroupVertex(s),r=this.findGroupVertex(r),null!==s&&null!==r&&this.Zj(s,r,o))}}},It.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.ki(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.ki(e)))return t;e=e.containingGroup}return null},(x=It.prototype).dh=function(t){if(null!==t){this.wf.add(t);var e=t.node;null!==e&&this.Es.add(e,t),t.network=this}},x.Bl=function(t){if(null===t)return null;var e=this.ki(t);return null===e&&((e=this.createVertex()).node=t,this.dh(e)),e},x.Iu=function(t){if(null!==t&&J1(this,t)){for(var e=t.tg,n=e.count-1;0<=n;n--){var o=e.M(n);this.Mj(o)}for(t=(e=t.mg).count-1;0<=t;t--)n=e.M(t),this.Mj(n)}},x.Zy=function(t){null!==t&&null!==(t=this.ki(t))&&this.Iu(t)},x.ki=function(t){return null===t?null:this.Es.I(t)},x.Bo=function(t){if(null!==t){Xd(this,t);var e=t.toVertex;null!==e&&e.Cl(t),null!==(e=t.fromVertex)&&e.zl(t)}},x.Dy=function(t){if(null===t)return null;var e=t.fromNode,n=t.toNode,o=this.Lo(t);return null===o?((o=this.createEdge()).link=t,null!==e&&(o.fromVertex=this.Bl(e)),null!==n&&(o.toVertex=this.Bl(n)),this.Bo(o)):(o.fromVertex=null!==e?this.Bl(e):null,o.toVertex=null!==n?this.Bl(n):null),o},x.Mj=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Kl(t),null!==(e=t.fromVertex)&&e.Jl(t),Wd(this,t)}},x.Yy=function(t){null!==t&&null!==(t=this.Lo(t))&&this.Mj(t)},x.Lo=function(t){return null===t?null:this.zs.I(t)},x.Zj=function(t,e,n){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var o=this.createEdge();return o.link=n,o.fromVertex=t,o.toVertex=e,this.Bo(o),o}return null},x.gm=function(t){if(null!==t){var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.Jl(t),n.Kl(t),t.gm(),e.Cl(t),n.zl(t))}},x.Ko=function(){for(var t=bt(),e=this.ye.iterator;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.Mj(t[n]);Nt(t)},It.prototype.deleteArtificialVertexes=function(){for(var t=bt(),e=this.wf.iterator;e.next();){var n=e.value;null===n.node&&null===n.data&&t.push(n)}for(n=t.length,e=0;e<n;e++)this.Iu(t[e]);for(e=bt(),n=this.ye.iterator;n.next();){var o=n.value;null===o.link&&null===o.data&&e.push(o)}for(n=e.length,o=0;o<n;o++)this.Mj(e[o]);Nt(t),Nt(e)},It.prototype.Zx=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function d2(t){for(var e=bt(),n=t.ye.iterator;n.next();){var o=n.value;null!==o.fromVertex&&null!==o.toVertex||e.push(o)}for(n=e.length,o=0;o<n;o++)t.Mj(e[o]);Nt(e)}(this),this.Ko()),t=new H;for(var e=!0;e;){e=!1;for(var n=this.wf.iterator;n.next();){var o=n.value;if(0<o.tg.count||0<o.mg.count){e=this.layout.createNetwork(),t.add(e),$d(this,e,o),e=!0;break}}}return t.sort(function(r,s){return null===r||null===s||r===s?0:s.vertexes.count-r.vertexes.count}),t},It.prototype.dz=function(){for(var t=new E,e=this.wf.iterator;e.next();)t.add(e.value.node);for(e=this.ye.iterator;e.next();)t.add(e.value.link);return t},pt.Object.defineProperties(It.prototype,{layout:{get:function(){return this.Sc},set:function(t){null!==t&&(this.Sc=t)}},vertexes:{get:function(){return this.wf}},edges:{get:function(){return this.ye}}}),It.prototype.findAllParts=It.prototype.dz,It.prototype.splitIntoSubNetworks=It.prototype.Zx,It.prototype.deleteSelfEdges=It.prototype.Ko,It.prototype.reverseEdge=It.prototype.gm,It.prototype.linkVertexes=It.prototype.Zj,It.prototype.findEdge=It.prototype.Lo,It.prototype.deleteLink=It.prototype.Yy,It.prototype.deleteEdge=It.prototype.Mj,It.prototype.addLink=It.prototype.Dy,It.prototype.addEdge=It.prototype.Bo,It.prototype.findVertex=It.prototype.ki,It.prototype.deleteNode=It.prototype.Zy,It.prototype.deleteVertex=It.prototype.Iu,It.prototype.addNode=It.prototype.Bl,It.prototype.addVertex=It.prototype.dh,It.prototype.addParts=It.prototype.lg,It.className="LayoutNetwork",fe.prototype.clear=function(){this.Sh=this.ub=null,this.tg=new H,this.mg=new H},fe.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+ui(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var n=!0,o=this.tg.iterator;o.next();){var r=o.value;n?n=!1:t+=",",t+=r.toString(0)}for(r="",n=!0,o=this.mg.iterator;o.next();)n?n=!1:r+=",",r+=o.value.toString(0);e+=" sources: "+t+" destinations: "+r}return e},fe.prototype.commit=function(){var t=this.ub;if(null!==t){var e=this.bounds,n=t.bounds;Et(n)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof rt)){n=U.alloc(),t.Va();var o=this.network.layout.ni(t,n),r=t.locationObject.ga(Mt);if(o.w()&&r.w())return t.moveTo(e.x+this.focusX-(r.x-o.x),e.y+this.focusY-(r.y-o.y)),void U.free(n);U.free(n)}t.moveTo(e.x,e.y)}},fe.prototype.Cl=function(t){null!==t&&(this.tg.contains(t)||this.tg.add(t))},fe.prototype.Kl=function(t){null!==t&&this.tg.remove(t)},fe.prototype.zl=function(t){null!==t&&(this.mg.contains(t)||this.mg.add(t))},fe.prototype.Jl=function(t){null!==t&&this.mg.remove(t)},pt.Object.defineProperties(fe.prototype,{sourceEdgesArrayAccess:{get:function(){return this.tg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.mg._dataArray}},data:{get:function(){return this.ub},set:function(t){if(this.ub=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var n=e.y,o=e.width;this.o.h(o/2,(e=e.height)/2),this.j.h(t,n,o,e)}}},node:{get:function(){return this.Sh},set:function(t){if(this.Sh!==t){this.Sh=t,t.Va();var e=this.network.layout,n=U.alloc(),o=e.ni(t,n);e=o.x;var r=o.y,s=o.width;if(o=o.height,isNaN(e)&&(e=0),isNaN(r)&&(r=0),this.j.h(e,r,s,o),U.free(n),!(t instanceof rt)&&(t=t.locationObject.ga(Mt)).w())return void this.o.h(t.x-e,t.y-r);this.o.h(s/2,o/2)}}},bounds:{get:function(){return this.j},set:function(t){this.j.D(t)||this.j.assign(t)}},focus:{get:function(){return this.o},set:function(t){this.o.D(t)||this.o.assign(t)}},centerX:{get:function(){return this.j.x+this.o.x},set:function(t){var e=this.j;e.x+this.o.x!==t&&(e.ka(),e.x=t-this.o.x,e.freeze())}},centerY:{get:function(){return this.j.y+this.o.y},set:function(t){var e=this.j;e.y+this.o.y!==t&&(e.ka(),e.y=t-this.o.y,e.freeze())}},focusX:{get:function(){return this.o.x},set:function(t){var e=this.o;e.x!==t&&(e.ka(),e.x=t,e.freeze())}},focusY:{get:function(){return this.o.y},set:function(t){var e=this.o;e.y!==t&&(e.ka(),e.y=t,e.freeze())}},x:{get:function(){return this.j.x},set:function(t){var e=this.j;e.x!==t&&(e.ka(),e.x=t,e.freeze())}},y:{get:function(){return this.j.y},set:function(t){var e=this.j;e.y!==t&&(e.ka(),e.y=t,e.freeze())}},width:{get:function(){return this.j.width},set:function(t){var e=this.j;e.width!==t&&(e.ka(),e.width=t,e.freeze())}},height:{get:function(){return this.j.height},set:function(t){var e=this.j;e.height!==t&&(e.ka(),e.height=t,e.freeze())}},network:{get:function(){return this.ob},set:function(t){this.ob=t}},sourceVertexes:{get:function(){for(var t=new E,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new E,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new E,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.tg.iterator}},destinationEdges:{get:function(){return this.mg.iterator}},edges:{get:function(){for(var t=new H,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.tg.count+this.mg.count}}}),fe.prototype.deleteDestinationEdge=fe.prototype.Jl,fe.prototype.addDestinationEdge=fe.prototype.zl,fe.prototype.deleteSourceEdge=fe.prototype.Kl,fe.prototype.addSourceEdge=fe.prototype.Cl,fe.className="LayoutVertex",fe.standardComparer=tf,fe.smartComparer=function(t,e){if(null!==t){if(null!==e){var n=e.Sh;if(null!==(t=t.Sh)){if(null!==n){for(e=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=n.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),n=0;n<e.length;n++)if(""!==t[n]&&void 0!==t[n]){var o=parseFloat(e[n]),r=parseFloat(t[n]);if(isNaN(o)){if(!isNaN(r))return 1;if(0!==e[n].localeCompare(t[n]))return e[n].localeCompare(t[n])}else{if(isNaN(r))return-1;if(o-r!=0)return o-r}}else if(""!==e[n])return 1;return""!==t[n]&&void 0!==t[n]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Ai.prototype.clear=function(){this.qd=this.kd=this.$k=this.ub=null},Ai.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+ui(this);return 0<t&&(e+=null!==this.$k?"("+this.$k.toString()+")":"",1<t&&(e+=" "+(this.kd?this.kd.toString():"null")+" --\x3e "+(this.qd?this.qd.toString():"null"))),e},Ai.prototype.gm=function(){var t=this.kd;this.kd=this.qd,this.qd=t},Ai.prototype.commit=function(){},Ai.prototype.Ax=function(t){return this.qd===t?this.kd:this.kd===t?this.qd:null},pt.Object.defineProperties(Ai.prototype,{network:{get:function(){return this.nb},set:function(t){this.nb=t}},data:{get:function(){return this.ub},set:function(t){this.ub!==t&&(this.ub=t)}},link:{get:function(){return this.$k},set:function(t){this.$k!==t&&(this.$k=t)}},fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}}}),Ai.prototype.getOtherVertex=Ai.prototype.Ax,Ai.className="LayoutEdge",At(we,Yt),we.prototype.cloneProtected=function(t){Yt.prototype.cloneProtected.call(this,t),t.zo=this.zo,t.yo=this.yo,t.yg.assign(this.yg),t.tf.assign(this.tf),t.Jb=this.Jb,t.Rb=this.Rb,t.nd=this.nd,t.hd=this.hd},we.prototype.qb=function(t){t.classType===we?t===bu||t===Rh||t===ef||t===Jh?this.sorting=t:t===Yh||t===In?this.arrangement=t:t===Lu||t===qh?this.alignment=t:q("Unknown enum value: "+t):Yt.prototype.qb.call(this,t)},we.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.ex(t);t=this.diagram;for(var n=e.copy().iterator;n.next();){var o=n.value;if(!o.ph()||null===o.fromNode&&null===o.toNode){if(o.Va(),o instanceof rt)for(o=o.memberParts;o.next();)e.remove(o.value)}else e.remove(o)}var r=e.Fa();if(0!==r.length){switch(this.sorting){case Jh:r.reverse();break;case bu:r.sort(this.comparer);break;case Rh:r.sort(this.comparer),r.reverse()}var s=this.wrappingColumn;isNaN(s)&&(s=0);var l=this.wrappingWidth;switch(isNaN(l)&&null!==t?(e=t.padding,l=Math.max(t.viewportBounds.width-e.left-e.right,0)):l=Math.max(this.wrappingWidth,0),0>=s&&0>=l&&(s=1),e=this.spacing.width,isFinite(e)||(e=0),n=this.spacing.height,isFinite(n)||(n=0),null!==t&&t.Ea("Layout"),o=[],this.alignment){case qh:var a=e,p=n,d=U.alloc(),f=Math.max(this.cellSize.width,1);if(!isFinite(f))for(var g=f=0;g<r.length;g++){var m=this.ni(r[g],d);f=Math.max(f,m.width)}if(f=Math.max(f+a,1),g=Math.max(this.cellSize.height,1),!isFinite(g))for(m=g=0;m<r.length;m++){var v=this.ni(r[m],d);g=Math.max(g,v.height)}g=Math.max(g+p,1),m=this.arrangement;for(var y=v=this.arrangementOrigin.x,P=this.arrangementOrigin.y,T=0,S=0,A=0;A<r.length;A++){var M=r[A],Z=this.ni(M,d),j=Math.ceil((Z.width+a)/f)*f,k=Math.ceil((Z.height+p)/g)*g;if(m===In)var J=Math.abs(y-Z.width);else J=y+Z.width;(0<s&&T>s-1||0<l&&0<T&&J-v>l)&&(o.push(new U(0,P,l+a,S)),T=0,y=v,P+=S,S=0),S=Math.max(S,k),M.moveTo(y+(Z=m===In?-Z.width:0),P),m===In?y-=j:y+=j,T++}o.push(new U(0,P,l+a,S)),U.free(d);break;case Lu:for(p=l,f=s,g=e,m=n,l=U.alloc(),v=Math.max(this.cellSize.width,1),s=P=d=0,a=w.alloc(),y=0;y<r.length;y++)T=this.ni(S=r[y],l),S=Ro(S,S.locationObject,S.locationSpot,a),d=Math.max(d,S.x),P=Math.max(P,T.width-S.x),s=Math.max(s,S.y);(y=this.arrangement)===In?d+=g:P+=g,v=isFinite(v)?Math.max(v+g,1):Math.max(d+P,1);var V=S=this.arrangementOrigin.x;for(A=this.arrangementOrigin.y,P=0,p>=d&&(p-=d),d=M=0,j=Math.max(this.cellSize.height,1),Z=s=0,k=!0,T=w.alloc(),J=0;J<r.length;J++){var K=r[J],b=this.ni(K,l),F=Ro(K,K.locationObject,K.locationSpot,a);if(0<P?y===In?(V=(V-S-(b.width-F.x))/v,V=(V=N.$(Math.round(V),V)?Math.round(V):Math.floor(V))*v+S):(V=(V-S+F.x)/v,V=(V=N.$(Math.round(V),V)?Math.round(V):Math.ceil(V))*v+S):M=y===In?V+F.x+b.width:V-F.x,y===In)var st=-(V+F.x)+M;else st=V+b.width-F.x-M;if(0<f&&P>f-1||0<p&&0<P&&st>p){for(o.push(new U(0,k?A-s:A,p+g,Z+s+m)),V=0;V<P&&J!==P;V++){var it=Ro(st=r[J-P+V],st.locationObject,st.locationSpot,T);st.moveTo(st.position.x,st.position.y+s-it.y)}Z+=m,A=k?A+Z:A+(Z+s),P=Z=s=0,V=S,k=!1}V===S&&(d=y===In?Math.max(d,b.width-F.x):Math.min(d,-F.x)),s=Math.max(s,F.y),Z=Math.max(Z,b.height-F.y),isFinite(j)&&(Z=Math.max(Z,Math.max(b.height,j)-F.y)),K.moveTo(V-F.x,k?A-F.y:A),y===In?V-=F.x+g:V+=b.width-F.x+g,P++}if(o.push(new U(0,A,p+g,(k?Z:Z+s)+m)),r.length!==P)for(p=0;p<P;p++)g=Ro(f=r[r.length-P+p],f.locationObject,f.locationSpot,a),f.moveTo(f.position.x,f.position.y+s-g.y);if(w.free(a),w.free(T),y===In)for(r=0;r<o.length;r++)(s=o[r]).width+=d,s.x-=d;else for(r=0;r<o.length;r++)(s=o[r]).x>d&&(s.width+=s.x-d,s.x=d);U.free(l)}for(a=s=l=r=0;a<o.length;a++)p=o[a],r=Math.min(r,p.x),l=Math.min(l,p.y),s=Math.max(s,p.x+p.width);this.commitLayers(o,new w(this.arrangement===In?r+e/2-(s+r):r-e/2,l-n/2)),null!==t&&t.eb("Layout"),this.isValidLayout=!0}},we.prototype.commitLayers=function(){},pt.Object.defineProperties(we.prototype,{wrappingWidth:{get:function(){return this.zo},set:function(t){this.zo!==t&&(0<t||isNaN(t))&&(this.zo=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.yo},set:function(t){this.yo!==t&&(0<t||isNaN(t))&&(this.yo=t,this.C())}},cellSize:{get:function(){return this.yg},set:function(t){this.yg.D(t)||(this.yg.assign(t),this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf.D(t)||(this.tf.assign(t),this.C())}},alignment:{get:function(){return this.Jb},set:function(t){this.Jb===t||t!==Lu&&t!==qh||(this.Jb=t,this.C())}},arrangement:{get:function(){return this.Rb},set:function(t){this.Rb===t||t!==Yh&&t!==In||(this.Rb=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==ef&&t!==Jh&&t!==bu&&t!==Rh||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}}});var qh=new Q(we,"Position",0),Lu=new Q(we,"Location",1),Yh=new Q(we,"LeftToRight",2),In=new Q(we,"RightToLeft",3),ef=new Q(we,"Forward",4),Jh=new Q(we,"Reverse",5),bu=new Q(we,"Ascending",6),Rh=new Q(we,"Descending",7);function Tt(){this.On=new E,this.Dn=new E,this.Pa=new E,this.cf=new lt,this.bf=new lt,this.aj=new lt,this.H=null,this.tp=!1}function E1(t,e,n){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.cf.contains(e)){void 0===n&&(n=!0);t:{if(null!=e&&!t.H.undoManager.isUndoingRedoing&&!t.cf.contains(e)){var o=t.Ro(e),r=B1(t,e,o);if(null!==r&&(an(r),null!==(r=r.copy()))){var s=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,r.Tf=o,r.ub=e,t.tp&&(r.Jg="Tool"),t.diagram.add(r),r.ub=null,r.data=e,t.diagram.skipsModelSourceBindings=s,o=r;break t}}o=null}null!==o&&n&&t.resolveReferencesForData(e)}}function B1(t,e,n){var o=(t=t.H).model;return o.Xj()&&o.Yu(e)?null===(e=t.groupTemplateMap.I(n))&&null===(e=t.groupTemplateMap.I(""))&&(H1||(H1=!0,Di('No Group template found for category "'+n+'"'),Di("  Using default group template")),e=t.ly):null===(e=t.nodeTemplateMap.I(n))&&null===(e=t.nodeTemplateMap.I(""))&&(G1||(G1=!0,Di('No Node template found for category "'+n+'"'),Di("  Using default node template")),e=t.ny),e}function nf(t,e,n){for(var o in n){var r=e[o],s=n[o];if(De(s)){if(!De(r)||r.length<s.length)return!1;for(var l=0;l<r.length;l++){var a=s[l];if(void 0!==a&&!Q1(t,r[l],a))return!1}}else if(!Q1(t,r,s))return!1}return!0}function Q1(t,e,n){if("function"==typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(Et(e)&&Et(n)){if(!nf(t,e,n))return!1}else if(e!==n)return!1;return!0}function of(t,e){var n=e.Hh;if(De(n)){var o=t.aj.I(n);if(null===o)(o=[]).push(e),t.aj.add(n,o);else{for(t=0;t<o.length;t++)if(o[t]===e)return;o.push(e)}}}function rf(t,e,n){Fr(e,function(l){for(var a=(l=l.O.s).length,p=0;p<a;p++)Fc(n,l[p])});var o=e.Hh;if(De(o)){var r=t.aj.I(o);if(null!==r)for(var s=0;s<r.length;s++)if(r[s]===e){r.splice(s,1),0===r.length&&t.aj.remove(o);break}}}function Eh(t,e,n,o,r){if(null===e||r&&!e.canCopy())return null;if(o.contains(e))return o.I(e);var s=t.copyPartData(e,n);if(!(s instanceof W))return null;if(s.isSelected=!1,s.isHighlighted=!1,o.add(e,s),e instanceof B){for(var l=e.linksConnected;l.next();){var a=l.value;if(a.fromNode===e){var p=o.I(a);null!==p&&(p.fromNode=s)}a.toNode===e&&null!==(a=o.I(a))&&(a.toNode=s)}if(e instanceof rt&&s instanceof rt)for(e=e.memberParts;e.next();)(l=Eh(t,e.value,n,o,r))instanceof L||null===l||(l.containingGroup=s)}else if(e instanceof L&&s instanceof L)for(null!==(l=e.fromNode)&&null!==(l=o.I(l))&&(s.fromNode=l),null!==(l=e.toNode)&&null!==(l=o.I(l))&&(s.toNode=l),e=e.labelNodes;e.next();)null!==(l=Eh(t,e.value,n,o,r))&&l instanceof B&&(l.labeledLink=s);return s}we.className="GridLayout",we.standardComparer=R1,we.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var n=0;n<t.length;n++)if(""!==e[n]&&void 0!==e[n]){var o=parseFloat(t[n]),r=parseFloat(e[n]);if(isNaN(o)){if(!isNaN(r))return 1;if(0!==t[n].localeCompare(e[n]))return t[n].localeCompare(e[n])}else{if(isNaN(r))return-1;if(o-r!=0)return o-r}}else if(""!==t[n])return 1;return""!==e[n]&&void 0!==e[n]?-1:0}return 1}return null!==e?-1:0},we.Position=qh,we.Location=Lu,we.LeftToRight=Yh,we.RightToLeft=In,we.Forward=ef,we.Reverse=Jh,we.Ascending=bu,we.Descending=Rh,(x=Tt.prototype).clear=function(){this.On.clear(),this.Dn.clear(),this.Pa.clear(),this.cf.clear(),this.bf.clear(),this.aj.clear()},x.Xe=function(t){this.H=t},x.oi=function(t){if(t instanceof B){if(this.On.add(t),t instanceof rt){var e=t.containingGroup;null===e?this.H.ai.add(t):e.gl.add(t),null!==(e=t.layout)&&(e.diagram=this.H)}}else t instanceof L?this.Dn.add(t):t instanceof mt||this.Pa.add(t);null===(e=t.data)||t instanceof mt||(t instanceof L?this.bf.add(e,t):this.cf.add(e,t))},x.pc=function(t){if(t.Ej(),t instanceof B){if(this.On.remove(t),t instanceof rt){var e=t.containingGroup;null===e?this.H.ai.remove(t):e.gl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof L?this.Dn.remove(t):t instanceof mt||this.Pa.remove(t);null===(e=t.data)||t instanceof mt||(t instanceof L?this.bf.remove(e):this.cf.remove(e))},x.Wd=function(){var t=this.H;if(null!==t){for(var e=t.nodeTemplateMap.iterator;e.next();){var n=e.value,o=e.key;(!n.Zc()||n instanceof rt)&&q('Invalid node template in Diagram.nodeTemplateMap: template for "'+o+'" must be a Node or a simple Part, not a Group or Link: '+n)}for(e=t.groupTemplateMap.iterator;e.next();)o=e.key,(n=e.value)instanceof rt||q('Invalid group template in Diagram.groupTemplateMap: template for "'+o+'" must be a Group, not a normal Node or Link: '+n);for(e=t.linkTemplateMap.iterator;e.next();)o=e.key,(n=e.value)instanceof L||q('Invalid link template in Diagram.linkTemplateMap: template for "'+o+'" must be a Link, not a normal Node or simple Part: '+n);for(e=bt(),n=t.selection.iterator;n.next();)(o=n.value.data)&&e.push(o);for(n=bt(),t=t.highlighteds.iterator;t.next();)(o=t.value.data)&&n.push(o);for(t=bt(),o=this.nodes.iterator;o.next();){var r=o.value;null!==r.data&&(t.push(r.data),t.push(r.location))}for(o=this.links.iterator;o.next();)null!==(r=o.value).data&&(t.push(r.data),t.push(r.location));for(o=this.parts.iterator;o.next();)null!==(r=o.value).data&&(t.push(r.data),t.push(r.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),o=0;o<e.length;o++)null!==(r=this.Lc(e[o]))&&(r.isSelected=!0);for(o=0;o<n.length;o++)null!==(r=this.Lc(n[o]))&&(r.isHighlighted=!0);for(o=0;o<t.length;o+=2)null!==(r=this.Lc(t[o]))&&(r.location=t[o+1]);Nt(e),Nt(n),Nt(t)}},Tt.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Tt.prototype.addModeledParts=function(t,e){var n=this,o=this.diagram.model;t.forEach(function(r){o.lb(r)&&E1(n,r,!1)}),t.forEach(function(r){o.lb(r)&&n.resolveReferencesForData(r)}),!1!==e&&La(this.diagram,!1)},Tt.prototype.insertLink=function(){return null},Tt.prototype.resolveReferencesForData=function(){},Tt.prototype.Ro=function(t){return this.H.model.Ro(t)},Tt.prototype.getLinkCategoryForData=function(){return""},Tt.prototype.setLinkCategoryForData=function(){},Tt.prototype.setFromNodeForLink=function(){},Tt.prototype.setToNodeForLink=function(){},Tt.prototype.findLinkTemplateForCategory=function(t){var e=this.H,n=e.linkTemplateMap.I(t);return null===n&&null===(n=e.linkTemplateMap.I(""))&&(K1||(K1=!0,Di('No Link template found for category "'+t+'"'),Di("  Using default link template")),n=e.my),n},Tt.prototype.removeAllModeledParts=function(){this.Gs(this.diagram.model.nodeDataArray)},Tt.prototype.Gs=function(t){var e=this;t.forEach(function(n){e.ip(n)})},Tt.prototype.ip=function(t){null!==(t=this.Lc(t))&&(Zc(this.diagram,t,!1),this.unresolveReferencesForPart(t))},Tt.prototype.unresolveReferencesForPart=function(){},Tt.prototype.removeDataForLink=function(){},Tt.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.H.model.hc(t))?this.cf.I(t):null},Tt.prototype.Vb=function(t){return null==t||null===(t=this.H.model.hc(t))?null:(t=this.cf.I(t))instanceof B?t:null},Tt.prototype.findLinkForKey=function(){return null},(x=Tt.prototype).Lc=function(t){if(null===t)return null;var e=this.cf.I(t);return null!==e?e:e=this.bf.I(t)},x.ii=function(t){return null===t?null:(t=this.cf.I(t))instanceof B?t:null},x.Kc=function(t){return null===t?null:this.bf.I(t)},x.ms=function(t){for(var e=0;e<arguments.length;++e);e=new E;for(var n=this.On.iterator;n.next();){var o=n.value,r=o.data;if(null!==r)for(var s=0;s<arguments.length;s++){var l=arguments[s];if(Et(l)&&nf(this,r,l)){e.add(o);break}}}return e.iterator},x.ls=function(t){for(var e=0;e<arguments.length;++e);e=new E;for(var n=this.Dn.iterator;n.next();){var o=n.value,r=o.data;if(null!==r)for(var s=0;s<arguments.length;s++){var l=arguments[s];if(Et(l)&&nf(this,r,l)){e.add(o);break}}}return e.iterator},Tt.prototype.doModelChanged=function(t){if(this.H){var e=this.H;if(t.model===e.model){var n=t.change;if(e.doModelChanged(t),e.aa){e.aa=!1;try{var o=t.modelChange;if(""!==o)if(n===Bt){if("nodeCategory"===o){var r=this.Lc(t.object),s=t.newValue;null!==r&&"string"==typeof s&&(r.category=s)}else"nodeDataArray"===o&&(this.Gs(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(n===ge){var l=t.newValue;"nodeDataArray"===o&&Et(l)&&E1(this,l),e.isModified=!0}else if(n===_e){var a=t.oldValue;"nodeDataArray"===o&&Et(a)&&this.ip(a),e.isModified=!0}else n===Zn&&("SourceChanged"===o?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.rp(),this.updateAllTargetBindings()):"ModelDisplaced"===o&&this.Wd());else if(n===Bt){var p=t.propertyName,d=t.object;d===e.model?("nodeKeyProperty"===p||"nodeCategoryProperty"===p)&&(e.undoManager.isUndoingRedoing||this.Wd()):this.updateDataBindings(d,p),e.isModified=!0}else if(n===ge||n===_e){var f=t.change===ge,g=f?t.newParam:t.oldParam,m=f?t.newValue:t.oldValue,v=this.aj.I(t.object);if(Array.isArray(v))for(t=0;t<v.length;t++){var y=v[t];if(f)lh(y,m,g,!0);else if(!(0>g)){var P=g+yu(y);y.pc(P,!0),md(y,P,g)}}e.isModified=!0}}finally{e.aa=!0}}}}},Tt.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.La(t);for(e=this.nodes.iterator;e.next();)e.value.La(t);for(e=this.links.iterator;e.next();)e.value.La(t)},Tt.prototype.rp=function(){for(var t=this.H.model,e=new E,n=t.nodeDataArray,o=0;o<n.length;o++)e.add(n[o]);var r=[];for(this.nodes.each(function(l){null===l.data||e.contains(l.data)||r.push(l.data)}),this.parts.each(function(l){null===l.data||e.contains(l.data)||r.push(l.data)}),r.forEach(function(l){nm(t,l,!1)}),o=0;o<n.length;o++){var s=n[o];null===this.Lc(s)&&im(t,s,!1)}for(this.refreshDataBoundLinks(),n=this.parts.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.nodes.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.links.iterator;n.next();)n.value.updateRelationshipsFromData()},Tt.prototype.refreshDataBoundLinks=function(){},Tt.prototype.updateRelationshipsFromData=function(){},Tt.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var n=this.Lc(t);if(null!==n)n.La(e);else{n=null;for(var o=this.aj.iterator;o.next();){for(var r=o.value,s=0;s<r.length;s++){var l=r[s].sx(t);null!==l&&(null===n&&(n=bt()),n.push(l))}if(null!==n)break}if(null!==n){for(o=0;o<n.length;o++)n[o].La(e);Nt(n)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},Tt.prototype.Kj=function(t,e,n){void 0===n&&(n=!1);var o=new lt;if(De(t))for(var r=0;r<t.length;r++)Eh(this,t[r],e,o,n);else for(t=t.iterator;t.next();)Eh(this,t.value,e,o,n);if(null!==e){n=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.Wm.dragsLink,r=new E;for(var s=new lt,l=o.iterator;l.next();){var a=l.value;if(a instanceof L)t||null!==a.fromNode&&null!==a.toNode||r.add(a);else if(a instanceof B&&null!==a.data&&n.Tl()){var p=a,d=(a=l.key).pg();null!==d&&(null!==(d=o.I(d))?(n.qe(p.data,n.wa(d.data)),p=e.Kc(p.data),null!==(a=a.kh())&&null!==p&&s.add(a,p)):n.qe(p.data,void 0))}}if(0<r.count&&e.Is(r,!1),0<s.count)for(n=s.iterator;n.next();)o.add(n.key,n.value)}if(null!==e&&null!==this.H&&null!==(n=(e=e.model).afterCopyFunction)){var f=new lt;o.each(function(g){null!==g.key.data&&f.add(g.key.data,g.value.data)}),n(f,e,this.H.model)}for(e=o.iterator;e.next();)e.value.La();return o},Tt.prototype.copyPartData=function(t,e){var n=null,o=t.data;if(null!==o&&null!==e){var r=e.model;t instanceof L||Et(o=r.copyNodeData(o))&&(r.xf(o),n=e.Lc(o))}else an(t),null!==(n=t.copy())&&(r=this.H,null!==e?e.add(n):null!==o&&null!==r&&null!==r.commandHandler&&r.commandHandler.copiesClipboardData&&(e=r.model,r=null,n instanceof L||(r=e.copyNodeData(o)),Et(r)&&(n.data=r)));return n},pt.Object.defineProperties(Tt.prototype,{nodes:{get:function(){return this.On}},links:{get:function(){return this.Dn}},parts:{get:function(){return this.Pa}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.tp},set:function(t){this.tp=t}}}),Tt.prototype.updateAllRelationshipsFromData=Tt.prototype.rp,Tt.prototype.findLinksByExample=Tt.prototype.ls,Tt.prototype.findNodesByExample=Tt.prototype.ms,Tt.prototype.findLinkForData=Tt.prototype.Kc,Tt.prototype.findNodeForData=Tt.prototype.ii,Tt.prototype.findPartForData=Tt.prototype.Lc,Tt.prototype.findNodeForKey=Tt.prototype.Vb,Tt.prototype.removeModeledPart=Tt.prototype.ip,Tt.prototype.removeModeledParts=Tt.prototype.Gs,Tt.prototype.rebuildParts=Tt.prototype.Wd;var G1=!1,H1=!1,K1=!1;function ve(t){Tt.apply(this,arguments)}function V1(t,e){e.forEach(function(n){z1(t,n)}),La(t.diagram,!1)}function z1(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.bf.contains(e)){var n=t.getLinkCategoryForData(e),o=t.findLinkTemplateForCategory(n);if(null!==o){an(o);var r=o.copy();if(null!==r){o=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,r.Tf=n,r.ub=e;var s=Hh(n=t.diagram.model,e,!0);""!==s&&(r.fromPortId=s),void 0!==(s=Ni(n,e,!0))&&(s=t.Vb(s))instanceof B&&(r.fromNode=s),""!==(s=Hh(n,e,!1))&&(r.toPortId=s),void 0!==(s=Ni(n,e,!1))&&(s=t.Vb(s))instanceof B&&(r.toNode=s),n=n.Ef(e),Array.isArray(n)&&n.forEach(function(l){null!==(l=t.Vb(l))&&(l.labeledLink=r)}),t.tp&&(r.Jg="Tool"),t.diagram.add(r),r.ub=null,r.data=e,t.diagram.skipsModelSourceBindings=o}}}}function X1(t,e){e.forEach(function(n){t.ip(n)})}function Ki(){Tt.apply(this,arguments),this.Sg=null}function Bh(t,e,n){if(null!==e&&null!==n&&null===n.kh()){var o=t.diagram.toolManager.findTool("Linking"),r=e,s=n;if(t.diagram.isTreePathToChildren||(r=n,s=e),(null===o||!zl(o,r,s,null,!0))&&(e=t.getLinkCategoryForData(n.data),null!==(o=t.findLinkTemplateForCategory(e))&&(an(o),null!==(o=o.copy())))){var l=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,o.Tf=e,o.ub=n.data,o.fromNode=r,o.toNode=s,t.diagram.add(o),o.ub=null,o.data=n.data,t.diagram.skipsModelSourceBindings=l}}}function z(t,e){this.kl=new E,this.il=new E,this.Wv=',\n  "insertedNodeKeys": ',this.jy=',\n  "modifiedNodeData": ',this.Yv=',\n  "removedNodeKeys": ',this.vh=null,ye(this),this.Sm=this.xa="",this.Gg=!1,this.j={},this.Tc=[],this.kb=new lt,this.Th="key",this.Bk=this.bl=null,this.Jm=this.Km=!1,this.Mm=!0,this.xm=null,this.lj="category",this.Vf=new lt,this.Lt=new H,this.Wg=!1,this.o=null,this.undoManager=new Xt,void 0!==t&&(De(t)?this.nodeDataArray=t:e=t),e&&(Object.assign(this,e),t=e.Changed)&&(delete this.Changed,this.Pe(t))}function Zl(t,e,n,o,r,s){function l(g,m){a?(void 0===g.__gohashid&&s.push(g),o.set(g,m)):(g=rs++,o.set(g,m),r.set(g,e))}if(!Et(e))return e;s||(s=[]);var a=Object.isExtensible(e);if(o||(o=new lt),a){var p=o.get(e);if(p)return p}else for(r||(r=new lt),p=r.iterator;p.next();){var d=p.key;if(p.value===e&&(d=o.get(d)))return d}if(Array.isArray(e)){l(e,p=[]);for(var f=0;f<e.length;f++)p.push(Zl(t,e[f],!1,o,r,s))}else if(e instanceof w||e instanceof ot||e instanceof U||e instanceof St||e instanceof $)p=e.copy(),l(e,p);else{if(e instanceof Pt||e instanceof Y||e instanceof Q)return e;if(e instanceof H)p=(new H).addAll(Zl(t,e.Fa(),!1,o,r,s)),l(e,p);else if(e instanceof E)p=(new E).addAll(Zl(t,e.Fa(),!1,o,r,s)),l(e,p);else if(e instanceof lt)p=(new lt).addAll(Zl(t,e.Fa(),!1,o,r,s)),l(e,p);else if(e instanceof Date)p=new Date(e.getTime()),l(e,p);else if(e instanceof RegExp)p=new RegExp(e),l(e,p),p.lastIndex=e.lastIndex;else if("function"==typeof e.copy)p=e.copy(),l(e,p);else for(f in l(e,p={}),e)"__gohashid"!==f&&(p[f]=Zl(t,e[f],!1,o,r,s))}return n&&s.forEach(function(g){delete g.__gohashid}),p}function W1(t,e){Et(e=e.modelData)&&(t.dm(e),t.modelData=e)}function $1(t,e){function n(r,s){if((s=s.part)&&r!==(s=s.data)){var l=o.get(r);null===l?((l=new E).add(s),o.add(r,l)):l.add(s)}}var o=t.vh;null===o&&(o=new lt,e.changes.each(function(r){if(null!==r.diagram){var s=r.change;s===Bt?(r=r.object.panel)&&(s=r.data)&&n(s,r):(s===ge||s===_e)&&(s=(r=r.object).itemArray)&&n(s,r)}}),t.vh=o)}function tm(t,e){for(var n=new E,o=0;o<t.nodeDataArray.length;o++){var r=t.nodeDataArray[o];Qh(t,e,r,r,n)}return n}function Qh(t,e,n,o,r){if(Array.isArray(n))for(var s=0;s<n.length;s++){var l=n[s];if(l===e)return r.add(o),!0;if(Qh(t,e,l,o,r))return!0}else if(Et(n)&&Object.getPrototypeOf(n)===Object.prototype)for(s in n){if((l=n[s])===e)return r.add(o),!0;if(Qh(t,e,l,o,r))return!0}return!1}function pr(t,e,n){void 0===n&&(n=!1);var o=e.length;if(0>=o)return"[]";var r=new ca;r.add("["),n&&1<o&&r.add("\n");for(var s=0;s<o;s++){var l=e[s];void 0!==l&&(0<s&&(r.add(","),n&&r.add("\n")),r.add(t.sm(l)))}return n&&1<o&&r.add("\n"),r.add("]"),r.toString()}function em(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function oi(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function sf(t,e){var n=e;if(n instanceof w)e={class:"go.Point",x:oi(n.x),y:oi(n.y)};else if(n instanceof ot)e={class:"go.Size",width:oi(n.width),height:oi(n.height)};else if(n instanceof U)e={class:"go.Rect",x:oi(n.x),y:oi(n.y),width:oi(n.width),height:oi(n.height)};else if(n instanceof St)e={class:"go.Margin",top:oi(n.top),right:oi(n.right),bottom:oi(n.bottom),left:oi(n.left)};else if(n instanceof $)e=n.sb()?{class:"go.Spot",x:oi(n.x),y:oi(n.y),offsetX:oi(n.offsetX),offsetY:oi(n.offsetY)}:{class:"go.Spot",enum:n.toString()};else if(n instanceof Pt){if(e={class:"go.Brush",type:n.type.name},n.type===qo?e.color=n.color:(n.type===To||n.type===Gi)&&(e.start=n.start,e.end=n.end,n.type===Gi&&(0!==n.startRadius&&(e.startRadius=oi(n.startRadius)),isNaN(n.endRadius)||(e.endRadius=oi(n.endRadius)))),null!==n.colorStops){var o={};for(n=n.colorStops.iterator;n.next();)o[n.key]=n.value;e.colorStops=o}}else n instanceof Y?(e={class:"go.Geometry",type:n.type.name},0!==n.startX&&(e.startX=oi(n.startX)),0!==n.startY&&(e.startY=oi(n.startY)),0!==n.endX&&(e.endX=oi(n.endX)),0!==n.endY&&(e.endY=oi(n.endY)),n.spot1.D(Ee)||(e.spot1=n.spot1),n.spot2.D(Xn)||(e.spot2=n.spot2),n.type===Y.o&&(e.path=Y.ia(n))):n instanceof Q&&(e={class:"go.EnumValue",classType:Yu(t,n.classType),name:n.name});for(var r in o="{",n=!0,e){var s=ee(e,r);if(!em(r,s))if(n?n=!1:o+=",",o+=t.quote(r)+":","points"===r&&s instanceof H){var l="[";for(s=s.iterator;s.next();){var a=s.value;1<l.length&&(l+=","),l+=t.sm(a.x),l+=",",l+=t.sm(a.y)}o+=l+="]"}else o+=t.sm(s)}return o+"}"}function ri(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function ue(t,e,n,o,r,s,l,a,p){void 0===a&&(a=null),void 0===p&&(p=null);var d=new Kt;d.model=t,d.change=n,d.modelChange=e,d.propertyName=o,d.object=r,d.oldValue=s,d.oldParam=a,d.newValue=l,d.newParam=p,t.ds(d)}function cr(t){return"number"==typeof t||"string"==typeof t}function im(t,e,n){var o=t.wa(e);(void 0===o||t.kb.I(o)!==e)&&(t.$u(e),void 0===(o=t.wa(e))&&q("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."),t.kb.add(o,e),o=null,n&&Ls(t.Tc,o=t.Tc.length,e),ue(t,"nodeDataArray",ge,"nodeDataArray",t,null,e,null,o),t.fm(e),t.em(e))}function nm(t,e,n){var o=t.wa(e);if(void 0!==o&&t.kb.remove(o),o=null,n){t:if(n=t.Tc,Array.isArray(n))o=n.indexOf(e);else{o=n.length;for(var r=0;r<o;r++)if(n[r]===e){o=r;break t}o=-1}if(0>o)return;es(t.Tc,o)}ue(t,"nodeDataArray",_e,"nodeDataArray",t,e,null,o,null),t.qp(e)}function Un(t,e,n){if(void 0!==e){var o=t.Vf.I(e);null===o&&(o=new E,t.Vf.add(e,o)),o.add(n)}}function Fn(t,e,n){if(void 0!==e){var o=t.Vf.I(e);o instanceof E&&(null==n?t.Vf.remove(e):(o.remove(n),0===o.count&&t.Vf.remove(e)))}}function qu(t,e){return void 0===e?null:(t=t.Vf.I(e))instanceof E?t:null}function Gh(t,e,n){if(t.copiesArrays&&Array.isArray(e)){var o=[];for(n=0;n<e.length;n++){var r=Gh(t,e[n],t.copiesArrayObjects);o.push(r)}return ye(o),o}if(n&&Et(e)){for(o in n=(n=e.constructor)?new n:{},r=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===o)n.__gohashid=void 0;else if(o===r)n[r]=void 0;else{var s=ee(e,o),l=Yu(t,s);"GraphObject"===l||"Diagram"===l||"Layer"===l||"RowColumnDefinition"===l||"AnimationManager"===l||"Tool"===l||"CommandHandler"===l||"Layout"===l||"InputEvent"===l||"DiagramEvent"===l||s instanceof z||s instanceof Xt||s instanceof Ze||s instanceof Kt||(s=Gh(t,s,!1)),qt(n,o,s)}return ye(n),n}return e instanceof w||e instanceof ot||e instanceof U||e instanceof $||e instanceof St?e.copy():e}function lf(){return new z}function Yu(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return Yu(t,e.constructor);return typeof e}function uf(t){return xn[t]?xn[t]:void 0!==nt.go&&nt.go[t]?nt.go[t]:null}function ee(t,e){if(!t||!e)return null;try{if("function"==typeof e)var n=e(t);else"function"==typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch{}return n}function qt(t,e,n){if(t&&e)try{"function"==typeof e?e(t,n):"function"==typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch{}}Tt.className="PartManager",At(ve,Tt),ve.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),V1(this,t.linkDataArray)},ve.prototype.addModeledParts=function(t){for(Tt.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)Tl(t.value);La(this.diagram,!1)},ve.prototype.removeAllModeledParts=function(){var t=this.diagram.model;X1(this,t.linkDataArray),this.Gs(t.nodeDataArray)},ve.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ps(t)},ve.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.lp(t,e)},ve.prototype.setFromNodeForLink=function(t,e){var n=this.diagram.model;n.wv(t.data,n.wa(null!==e?e.data:null))},ve.prototype.setToNodeForLink=function(t,e){var n=this.diagram.model;n.Bv(t.data,n.wa(null!==e?e.data:null))},ve.prototype.removeDataForLink=function(t){this.diagram.model.bm(t.data)},ve.prototype.findPartForKey=function(t){var e=Tt.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.jh(t))?this.bf.I(t):e},ve.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.jh(t))?this.bf.I(t):null},ve.prototype.doModelChanged=function(t){var e=this;if(Tt.prototype.doModelChanged.call(this,t),this.diagram){var n=this.diagram;if(t.model===n.model){var o=t.change;if(n.aa){n.aa=!1;try{var r=t.modelChange;if(""!==r){if(o===Bt){if("linkFromKey"===r){var s=this.Kc(t.object);if(null!==s){var l=this.Vb(t.newValue);s.fromNode=l}}else if("linkToKey"===r){var a=this.Kc(t.object);if(null!==a){var p=this.Vb(t.newValue);a.toNode=p}}else if("linkFromPortId"===r){var d=this.Kc(t.object);if(null!==d){var f=t.newValue;"string"==typeof f&&(d.fromPortId=f)}}else if("linkToPortId"===r){var g=this.Kc(t.object);if(null!==g){var m=t.newValue;"string"==typeof m&&(g.toPortId=m)}}else if("nodeGroupKey"===r){var v=this.Lc(t.object);if(null!==v){var y=t.newValue;if(void 0!==y){var P=this.Vb(y);v.containingGroup=P instanceof rt?P:null}else v.containingGroup=null}}else if("linkLabelKeys"===r){var T=this.Kc(t.object);if(null!==T){var S=t.oldValue,A=t.newValue;Array.isArray(S)&&S.forEach(function(F){0<=A.indexOf(F)||null!==(F=e.Vb(F))&&(F.labeledLink=null)}),Array.isArray(A)&&A.forEach(function(F){null!==(F=e.Vb(F))&&(F.labeledLink=T)})}}else if("linkCategory"===r){var M=this.Kc(t.object),Z=t.newValue;null!==M&&"string"==typeof Z&&(M.category=Z)}else"linkDataArray"===r&&(X1(this,t.oldValue),V1(this,t.newValue));n.isModified=!0}else if(o===ge){var j=t.newValue;if("linkDataArray"===r&&"object"==typeof j&&null!==j)z1(this,j);else if("linkLabelKeys"===r&&cr(j)){var k=this.Kc(t.object),J=this.Vb(j);null!==k&&null!==J&&(J.labeledLink=k)}n.isModified=!0}else if(o===_e){var V=t.oldValue;if("linkDataArray"===r&&"object"==typeof V&&null!==V)this.ip(V);else if("linkLabelKeys"===r&&cr(V)){var K=this.Vb(V);null!==K&&(K.labeledLink=null)}n.isModified=!0}}else if(o===Bt){var b=t.propertyName;t.object!==n.model||"linkFromKeyProperty"!==b&&"linkToKeyProperty"!==b&&"linkFromPortIdProperty"!==b&&"linkToPortIdProperty"!==b&&"linkLabelKeysProperty"!==b&&"nodeIsGroupProperty"!==b&&"nodeGroupKeyProperty"!==b&&"linkCategoryProperty"!==b||n.undoManager.isUndoingRedoing||this.Wd(),n.isModified=!0}}finally{n.aa=!0}}}}},ve.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,n=new E,o=e.linkDataArray;o.forEach(function(s){n.add(s)});var r=[];this.links.each(function(s){null===s.data||n.contains(s.data)||r.push(s.data)}),r.forEach(function(s){am(e,s,!1)}),o.forEach(function(s){null===t.Kc(s)&&um(e,s,!1)})},ve.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var o=n.model;if(t instanceof L){var r=Ni(o,e,!0);if(r=n.Vb(r),t.fromNode=r,r=Ni(o,e,!1),r=n.Vb(r),t.toNode=r,0<(e=o.Ef(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){r=e[0];var s=t.labelNodes.first();if(o.wa(s.data)===r)return}r=(new E).addAll(e);var l=new E;t.labelNodes.each(function(a){null!==a.data&&void 0!==(a=o.wa(a.data))&&l.add(a)}),(e=l.copy()).hp(r),(r=r.copy()).hp(l),(0<e.count||0<r.count)&&(e.each(function(a){null!==(a=n.Vb(a))&&a.labeledLink===t&&(a.labeledLink=null)}),r.each(function(a){null!==(a=n.Vb(a))&&a.labeledLink!==t&&(a.labeledLink=t)}))}}else!(t instanceof mt)&&(e=o.lh(e),null===(e=n.findPartForKey(e))||e instanceof rt)&&(t.containingGroup=e)}}},ve.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.wa(t);if(void 0!==n){var o=qu(e,n),r=this.Lc(t);if(null!==o&&null!==r){o=o.iterator;for(var s={};o.next();){var l=o.value;e.lb(l)?r instanceof rt&&e.lh(l)===n&&null!==(l=this.Lc(l))&&(l.containingGroup=r):(s.link=this.Kc(l),null!==s.link&&r instanceof B&&(Ni(e,l,!0)===n&&(s.link.fromNode=r),Ni(e,l,!1)===n&&(s.link.toNode=r),l=e.Ef(l),Array.isArray(l)&&l.some(function(a){return function(p){return p===n&&(r.labeledLink=a.link,!0)}}(s)))),s={link:s.link}}Fn(e,n)}void 0!==(t=e.lh(t))&&(t=this.Vb(t))instanceof rt&&(r.containingGroup=t)}},ve.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof B){var n=e.wa(t.data);if(void 0!==n){for(var o=t.linksConnected;o.next();)Un(e,n,o.value.data);if(t.isLinkLabel&&null!==(o=t.labeledLink)&&Un(e,n,o.data),t instanceof rt)for(t=t.memberParts;t.next();)e.lb(o=t.value.data)&&Un(e,n,o)}}},ve.prototype.copyPartData=function(t,e){var n=Tt.prototype.copyPartData.call(this,t,e);if(t instanceof L)if(null!==(t=t.data)&&null!==e){var o=e.model;"object"==typeof(t=o.Jo(t))&&null!==t&&(o.fi(t),n=e.Kc(t))}else null!==n&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&"object"==typeof(e=e.model.Jo(t))&&null!==e&&(n.data=e));return n},ve.prototype.insertLink=function(t,e,n,o){var r=this.diagram,s=r.model,l=r.toolManager.findTool("Linking"),a="";if(null!==t&&(null===e&&(e=t),null===(a=e.portId)&&(a="")),e="",null!==n&&(null===o&&(o=n),null===(e=o.portId)&&(e="")),(o=l.archetypeLinkData)instanceof L){if(an(o),null!==(s=o.copy()))return s.fromNode=t,s.fromPortId=a,s.toNode=n,s.toPortId=e,r.add(s),(t=l.archetypeLabelNodeData)instanceof B&&(an(t),null!==(t=t.copy())&&(t.labeledLink=s,r.add(t))),s}else if(null!==o&&"object"==typeof(o=s.Jo(o))&&null!==o)return null!==t&&jl(s,o,s.wa(t.data),!0),Nl(s,o,a,!0),null!==n&&jl(s,o,s.wa(n.data),!1),Nl(s,o,e,!1),s.fi(o),null===(t=l.archetypeLabelNodeData)||t instanceof B||"object"==typeof(t=s.copyNodeData(t))&&null!==t&&(s.xf(t),void 0!==(t=s.wa(t))&&s.Bu(o,t)),r.Kc(o);return null},ve.prototype.findLinkForKey=ve.prototype.findLinkForKey,ve.prototype.findPartForKey=ve.prototype.findPartForKey,ve.prototype.removeAllModeledParts=ve.prototype.removeAllModeledParts,ve.prototype.addModeledParts=ve.prototype.addModeledParts,ve.prototype.addAllModeledParts=ve.prototype.addAllModeledParts,ve.className="GraphLinksPartManager",At(Ki,Tt),Ki.prototype.getLinkCategoryForData=function(t){return this.diagram.model.ss(t)},Ki.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.Ms(t,e)},Ki.prototype.setFromNodeForLink=function(t,e,n){var o=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)o.qe(t.data,o.wa(e));else{var r=this.Sg;this.Sg=t,null!==n&&o.qe(n.data,void 0),o.qe(e,o.wa(null!==t.toNode?t.toNode.data:null)),this.Sg=r}},Ki.prototype.setToNodeForLink=function(t,e,n){var o=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var r=this.Sg;this.Sg=t,null!==n&&o.qe(n.data,void 0),o.qe(e,o.wa(null!==t.fromNode?t.fromNode.data:null)),this.Sg=r}else o.qe(t.data,o.wa(e))},Ki.prototype.removeDataForLink=function(t){this.diagram.model.qe(t.data,void 0)},Ki.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.hc(t))?this.bf.I(t):null},Ki.prototype.doModelChanged=function(t){if(Tt.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var n=t.change;if(e.aa){e.aa=!1;try{var o=t.modelChange;if(""!==o){if(n===Bt){if("nodeParentKey"===o){var r=t.object,s=this.Vb(t.newValue),l=this.ii(r);if(null!==this.Sg)null!==s&&(this.Sg.data=r,this.Sg.category=this.getLinkCategoryForData(r));else if(null!==l){var a=l.kh();null!==a?null===s?e.remove(a):e.isTreePathToChildren?a.fromNode=s:a.toNode=s:Bh(this,s,l)}}else if("parentLinkCategory"===o){var p=this.ii(t.object),d=t.newValue;if(null!==p&&"string"==typeof d){var f=p.kh();null!==f&&(f.category=d)}}e.isModified=!0}}else n===Bt&&(t.object===e.model&&"nodeParentKeyProperty"===t.propertyName&&(e.undoManager.isUndoingRedoing||this.Wd()),e.isModified=!0)}finally{e.aa=!0}}}}},Ki.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var o=n.model;t instanceof B&&(e=o.mh(e),(e=n.Vb(e))!==(o=t.pg())&&(o=t.kh(),null!==e?null!==o?n.isTreePathToChildren?o.fromNode=e:o.toNode=e:Bh(this,e,t):null!==o&&Zc(n,o,!1)))}}},Ki.prototype.updateDataBindings=function(t,e){Tt.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.Lc(t)&&null!==(t=this.Kc(t))&&t.La(e)},Ki.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.wa(t);if(void 0!==n){var o=qu(e,n),r=this.Lc(t);if(null!==o&&null!==r){for(o=o.iterator;o.next();){var s=o.value;e.lb(s)&&r instanceof B&&e.mh(s)===n&&Bh(this,r,this.ii(s))}Fn(e,n)}void 0!==(t=e.mh(t))&&r instanceof B&&Bh(this,t=this.Vb(t),r)}},Ki.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof B){var n=e.wa(t.data),o=this.Kc(t.data);if(null!==o){o.isSelected=!1,o.isHighlighted=!1;var r=o.layer;if(null!==r){var s=r.pc(-1,o,!1);0<=s&&this.diagram.cb(_e,"parts",r,o,null,s,null),null!==(s=o.layerChanged)&&s(o,r,null)}}for(o=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)r=t.value,e.lb(r=(o?r.toNode:r.fromNode).data)&&Un(e,n,r)}},Ki.prototype.insertLink=function(t,e,n){e=this.diagram.model;var o=t,r=n;return this.diagram.isTreePathToChildren||(o=n,r=t),null!==o&&null!==r?(e.qe(r.data,e.wa(o.data)),r.kh()):null},Ki.prototype.findLinkForKey=Ki.prototype.findLinkForKey,Ki.className="TreePartManager",z.prototype.cloneProtected=function(t){t.xa=this.xa,t.Sm=this.Sm,t.Gg=this.Gg,t.Th=this.Th,t.bl=this.bl,t.Bk=this.Bk,t.Km=this.Km,t.Jm=this.Jm,t.Mm=this.Mm,t.xm=this.xm,t.lj=this.lj},z.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},z.prototype.clear=function(){this.Tc=[],this.kb.clear(),this.Vf.clear(),this.undoManager.clear()},z.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.np();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,o=0;o<n;o++){var r=t[o];e+=" "+this.wa(r)+":"+cn(r)}}return e},z.prototype.xA=function(t){t.change!==Zn&&q("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Ze?($1(this,e),t=this.Qv(e,"FinishedUndo"===t.propertyName),this.vh=null,t):null},z.prototype.Qv=function(t,e){var n=this,o=!1,r=new E,s=new E,l=new E,a=this.vh;t.changes.each(function(g){g.model===n&&("nodeDataArray"===g.modelChange?g.change===ge?r.add(g.newValue):g.change===_e&&l.add(g.oldValue):n.lb(g.object)?s.add(g.object):g.change!==Bt||n.modelData!==g.object&&"modelData"!==g.propertyName?null!==g.object&&(a&&a.contains(g.object)?a.get(g.object).each(function(m){n.lb(m)&&s.add(m)}):g.object instanceof z||n.ri()&&n.Jc(g.object)||tm(n,g.object).each(function(m){s.add(m)})):o=!0)});var p=this.il;p.clear(),r.each(function(g){p.add(n.wa(g)),e||s.add(g)});var d=this.kl;d.clear(),l.each(function(g){d.add(n.wa(g)),e&&s.add(g)}),t=n.cloneDeep(s.Fa());var f=null;return o&&(null===f&&(f={}),f.modelData=this.cloneDeep(this.modelData)),0<p.count&&(null===f&&(f={}),e?f.removedNodeKeys=p.Fa():f.insertedNodeKeys=p.Fa()),0<t.length&&(null===f&&(f={}),f.modifiedNodeData=t),0<d.count&&(null===f&&(f={}),e?f.insertedNodeKeys=d.Fa():f.removedNodeKeys=d.Fa()),d.clear(),p.clear(),f},z.prototype.cloneDeep=function(t){return Zl(this,t,!0)},(x=z.prototype).quote=function(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).substr(-4)})},x.rm=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},x.gp=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},x.Rv=function(){var n,t=this.modelData,e=!1;for(n in t)if(!em(n,t[n])){e=!0;break}return t="",e&&(t=',\n  "modelData": '+sf(this,this.modelData)),t+',\n  "nodeDataArray": '+pr(this,this.nodeDataArray,!0)},x.kv=function(t){W1(this,t),De(t=t.nodeDataArray)&&(this.dm(t),this.nodeDataArray=t)},x.Pv=function(t,e){var n=this,o=!1,r=new E,s=new E,l=new E,a=this.vh;t.changes.each(function(f){f.model===n&&("nodeDataArray"===f.modelChange?f.change===ge?r.add(f.newValue):f.change===_e&&l.add(f.oldValue):n.lb(f.object)?s.add(f.object):f.change!==Bt||n.modelData!==f.object&&"modelData"!==f.propertyName?null!==f.object&&(a&&a.contains(f.object)?a.get(f.object).each(function(g){n.lb(g)&&s.add(g)}):f.object instanceof z||n.ri()&&n.Jc(f.object)||tm(n,f.object).each(function(g){s.add(g)})):o=!0)});var p=this.il;p.clear(),r.each(function(f){p.add(n.wa(f)),e||s.add(f)});var d=this.kl;return d.clear(),l.each(function(f){d.add(n.wa(f)),e&&s.add(f)}),t="",o&&(t+=',\n  "modelData": '+sf(this,this.modelData)),0<p.count&&(t+=(e?this.Yv:this.Wv)+pr(this,p.Fa(),!0)),0<s.count&&(t+=this.jy+pr(this,s.Fa(),!0)),0<d.count&&(t+=(e?this.Wv:this.Yv)+pr(this,d.Fa(),!0)),d.clear(),p.clear(),t},x.fp=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&q("applyIncrementalJson cannot change Model properties"),W1(this,t);var e=t.insertedNodeKeys,n=t.modifiedNodeData,o=new lt;if(Array.isArray(n))for(var r=0;r<n.length;r++){var s=n[r],l=this.wa(s);null!=l&&o.set(l,s)}if(Array.isArray(e))for(r=e.length,s=0;s<r;s++){var a=this.hc(l=e[s]);null===a&&(a=(a=o.get(l))?a:this.copyNodeData({}),this.km(a,l),this.xf(a))}if(Array.isArray(n))for(e=n.length,o=0;o<e;o++)if(s=this.wa(r=n[o]),null!==(s=this.hc(s))){for(var p in r)"__gohashid"===p||p===this.nodeKeyProperty||this.Wj()&&p===this.nodeIsGroupProperty||this.setDataProperty(s,p,r[p]);this.lm(r,s)}if(t=t.removedNodeKeys,Array.isArray(t))for(n=t.length,p=0;p<n;p++)null!==(e=this.hc(t[p]))&&this.cm(e)},x.$x=function(t,e){t.change!==Zn&&q("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.isTransactionFinished&&n instanceof Ze?(void 0===e&&(e=Yu(this,this)),$1(this,n),t=this.Pv(n,"FinishedUndo"===t.propertyName),this.vh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.rm()+t+"}"):'{ "incremental": 0 }'},x.yA=function(t,e){return this.$x(t,e)},x.np=function(t){return void 0===t&&(t=Yu(this,this)),'{ "class": '+this.quote(t)+this.rm()+this.Rv()+"}"},x.toJSON=function(t){return this.np(t)},x.Zw=function(t){var e=null;if("string"==typeof t)try{e=nt.JSON.parse(t)}catch{}else"object"==typeof t?e=t:q("Unable to modify a Model from: "+t);var n=e.incremental;"number"!=typeof n&&q("Unable to apply non-incremental changes to Model: "+t),0!==n&&(this.Ea("applyIncrementalJson"),this.fp(e),this.eb("applyIncrementalJson"))},x.Ky=function(t){return this.Zw(t)},z.constructGraphLinksModel=function(){return new z},(x=z.prototype).dm=function(t){if(De(t))for(var e=t.length,n=0;n<e;n++){var o=t[n];if(Et(o)){var r=n;o=this.dm(o),Array.isArray(t)?t[r]=o:q("Cannot replace an object in an HTMLCollection or NodeList at "+r)}}else if(Et(t)){for(e in t)if(Et(n=t[e])&&(n=this.dm(n),t[e]=n,"points"===e&&Array.isArray(n))){for(r=n.length%2==0,o=0;o<n.length;o++)if("number"!=typeof n[o]){r=!1;break}if(r){for(r=new H,o=0;o<n.length/2;o++)r.add(new w(n[2*o],n[2*o+1]));r.freeze(),t[e]=r}}return function f2(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;var n=t;if("Point"===(e=e.substr(3)))n=new w(ri(t.x),ri(t.y));else if("Size"===e)n=new ot(ri(t.width),ri(t.height));else if("Rect"===e)n=new U(ri(t.x),ri(t.y),ri(t.width),ri(t.height));else if("Margin"===e)n=new St(ri(t.top),ri(t.right),ri(t.bottom),ri(t.left));else if("Spot"===e)n="string"==typeof t.enum?$p(t.enum):new $(ri(t.x),ri(t.y),ri(t.offsetX),ri(t.offsetY));else if("Brush"===e){if((n=new Pt).type=ns(Pt,t.type),"string"==typeof t.color&&(n.color=t.color),t.start instanceof $&&(n.start=t.start),t.end instanceof $&&(n.end=t.end),"number"==typeof t.startRadius&&(n.startRadius=ri(t.startRadius)),"number"==typeof t.endRadius&&(n.endRadius=ri(t.endRadius)),Et(t=t.colorStops))for(var o in t)n.addColorStop(parseFloat(o),t[o])}else"Geometry"===e?(n=null,(n="string"==typeof t.path?Y.parse(t.path):new Y).type=ns(Y,t.type),"number"==typeof t.startX&&(n.startX=ri(t.startX)),"number"==typeof t.startY&&(n.startY=ri(t.startY)),"number"==typeof t.endX&&(n.endX=ri(t.endX)),"number"==typeof t.endY&&(n.endY=ri(t.endY)),t.spot1 instanceof $&&(n.spot1=t.spot1),t.spot2 instanceof $&&(n.spot2=t.spot2)):"EnumValue"===e&&(0===(o=t.classType).indexOf("go.")&&(o=o.substr(3)),"function"==typeof(o=uf(o))&&(n=ns(o,t.name)));return n}(t)}return t},x.sm=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.sm(t.valueOf()):De(t)?pr(this,t):Et(t)?sf(this,t):"function"==typeof t?"null":t.toString()},x.Pe=function(t){return this.Lt.add(t),this},x.ik=function(t){this.Lt.remove(t)},x.ds=function(t){this.skipsUndoManager||this.undoManager.Tu(t);for(var e=this.Lt,n=e.length,o=0;o<n;o++)e.M(o)(t)},x.cb=function(t,e,n,o,r,s,l){ue(this,"",t,e,n,o,r,s,l)},x.g=function(t,e,n,o,r){ue(this,"",Bt,t,this,e,n,o,r)},x.Fs=function(t,e,n,o,r,s){ue(this,"",Bt,e,t,n,o,r,s)},z.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===Bt){var n=t.object,o=t.propertyName,r=t.I(e);o===this.nodeKeyProperty&&this.lb(n)&&(void 0!==(e=t.I(!e))&&this.kb.remove(e),void 0!==r&&this.kb.add(r,n)),qt(n,o,r)}else t.change===ge?(n=t.newParam,"nodeDataArray"===t.modelChange?Et(t=t.newValue)&&"number"==typeof n&&(o=this.wa(t),e?(this.Tc[n]===t&&es(this.Tc,n),void 0!==o&&this.kb.remove(o)):(this.Tc[n]!==t&&Ls(this.Tc,n,t),void 0!==o&&this.kb.add(o,t))):""===t.modelChange?((o=t.object)&&!De(o)&&t.propertyName&&(o=ee(t.object,t.propertyName)),De(o)&&"number"==typeof n&&(t=t.newValue,e?es(o,n):Ls(o,n,t))):q("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===_e?(n=t.oldParam,"nodeDataArray"===t.modelChange?Et(t=t.oldValue)&&"number"==typeof n&&(o=this.wa(t),e?(this.Tc[n]!==t&&Ls(this.Tc,n,t),void 0!==o&&this.kb.add(o,t)):(this.Tc[n]===t&&es(this.Tc,n),void 0!==o&&this.kb.remove(o))):""===t.modelChange?((o=t.object)&&!De(o)&&t.propertyName&&(o=ee(t.object,t.propertyName)),De(o)&&"number"==typeof n&&(t=t.oldValue,e?Ls(o,n,t):es(o,n))):q("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Zn&&q("unknown ChangedEvent: "+t.toString())},z.prototype.Ea=function(t){return this.undoManager.Ea(t)},z.prototype.eb=function(t){return this.undoManager.eb(t)},z.prototype.Kf=function(){return this.undoManager.Kf()},z.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Ea(e);var o=!1;try{t(this),o=!0}finally{o?this.undoManager.eb(e):this.undoManager.Kf(),this.skipsUndoManager=n}},(x=z.prototype).La=function(t,e){void 0===e&&(e=""),ue(this,"SourceChanged",Zn,e,t,null,null)},x.wa=function(t){if(null!==t){var e=this.Th;if(""!==e&&void 0!==(e=ee(t,e))){if(cr(e))return e;q("Key value for node data "+t+" is not a number or a string: "+e)}}},x.km=function(t,e){if(null!==t){var n=this.Th;if(""!==n)if(this.lb(t)){var o=ee(t,n);o!==e&&null===this.hc(e)&&(qt(t,n,e),void 0!==o&&this.kb.remove(o),this.kb.add(e,t),ue(this,"nodeKey",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n),this.jp(o,e))}else qt(t,n,e)}},x.lb=function(t){var e=this.wa(t);return void 0!==e&&this.kb.I(e)===t},x.hc=function(t){return null===t&&q("Model.findNodeDataForKey:key must not be null"),void 0!==t&&cr(t)?this.kb.I(t):null},x.$u=function(t){if(null!==t){var e=this.Th;if(""!==e){var n=this.wa(t);if(void 0===n||this.kb.contains(n)){var o=this.bl;if(null!==o&&null!=(n=o(this,t))&&!this.kb.contains(n))return void qt(t,e,n);if("string"==typeof n){for(o=2;this.kb.contains(n+o);)o++;qt(t,e,n+o)}else if(void 0===n||"number"==typeof n){for(n=-this.kb.count-1;this.kb.contains(n);)n--;qt(t,e,n)}}}}},x.xf=function(t){null!==t&&(os(t),this.lb(t)||im(this,t,!0))},x.Fy=function(t){if(De(t))for(var e=t.length,n=0;n<e;n++)this.xf(t[n]);else for(t=t.iterator;t.next();)this.xf(t.value)},x.cm=function(t){null!==t&&nm(this,t,!0)},x.nA=function(t){if(De(t))for(var e=t.length,n=0;n<e;n++)this.cm(t[n]);else for(t=t.iterator;t.next();)this.cm(t.value)},x.$z=function(t){if(t!==this.nodeDataArray&&De(t)){var e=this.kl;e.clear(),e.addAll(this.kb.iteratorKeys);var n=this.il;n.clear();for(var o=t.length,r=0;r<o;r++){var s=t[r],l=this.wa(s);if(void 0!==l){n.add(l);var a=this.hc(l);a!==s&&(null!==a?(this.Do(a,s),this.lm(s,a)):(s=this.cloneDeep(s),this.km(s,l),this.xf(s)))}else l=this.cloneDeep(s),this.xf(l),n.add(this.wa(l))}for(t=e.iterator;t.next();)n.contains(o=t.value)||(o=this.hc(o))&&this.cm(o);e.clear(),n.clear()}},x.jp=function(t,e){void 0!==e&&(t=qu(this,t))instanceof E&&this.Vf.add(e,t)},x.Lv=function(){},x.fm=function(){},x.em=function(){},x.qp=function(){},x.Qy=function(t){void 0===t?this.Vf.clear():this.Vf.remove(t)},z.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.Bk;return Et(t=null!==e?e(t,this):Gh(this,t,!0))&&ye(t),t},z.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,n);if(e===this.nodeCategoryProperty)return void this.jm(t,n)}else!om&&t instanceof X&&(om=!0,Di('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Di("  Is that really your intent?"));var o=ee(t,e);o!==n&&(qt(t,e,n),this.Fs(t,e,o,n))},(x=z.prototype).set=function(t,e,n){this.setDataProperty(t,e,n)},x.Do=function(t,e){if(e){var o,n=this.lb(t);for(o in e)"__gohashid"===o||n&&o===this.nodeKeyProperty||this.setDataProperty(t,o,e[o])}},x.Ay=function(t,e){this.ts(t,-1,e)},x.ts=function(t,e,n){0>e&&(e=t.length),Ls(t,e,n),ue(this,"",ge,"",t,null,n,null,e)},x.ov=function(t,e){void 0===e&&(e=-1),t===this.Tc&&q("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var n=t[e];es(t,e),ue(this,"",_e,"",t,n,null,e,null)},x.Ro=function(t){if(null===t)return"";var e=this.lj;return""===e||void 0===(e=ee(t,e))?"":"string"==typeof e?e:void q("getCategoryForNodeData found a non-string category for "+t+": "+e)},x.jm=function(t,e){if(null!==t){var n=this.lj;if(""!==n)if(this.lb(t)){var o=ee(t,n);void 0===o&&(o=""),o!==e&&(qt(t,n,e),ue(this,"nodeCategory",Bt,n,t,o,e))}else qt(t,n,e)}},x.lm=function(t,e){this.jm(e,this.Ro(t))},x.Tl=function(){return!1},x.Wj=function(){return!1},x.ri=function(){return!1},x.xs=function(){return!1},x.Xj=function(){return!1},pt.Object.defineProperties(z.prototype,{name:{get:function(){return this.xa},set:function(t){var e=this.xa;e!==t&&(this.xa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Sm},set:function(t){var e=this.Sm;e!==t&&(this.Sm=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.Gg},set:function(t){var e=this.Gg;e!==t&&(this.Gg=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.g("modelData",e,t),this.La(t))}},undoManager:{get:function(){return this.o},set:function(t){var e=this.o;e!==t&&(null!==e&&e.Rx(this),this.o=t,null!==t&&t.Xw(this))}},skipsUndoManager:{get:function(){return this.Wg},set:function(t){this.Wg=t}},nodeKeyProperty:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(""===t&&q("Model.nodeKeyProperty may not be the empty string"),0<this.kb.count&&q("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Th=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.bl},set:function(t){var e=this.bl;e!==t&&(this.bl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Tc},set:function(t){var e=this.Tc;if(e!==t){this.kb.clear(),this.Lv();for(var n=t.length,o=0;o<n;o++){var r=t[o];Et(r)||q("Model.nodeDataArray must only contain Objects, not: "+r),os(r)}for(this.Tc=t,o=new H,r=0;r<n;r++){var s=t[r],l=this.wa(s);void 0===l||null!==this.kb.I(l)?o.add(s):this.kb.add(l,s)}for(o=o.iterator;o.next();)this.$u(r=o.value),void 0!==(s=this.wa(r))&&this.kb.add(s,r);for(ue(this,"nodeDataArray",Bt,"nodeDataArray",this,e,t),e=0;e<n;e++)this.fm(o=t[e]),this.em(o);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Bk},set:function(t){var e=this.Bk;e!==t&&(this.Bk=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Km},set:function(t){var e=this.Km;e!==t&&(this.Km=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Jm},set:function(t){var e=this.Jm;e!==t&&(this.Jm=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Mm},set:function(t){var e=this.Mm;e!==t&&(this.Mm=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.xm},set:function(t){var e=this.xm;e!==t&&(this.xm=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.lj},set:function(t){var e=this.lj;e!==t&&(this.lj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),z.prototype.setCategoryForNodeData=z.prototype.jm,z.prototype.getCategoryForNodeData=z.prototype.Ro,z.prototype.removeArrayItem=z.prototype.ov,z.prototype.insertArrayItem=z.prototype.ts,z.prototype.addArrayItem=z.prototype.Ay,z.prototype.assignAllDataProperties=z.prototype.Do,z.prototype.set=z.prototype.set,z.prototype.clearUnresolvedReferences=z.prototype.Qy,z.prototype.mergeNodeDataArray=z.prototype.$z,z.prototype.removeNodeDataCollection=z.prototype.nA,z.prototype.removeNodeData=z.prototype.cm,z.prototype.addNodeDataCollection=z.prototype.Fy,z.prototype.addNodeData=z.prototype.xf,z.prototype.makeNodeDataKeyUnique=z.prototype.$u,z.prototype.findNodeDataForKey=z.prototype.hc,z.prototype.containsNodeData=z.prototype.lb,z.prototype.setKeyForNodeData=z.prototype.km,z.prototype.getKeyForNodeData=z.prototype.wa,z.prototype.updateTargetBindings=z.prototype.La,z.prototype.commit=z.prototype.commit,z.prototype.rollbackTransaction=z.prototype.Kf,z.prototype.commitTransaction=z.prototype.eb,z.prototype.startTransaction=z.prototype.Ea,z.prototype.raiseDataChanged=z.prototype.Fs,z.prototype.raiseChanged=z.prototype.g,z.prototype.raiseChangedEvent=z.prototype.cb,z.prototype.removeChangedListener=z.prototype.ik,z.prototype.addChangedListener=z.prototype.Pe,z.prototype.writeJsonValue=z.prototype.sm,z.prototype.replaceJsonObjects=z.prototype.dm,z.prototype.applyIncrementalJSON=z.prototype.Ky,z.prototype.applyIncrementalJson=z.prototype.Zw,z.prototype.toJSON=z.prototype.toJSON,z.prototype.toJson=z.prototype.np,z.prototype.toIncrementalJSON=z.prototype.yA,z.prototype.toIncrementalJson=z.prototype.$x,z.prototype.toIncrementalData=z.prototype.xA,z.prototype.clear=z.prototype.clear;var om=!1,xn={};function re(t,e,n,o){ye(this),this._isFrozen=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===n&&(n=null),this.j=-1,this.xd=null,this.xl=t,this.wl=this.to=0,this.Cr=null,this.wn=!1,this.sl=e,this.Im=n,void 0===o?(this.el=sm,this.wk=null):(this.el=Ju,this.wk=o),this.st=new E}function rm(t,e,n){return null===(t=t.sourceName)||""===t?e:"/"===t?n.part:"."===t?n:".."===t?n.panel:e.fb(t)}z.className="Model",z.fromJSON=z.fromJson=function(t,e){void 0===e&&(e=null);var n=null;if("string"==typeof t)try{n=nt.JSON.parse(t)}catch{}else"object"==typeof t?n=t:q("Unable to construct a Model from: "+t);if(null===e){t=null;var o=n.class;if("string"==typeof o)try{var r=null;0===o.indexOf("go.")?r=uf(o=o.substr(3)):null===(r=uf(o))&&(r=nt[o]),"function"==typeof r&&(t=new r)}catch{}null===t||t instanceof z?e=t:q("Unable to construct a Model of declared class: "+n.class)}return null===e&&(e=z.constructGraphLinksModel()),e.gp(n),e.kv(n),e},z.safePropertyValue=ee,z.safePropertySet=qt,xn.Brush=Pt,xn.ChangedEvent=Kt,xn.Geometry=Y,xn.Margin=St,xn.Panel=O,xn.Point=w,xn.Rect=U,xn.Size=ot,xn.Spot=$,xn.Transaction=Ze,xn.UndoManager=Xt,re.prototype.copy=function(){var t=new re;return t.xl=this.xl,t.to=this.to,t.wl=this.wl,t.Cr=this.Cr,t.wn=this.wn,t.sl=this.sl,t.Im=this.Im,t.el=this.el,t.wk=this.wk,t},(x=re.prototype).qb=function(t){t.classType===re&&(this.mode=t)},x.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.Ai?" "+this.Ai:"")+" "+this.mode.name+")"},x.freeze=function(){return this._isFrozen=!0,this},x.ka=function(){return this._isFrozen=!1,this},x.Kx=function(t){return void 0===t&&(t=null),this.mode=Ju,this.backConverter=t,this},x.cp=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},x.dA=function(){return this.sourceName=null,this.isToModel=!0,this},x.Mv=function(t,e,n){var o=this.sl;if(void 0===n||""===o||o===n){n=this.xl;var r=this.Im;if(null===r&&""===n)Di("Binding error: target property is the empty string: "+this.toString());else{var s=e;if(""!==o&&(s=ee(e,o)),void 0!==s)if(null===r)""!==n&&qt(t,n,s);else try{""!==n?qt(t,n,r(s,t)):r(s,t)}catch{}}}},x.sp=function(t,e,n,o){if(this.el===Ju){var r=this.xl;if(void 0===n||r===n){n=this.sl;var s=this.wk,l=t;if(""!==r&&(l=ee(t,r)),void 0!==l&&!this.st.contains(t))try{this.st.add(t);var a=null!==o?o.diagram:null,p=null!==a?a.model:null;if(null===s){if(""!==n)null!==p?p.setDataProperty(e,n,l):qt(e,n,l);else if(null!==p&&null!==o&&0<=o.itemIndex&&null!==o.panel&&Array.isArray(o.panel.itemArray)){var d=o.itemIndex,f=o.panel.itemArray;p.ov(f,d),p.ts(f,d,l)}}else try{if(""!==n){var g=s(l,e,p);null!==p?p.setDataProperty(e,n,g):qt(e,n,g)}else{var m=s(l,e,p);if(void 0!==m&&null!==p&&null!==o&&0<=o.itemIndex&&null!==o.panel&&Array.isArray(o.panel.itemArray)){var v=o.itemIndex,y=o.panel.itemArray;p.ov(y,v),p.ts(y,v,m)}}}catch{}}finally{this.st.remove(t)}}}},pt.Object.defineProperties(re.prototype,{Ai:{get:function(){return this.j},set:function(t){this._isFrozen&&gt(this),this.j=t}},targetProperty:{get:function(){return this.xl},set:function(t){this._isFrozen&&gt(this),this.xl=t}},sourceName:{get:function(){return this.Cr},set:function(t){this._isFrozen&&gt(this),this.Cr=t,null!==t&&(this.wn=!1)}},isToModel:{get:function(){return this.wn},set:function(t){this._isFrozen&&gt(this),this.wn=t}},sourceProperty:{get:function(){return this.sl},set:function(t){this._isFrozen&&gt(this),this.sl=t}},converter:{get:function(){return this.Im},set:function(t){this._isFrozen&&gt(this),this.Im=t}},backConverter:{get:function(){return this.wk},set:function(t){this._isFrozen&&gt(this),this.wk=t}},mode:{get:function(){return this.el},set:function(t){this._isFrozen&&gt(this),this.el=t}}}),re.prototype.updateSource=re.prototype.sp,re.prototype.updateTarget=re.prototype.Mv,re.prototype.ofModel=re.prototype.dA,re.prototype.ofObject=re.prototype.cp,re.prototype.makeTwoWay=re.prototype.Kx;var g2="Binding",sm=new Q(re,"OneWay",1),Ju=new Q(re,"TwoWay",2);function dt(t,e,n){z.call(this),this.Vv=',\n  "insertedLinkKeys": ',this.iy=',\n  "modifiedLinkData": ',this.Xv=',\n  "removedLinkKeys": ',this.md=[],this.$f=new E,this.wb=new lt,this.Jh="",this.Ri=this.Ak=this.cl=null,this.lf="from",this.mf="to",this.fj=this.ej="",this.dj="category",this.je="",this.jl="isGroup",this.Je="group",this.Lm=!1,void 0!==e&&(this.linkDataArray=e),void 0!==t&&(De(t)?this.nodeDataArray=t:n=t),n&&(Object.assign(this,n),t=n.Changed)&&(delete this.Changed,this.Pe(t))}function lm(t,e){for(var n=new E,o=0;o<t.linkDataArray.length;o++){var r=t.linkDataArray[o];Qh(t,e,r,r,n)}return n}function Ni(t,e,n){if(null!==e&&""!==(t=n?t.lf:t.mf)&&void 0!==(t=ee(e,t))){if(cr(t))return t;q((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function jl(t,e,n,o){if(null===n&&(n=void 0),null!==e){var r=o?t.lf:t.mf;if(""!==r)if(n=t.Vl(n),t.Jc(e)){var s=ee(e,r);s!==n&&(Fn(t,s,e),qt(e,r,n),null===t.hc(n)&&Un(t,n,e),ue(t,o?"linkFromKey":"linkToKey",Bt,r,e,s,n),"string"==typeof r&&t.La(e,r))}else qt(e,r,n)}}function Hh(t,e,n){return null===e||""===(t=n?t.ej:t.fj)||void 0===(e=ee(e,t))?"":e}function Nl(t,e,n,o){if(null!==e){var r=o?t.ej:t.fj;if(""!==r)if(t.Jc(e)){var s=ee(e,r);void 0===s&&(s=""),s!==n&&(qt(e,r,n),ue(t,o?"linkFromPortId":"linkToPortId",Bt,r,e,s,n),"string"==typeof r&&t.La(e,r))}else qt(e,r,n)}}function um(t,e,n){if(""!==t.linkKeyProperty){var o=t.Ac(e);if(void 0!==o&&t.wb.I(o)===e)return;t.Bs(e),void 0===(o=t.Ac(e))&&q("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),t.wb.add(o,e)}t.$f.add(e),o=null,n&&t.md.splice(o=t.md.length,0,e),ue(t,"linkDataArray",ge,"linkDataArray",t,null,e,null,o),af(t,e)}function am(t,e,n){t.$f.remove(e);var o=t.Ac(e);if(void 0!==o&&t.wb.remove(o),o=null,n){if(0>(o=t.md.indexOf(e)))return;t.md.splice(o,1)}if(ue(t,"linkDataArray",_e,"linkDataArray",t,e,null,o,null),Fn(t,n=Ni(t,e,!0),e),Fn(t,n=Ni(t,e,!1),e),o=t.Ef(e),Array.isArray(o))for(var r=o.length,s=0;s<r;s++)Fn(t,n=o[s],e)}function af(t,e){var n=Ni(t,e,!0);n=t.Vl(n),null===t.hc(n)&&Un(t,n,e),n=Ni(t,e,!1),n=t.Vl(n),null===t.hc(n)&&Un(t,n,e);var o=t.Ef(e);if(Array.isArray(o))for(var r=o.length,s=0;s<r;s++)null===t.hc(n=o[s])&&Un(t,n,e)}function hm(t,e,n){t.lp(n,t.ps(e)),t.wv(n,t.yx(e)),t.Bv(n,t.Bx(e)),t.Ls(n,t.Ef(e)),t.xv(n,t.zx(e)),t.Cv(n,t.Cx(e))}re.className="Binding",re.parseEnum=function(t,e){return function(n){return null===(n=ns(t,n))?e:n}},re.toString=cn,re.OneWay=sm,re.TwoWay=Ju,At(dt,z),dt.constructGraphLinksModel=z.constructGraphLinksModel,dt.prototype.cloneProtected=function(t){z.prototype.cloneProtected.call(this,t),t.Jh=this.Jh,t.cl=this.cl,t.Ak=this.Ak,t.lf=this.lf,t.mf=this.mf,t.ej=this.ej,t.fj=this.fj,t.dj=this.dj,t.je=this.je,t.jl=this.jl,t.Je=this.Je,t.Lm=this.Lm},(x=dt.prototype).clear=function(){z.prototype.clear.call(this),this.md=[],this.wb.clear(),this.$f.clear()},x.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.np();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var o,n=(t=this.nodeDataArray).length;for(o=0;o<n;o++){var r=t[o];e+=" "+this.wa(r)+":"+cn(r)}for(e+="\n link data:",n=(t=this.linkDataArray).length,o=0;o<n;o++)e+=" "+Ni(this,r=t[o],!0)+"--\x3e"+Ni(this,r,!1)}return e},x.Qv=function(t,e){""===this.linkKeyProperty&&q("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var n=z.prototype.Qv.call(this,t,e),o=this,r=new E,s=new E,l=new E,a=this.vh;t.changes.each(function(f){f.model===o&&("linkDataArray"===f.modelChange?f.change===ge?r.add(f.newValue):f.change===_e&&l.add(f.oldValue):o.Jc(f.object)?s.add(f.object):null!==f.object&&(null!==f.object&&a&&a.contains(f.object)?a.get(f.object).each(function(g){o.Jc(g)&&s.add(g)}):f.object instanceof z||o.lb(f.object)||lm(o,f.object).each(function(g){s.add(g)})))});var p=this.il;p.clear(),r.each(function(f){p.add(o.Ac(f)),e||s.add(f)});var d=this.kl;return d.clear(),l.each(function(f){d.add(o.Ac(f)),e&&s.add(f)}),t=o.cloneDeep(s.Fa()),0<p.count&&(null===n&&(n={}),e?n.removedLinkKeys=p.Fa():n.insertedLinkKeys=p.Fa()),0<t.length&&(null===n&&(n={}),n.modifiedLinkData=t),0<d.count&&(null===n&&(n={}),e?n.insertedLinkKeys=d.Fa():n.removedLinkKeys=d.Fa()),d.clear(),p.clear(),n},x.rm=function(){var t=z.prototype.rm.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},x.gp=function(t){z.prototype.gp.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},x.Rv=function(){return z.prototype.Rv.call(this)+',\n  "linkDataArray": '+pr(this,this.linkDataArray,!0)},x.kv=function(t){z.prototype.kv.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.dm(t),this.linkDataArray=t)},x.Pv=function(t,e){""===this.linkKeyProperty&&q("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=z.prototype.Pv.call(this,t,e),o=this,r=new E,s=new E,l=new E,a=this.vh;t.changes.each(function(f){f.model===o&&("linkDataArray"===f.modelChange?f.change===ge?r.add(f.newValue):f.change===_e&&l.add(f.oldValue):o.Jc(f.object)?s.add(f.object):null!==f.object&&(null!==f.object&&a&&a.contains(f.object)?a.get(f.object).each(function(g){o.Jc(g)&&s.add(g)}):f.object instanceof z||o.lb(f.object)||lm(o,f.object).each(function(g){s.add(g)})))});var p=this.il;p.clear(),r.each(function(f){p.add(o.Ac(f)),e||s.add(f)});var d=this.kl;return d.clear(),l.each(function(f){d.add(o.Ac(f)),e&&s.add(f)}),t=n,0<p.count&&(t+=(e?this.Xv:this.Vv)+pr(this,p.Fa(),!0)),0<s.count&&(t+=this.iy+pr(this,s.Fa(),!0)),0<d.count&&(t+=(e?this.Vv:this.Xv)+pr(this,d.Fa(),!0)),d.clear(),p.clear(),t},x.fp=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&q("applyIncrementalJson cannot change Model properties"),z.prototype.fp.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var n=e.length,o=0;o<n;o++){var r=e[o],s=this.jh(r);null===s&&(s=this.Jo({}),this.Ks(s,r),this.fi(s))}if(e=t.modifiedLinkData,Array.isArray(e))for(n=e.length,o=0;o<n;o++)if(s=this.Ac(r=e[o]),null!==(s=this.jh(s))){for(var l in r)"__gohashid"!==l&&l!==this.linkKeyProperty&&this.setDataProperty(s,l,r[l]);hm(this,r,s)}if(t=t.removedLinkKeys,Array.isArray(t))for(l=t.length,e=0;e<l;e++)null!==(n=this.jh(t[e]))&&this.bm(n)},dt.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===Bt){var n=t.object,o=t.propertyName;if(o===this.linkKeyProperty&&this.Jc(n)){var r=t.I(e);return void 0!==(e=t.I(!e))&&this.wb.remove(e),void 0!==r&&this.wb.add(r,n),void qt(n,o,r)}}else if(t.change===ge){if(n=t.newParam,"linkDataArray"===t.modelChange)return void(Et(t=t.newValue)&&"number"==typeof n&&(o=this.Ac(t),e?(this.$f.remove(t),this.md[n]===t&&this.md.splice(n,1),void 0!==o&&this.wb.remove(o)):(this.$f.add(t),this.md[n]!==t&&this.md.splice(n,0,t),void 0!==o&&this.wb.add(o,t))));if("linkLabelKeys"===t.modelChange)return o=this.Ef(t.object),void(Array.isArray(o)&&"number"==typeof n&&(e?(n=o.indexOf(t.newValue),0<=n&&o.splice(n,1)):0>o.indexOf(t.newValue)&&o.splice(n,0,t.newValue)))}else if(t.change===_e){if(n=t.oldParam,"linkDataArray"===t.modelChange)return void(Et(t=t.oldValue)&&"number"==typeof n&&(o=this.Ac(t),e?(this.$f.add(t),this.md[n]!==t&&this.md.splice(n,0,t),void 0!==o&&this.wb.add(o,t)):(this.$f.remove(t),this.md[n]===t&&this.md.splice(n,1),void 0!==o&&this.wb.remove(o))));if("linkLabelKeys"===t.modelChange)return o=this.Ef(t.object),void(Array.isArray(o)&&"number"==typeof n&&(e?0>o.indexOf(t.newValue)&&o.splice(n,0,t.newValue):(n=o.indexOf(t.newValue),0<=n&&o.splice(n,1))))}z.prototype.changeState.call(this,t,e)}},(x=dt.prototype).Vl=function(t){if(void 0!==t){var e=this.Ri;if(null!==e){var n=this.hc(t);null===n&&(qt(n=this.copyNodeData(e),this.nodeKeyProperty,t),this.xf(n))}return t}},x.yx=function(t){return Ni(this,t,!0)},x.wv=function(t,e){jl(this,t,e,!0)},x.Bx=function(t){return Ni(this,t,!1)},x.Bv=function(t,e){jl(this,t,e,!1)},x.zx=function(t){return Hh(this,t,!0)},x.xv=function(t,e){Nl(this,t,e,!0)},x.Cx=function(t){return Hh(this,t,!1)},x.Cv=function(t,e){Nl(this,t,e,!1)},x.Ef=function(t){if(null===t)return Kh;var e=this.je;return""===e||void 0===(t=ee(t,e))?Kh:t},x.Ls=function(t,e){if(null!==t){var n=this.je;if(""!==n)if(this.Jc(t)){var o=ee(t,n);if(void 0===o&&(o=Kh),o!==e){if(Array.isArray(o))for(var r=o.length,s=0;s<r;s++)Fn(this,o[s],t);for(qt(t,n,e),r=e.length,s=0;s<r;s++){var l=e[s];null===this.hc(l)&&Un(this,l,t)}ue(this,"linkLabelKeys",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n)}}else qt(t,n,e)}},x.Bu=function(t,e){if(null!=e&&null!==t){var n=this.je;if(""!==n){var o=ee(t,n);if(void 0===o)(n=[]).push(e),this.Ls(t,n);else if(Array.isArray(o)){var r=o.indexOf(e);0<=r||(r=o.length,o.push(e),this.Jc(t)&&(null===this.hc(e)&&Un(this,e,t),ue(this,"linkLabelKeys",ge,n,t,null,e,null,r)))}else q(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},x.Qx=function(t,e){if(null!=e&&null!==t){var n=this.je;if(""!==n){var o=ee(t,n);if(Array.isArray(o)){var r=o.indexOf(e);0>r||(o.splice(r,1),this.Jc(t)&&(Fn(this,e,t),ue(this,"linkLabelKeys",_e,n,t,e,null,r,null)))}else void 0!==o&&q(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},x.Ac=function(t){if(null!==t){var e=this.Jh;if(""!==e&&void 0!==(e=ee(t,e))){if(cr(e))return e;q("Key value for link data "+t+" is not a number or a string: "+e)}}},x.Ks=function(t,e){if(null!==t){var n=this.Jh;if(""!==n)if(this.Jc(t)){var o=ee(t,n);o!==e&&null===this.jh(e)&&(qt(t,n,e),void 0!==o&&this.wb.remove(o),this.wb.add(e,t),ue(this,"linkKey",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n))}else qt(t,n,e)}},x.jh=function(t){return null===t&&q("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&cr(t)?this.wb.I(t):null},x.Bs=function(t){if(null!==t){var e=this.Jh;if(""!==e){var n=this.Ac(t);if(void 0===n||this.wb.contains(n)){var o=this.cl;if(null!==o&&null!=(n=o(this,t))&&!this.wb.contains(n))return void qt(t,e,n);if("string"==typeof n){for(o=2;this.wb.contains(n+o);)o++;qt(t,e,n+o)}else if(void 0===n||"number"==typeof n){for(n=-this.wb.count-1;this.wb.contains(n);)n--;qt(t,e,n)}}}}},x.Jc=function(t){return null!==t&&this.$f.contains(t)},x.fi=function(t){null!==t&&(os(t),this.Jc(t)||um(this,t,!0))},x.Ey=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.fi(t[n]);else for(t=t.iterator;t.next();)this.fi(t.value)},x.bm=function(t){null!==t&&am(this,t,!0)},x.lA=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.bm(t[n]);else for(t=t.iterator;t.next();)this.bm(t.value)},x.Zz=function(t){if(""===this.linkKeyProperty&&q("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&De(t)){var e=this.kl;e.clear(),e.addAll(this.wb.iteratorKeys);var n=this.il;n.clear();for(var o=t.length,r=0;r<o;r++){var s=t[r],l=this.Ac(s);if(void 0!==l){n.add(l);var a=this.jh(l);a!==s&&(null!==a?(this.Do(a,s),hm(this,s,a)):(s=this.cloneDeep(s),this.Ks(s,l),this.fi(s)))}else l=this.cloneDeep(s),this.fi(l),n.add(this.Ac(l))}for(t=e.iterator;t.next();)n.contains(o=t.value)||(o=this.jh(o))&&this.bm(o);e.clear(),n.clear()}},x.Jo=function(t){if(null===t)return null;var e=this.Ak;return Et(t=null!==e?e(t,this):Gh(this,t,!0))&&(ye(t),""!==this.lf&&qt(t,this.lf,void 0),""!==this.mf&&qt(t,this.mf,void 0),""!==this.je&&qt(t,this.je,[])),t},x.Yu=function(t){if(null===t)return!1;var e=this.jl;return""!==e&&!!ee(t,e)},x.lh=function(t){if(null!==t){var e=this.Je;if(""!==e&&void 0!==(e=ee(t,e))){if(cr(e))return e;q("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},x.mp=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.Je;if(""!==n)if(this.lb(t)){var o=ee(t,n);o!==e&&(Fn(this,o,t),qt(t,n,e),null===this.hc(e)&&Un(this,e,t),ue(this,"nodeGroupKey",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n))}else qt(t,n,e)}},dt.prototype.copyNodeData=function(t){return null===t?null:(t=z.prototype.copyNodeData.call(this,t),this.Ij||""===this.Je||void 0===ee(t,this.Je)||qt(t,this.Je,void 0),t)},dt.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,n);if(e===this.nodeCategoryProperty)return void this.jm(t,n);if(e===this.nodeGroupKeyProperty)return void this.mp(t,n)}else if(this.Jc(t)){if(e===this.linkFromKeyProperty)return void jl(this,t,n,!0);if(e===this.linkToKeyProperty)return void jl(this,t,n,!1);if(e===this.linkFromPortIdProperty)return void Nl(this,t,n,!0);if(e===this.linkToPortIdProperty)return void Nl(this,t,n,!1);if(e===this.linkKeyProperty)return void this.Ks(t,n);if(e===this.linkCategoryProperty)return void this.lp(t,n);if(e===this.linkLabelKeysProperty)return void this.Ls(t,n)}var o=ee(t,e);o!==n&&(qt(t,e,n),this.Fs(t,e,o,n))},(x=dt.prototype).Do=function(t,e){if(e){var r,n=this.lb(t),o=this.Jc(t);for(r in e)"__gohashid"===r||n&&r===this.nodeKeyProperty||n&&r===this.nodeIsGroupProperty&&ee(t,r)===e[r]||o&&r===this.linkKeyProperty||this.setDataProperty(t,r,e[r])}},x.jp=function(t,e){z.prototype.jp.call(this,t,e);for(var n=this.kb.iterator;n.next();)this.qv(n.value,t,e);for(n=this.$f.iterator;n.next();){var o=n.value,r=t,s=e;if(Ni(this,o,!0)===r){var l=this.lf;qt(o,l,s),ue(this,"linkFromKey",Bt,l,o,r,s),"string"==typeof l&&this.La(o,l)}if(Ni(this,o,!1)===r&&(qt(o,l=this.mf,s),ue(this,"linkToKey",Bt,l,o,r,s),"string"==typeof l&&this.La(o,l)),l=this.Ef(o),Array.isArray(l))for(var a=l.length,p=this.je,d=0;d<a;d++)l[d]===r&&(l[d]=s,ue(this,"linkLabelKeys",ge,p,o,r,s,d,d))}},x.qv=function(t,e,n){if(this.lh(t)===e){var o=this.Je;qt(t,o,n),ue(this,"nodeGroupKey",Bt,o,t,e,n),"string"==typeof o&&this.La(t,o)}},x.Lv=function(){z.prototype.Lv.call(this);for(var t=this.linkDataArray,e=t.length,n=0;n<e;n++)af(this,t[n])},x.fm=function(t){z.prototype.fm.call(this,t);var e=qu(this,t=this.wa(t));if(null!==e){var n=bt();for(e=e.iterator;e.next();){var o=e.value;if(this.lb(o)){if(this.lh(o)===t){var r=this.Je;ue(this,"nodeGroupKey",Bt,r,o,t,t),"string"==typeof r&&this.La(o,r),n.push(o)}}else if(Ni(this,o,!0)===t&&(ue(this,"linkFromKey",Bt,r=this.lf,o,t,t),"string"==typeof r&&this.La(o,r),n.push(o)),Ni(this,o,!1)===t&&(ue(this,"linkToKey",Bt,r=this.mf,o,t,t),"string"==typeof r&&this.La(o,r),n.push(o)),r=this.Ef(o),Array.isArray(r))for(var s=r.length,l=this.je,a=0;a<s;a++)r[a]===t&&(ue(this,"linkLabelKeys",ge,l,o,t,t,a,a),n.push(o))}for(e=0;e<n.length;e++)Fn(this,t,n[e]);Nt(n)}},x.em=function(t){z.prototype.em.call(this,t);var e=this.lh(t);null===this.hc(e)&&Un(this,e,t)},x.qp=function(t){z.prototype.qp.call(this,t),Fn(this,this.lh(t),t)},x.ps=function(t){if(null===t)return"";var e=this.dj;return""===e||void 0===(e=ee(t,e))?"":"string"==typeof e?e:void q("getCategoryForLinkData found a non-string category for "+t+": "+e)},dt.prototype.getLinkCategoryForData=function(t){return this.ps(t)},dt.prototype.lp=function(t,e){if(null!==t){var n=this.dj;if(""!==n)if(this.Jc(t)){var o=ee(t,n);void 0===o&&(o=""),o!==e&&(qt(t,n,e),ue(this,"linkCategory",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n))}else qt(t,n,e)}},dt.prototype.setLinkCategoryForData=function(t,e){this.lp(t,e)},(x=dt.prototype).lm=function(t,e){z.prototype.lm.call(this,t,e),this.mp(e,this.lh(t))},x.Wj=function(){return!0},x.ri=function(){return!0},x.xs=function(){return!0},x.Xj=function(){return!0},pt.Object.defineProperties(dt.prototype,{archetypeNodeData:{get:function(){return this.Ri},set:function(t){var e=this.Ri;e!==t&&(this.Ri=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.lf},set:function(t){var e=this.lf;e!==t&&(this.lf=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.mf},set:function(t){var e=this.mf;e!==t&&(this.mf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.ej},set:function(t){var e=this.ej;e!==t&&(this.ej=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.fj},set:function(t){var e=this.fj;e!==t&&(this.fj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.je},set:function(t){var e=this.je;e!==t&&(this.je=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.md},set:function(t){var e=this.md;if(e!==t){this.wb.clear();for(var n=t.length,o=0;o<n;o++){var r=t[o];Et(r)||q("GraphLinksModel.linkDataArray must only contain Objects, not: "+r),os(r)}if(this.md=t,""!==this.linkKeyProperty){for(o=new H,r=0;r<n;r++){var s=t[r],l=this.Ac(s);void 0===l||null!==this.wb.I(l)?o.add(s):this.wb.add(l,s)}for(o=o.iterator;o.next();)this.Bs(r=o.value),void 0!==(s=this.Ac(r))&&this.wb.add(s,r)}for(o=new E,r=0;r<n;r++)o.add(t[r]);for(this.$f=o,ue(this,"linkDataArray",Bt,"linkDataArray",this,e,t),e=0;e<n;e++)af(this,t[e])}}},linkKeyProperty:{get:function(){return this.Jh},set:function(t){var e=this.Jh;if(e!==t){this.Jh=t,this.wb.clear();for(var n=this.linkDataArray.length,o=0;o<n;o++){var r=this.linkDataArray[o],s=this.Ac(r);void 0===s&&(this.Bs(r),s=this.Ac(r)),void 0!==s&&this.wb.add(s,r)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.cl},set:function(t){var e=this.cl;e!==t&&(this.cl=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.Ak},set:function(t){var e=this.Ak;e!==t&&(this.Ak=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.jl},set:function(t){var e=this.jl;e!==t&&(this.jl=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.Je},set:function(t){var e=this.Je;e!==t&&(this.Je=t,this.g("nodeGroupKeyProperty",e,t))}},Ij:{get:function(){return this.Lm},set:function(t){this.Lm!==t&&(this.Lm=t)}},linkCategoryProperty:{get:function(){return this.dj},set:function(t){var e=this.dj;e!==t&&(this.dj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),dt.prototype.setCategoryForLinkData=dt.prototype.lp,dt.prototype.getCategoryForLinkData=dt.prototype.ps,dt.prototype.assignAllDataProperties=dt.prototype.Do,dt.prototype.setGroupKeyForNodeData=dt.prototype.mp,dt.prototype.getGroupKeyForNodeData=dt.prototype.lh,dt.prototype.isGroupForNodeData=dt.prototype.Yu,dt.prototype.copyLinkData=dt.prototype.Jo,dt.prototype.mergeLinkDataArray=dt.prototype.Zz,dt.prototype.removeLinkDataCollection=dt.prototype.lA,dt.prototype.removeLinkData=dt.prototype.bm,dt.prototype.addLinkDataCollection=dt.prototype.Ey,dt.prototype.addLinkData=dt.prototype.fi,dt.prototype.containsLinkData=dt.prototype.Jc,dt.prototype.makeLinkDataKeyUnique=dt.prototype.Bs,dt.prototype.findLinkDataForKey=dt.prototype.jh,dt.prototype.setKeyForLinkData=dt.prototype.Ks,dt.prototype.getKeyForLinkData=dt.prototype.Ac,dt.prototype.removeLabelKeyForLinkData=dt.prototype.Qx,dt.prototype.addLabelKeyForLinkData=dt.prototype.Bu,dt.prototype.setLabelKeysForLinkData=dt.prototype.Ls,dt.prototype.getLabelKeysForLinkData=dt.prototype.Ef,dt.prototype.setToPortIdForLinkData=dt.prototype.Cv,dt.prototype.getToPortIdForLinkData=dt.prototype.Cx,dt.prototype.setFromPortIdForLinkData=dt.prototype.xv,dt.prototype.getFromPortIdForLinkData=dt.prototype.zx,dt.prototype.setToKeyForLinkData=dt.prototype.Bv,dt.prototype.getToKeyForLinkData=dt.prototype.Bx,dt.prototype.setFromKeyForLinkData=dt.prototype.wv,dt.prototype.getFromKeyForLinkData=dt.prototype.yx,dt.prototype.clear=dt.prototype.clear;var Kh=Object.freeze([]);function si(t,e){z.call(this),this.Ke="parent",this.Nm=!1,this.nj="parentLinkCategory",void 0!==t&&(De(t)?this.nodeDataArray=t:e=t),e&&(Object.assign(this,e),t=e.Changed)&&(delete this.Changed,this.Pe(t))}function Qt(t){Yt.call(this),this.lw=this.Zm=this.lc=0,this.Wp=360,this.kw=Pn,this.Ti=0,this.Zv=new w,this.Jp=this.me=0,this.Xr=new Qu,this.gt=this.mj=0,this.ty=600,this.eo=NaN,this.Cm=1,this.ro=0,this.ul=360,this.Rb=Pn,this.K=li,this.nd=Il,this.hd=tf,this.tf=6,this.Nn=ep,t&&Object.assign(this,t)}function Ru(t,e,n,o,r){var s=t.Wp,l=t.lc;t=t.me,o=o*Math.PI/180,n=n*Math.PI/180;for(var a=e.length,p=0;p<a;p++){var d=o+(r===li?p*n/(360<=s?a:a-1):-p*n/a),f=e.M(p),g=l*Math.tan(d)/t;g=Math.sqrt((l*l+t*t*g*g)/(1+g*g)),f.centerX=g*Math.cos(d),f.centerY=g*Math.sin(d),f.actualAngle=180*d/Math.PI}}function Eu(t,e,n,o){var r=t.lc,s=t.me,l=t.Ti;n=n*Math.PI/180;for(var a=e.length,p=0;p<a;p++){var d=e.M(p),f=e.M(p===a-1?0:p+1),g=s*Math.sin(n);d.centerX=r*Math.cos(n),d.centerY=g,d.actualAngle=180*n/Math.PI,isNaN(d.diameter)&&Ko(d,0),isNaN(f.diameter)&&Ko(f,0),d=zh(t,r,s,o===li?n:-n,(d.diameter+f.diameter)/2+l),n+=o===li?d:-d}}function Bu(t,e,n,o){var r=t.lc,s=t.me,l=t.Jp;n=n*Math.PI/180;for(var a=e.length,p=0;p<a;p++){var d=e.M(p);d.centerX=r*Math.cos(n),d.centerY=s*Math.sin(n),d.actualAngle=180*n/Math.PI,d=zh(t,r,s,o===li?n:-n,l),n+=o===li?d:-d}}function pm(t,e,n,o,r){var s=t.Wp;if(t.mj=0,t.Xr=new Qu,360>n){for(s=o+(r===li?s:-s);0>s;)s+=360;180<(s%=360)&&(s-=360),s*=Math.PI/180,t.gt=s,dm(t,e,n,o,r)}else cm(t,e,n,o,r);t.Xr.commit(e)}function cm(t,e,n,o,r){var s=t.lc,l=t.Ti,a=t.Zm,p=s*Math.cos(o*Math.PI/180),d=t.me*Math.sin(o*Math.PI/180),f=e.Fa();if(3===f.length)f[0].centerX=s,f[0].centerY=0,f[1].centerX=f[0].centerX-f[0].width/2-f[1].width/2-l,f[1].y=f[0].y,f[2].centerX=(f[0].centerX+f[1].centerX)/2,f[2].y=f[0].y-f[2].height-l;else if(4===f.length)f[0].centerX=s,f[0].centerY=0,f[2].centerX=-f[0].centerX,f[2].centerY=f[0].centerY,f[1].centerX=0,f[1].y=Math.min(f[0].y,f[2].y)-f[1].height-l,f[3].centerX=0,f[3].y=Math.max(f[0].y+f[0].height+l,f[2].y+f[2].height+l);else{s=w.alloc();for(var g=0;g<f.length&&(f[g].centerX=p,f[g].centerY=d,!(g>=f.length-1));g++)fm(t,p,d,f,g,r,s)||gm(t,p,d,f,g,r,s),p=s.x,d=s.y;if(w.free(s),t.mj++,!(23<t.mj)){p=f[0].centerX,d=f[0].centerY,s=f[f.length-1].centerX,g=f[f.length-1].centerY;var m=Math.abs(p-s)-((f[0].width+f[f.length-1].width)/2+l),v=Math.abs(d-g)-((f[0].height+f[f.length-1].height)/2+l);l=0,1>Math.abs(v)?Math.abs(p-s)<(f[0].width+f[f.length-1].width)/2&&(l=0):l=0<v?v:1>Math.abs(m)?0:m,p=Math.abs(s)>Math.abs(g)?0<s!=d>g:0<g!=p<s,(p=r===li?p:!p)&&(l=-Math.abs(l),l=Math.min(l,-f[f.length-1].width),l=Math.min(l,-f[f.length-1].height)),t.Xr.compare(l,f),1<Math.abs(l)&&(t.lc=8>t.mj?t.lc-l/(2*Math.PI):5>f.length&&10<l?t.lc/2:t.lc-(0<l?1.7:-2.3),t.me=t.lc*a,cm(t,e,n,o,r))}}}function dm(t,e,n,o,r){for(var s=t.lc,l=t.me,a=t.Zm,p=s*Math.cos(o*Math.PI/180),d=l*Math.sin(o*Math.PI/180),f=w.alloc(),g=e.Fa(),m=0;m<g.length&&(g[m].centerX=p,g[m].centerY=d,!(m>=g.length-1));m++)fm(t,p,d,g,m,r,f)||gm(t,p,d,g,m,r,f),p=f.x,d=f.y;if(w.free(f),t.mj++,!(23<t.mj)){if(p=Math.atan2(d,p),p=r===li?t.gt-p:p-t.gt,s=(p=Math.abs(p)<Math.abs(p-2*Math.PI)?p:p-2*Math.PI)*(s+l)/2,l=t.Xr,Math.abs(s)<Math.abs(l.Pl))for(l.Pl=s,l.mk=[],l.tm=[],p=0;p<g.length;p++)l.mk[p]=g[p].bounds.x,l.tm[p]=g[p].bounds.y;1<Math.abs(s)&&(t.lc=8>t.mj?t.lc-s/(2*Math.PI):t.lc-(0<s?1.7:-2.3),t.me=t.lc*a,dm(t,e,n,o,r))}}function fm(t,e,n,o,r,s,l){var a=t.lc,p=t.me,d=0;t=(o[r].width+o[r+1].width)/2+t.Ti;var f=!1;if(0<=n!=(s===li)){if((s=e+t)>a){if((s=e-t)<-a)return l.x=s,l.y=d,!1;f=!0}}else if((s=e-t)<-a){if((s=e+t)>a)return l.x=s,l.y=d,!1;f=!0}return d=Math.sqrt(1-Math.min(1,s*s/(a*a)))*p,0>n!==f&&(d=-d),Math.abs(n-d)>(o[r].height+o[r+1].height)/2?(l.x=s,l.y=d,!1):(l.x=s,l.y=d,!0)}function gm(t,e,n,o,r,s,l){var a=t.lc,p=t.me,d=0;if(t=(o[r].height+o[r+1].height)/2+t.Ti,o=!1,0<=e!=(s===li)){if((s=n-t)<-p){if((s=n+t)>p)return l.x=d,void(l.y=s);o=!0}}else if((s=n+t)>p){if((s=n-t)<-p)return l.x=d,void(l.y=s);o=!0}d=Math.sqrt(1-Math.min(1,s*s/(p*p)))*a,0>e!==o&&(d=-d),l.x=d,l.y=s}function hf(t,e,n,o,r){var s=t.ty;if(.001>Math.abs(t.Zm-1))return void 0!==o&&void 0!==r?r*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var l=0,a=void 0!==o&&void 0!==r?r/(s+1):Math.PI/(2*(s+1)),p=0,d=0;d<=s;d++){p=void 0!==o&&void 0!==r?o+d*r/s:d*Math.PI/(2*s);var f=Math.sin(p);l+=Math.sqrt(1-t*t*f*f)*a}return void 0!==o&&void 0!==r?(e>n?e:n)*l:4*(e>n?e:n)*l}function Vh(t,e,n,o,r){return e/(void 0!==o&&void 0!==r?hf(t,1,n,o,r):hf(t,1,n))}function zh(t,e,n,o,r){if(.001>Math.abs(t.Zm-1))return r/e;var s=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,l=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(o+=Math.PI/2);for(var a=0;;a++){var p=Math.sin(o+a*t);if((l+=(e>n?e:n)*Math.sqrt(1-s*s*p*p)*t)>=r)return a*t}}dt.className="GraphLinksModel",xn.GraphLinksModel=dt,z.constructGraphLinksModel=z.constructGraphLinksModel=function(){return new dt},z.initDiagramModel=lf=function(){return new dt},At(si,z),si.constructGraphLinksModel=z.constructGraphLinksModel,si.prototype.cloneProtected=function(t){z.prototype.cloneProtected.call(this,t),t.Ke=this.Ke,t.Nm=this.Nm,t.nj=this.nj},(x=si.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.np();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,o=0;o<n;o++){var r=t[o];e+=" "+this.wa(r)+":"+cn(r)}}return e},x.rm=function(){var t=z.prototype.rm.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},x.gp=function(t){z.prototype.gp.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},x.fp=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&q("applyIncrementalJson cannot change Model properties"),z.prototype.fp.call(this,t)},x.Vl=function(t){return t},x.mh=function(t){if(null!==t){var e=this.Ke;if(""!==e&&void 0!==(e=ee(t,e))){if(cr(e))return e;q("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},x.qe=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.Ke;if(""!==n)if(e=this.Vl(e),this.lb(t)){var o=ee(t,n);o!==e&&(Fn(this,o,t),qt(t,n,e),null===this.hc(e)&&Un(this,e,t),ue(this,"nodeParentKey",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n))}else qt(t,n,e)}},x.ss=function(t){if(null===t)return"";var e=this.nj;return""===e||void 0===(e=ee(t,e))?"":"string"==typeof e?e:(q("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},si.prototype.getLinkCategoryForData=function(t){return this.ss(t)},si.prototype.Ms=function(t,e){if(null!==t){var n=this.nj;if(""!==n)if(this.lb(t)){var o=ee(t,n);void 0===o&&(o=""),o!==e&&(qt(t,n,e),ue(this,"parentLinkCategory",Bt,n,t,o,e),"string"==typeof n&&this.La(t,n))}else qt(t,n,e)}},si.prototype.setLinkCategoryForData=function(t,e){this.Ms(t,e)},si.prototype.copyNodeData=function(t){return null===t?null:(t=z.prototype.copyNodeData.call(this,t),this.Jj||""===this.Ke||void 0===ee(t,this.Ke)||qt(t,this.Ke,void 0),t)},si.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.km(t,n);if(e===this.nodeCategoryProperty)return void this.jm(t,n);if(e===this.nodeParentKeyProperty)return void this.qe(t,n)}var o=ee(t,e);o!==n&&(qt(t,e,n),this.Fs(t,e,o,n))},(x=si.prototype).jp=function(t,e){z.prototype.jp.call(this,t,e);for(var n=this.kb.iterator;n.next();)this.qv(n.value,t,e)},x.qv=function(t,e,n){if(this.mh(t)===e){var o=this.Ke;qt(t,o,n),ue(this,"nodeParentKey",Bt,o,t,e,n),"string"==typeof o&&this.La(t,o)}},x.fm=function(t){z.prototype.fm.call(this,t);var e=qu(this,t=this.wa(t));if(null!==e){var n=bt();for(e=e.iterator;e.next();){var o=e.value;if(this.lb(o)&&this.mh(o)===t){var r=this.Ke;ue(this,"nodeParentKey",Bt,r,o,t,t),"string"==typeof r&&this.La(o,r),n.push(o)}}for(e=0;e<n.length;e++)Fn(this,t,n[e]);Nt(n)}},x.em=function(t){z.prototype.em.call(this,t);var e=this.mh(t);e=this.Vl(e),null===this.hc(e)&&Un(this,e,t)},x.qp=function(t){z.prototype.qp.call(this,t),Fn(this,this.mh(t),t)},x.lm=function(t,e){z.prototype.lm.call(this,t,e),this.Ms(e,this.ss(t)),this.qe(e,this.mh(t))},x.Tl=function(){return!0},x.xs=function(){return!0},pt.Object.defineProperties(si.prototype,{nodeParentKeyProperty:{get:function(){return this.Ke},set:function(t){var e=this.Ke;e!==t&&(this.Ke=t,this.g("nodeParentKeyProperty",e,t))}},Jj:{get:function(){return this.Nm},set:function(t){this.Nm!==t&&(this.Nm=t)}},parentLinkCategoryProperty:{get:function(){return this.nj},set:function(t){var e=this.nj;e!==t&&(this.nj=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),si.prototype.setParentLinkCategoryForNodeData=si.prototype.Ms,si.prototype.getParentLinkCategoryForNodeData=si.prototype.ss,si.prototype.setParentKeyForNodeData=si.prototype.qe,si.prototype.getParentKeyForNodeData=si.prototype.mh,si.className="TreeModel",xn.TreeModel=si,At(Qt,Yt),Qt.prototype.cloneProtected=function(t){Yt.prototype.cloneProtected.call(this,t),t.eo=this.eo,t.Cm=this.Cm,t.ro=this.ro,t.ul=this.ul,t.Rb=this.Rb,t.K=this.K,t.nd=this.nd,t.hd=this.hd,t.tf=this.tf,t.Nn=this.Nn},Qt.prototype.qb=function(t){t.classType===Qt?t===$h||t===tp||t===Xh||t===Wh||t===Il?this.sorting=t:t===Jr||t===kl||t===li||t===fr?this.direction=t:t===Ho||t===dr||t===Pn||t===Dn?this.arrangement=t:(t===Cs||t===ep)&&(this.nodeDiameterFormula=t):Yt.prototype.qb.call(this,t)},Qt.prototype.createNetwork=function(){return new Ul(this)},Qt.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new H;e.addAll(t.iterator),t=new H;var r,s,n=new H,o=this.sort(e),l=this.Jp,a=this.arrangement,p=this.nodeDiameterFormula,d=this.radius;(!isFinite(d)||0>=d)&&(d=NaN);var f=this.aspectRatio;(!isFinite(f)||0>=f)&&(f=1);var g=this.startAngle;isFinite(g)||(g=0);var m=this.sweepAngle;if((!isFinite(m)||360<m||1>m)&&(m=360),e=this.spacing,isFinite(e)||(e=NaN),a===Dn&&p===Cs?a=Pn:a===Dn&&p!==Cs&&(a=this.arrangement),(this.direction===Jr||this.direction===kl)&&this.sorting!==Il){for(p=0;!(p>=o.length||(t.add(o.M(p)),p+1>=o.length));p+=2)n.add(o.M(p+1));this.direction===Jr?(this.arrangement===Dn&&t.reverse(),(o=new H).addAll(t),o.addAll(n)):(this.arrangement===Dn&&n.reverse(),(o=new H).addAll(n),o.addAll(t))}p=o.length;for(var v=s=r=0;v<o.length;v++){var y=g+m*s*(this.direction===li?1:-1)/p,P=o.M(v).diameter;isNaN(P)&&(P=Ko(o.M(v),y)),360>m&&(0===v||v===o.length-1)&&(P/=2),r+=P,s++}if(isNaN(d)||a===Dn){if(isNaN(e)&&(e=6),a!==Pn&&a!==Dn){for(s=-1/0,l=0;l<p;l++)v=o.M(l),r=o.M(l===p-1?0:l+1),isNaN(v.diameter)&&Ko(v,0),isNaN(r.diameter)&&Ko(r,0),s=Math.max(s,(v.diameter+r.diameter)/2);l=s+e,d=a===Ho?(s+e)/(2*Math.PI/p):Vh(this,l*(360<=m?p:p-1),f,g*Math.PI/180,m*Math.PI/180)}else d=Vh(this,r+(360<=m?p:p-1)*(a!==Dn?e:1.6*e),f,g*Math.PI/180,m*Math.PI/180);s=d*f}else if(v=hf(this,d,s=d*f,g*Math.PI/180,m*Math.PI/180),isNaN(e))(a===Pn||a===Dn)&&(e=(v-r)/(360<=m?p:p-1));else if(a===Pn||a===Dn)(v=(v-r)/(360<=m?p:p-1))<e?s=(d=Vh(this,r+e*(360<=m?p:p-1),f,g*Math.PI/180,m*Math.PI/180))*f:e=v;else{for(l=-1/0,r=0;r<p;r++)y=o.M(r),P=o.M(r===p-1?0:r+1),isNaN(y.diameter)&&Ko(y,0),isNaN(P.diameter)&&Ko(P,0),l=Math.max(l,(y.diameter+P.diameter)/2);(r=Vh(this,(l+=e)*(360<=m?p:p-1),f,g*Math.PI/180,m*Math.PI/180))>d?s=(d=r)*f:l=v/(360<=m?p:p-1)}if(this.kw=a,this.lc=d,this.Zm=f,this.lw=g,this.Wp=m,this.Ti=e,this.me=s,this.Jp=l,e=o,o=this.kw,a=this.lc,d=this.lw,f=this.Wp,g=this.Ti,m=this.me,p=this.Jp,this.direction!==Jr&&this.direction!==kl||o!==Dn)if(this.direction===Jr||this.direction===kl){switch(l=0,o){case dr:l=180*zh(this,a,m,d,p)/Math.PI;break;case Pn:p=e=0,null!==(l=t.first())&&(e=Ko(l,Math.PI/2)),null!==(l=n.first())&&(p=Ko(l,Math.PI/2)),l=180*zh(this,a,m,d,g+(e+p)/2)/Math.PI;break;case Ho:l=f/e.length}if(this.direction===Jr){switch(o){case dr:Bu(this,t,d,fr);break;case Pn:Eu(this,t,d,fr);break;case Ho:Ru(this,t,f/2,d,fr)}switch(o){case dr:Bu(this,n,d+l,li);break;case Pn:Eu(this,n,d+l,li);break;case Ho:Ru(this,n,f/2,d+l,li)}}else{switch(o){case dr:Bu(this,n,d,fr);break;case Pn:Eu(this,n,d,fr);break;case Ho:Ru(this,n,f/2,d,fr)}switch(o){case dr:Bu(this,t,d+l,li);break;case Pn:Eu(this,t,d+l,li);break;case Ho:Ru(this,t,f/2,d+l,li)}}}else switch(o){case dr:Bu(this,e,d,this.direction);break;case Pn:Eu(this,e,d,this.direction);break;case Ho:Ru(this,e,f,d,this.direction);break;case Dn:pm(this,e,f,d,this.direction)}else pm(this,e,f,d-f/2,li)}this.updateParts(),this.network=null,this.isValidLayout=!0},Qt.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Qt.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,n=this.actualCenter;t?n=new w(0,0):(n.x=this.arrangementOrigin.x+this.lc,n.y=this.arrangementOrigin.y+this.me);for(var o=this.network.vertexes.iterator;o.next();){var r=o.value;r.x+=n.x,r.y+=n.y,r.commit()}t&&(this.group.Va(),t=this.group.position.copy(),n=this.group.location.copy(),e=e.re(n.re(t)),this.group.move(e),this.Zv=e.re(t))},Qt.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Qt.prototype.sort=function(t){switch(this.sorting){case Xh:break;case Wh:t.reverse();break;case $h:t.sort(this.comparer);break;case tp:t.sort(this.comparer),t.reverse();break;case Il:return this.ak(function m2(t){for(var e=[],n=0;n<t.length;n++)e.push(0);n=new H;for(var o=0;o<t.length;o++){var r=-1,s=-1;if(0===o)for(var l=0;l<t.length;l++){var a=t.M(l).edgesCount;a>r&&(r=a,s=l)}else for(l=0;l<t.length;l++)(a=e[l])>r&&(r=a,s=l);for(n.add(t.M(s)),e[s]=-1,l=(s=t.M(s)).sourceEdges;l.next();)0>(r=t.indexOf(l.value.fromVertex))||0<=e[r]&&e[r]++;for(s=s.destinationEdges;s.next();)0>(r=t.indexOf(s.value.toVertex))||0<=e[r]&&e[r]++}return n}(t));default:q("Invalid sorting type.")}return t},Qt.prototype.ak=function(t){for(var e=[],n=0;n<t.length;n++){var o=t.M(n);e[n]=[];for(var r,s=o.destinationEdges;s.next();)(r=t.indexOf(s.value.toVertex))!==n&&0>e[n].indexOf(r)&&e[n].push(r);for(o=o.sourceEdges;o.next();)(r=t.indexOf(o.value.fromVertex))!==n&&0>e[n].indexOf(r)&&e[n].push(r)}for(s=[],n=0;n<e.length;n++)s[n]=0;n=[];var l=[],a=[];o=[],r=new H;for(var p=0,d=0;d<e.length;d++){var f=e[d].length;if(1===f)o.push(d);else if(0===f)r.add(t.M(d));else{if(0===p)n.push(d);else{for(var g=f=1/0,m=-1,v=[],y=0;y<n.length;y++)0>e[n[y]].indexOf(n[y===n.length-1?0:y+1])&&v.push(y===n.length-1?0:y+1);if(0===v.length)for(y=0;y<n.length;y++)v.push(y);for(y=0;y<v.length;y++){for(var P=v[y],T=e[d],S=0,A=0;A<l.length;A++){var M=s[l[A]],Z=s[a[A]];if(M<Z){var j=M;M=Z}else j=Z;if(j<P&&P<=M)for(Z=0;Z<T.length;Z++){var k=T[Z];0>n.indexOf(k)||j<s[k]&&s[k]<M||j===s[k]||M===s[k]||S++}else for(Z=0;Z<T.length;Z++)0>n.indexOf(k=T[Z])||j<s[k]&&s[k]<M&&j!==s[k]&&M!==s[k]&&S++}for(T=S,A=S=0;A<e[d].length;A++)0<=(j=n.indexOf(e[d][A]))&&(S+=(j=Math.abs(P-(j>=P?j+1:j)))<n.length+1-j?j:n.length+1-j);for(A=0;A<l.length;A++)(j=s[l[A]])>=P&&j++,(M=s[a[A]])>=P&&M++,j>M&&(Z=M,M=j,j=Z),M-j<(n.length+2)/2==(j<P&&P<=M)&&S++;(T<f||T===f&&S<g)&&(f=T,g=S,m=P)}for(n.splice(m,0,d),f=0;f<n.length;f++)s[n[f]]=f;for(f=0;f<e[d].length;f++)0<=n.indexOf(g=e[d][f])&&(l.push(d),a.push(g))}p++}}for(l=n.length;;){for(s=!0,a=0;a<o.length;a++)if(0<=(f=n.indexOf(d=e[p=o[a]][0]))){for(m=g=0;m<e[d].length;m++)0>(v=n.indexOf(e[d][m]))||v===f||(g+=v<f!=(y=v>f?v-f:f-v)>l-y?1:-1);n.splice(0>g?f:f+1,0,p),o.splice(a,1),a--}else s=!1;if(s)break;n.push(o[0]),o.splice(0,1)}for(e=0;e<n.length;e++)r.add(t.M(n[e]));return r},pt.Object.defineProperties(Qt.prototype,{radius:{get:function(){return this.eo},set:function(t){this.eo!==t&&(0<t||isNaN(t))&&(this.eo=t,this.C())}},aspectRatio:{get:function(){return this.Cm},set:function(t){this.Cm!==t&&0<t&&(this.Cm=t,this.C())}},startAngle:{get:function(){return this.ro},set:function(t){this.ro!==t&&(this.ro=t,this.C())}},sweepAngle:{get:function(){return this.ul},set:function(t){this.ul!==t&&(this.ul=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Rb},set:function(t){this.Rb===t||t!==Dn&&t!==Pn&&t!==dr&&t!==Ho||(this.Rb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==li&&t!==fr&&t!==Jr&&t!==kl||(this.K=t,this.C())}},sorting:{get:function(){return this.nd},set:function(t){this.nd===t||t!==Xh&&t!==Wh&&t!==$h&&!tp&&t!==Il||(this.nd=t,this.C())}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t,this.C())}},spacing:{get:function(){return this.tf},set:function(t){this.tf!==t&&(this.tf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.Nn},set:function(t){this.Nn===t||t!==ep&&t!==Cs||(this.Nn=t,this.C())}},actualXRadius:{get:function(){return this.lc}},actualYRadius:{get:function(){return this.me}},actualSpacing:{get:function(){return this.Ti}},actualCenter:{get:function(){return this.Zv}}});var Pn=new Q(Qt,"ConstantSpacing",0),dr=new Q(Qt,"ConstantDistance",1),Ho=new Q(Qt,"ConstantAngle",2),Dn=new Q(Qt,"Packed",3),li=new Q(Qt,"Clockwise",4),fr=new Q(Qt,"Counterclockwise",5),Jr=new Q(Qt,"BidirectionalLeft",6),kl=new Q(Qt,"BidirectionalRight",7),Xh=new Q(Qt,"Forwards",8),Wh=new Q(Qt,"Reverse",9),$h=new Q(Qt,"Ascending",10),tp=new Q(Qt,"Descending",11),Il=new Q(Qt,"Optimized",12),ep=new Q(Qt,"Pythagorean",13),Cs=new Q(Qt,"Circular",14);function Qu(){this.Pl=-1/0,this.tm=this.mk=null}function Ul(t){It.call(this,t)}function Gu(t){fe.call(this,t),this.u=this.Si=NaN}function Ko(t,e){var n=t.network;if(null===n)return NaN;if(null===(n=n.layout))return NaN;if(n.arrangement===Dn)if(n.nodeDiameterFormula===Cs)t.Si=Math.max(t.width,t.height);else{if(n=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===n)return t.width;if(0===e)return t.height;t.Si=Math.min(t.height/n,t.width/e)}else t.Si=n.nodeDiameterFormula===Cs?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Si}function ip(t){Ai.call(this,t)}function Ne(t){Yt.call(this),this.ah=null,this.An=0,this.$d=new ot(100,100).freeze(),this.Bm=!1,this.sf=!0,this.td=!1,this.dl=100,this.$m=1,this.Zf=1e3,this.In=10,this.fo=Math,this.Hk=.05,this.Gk=50,this.Ek=150,this.Fk=0,this.Vm=10,this.Um=5,t&&Object.assign(this,t)}function mm(t,e,n){if(function _2(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.ah=t.network.vertexes.Fa(),(t=t.ah).sort(function(n,o){return null===n||null===o||n===o?0:o.Vd-n.Vd}),e=t.length-1;0<=e&&1>=t[e].Vd;)e--;return 1<t.length-e}(t,e)){var o=t.Zf;t.Zf*=1+1/(e+1);var r=function v2(t,e){for(var n=t.network,o=new ws(t),r=0;r<t.ah.length;r++){var s=t.ah[r];if(!(1<s.Vd))break;o.dh(s);var l=new xm;l.Rs=s.Vd,l.Ss=s.width,l.Qs=s.height,l.Sv=s.focus.x,l.Tv=s.focus.y,null===s.We&&(s.We=new H),s.We.add(l),s.sv=s.We.count-1}for(s=n.edges.iterator;s.next();){var a=s.value;l=a.toVertex,(r=a.fromVertex).network===o&&l.network===o?o.Bo(a):r.network===o?(null===(a=r.Hj)&&(a=new H,r.Hj=a),a.add(l),r.Vd--,r.sh+=l.sh):l.network===o&&(null===(a=l.Hj)&&(a=new H,l.Hj=a),a.add(r),l.Vd--,l.sh+=r.sh)}for(r=o.edges.iterator;r.next();)(s=r.value).length*=Math.max(1,N.sqrt((s.fromVertex.sh+s.toVertex.sh)/(4*e+1)));for(e=o.vertexes.iterator;e.next();){var p=(r=e.value).Hj;if(null!==p&&0<p.count&&!(0>=(l=r.We.M(r.We.count-1).Rs-r.Vd))){for(var d=a=0,f=p.count-l;f<p.count;f++){var g=p.M(f),m=null;for(s=g.edges.iterator;s.next();){var v=s.value;if(v.Ax(g)===r){m=v;break}}null!==m&&(d+=m.length,a+=g.width*g.height)}s=r.centerX,p=r.centerY,m=r.focus,1>(v=(f=r.width)*(g=r.height))&&(v=1),a=N.sqrt((a+v+d*d*4/(l*l))/v),r.bounds=new U(s-m.x-(l=(a-1)*f/2),p-m.y-(a=(a-1)*g/2),f+2*l,g+2*a),r.focus=new w(m.x+l,m.y+a)}}return t.network=o,n}(t,e),s=Math.max(0,Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10));for(t.maxIterations+=s,mm(t,e+1,n),ym(t,s),function y2(t,e){for(var n=t.network.vertexes.iterator;n.next();){var o=n.value;if(o.network=e,null!==o.We){var r=o.We.M(o.sv);o.Vd=r.Rs;var s=r.Sv,l=r.Tv;o.bounds=new U(o.centerX-s,o.centerY-l,r.Ss,r.Qs),o.focus=new w(s,l),o.sv--}}for(n=t.network.edges.iterator;n.next();)n.value.network=e;t.network=e}(t,r),(e=r.vertexes.Fa()).sort(function(l,a){return null===l||null===a||l===a?0:a.Vd-l.Vd}),n=0;n<e.length;n++)x2(t,e[n]);t.Zf=o}}function x2(t,e){var n=e.Hj;if(null!==n&&0!==n.count){var o=e.centerX,r=e.centerY,s=e.width,l=e.height;null!==e.We&&0<e.We.count&&(s=(l=e.We.M(0)).Ss,l=l.Qs),s=N.sqrt(s*s+l*l)/2;for(var a=!1,p=l=0,d=0,f=e.vertexes.iterator;f.next();){var g=f.value;1>=g.Vd?p++:(a=!0,d++,l+=Math.atan2(e.centerY-g.centerY,e.centerX-g.centerX))}if(0!==p)for(0<d&&(l/=d),d=e=0,e=a?2*Math.PI/(p+1):2*Math.PI/p,p%2==0&&(d=e/2),1<n.count&&n.sort(function(v,y){return null===v||null===y||v===y?0:y.width*y.height-v.width*v.height}),a=p%2==0?0:1,n=n.iterator;n.next();)if(!(1<(p=n.value).Vd||t.isFixed(p))){for(f=null,g=p.edges.iterator;g.next();){f=g.value;break}var m=p.height;g=N.sqrt((g=p.width)*g+m*m)/2,f=s+f.length+g,g=l+(e*(a/2>>1)+d)*(a%2==0?1:-1),p.centerX=o+f*Math.cos(g),p.centerY=r+f*Math.sin(g),a++}}}function _m(t,e,n,o,r,s,l){var a=9e19,p=-1,d=0;t:for(;d<e;d++){var f=t[d],g=f.x-n,m=f.y-o;if((g=g*g+m*m)<a){for(m=d-1;0<=m;m--)if(t[m].y>f.y&&t[m].x-f.x<r+l.width)continue t;for(m=d+1;m<e;m++)if(t[m].x>f.x&&t[m].y-f.y<s+l.height)continue t;p=d,a=g}}return p}function vm(t,e){var n=t.bounds,o=n.x;t=n.y;var r=n.width;n=n.height;var s=e.bounds,l=s.x;e=s.y;var a=s.width;return s=s.height,o+r<l?t>e+s?N.sqrt((n=o+r-l)*n+(t=t-e-s)*t):t+n<e?N.sqrt((o=o+r-l)*o+(t=t+n-e)*t):l-(o+r):o>l+a?t>e+s?N.sqrt((n=o-l-a)*n+(t=t-e-s)*t):t+n<e?N.sqrt((o=o-l-a)*o+(t=t+n-e)*t):o-(l+a):t>e+s?t-(e+s):t+n<e?e-(t+n):.1}function ym(t,e){for(t.ah=null,e=t.An+e;t.An<e&&(t.An++,P2(t)););t.ah=null}function P2(t){null===t.ah&&(t.ah=t.network.vertexes.Fa());var e=t.ah;if(0>=e.length)return!1;var n=e[0];n.forceX=0,n.forceY=0;for(var o=n.centerX,r=o,s=n=n.centerY,l=1;l<e.length;l++){var a=e[l];a.forceX=0,a.forceY=0;var p=a.centerX;a=a.centerY,o=Math.min(o,p),r=Math.max(r,p),n=Math.min(n,a),s=Math.max(s,a)}(r=r-o>s-n)?e.sort(function(P,T){return null===P||null===T||P===T?0:P.centerX-T.centerX}):e.sort(function(P,T){return null===P||null===T||P===T?0:P.centerY-T.centerY}),n=t.Zf;var d=o=a=0;for(s=0;s<e.length;s++){var f=(o=(l=e[s]).bounds).y+(a=l.focus).y;o=l.charge*t.electricalFieldX(p=o.x+a.x,f),d=l.charge*t.electricalFieldY(p,f),o+=l.mass*t.gravitationalFieldX(p,f),d+=l.mass*t.gravitationalFieldY(p,f),l.forceX+=o,l.forceY+=d;for(var g=s+1;g<e.length;g++){var m=e[g];if(m!==l){var v=(o=m.bounds).y+(a=m.focus).y;if(p-(d=o.x+a.x)>n||d-p>n){if(r)break}else if(f-v>n||v-f>n){if(!r)break}else{var y=vm(l,m);1>y?(null===(o=t.randomNumberGenerator)&&(t.randomNumberGenerator=o=new np),y=o.random(),a=o.random(),o=p>d?(1+(o=Math.abs(m.bounds.right-l.bounds.x)))*y:p<d?-(1+(o=Math.abs(m.bounds.x-l.bounds.right)))*y:(1+(o=Math.max(m.width,l.width)))*y-o/2,d=f>v?(1+(d=Math.abs(m.bounds.bottom-l.bounds.y)))*a:p<d?-(1+(d=Math.abs(m.bounds.y-l.bounds.bottom)))*a:(1+(d=Math.max(m.height,l.height)))*a-d/2):(o=(d-p)/y*(a=-l.charge*m.charge/(y*y)),d=(v-f)/y*a),l.forceX+=o,l.forceY+=d,m.forceX-=o,m.forceY-=d}}}}for(r=t.network.edges.iterator;r.next();)o=(l=(n=(a=r.value).fromVertex).bounds).x+(p=n.focus).x,l=l.y+p.y,p=(f=(s=a.toVertex).bounds).x+(g=s.focus).x,f=f.y+g.y,1>(g=vm(n,s))?(null===(g=t.randomNumberGenerator)&&(t.randomNumberGenerator=g=new np),a=g.random(),g=g.random(),o=(o>p?1:-1)*(1+(s.width>n.width?s.width:n.width))*a,d=(l>f?1:-1)*(1+(s.height>n.height?s.height:n.height))*g):(o=(p-o)/g*(a=a.stiffness*(g-a.length)),d=(f-l)/g*a),n.forceX+=o,n.forceY+=d,s.forceX-=o,s.forceY-=d;for(r=o=0;r<e.length;r++)t.isFixed(n=e[r])?t.moveFixedVertex(n):o=Math.max(o,t.moveVertex(n)||0);return o>t.epsilonDistance*t.epsilonDistance}function xm(){this.Tv=this.Sv=this.Qs=this.Ss=this.Rs=0}function ws(t){It.call(this,t)}function Hu(t){fe.call(this,t),this.ia=!1,this.Ha=this.u=NaN,this.sh=this.Vd=this.V=this.F=0,this.We=this.Hj=null,this.sv=0}function Ku(t){Ai.call(this,t),this.j=this.o=NaN}function np(){var t=0;void 0===t&&(t=42),this.seed=t,this.ay=48271,this.ey=2147483647,this.Q=44488.07041494893,this.gy=3399,this.by=1/2147483647,this.random()}function Ct(t){Yt.call(this),this.kc=this.ie=25,this.K=0,this.Dk=up,this.Zk=Xu,this.Qk=pp,this.bj=4,this.rk=h,this.bg=15,this.sf=!0,this.Cn=4,this.Ra=this.Iq=this.Ia=-1,this.Md=this.Hn=0,this.Ta=this.Kd=this.Ld=this.he=this.tc=null,this.Kn=0,this.Jn=this.kj=null,this.le=0,this.fl=null,this.Rf=new w,this.He=[],this.He.length=100,this.xw=this.ve=0,t&&Object.assign(this,t)}function pf(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function ci(t){null===t.kj&&(t.kj=[]);for(var e=0,n=t.network.vertexes.iterator;n.next();){var o=n.value;t.kj[e]=o.layer,e++,t.kj[e]=o.column,e++,t.kj[e]=o.index,e++}return t.kj}function Vi(t,e){var n=0;for(t=t.network.vertexes.iterator;t.next();){var o=t.value;o.layer=e[n],n++,o.column=e[n],n++,o.index=e[n],n++}}function Pm(t,e,n){var o=gr(t,e),r=t.tc[e];(null===t.Jn||t.Jn.length<r*r)&&(t.Jn=[]);for(var s=t.Jn,l=0;l<r;l++){var m,a=0,p=o[l],d=p.near;if(null!==d&&d.layer===p.layer)if((p=d.index)>l)for(var f=l+1;f<p;f++){var g=o[f];g.near===d&&g.Dj===d.Dj||a++}else for(f=l-1;f>p;f--)(g=o[f]).near===d&&g.Dj===d.Dj||a++;if(0<=n)for(p=o[l].sourceEdgesArrayAccess,d=0;d<p.length;d++){var v=p[d];if(v.valid&&v.fromVertex.layer!==e)for(g=v.fromVertex.index,f=v.portToPos,v=v.portFromPos,m=d+1;m<p.length;m++){var y=p[m];if(y.valid&&y.fromVertex.layer!==e){var P=y.fromVertex.index,T=y.portToPos;y=y.portFromPos,f<T&&(g>P||g===P&&v>y)&&a++,T<f&&(P>g||P===g&&y>v)&&a++}}}if(0>=n)for(p=o[l].destinationEdgesArrayAccess,d=0;d<p.length;d++)if((v=p[d]).valid&&v.toVertex.layer!==e)for(g=v.toVertex.index,f=v.portToPos,v=v.portFromPos,m=d+1;m<p.length;m++)(y=p[m]).valid&&y.toVertex.layer!==e&&(P=y.toVertex.index,T=y.portToPos,v<(y=y.portFromPos)&&(g>P||g===P&&f>T)&&a++,y<v&&(P>g||P===g&&T>f)&&a++);for(s[l*r+l]=a,p=l+1;p<r;p++){var S=0,A=0;if(0<=n){a=o[l].sourceEdgesArrayAccess;var M=o[p].sourceEdgesArrayAccess;for(d=0;d<a.length;d++)if((v=a[d]).valid&&v.fromVertex.layer!==e)for(g=v.fromVertex.index,v=v.portFromPos,m=0;m<M.length;m++)(y=M[m]).valid&&y.fromVertex.layer!==e&&(P=y.fromVertex.index,y=y.portFromPos,(g<P||g===P&&v<y)&&A++,(P<g||P===g&&y<v)&&S++)}if(0>=n)for(a=o[l].destinationEdgesArrayAccess,M=o[p].destinationEdgesArrayAccess,d=0;d<a.length;d++)if((v=a[d]).valid&&v.toVertex.layer!==e)for(g=v.toVertex.index,f=v.portToPos,m=0;m<M.length;m++)(y=M[m]).valid&&y.toVertex.layer!==e&&(T=y.portToPos,(g<(P=y.toVertex.index)||g===P&&f<T)&&A++,(P<g||P===g&&T<f)&&S++);s[l*r+p]=S,s[p*r+l]=A}}return mr(t,e,o),s}function op(t){for(var e=0,n=0;n<=t.Ia;n++){for(var o=t,r=n,s=gr(o,r),l=o.tc[r],a=0,p=0;p<l;p++){var d=s[p].destinationEdgesArrayAccess;if(null!==d)for(var f=0;f<d.length;f++){var g=d[f];g.valid&&g.toVertex.layer!==r&&(a+=(Math.abs(g.fromVertex.column+g.portFromColOffset-(g.toVertex.column+g.portToColOffset))+1)*pf(g))}}mr(o,r,s),e+=a}return e}function cf(t,e,n){for(var o=gr(t,e),r=t.tc[e],s=[],l=0;l<r;l++){var a=o[l],p=null;0>=n&&(p=a.sourceEdgesArrayAccess);var d=null;0<=n&&(d=a.destinationEdgesArrayAccess);var f=0,g=0,m=a.near;if(null!==m&&m.layer===a.layer&&(f+=m.column-1,g++),null!==p)for(m=0;m<p.length;m++){var v=(a=p[m]).fromVertex;a.valid&&!a.rev&&v.layer!==e&&(f+=v.column,g++)}if(null!==d)for(p=0;p<d.length;p++)m=(a=d[p]).toVertex,a.valid&&!a.rev&&m.layer!==e&&(f+=m.column,g++);s[l]=0===g?-1:f/g}return mr(t,e,o),s}function Dm(t,e,n){for(var o=gr(t,e),r=t.tc[e],s=[],l=0;l<r;l++){var a=o[l],p=null;0>=n&&(p=a.sourceEdgesArrayAccess);var d=null;0<=n&&(d=a.destinationEdgesArrayAccess);var f=0,g=[],m=a.near;if(null!==m&&m.layer===a.layer&&(g[f]=m.column-1,f++),a=void 0,null!==p)for(m=0;m<p.length;m++){var v=(a=p[m]).fromVertex;a.valid&&!a.rev&&v.layer!==e&&(g[f]=v.column+a.portFromColOffset,f++)}if(null!==d)for(p=0;p<d.length;p++)m=(a=d[p]).toVertex,a.valid&&!a.rev&&m.layer!==e&&(g[f]=m.column+a.portToColOffset,f++);0===f?s[l]=-1:(g.sort(function(y,P){return y-P}),d=f>>1,s[l]=1&f?g[d]:g[d-1]+g[d]>>1)}return mr(t,e,o),s}function Vu(t,e,n,o,r,s){if(e.component===o){if(e.component=n,r)for(var l=e.destinationEdges;l.next();){var a=l.value,p=a.toVertex,d=e.layer-p.layer;d===(a=t.linkMinLength(a))&&Vu(t,p,n,o,r,s)}if(s)for(l=e.sourceEdges;l.next();)(d=(p=(a=l.value).fromVertex).layer-e.layer)===(a=t.linkMinLength(a))&&Vu(t,p,n,o,r,s)}}function df(t,e,n,o,r,s){if(e.component===o){if(e.component=n,r)for(var l=e.destinationEdges;l.next();)df(t,l.value.toVertex,n,o,r,s);if(s)for(e=e.sourceEdges;e.next();)df(t,e.value.fromVertex,n,o,r,s)}}function D2(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function Sm(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,o=e.destinationEdges;o.next();)if(o.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function Tm(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,o=e.sourceEdges;o.next();)if(o.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function ff(t,e){e.Ll=t.Kn,t.Kn++;for(var n=e.destinationEdges;n.next();){var o=n.value,r=o.toVertex;-1===r.Ll&&(o.forest=!0,ff(t,r))}e.finish=t.Kn,t.Kn++}function Cm(t){for(var e=t.network.vertexes.iterator;e.next();){var n=wm(t,e.value);t.Ia=Math.max(n,t.Ia)}}function wm(t,e){var n=0;if(-1===e.layer){for(var o=e.destinationEdges;o.next();){var r=o.value,s=r.toVertex;r=t.linkMinLength(r),n=Math.max(n,wm(t,s)+r)}e.layer=n}else n=e.layer;return n}function Am(t,e){var n=0;if(-1===e.layer){for(var o=e.sourceEdges;o.next();){var r=o.value,s=r.fromVertex;r=t.linkMinLength(r),n=Math.max(n,Am(t,s)+r)}e.layer=n}else n=e.layer;return n}function Mm(t,e){if(!e.valid){e.valid=!0;for(var n=e.destinationEdges;n.next();)Mm(t,n.value.toVertex);for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(var o=e.sourceEdgesArrayAccess,r=o.length,s=0;s<r;s++){var l=o[s],a=l.fromVertex,p=l.toVertex;l=t.linkMinLength(l),a.layer-p.layer>l&&Vu(t,a,0,-1,!0,!1)}for(Vu(t,e,1,-1,!0,!0);0!==e.component;){for(s=0,o=1/0,a=0,p=null,l=t.network.vertexes.iterator;l.next();){var d=l.value;if(1===d.component){var f=0,g=!1,m=d.sourceEdgesArrayAccess;r=m.length;for(var v=0;v<r;v++){var y=m[v],P=y.fromVertex;f+=1,1!==P.component&&(s+=1,P=P.layer-d.layer,y=t.linkMinLength(y),o=Math.min(o,P-y))}for(r=(m=d.destinationEdgesArrayAccess).length,v=0;v<r;v++)--f,1!==(y=m[v].toVertex).component?--s:g=!0;(null===p||f<a)&&!g&&(p=d,a=f)}}if(0<s){for(n.reset();n.next();)1===(r=n.value).component&&(r.layer+=o);e.component=0}else p.component=0}for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(Vu(t,e,1,-1,!0,!1);0!==e.component;){for(o=0,r=1/0,s=0,a=null,p=t.network.vertexes.iterator;p.next();)if(1===(l=p.value).component){for(d=0,f=!1,g=(m=l.sourceEdgesArrayAccess).length,v=0;v<g;v++)d+=1,1!==(y=m[v].fromVertex).component?o+=1:f=!0;for(g=(m=l.destinationEdgesArrayAccess).length,v=0;v<g;v++)--d,1!==(P=(y=m[v]).toVertex).component&&(--o,P=l.layer-P.layer,y=t.linkMinLength(y),r=Math.min(r,P-y));(null===a||d>s)&&!f&&(a=l,s=d)}if(0>o){for(n.reset();n.next();)1===(o=n.value).component&&(o.layer-=r);e.component=0}else a.component=0}}}function Zm(t,e,n){return 90===t.K?n&&!e.rev||!n&&e.rev?270:90:180===t.K?n&&!e.rev||!n&&e.rev?0:180:270===t.K?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function jm(t,e){var n=e.layer;for(e.index=t.tc[n],t.tc[n]++,e=e.destinationEdgesArrayAccess,n=!0;n;){n=!1;for(var o=0;o<e.length-1;o++){var r=e[o],s=e[o+1];r.portFromColOffset>s.portFromColOffset&&(n=!0,e[o]=s,e[o+1]=r)}}for(n=0;n<e.length;n++)(o=e[n]).valid&&-1===(o=o.toVertex).index&&jm(t,o)}function Nm(t,e){var n=e.layer;e.index=t.tc[n],t.tc[n]++,e=e.sourceEdgesArrayAccess;for(var o=!0;o;)for(o=!1,n=0;n<e.length-1;n++){var r=e[n],s=e[n+1];r.portToColOffset>s.portToColOffset&&(o=!0,e[n]=s,e[n+1]=r)}for(n=0;n<e.length;n++)(o=e[n]).valid&&-1===(o=o.fromVertex).index&&Nm(t,o)}function rp(t,e,n){var o=gr(t,e),r=t.tc[e],s=Dm(t,e,n),l=cf(t,e,n);for(n=0;n<r;n++)-1===l[n]&&(l[n]=o[n].column),-1===s[n]&&(s[n]=o[n].column);for(var p,a=!0;a;)for(a=!1,n=0;n<r-1;n++)(s[n+1]<s[n]||s[n+1]===s[n]&&l[n+1]<l[n])&&(a=!0,p=s[n],s[n]=s[n+1],s[n+1]=p,p=l[n],l[n]=l[n+1],l[n+1]=p,p=o[n],o[n]=o[n+1],o[n+1]=p);for(n=s=0;n<r;n++)(p=o[n]).index=n,s+=t.nodeMinColumnSpace(p,!0),p.column=s,s+=1,s+=t.nodeMinColumnSpace(p,!1);mr(t,e,o)}function hn(t,e,n){var o=gr(t,e),r=t.tc[e];n=Pm(t,e,n);var s,l=[];for(s=0;s<r;s++)l[s]=-1;var a=[];for(s=0;s<r;s++)a[s]=-1;for(var p=!1,d=!0;d;)for(d=!1,s=0;s<r-1;s++){var f=n[o[s].index*r+o[s+1].index],g=n[o[s+1].index*r+o[s].index],m=0,v=0,y=o[s].column,P=o[s+1].column,T=t.nodeMinColumnSpace(o[s],!0),S=t.nodeMinColumnSpace(o[s],!1),A=t.nodeMinColumnSpace(o[s+1],!0),M=t.nodeMinColumnSpace(o[s+1],!1);T=y-T+A,S=P-S+M;var Z=o[s].sourceEdges.iterator;for(Z.reset();Z.next();)if(M=(A=Z.value).fromVertex,A.valid&&M.layer===e){for(A=0;o[A]!==M;)A++;A<s&&(m+=2*(s-A),v+=2*(s+1-A)),A===s+1&&(m+=1),A>s+1&&(m+=4*(A-s),v+=4*(A-(s+1)))}for((Z=o[s].destinationEdges.iterator).reset();Z.next();)if(M=(A=Z.value).toVertex,A.valid&&M.layer===e){for(A=0;o[A]!==M;)A++;A===s+1&&(v+=1)}for((Z=o[s+1].sourceEdges.iterator).reset();Z.next();)if(M=(A=Z.value).fromVertex,A.valid&&M.layer===e){for(A=0;o[A]!==M;)A++;A<s&&(m+=2*(s+1-A),v+=2*(s-A)),A===s&&(v+=1),A>s+1&&(m+=4*(A-(s+1)),v+=4*(A-s))}for((Z=o[s+1].destinationEdges.iterator).reset();Z.next();)if(M=(A=Z.value).toVertex,A.valid&&M.layer===e){for(A=0;o[A]!==M;)A++;A===s&&(m+=1)}A=M=0;var j=a[o[s].index],k=l[o[s+1].index],J=a[o[s+1].index];-1!==(Z=l[o[s].index])&&(M+=Math.abs(Z-y),A+=Math.abs(Z-S)),-1!==j&&(M+=Math.abs(j-y),A+=Math.abs(j-S)),-1!==k&&(M+=Math.abs(k-P),A+=Math.abs(k-T)),-1!==J&&(M+=Math.abs(J-P),A+=Math.abs(J-T)),(v<m-.5||v===m&&g<f-.5||v===m&&g===f&&A<M-.5)&&(d=p=!0,o[s].column=S,o[s+1].column=T,f=o[s],o[s]=o[s+1],o[s+1]=f)}for(s=0;s<r;s++)o[s].index=s;return mr(t,e,o),p}function Fl(t,e,n){for(var o=!1;S2(t,e,n);)o=!0;return o}function S2(t,e,n){var o,r=gr(t,e),s=t.tc[e],l=cf(t,e,-1);if(0<n)for(o=0;o<s;o++)l[o]=-1;var a=cf(t,e,1);if(0>n)for(o=0;o<s;o++)a[o]=-1;for(var p=!1,d=!0;d;)for(d=!1,o=0;o<s;o++){var v,f=r[o].column,g=t.nodeMinColumnSpace(r[o],!0),m=t.nodeMinColumnSpace(r[o],!1);v=0>o-1||f-r[o-1].column-1>g+t.nodeMinColumnSpace(r[o-1],!1)?f-1:f,g=o+1>=s||r[o+1].column-f-1>m+t.nodeMinColumnSpace(r[o+1],!0)?f+1:f;var y=m=0,P=0;if(0>=n)for(var T=r[o].sourceEdges.iterator;T.next();){var S=T.value,A=S.fromVertex;if(S.valid&&A.layer!==e){var M=pf(S),Z=S.portFromColOffset;S=S.portToColOffset,A=A.column,m+=(Math.abs(f+S-(A+Z))+1)*M,y+=(Math.abs(v+S-(A+Z))+1)*M,P+=(Math.abs(g+S-(A+Z))+1)*M}}if(0<=n)for(T=r[o].destinationEdges.iterator;T.next();)A=(S=T.value).toVertex,S.valid&&A.layer!==e&&(M=pf(S),Z=S.portFromColOffset,S=S.portToColOffset,A=A.column,m+=(Math.abs(f+Z-(A+S))+1)*M,y+=(Math.abs(v+Z-(A+S))+1)*M,P+=(Math.abs(g+Z-(A+S))+1)*M);S=Z=M=0,A=a[r[o].index],-1!==(T=l[r[o].index])&&(M+=Math.abs(T-f),Z+=Math.abs(T-v),S+=Math.abs(T-g)),-1!==A&&(M+=Math.abs(A-f),Z+=Math.abs(A-v),S+=Math.abs(A-g)),y<m||y===m&&Z<M?(d=p=!0,r[o].column=v):(P<m||P===m&&S<M)&&(d=p=!0,r[o].column=g)}return mr(t,e,r),t.normalize(),p}function gf(t,e,n){var o=gr(t,e),r=t.tc[e],s=Dm(t,e,n),l=[];for(n=0;n<r;n++)l[n]=s[n];for(s=!0;s;)for(s=!1,n=0;n<r;n++){var a=o[n].column,p=t.nodeMinColumnSpace(o[n],!0),d=t.nodeMinColumnSpace(o[n],!1),f=0;if(-1===l[n])if(0===n&&n===r-1)f=a;else if(0===n){var g=o[n+1].column;f=g-a===d+t.nodeMinColumnSpace(o[n+1],!0)?a-1:a}else f=n===r-1?a-(g=o[n-1].column)===p+t.nodeMinColumnSpace(o[n-1],!1)?a+1:a:((p=(g=o[n-1].column)+t.nodeMinColumnSpace(o[n-1],!1)+p+1)+(d=(g=o[n+1].column)-t.nodeMinColumnSpace(o[n+1],!0)-d-1))/2|0;else 0===n&&n===r-1?f=l[n]:0===n?(d=(g=o[n+1].column)-t.nodeMinColumnSpace(o[n+1],!0)-d-1,f=Math.min(l[n],d)):n===r-1?(p=(g=o[n-1].column)+t.nodeMinColumnSpace(o[n-1],!1)+p+1,f=Math.max(l[n],p)):(p=(g=o[n-1].column)+t.nodeMinColumnSpace(o[n-1],!1)+p+1,d=(g=o[n+1].column)-t.nodeMinColumnSpace(o[n+1],!0)-d-1,p<l[n]&&l[n]<d?f=l[n]:p>=l[n]?f=p:d<=l[n]&&(f=d));f!==a&&(s=!0,o[n].column=f)}mr(t,e,o),t.normalize()}function T2(t,e){for(var n=!0,o=t.network.vertexes.iterator;o.next();){var r=o.value,s=t.nodeMinColumnSpace(r,!0),l=t.nodeMinColumnSpace(r,!1);if(r.column-s<=e&&r.column+l>=e){n=!1;break}}if(t=!1,n)for(o.reset();o.next();)(n=o.value).column>e&&(--n.column,t=!0);return t}function C2(t,e){var o,n=e+1,r=[],s=[];for(o=0;o<=t.Ia;o++)r[o]=!1,s[o]=!1;for(var l=t.network.vertexes.iterator;l.next();){var a=(o=l.value).column-t.nodeMinColumnSpace(o,!0),p=o.column+t.nodeMinColumnSpace(o,!1);a<=e&&p>=e&&(r[o.layer]=!0),a<=n&&p>=n&&(s[o.layer]=!0)}for(a=!0,n=!1,o=0;o<=t.Ia;o++)a=a&&!(r[o]&&s[o]);if(a)for(l.reset();l.next();)(t=l.value).column>e&&(--t.column,n=!0);return n}function km(t,e){for(var n=0;n<=t.Ra;n++)for(;T2(t,n););for(t.normalize(),n=0;n<t.Ra;n++)for(;C2(t,n););var o;if(t.normalize(),0<e)for(n=0;n<=t.Ra;n++){var r=ci(t),s=op(t);for(o=s+1;s<o;){o=s,Im(t,n,1);var l=op(t);l>s?Vi(t,r):l<s&&(s=l,r=ci(t))}}if(0>e)for(n=t.Ra;0<=n;n--)for(r=ci(t),o=(s=op(t))+1;s<o;)o=s,Im(t,n,-1),(l=op(t))>s?Vi(t,r):l<s&&(s=l,r=ci(t));t.normalize()}function Im(t,e,n){t.le=0;for(var o=t.network.vertexes.iterator;o.next();)o.value.component=-1;if(0<n)for(o.reset();o.next();){var r=o.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.le)}if(0>n)for(o.reset();o.next();)(r=o.value).column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.le);for(t.le++,o.reset();o.next();)-1===(e=o.value).component&&(df(t,e,t.le,-1,!0,!0),t.le++);var s;for(e=[],s=0;s<t.le*t.le;s++)e[s]=!1;for(r=[],s=0;s<(t.Ia+1)*(t.Ra+1);s++)r[s]=-1;for(o.reset();o.next();)for(var l=(s=o.value).layer,a=Math.max(0,s.column-t.nodeMinColumnSpace(s,!0)),p=Math.min(t.Ra,s.column+t.nodeMinColumnSpace(s,!1));a<=p;a++)r[l*(t.Ra+1)+a]=s.component;for(s=0;s<=t.Ia;s++){if(0<n)for(l=0;l<t.Ra;l++)-1!==r[s*(t.Ra+1)+l]&&-1!==r[s*(t.Ra+1)+l+1]&&r[s*(t.Ra+1)+l]!==r[s*(t.Ra+1)+l+1]&&(e[r[s*(t.Ra+1)+l]*t.le+r[s*(t.Ra+1)+l+1]]=!0);if(0>n)for(l=t.Ra;0<l;l--)-1!==r[s*(t.Ra+1)+l]&&-1!==r[s*(t.Ra+1)+l-1]&&r[s*(t.Ra+1)+l]!==r[s*(t.Ra+1)+l-1]&&(e[r[s*(t.Ra+1)+l]*t.le+r[s*(t.Ra+1)+l-1]]=!0)}for(r=[],s=0;s<t.le;s++)r[s]=!0;for((l=[]).push(0);0!==l.length;)if(p=l[l.length-1],l.pop(),r[p])for(r[p]=!1,s=0;s<t.le;s++)e[p*t.le+s]&&l.splice(0,0,s);if(0<n)for(o.reset();o.next();)r[(t=o.value).component]&&--t.column;if(0>n)for(o.reset();o.next();)r[(n=o.value).component]&&(n.column+=1)}function sp(t,e,n,o){for(var r=90===t.K||270===t.K,s=mi(e),l=s.next();!l.done;l=s.next()){var a=mi(l.value);for(l=a.next();!l.done;l=a.next())(l=l.value).sd=l,l.shift=1/0,l.zc=NaN,l.qg=0}for(l=90===t.K||270===t.K,a=(s=mi(e)).next();!a.done;a=s.next())for(var p=(a=mi(a.value)).next();!p.done;p=a.next())if((p=p.value).root===p){for(var d=0,f=p;f.align!==p;){var g=f.align,m=l?f.width:f.height,v=l?g.width:g.height;if(n){var y=Tn(f,g),P=y.portFromPos,T=y.portToPos;null!==y.link&&(f.node&&f.node!==y.link.fromNode&&(P=l?f.focusX:f.focusY),g.node&&g.node!==y.link.toNode&&(T=l?g.focusX:g.focusY))}else P=(y=Tn(g,f)).portToPos,T=y.portFromPos,null!==y.link&&(f.node&&f.node!==y.link.toNode&&(P=l?f.focusX:f.focusY),g.node&&g.node!==y.link.fromNode&&(T=l?g.focusX:g.focusY));g.qg=m=o?f.qg+(m-P)-(v-T):f.qg+P-T,d=Math.min(d,m),f=f.align}f=p;do{f.qg=f.qg-d,f=f.align}while(f!==p)}for(l=(n=mi(e)).next();!l.done;l=n.next())for(l=(s=mi(l.value)).next();!l.done;l=s.next())(l=l.value).root===l&&Um(t,l,e);for(n=0;n<e.length;n++)if(!(0>=e[n].length)&&(l=e[n][0]).sd===l){l.sd.shift===1/0&&(l.sd.shift=0),l=n,a=0;do{for(s=e[l][a];s.align!==s.root;)l++,0<(s=s.align).vi&&((a=Fm(s,e)).sd.shift=Math.min(a.sd.shift,s.sd.shift+s.zc+s.qg-(a.zc+a.qg+(r?a.width:a.height)+t.columnSpacing)));a=s.vi+1}while(l<e.length&&a<e[l].length&&s.sd===e[l][a].sd)}for(t=new lt,l=(e=mi(e)).next();!l.done;l=e.next())for(l=(n=mi(l.value)).next();!l.done;l=n.next())(l=l.value).zc=l.zc+l.sd.shift+l.qg,s=r?l.width:l.height,t.add(l,o?-l.zc-s:l.zc);return t}function Um(t,e,n){if(isNaN(e.zc)){e.zc=0;var o=e;do{if(0<o.vi){var r=Fm(o,n),s=r.root;Um(t,s,n),e.sd===e&&(e.sd=s.sd),e.sd===s.sd&&(e.zc=Math.max(e.zc,s.zc+r.qg+(90===t.K||270===t.K?r.width:r.height)-o.qg+t.columnSpacing))}o=o.align}while(o!==e);for(;o.align!==e;)(o=o.align).zc=e.zc,o.sd=e.sd}}function Fm(t,e){var n=t.Tz;return 1>(t=t.vi)&&q("Could not determine previous vertex in layer"),e[n][t-1]}function Z2(t,e,n,o,r){if(!e||0===e.count)return n[r]=0,o[r]=0,1/0;var s=1/0,l=-1/0;return e.each(function(a){var p=a.key;(a=a.value)<s&&(s=a),a+(p=90===t.K||270===t.K?p.width:p.height)>l&&(l=a+p)}),n[r]=s,o[r]=l,l-s}function lp(t,e){return 270===t.K?e?nn:rn:90===t.K?e?rn:nn:180===t.K?e?on:Si:e?Si:on}function gr(t,e){var n=t.tc[e];if(n>=t.He.length){for(var o=[],r=0;r<t.He.length;r++)o[r]=t.He[r];t.He=o}for(null==t.He[n]?o=[]:(o=t.He[n],t.He[n]=null),t=t.fl[e],e=0;e<t.length;e++)o[(n=t[e]).index]=n;return o}function mr(t,e,n){t.He[t.tc[e]]=n}Qt.className="CircularLayout",Qt.ConstantSpacing=Pn,Qt.ConstantDistance=dr,Qt.ConstantAngle=Ho,Qt.Packed=Dn,Qt.Clockwise=li,Qt.Counterclockwise=fr,Qt.BidirectionalLeft=Jr,Qt.BidirectionalRight=kl,Qt.Forwards=Xh,Qt.Reverse=Wh,Qt.Ascending=$h,Qt.Descending=tp,Qt.Optimized=Il,Qt.Pythagorean=ep,Qt.Circular=Cs,Qu.prototype.compare=function(t,e){if(0<t&&0>this.Pl||Math.abs(t)<Math.abs(this.Pl)&&!(0>t&&0<this.Pl))for(this.Pl=t,this.mk=[],this.tm=[],t=0;t<e.length;t++)this.mk[t]=e[t].bounds.x,this.tm[t]=e[t].bounds.y},Qu.prototype.commit=function(t){if(null!==this.mk&&null!==this.tm)for(var e=0;e<this.mk.length;e++){var n=t.M(e);n.x=this.mk[e],n.y=this.tm[e]}},Qu.className="VertexArrangement",At(Ul,It),Ul.prototype.createVertex=function(){return new Gu(this)},Ul.prototype.createEdge=function(){return new ip(this)},Ul.className="CircularNetwork",At(Gu,fe),pt.Object.defineProperties(Gu.prototype,{diameter:{get:function(){return this.Si},set:function(t){this.Si!==t&&(this.Si=t)}},actualAngle:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}}}),Gu.className="CircularVertex",At(ip,Ai),ip.className="CircularEdge",At(Ne,Yt),Ne.prototype.cloneProtected=function(t){Yt.prototype.cloneProtected.call(this,t),t.$d.assign(this.$d),t.Bm=this.Bm,t.sf=this.sf,t.td=this.td,t.dl=this.dl,t.$m=this.$m,t.Zf=this.Zf,t.In=this.In,t.fo=this.fo,t.Hk=this.Hk,t.Gk=this.Gk,t.Ek=this.Ek,t.Fk=this.Fk,t.Vm=this.Vm,t.Um=this.Um},Ne.prototype.createNetwork=function(){return new ws(this)},Ne.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.Ko();for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.iterator;e.next();)(n=e.value).stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.Cu(),this.An=0,this.needsClusterLayout()){for(var o=(n=(e=this.network).Zx()).iterator;o.next();){this.network=o.value;for(var r=this.network.vertexes.iterator;r.next();){var s=r.value;s.Vd=s.vertexes.count,s.sh=1,s.Hj=null,s.We=null}mm(this,0,t)}this.network=e;var l=o=n.iterator;o=this.arrangementSpacing;var a=l.count,p=!0;s=r=0;for(var d=bt(),f=0;f<a+e.vertexes.count+2;f++)d[f]=null;a=0,l.reset();for(var g=U.alloc();l.next();)if(this.computeBounds(f=l.value,g),p)p=!1,r=g.x+g.width/2,s=g.y+g.height/2,d[0]=new w(g.x+g.width+o.width,g.y),d[1]=new w(g.x,g.y+g.height+o.height),a=2;else{var m=_m(d,a,r,s,g.width,g.height,o),v=d[m],y=new w(v.x+g.width+o.width,v.y),P=new w(v.x,v.y+g.height+o.height);for(m+1<a&&d.splice(m+1,0,null),d[m]=y,d[m+1]=P,a++,m=v.x-g.x,v=v.y-g.y,f=f.vertexes.iterator;f.next();)(y=f.value).centerX+=m,y.centerY+=v}for(U.free(g),f=e.vertexes.iterator;f.next();)m=(l=f.value).bounds,2>a?(r=m.x+m.width/2,s=m.y+m.height/2,d[0]=new w(m.x+m.width+o.width,m.y),d[1]=new w(m.x,m.y+m.height+o.height),a=2):(v=new w((g=d[p=_m(d,a,r,s,m.width,m.height,o)]).x+m.width+o.width,g.y),m=new w(g.x,g.y+m.height+o.height),p+1<a&&d.splice(p+1,0,null),d[p]=v,d[p+1]=m,a++,l.centerX=g.x+l.width/2,l.centerY=g.y+l.height/2);for(Nt(d),o=n.iterator;o.next();){for(r=(n=o.value).vertexes.iterator;r.next();)e.dh(r.value);for(n=n.edges.iterator;n.next();)e.Bo(n.value)}}ym(this,t),this.updateParts()}this.dl=t,this.network=null,this.isValidLayout=!0},Ne.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().bounds,o=this.network.vertexes.iterator;o.next();){if(o.value.bounds.Yc(n)&&2<++t)return!0;if(10<e)break;e++}return!1},Ne.prototype.computeBounds=function(t,e){var n=!0;for(t=t.vertexes.iterator;t.next();){var o=t.value;n?(n=!1,e.set(o.bounds)):e.ed(o.bounds)}return e},Ne.prototype.Cu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Ne.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Mu();e.next();){var n=e.value;if("Comment"===n.category&&n.isVisible()){var o=this.network.ki(n);null===o&&(o=this.network.Bl(n)),o.charge=this.defaultCommentElectricalCharge,n=null;for(var r=o.destinationEdges;r.next();){var s=r.value;if(s.toVertex===t){n=s;break}}if(null===n)for(r=o.sourceEdges;r.next();)if((s=r.value).fromVertex===t){n=s;break}null===n&&(n=this.network.Zj(t,o,null)),n.length=this.defaultCommentSpringLength}}},Ne.prototype.moveVertex=function(t){var e=t.forceX,n=t.forceY,o=this.moveLimit;return e<-o?e=-o:e>o&&(e=o),n<-o?n=-o:n>o&&(n=o),t.centerX+=e,t.centerY+=n,e*e+n*n},Ne.prototype.moveFixedVertex=function(){},Ne.prototype.commitLayout=function(){this.yv(),this.commitNodes(),this.isRouting&&this.commitLinks()},Ne.prototype.yv=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=Oe,e.toSpot=Oe)}},Ne.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var n=U.alloc();this.computeBounds(this.network,n),t=(e=this.arrangementOrigin).x-n.x,e=e.y-n.y,U.free(n)}n=U.alloc();for(var o=this.network.vertexes.iterator;o.next();){var r=o.value;(0!==t||0!==e)&&(n.assign(r.bounds),n.x+=t,n.y+=e,r.bounds=n),r.commit()}U.free(n)},Ne.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Ne.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Hk:t},Ne.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Gk:t},Ne.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Ek:t},Ne.prototype.electricalFieldX=function(){return 0},Ne.prototype.electricalFieldY=function(){return 0},Ne.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Fk:t},Ne.prototype.gravitationalFieldX=function(){return 0},Ne.prototype.gravitationalFieldY=function(){return 0},Ne.prototype.isFixed=function(t){return t.isFixed},pt.Object.defineProperties(Ne.prototype,{currentIteration:{get:function(){return this.An}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.Bm},set:function(t){this.Bm!==t&&(this.Bm=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},maxIterations:{get:function(){return this.dl},set:function(t){this.dl!==t&&0<=t&&(this.dl=t,this.C())}},epsilonDistance:{get:function(){return this.$m},set:function(t){this.$m!==t&&0<t&&(this.$m=t,this.C())}},infinityDistance:{get:function(){return this.Zf},set:function(t){this.Zf!==t&&1<t&&(this.Zf=t,this.C())}},moveLimit:{get:function(){return this.In},set:function(t){this.In!==t&&1<t&&(this.In=t,this.C())}},randomNumberGenerator:{get:function(){return this.fo},set:function(t){this.fo!==t&&(null!==t&&"function"!=typeof t.random&&q('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.fo=t)}},defaultSpringStiffness:{get:function(){return this.Hk},set:function(t){this.Hk!==t&&(this.Hk=t,this.C())}},defaultSpringLength:{get:function(){return this.Gk},set:function(t){this.Gk!==t&&(this.Gk=t,this.C())}},defaultElectricalCharge:{get:function(){return this.Ek},set:function(t){this.Ek!==t&&(this.Ek=t,this.C())}},defaultGravitationalMass:{get:function(){return this.Fk},set:function(t){this.Fk!==t&&(this.Fk=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.Vm},set:function(t){this.Vm!==t&&(this.Vm=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Um},set:function(t){this.Um!==t&&(this.Um=t,this.C())}}}),Ne.className="ForceDirectedLayout",xm.className="ForceDirectedSubnet",At(ws,It),ws.prototype.createVertex=function(){return new Hu(this)},ws.prototype.createEdge=function(){return new Ku(this)},ws.className="ForceDirectedNetwork",At(Hu,fe),pt.Object.defineProperties(Hu.prototype,{isFixed:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},charge:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},mass:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},forceX:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},forceY:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}}}),Hu.className="ForceDirectedVertex",At(Ku,Ai),pt.Object.defineProperties(Ku.prototype,{stiffness:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},length:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}}}),Ku.className="ForceDirectedEdge",np.prototype.random=function(){var t=this.seed%this.Q*this.ay-this.seed/this.Q*this.gy;return this.seed=0<t?t:t+this.ey,this.seed*this.by},np.className="RandomNumberGenerator",At(Ct,Yt),Ct.prototype.cloneProtected=function(t){Yt.prototype.cloneProtected.call(this,t),t.ie=this.ie,t.kc=this.kc,t.K=this.K,t.Dk=this.Dk,t.Zk=this.Zk,t.Qk=this.Qk,t.bj=this.bj,t.rk=this.rk,t.bg=this.bg,t.sf=this.sf,t.Cn=this.Cn,t.ve=this.ve},Ct.prototype.qb=function(t){t.classType===Ct?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:q("Unknown enum value: "+t):Yt.prototype.qb.call(this,t)},Ct.prototype.createNetwork=function(){return new _t(this)},Ct.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Iq=-1,this.Md=this.Hn=0,this.fl=this.Jn=this.kj=null,t=0;t<this.He.length;t++)this.He[t]=null;if(0<this.network.vertexes.count){for(this.network.Ko(),this.cycleRemoveOption!==zu&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.Ia=-1,this.assignLayers(),t.reset();t.next();)this.Ia=Math.max(this.Ia,t.value.layer);this.cycleRemoveOption===zu&&this.removeCycles();for(var e=[],n=(t=this.network).edges.iterator;n.next();){var o=n.value;o.valid=!1,e.push(o)}for(n=0;n<e.length;n++){var r=(o=e[n]).fromVertex,s=o.toVertex;if(!(o.valid||(null===r.node&&null===r.data||null===s.node&&null===s.data)&&r.layer===s.layer)){var l=0,a=0,p=0,d=0;if(null!==o.link){if(null===(a=o.link))continue;var f=r.node;if(l=s.node,null===f||null===l)continue;var g=a.fromNode;p=a.toNode;for(var m=a.fromPort;null!==m&&!m.Ed();)m=m.panel;for(a=a.toPort;null!==a&&!a.Ed();)a=a.panel;if(o.rev){d=g;var v=m;g=p,m=a,p=d,a=v}var y=r.focus;d=s.focus;var P=o.rev?s.bounds:r.bounds;v=w.alloc(),f!==g?P.w()&&g.isVisible()?g.actualBounds.w()?(Ro(g,m,Mt,v),v.x+=g.actualBounds.x-P.x,v.y+=g.actualBounds.y-P.y):(Ro(g,m,Mt,v),v.w()||v.assign(y)):v.assign(y):P.w()?(Ro(g,m,Mt,v),v.w()||v.assign(y)):v.assign(y),g=o.rev?r.bounds:s.bounds,f=w.alloc(),l!==p?g.w()&&p.isVisible()?p.actualBounds.w()?(Ro(p,a,Mt,f),f.x+=p.actualBounds.x-g.x,f.y+=p.actualBounds.y-g.y):(Ro(p,a,Mt,f),f.w()||f.assign(d)):f.assign(d):g.w()?(Ro(p,a,Mt,f),f.w()||f.assign(d)):f.assign(d),90===this.K||270===this.K?(l=Math.round((v.x-y.x)/this.kc),p=v.x,a=Math.round((f.x-d.x)/this.kc),d=f.x):(l=Math.round((v.y-y.y)/this.kc),p=v.y,a=Math.round((f.y-d.y)/this.kc),d=f.y),w.free(v),w.free(f),o.portFromColOffset=l,o.portFromPos=p,o.portToColOffset=a,o.portToPos=d}else o.portFromColOffset=0,o.portFromPos=0,o.portToColOffset=0,o.portToPos=0;if(v=r.layer,f=s.layer,g=0,null!==(P=o.link)){var T=P.fromPort,S=P.toPort;if(null!==T&&null!==S){var A=P.fromNode;if(m=P.toNode,null!==A&&null!==m){var M=lp(this,!0),Z=lp(this,!1),j=this.setsPortSpots?M:P.computeSpot(!0,T);y=this.setsPortSpots?Z:P.computeSpot(!1,S);var k=P.isOrthogonal;j.$c()&&j.Hf(Z)&&y.$c()&&y.Hf(M)?g=0:(M=P.getLinkPoint(A,T,j,!0,k,m,S,w.alloc()),Z=P.getLinkDirection(A,T,M,j,!0,k,m,S),w.free(M),j.ys()||Z!==Zm(this,o,!0)?this.setsPortSpots&&null!==A&&1===A.ports.count&&o.rev&&(g+=1):g+=1,j=P.getLinkPoint(m,S,y,!1,k,A,T,w.alloc()),P=P.getLinkDirection(m,S,j,y,!1,k,A,T),w.free(j),y.ys()||P!==Zm(this,o,!1)?this.setsPortSpots&&null!==m&&1===m.ports.count&&o.rev&&(g+=2):g+=2)}}}if(g=1===(m=g)||3===m,(m=2===m||3===m)&&((y=t.createVertex()).node=null,y.Dj=1,y.layer=v,y.near=r,t.dh(y),(r=t.Zj(r,y,o.link)).valid=!1,r.rev=o.rev,r.portFromColOffset=l,r.portToColOffset=0,r.portFromPos=p,r.portToPos=0,r=y),P=1,g&&P--,v-f>P&&0<v){for(o.valid=!1,(y=t.createVertex()).node=null,y.Dj=2,y.layer=v-1,t.dh(y),(r=t.Zj(r,y,o.link)).valid=!0,r.rev=o.rev,r.portFromColOffset=m?0:l,r.portToColOffset=0,r.portFromPos=m?0:p,r.portToPos=0,r=y,v--;v-f>P&&0<v;)(y=t.createVertex()).node=null,y.Dj=3,y.layer=v-1,t.dh(y),(r=t.Zj(r,y,o.link)).valid=!0,r.rev=o.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=y,v--;(r=t.Zj(y,s,o.link)).valid=!g,g&&(y.near=s),r.rev=o.rev,r.portFromColOffset=0,r.portToColOffset=a,r.portFromPos=0,r.portToPos=d}else o.valid=!0}}for(t=this.tc=[],e=0;e<=this.Ia;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Iq=-1,n=this.Md=this.Hn=0;n<=this.Ia;n++)t[n]>t[this.Md]&&(this.Iq=t[n]-1,this.Md=n),t[n]<t[this.Hn]&&(this.Hn=n);for(this.fl=[],n=0;n<t.length;n++)this.fl[n]=[];for(e.reset();e.next();)this.fl[(t=e.value).layer][t.index]=t;for(this.Ra=-1,t=0;t<=this.Ia;t++){for(e=gr(this,t),n=0,o=this.tc[t],s=0;s<o;s++)n+=this.nodeMinColumnSpace(r=e[s],!0),r.column=n,n+=1,n+=this.nodeMinColumnSpace(r,!1);this.Ra=Math.max(this.Ra,n-1),mr(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Ct.prototype.linkMinLength=function(){return 1},Ct.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},Ct.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var n=e?t.ev:t.dv;return null!==n?n:90===(n=this.K)||270===n?e?t.ev=t.focus.x/this.kc+1|0:t.dv=(t.bounds.width-t.focus.x)/this.kc+1|0:e?t.ev=t.focus.y/this.kc+1|0:t.dv=(t.bounds.height-t.focus.y)/this.kc+1|0},Ct.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.Ia;e++)for(var n=Pm(this,e,1),o=this.tc[e],r=0;r<o;r++)for(var s=r;s<o;s++)t+=n[r*o+s];return t},Ct.prototype.normalize=function(){var t=1/0;this.Ra=-1;for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0)),this.Ra=Math.max(this.Ra,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ra-=t},Ct.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Dk){default:case mf:var e=0,n=(t=this.network).vertexes.count-1,o=[];o.length=n+1;for(var r=t.vertexes.iterator;r.next();)r.value.valid=!0;for(;null!==D2(t);){for(r=Sm(t);null!==r;)o[n]=r,n--,r.valid=!1,r=Sm(t);for(r=Tm(t);null!==r;)o[e]=r,e++,r.valid=!1,r=Tm(t);r=null;for(var s=0,l=this.network.vertexes.iterator;l.next();){var a=l.value;if(a.valid){for(var p=0,d=a.destinationEdges;d.next();)d.value.toVertex.valid&&p++;d=0;for(var f=a.sourceEdges;f.next();)f.value.fromVertex.valid&&d++;(null===r||s<p-d)&&(r=a,s=p-d)}}null!==r&&(o[e]=r,e++,r.valid=!1)}for(e=0;e<t.vertexes.count;e++)o[e].index=e;for(o=t.edges.iterator;o.next();)(e=o.value).fromVertex.index>e.toVertex.index&&(t.gm(e),e.rev=!0);break;case up:for(o=this.network.vertexes.iterator;o.next();)(t=o.value).Ll=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Kn=0,o.reset();o.next();)0===(e=o.value).sourceEdges.count&&ff(this,e);for(o.reset();o.next();)-1===(e=o.value).Ll&&ff(this,e);for(t.reset();t.next();)(o=t.value).forest||(n=(e=o.fromVertex).finish,s=(r=o.toVertex).finish,r.Ll<e.Ll&&n<s&&(this.network.gm(o),o.rev=!0));break;case zu:for(e=(t=this.network).vertexes.iterator,o=1/0;e.next();)o=Math.min(o,e.value.layer);if(1/0>o){if(0>o)for(e.reset();e.next();)e.value.layer-=o;for(o=[],e.reset();e.next();)void 0===(r=o[(n=e.value).layer])?o[n.layer]=[n]:r.push(n);for(n=e=0;n<o.length;n++)if((r=o[n])&&0!==r.length){if(0<n)for(s=0;s<r.length;s++)r[s].layer-=e}else e++;for(o=t.edges.iterator;o.next();)(e=o.value).fromVertex.layer<e.toVertex.layer&&(t.gm(e),e.rev=!0)}}},Ct.prototype.assignLayers=function(){switch(this.Zk){case ap:Cm(this);break;case hp:for(var t,e=this.network.vertexes.iterator;e.next();)t=Am(this,e.value),this.Ia=Math.max(t,this.Ia);for(e.reset();e.next();)(t=e.value).layer=this.Ia-t.layer;break;default:for(Cm(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&Mm(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.Ia=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.Ia=Math.max(this.Ia,n.layer)}}},Ct.prototype.initializeIndices=function(){switch(this.Qk){default:case _:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;e.index=this.tc[n],this.tc[n]++}break;case pp:for(t=this.network.vertexes.iterator,e=this.Ia;0<=e;e--)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&jm(this,n);break;case c:for(t=this.network.vertexes.iterator,e=0;e<=this.Ia;e++)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&Nm(this,n)}},Ct.prototype.reduceCrossings=function(){var n,o,s,l,a,t=this.countCrossings(),e=ci(this);for(n=0;n<this.bj;n++){for(o=0;o<=this.Ia;o++)rp(this,o,1),hn(this,o,1);var r=this.countCrossings();for(r<t&&(t=r,e=ci(this)),o=this.Ia;0<=o;o--)rp(this,o,-1),hn(this,o,-1);(r=this.countCrossings())<t&&(t=r,e=ci(this))}for(Vi(this,e),n=0;n<this.bj;n++){for(o=0;o<=this.Ia;o++)rp(this,o,0),hn(this,o,0);for((r=this.countCrossings())<t&&(t=r,e=ci(this)),o=this.Ia;0<=o;o--)rp(this,o,0),hn(this,o,0);(r=this.countCrossings())<t&&(t=r,e=ci(this))}switch(Vi(this,e),this.rk){case u:break;case D:for(a=t+1;(o=this.countCrossings())<a;)for(a=o,n=this.Ia;0<=n;n--)for(l=0;l<=n;l++){for(s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,-1)||s;for((r=this.countCrossings())>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,1)||s;for((r=this.countCrossings())>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,1)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,-1)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,0)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,0)||s;r>=t?Vi(this,e):(t=r,e=ci(this))}break;default:for(n=this.Ia,l=0,a=t+1;(o=this.countCrossings())<a;){for(a=o,s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,-1)||s;for((r=this.countCrossings())>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,1)||s;for((r=this.countCrossings())>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,1)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,-1)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=n;o>=l;o--)s=hn(this,o,0)||s;for(r>=t?Vi(this,e):(t=r,e=ci(this)),s=!0;s;)for(s=!1,o=l;o<=n;o++)s=hn(this,o,0)||s;r>=t?Vi(this,e):(t=r,e=ci(this))}}Vi(this,e)},Ct.prototype.straightenAndPack=function(){if(0===this.ve){var t=0!=(1&this.bg),e=0!=(this.bg&C);if(1e3<this.network.edges.count&&e&&(t=!1),t){var n=[];for(e=0;e<=this.Ia;e++)n[e]=0;for(var o,r=this.network.vertexes.iterator;r.next();){var s=r.value;e=s.layer,o=s.column,s=this.nodeMinColumnSpace(s,!1),n[e]=Math.max(n[e],o+s)}for(r.reset();r.next();)(s=r.value).column=(8*(this.Ra-n[e=s.layer])>>1)+8*(o=s.column);this.Ra*=8}if(2&this.bg)for(n=!0;n;){for(n=!1,e=this.Md+1;e<=this.Ia;e++)n=Fl(this,e,1)||n;for(e=this.Md-1;0<=e;e--)n=Fl(this,e,-1)||n;n=Fl(this,this.Md,0)||n}if(4&this.bg){for(e=this.Md+1;e<=this.Ia;e++)gf(this,e,1);for(e=this.Md-1;0<=e;e--)gf(this,e,-1);gf(this,this.Md,0)}if(t&&(km(this,-1),km(this,1)),2&this.bg)for(n=!0;n;){for(n=!1,n=Fl(this,this.Md,0)||n,e=this.Md+1;e<=this.Ia;e++)n=Fl(this,e,0)||n;for(e=this.Md-1;0<=e;e--)n=Fl(this,e,0)||n}}else!function w2(t){for(var e=bt(),n=t.fl.length,o=0;o<=n;o++)e[o]=[];for(o=t.network.vertexes.iterator;o.next();){var r=o.value;e[n-r.layer][r.index]=r}(function A2(t,e){for(var n=t.length,o=1;o<n-1;o++)for(var r=0,s=0,l=t[o],a=t[o+1],p=0;s<a.length;p++){var d=a[p];t:{if(null===d.node){var f=ki(d);if(0<f.length){f=null===f[0].node;break t}}f=!1}var g=f;if(p===a.length-1||g){for(f=l.length-1,g&&(f=ki(d)[0].index);s<=p;){if(!(d=a[s]).bo){g=[];for(var m=mi(d.sourceEdgesArrayAccess),v=m.next();!v.done;v=m.next())(v=v.value).valid&&g.push(v);d.bo=g}for(g=(d=mi(d.bo)).next();!g.done;g=d.next())((m=(g=g.value).fromVertex.index)<r||m>f)&&e.add(g);s++}r=f}}})(e,n=new E);var s=null,l=null,a=null,p=null,d=0!=(1&t.ve),f=0!=(2&t.ve),g=0!=(4&t.ve),m=0!=(8&t.ve);for(d&&(t.verticalAlignment(e,n,!0),s=sp(t,e,!0,!1)),e.reverse(),g&&(t.verticalAlignment(e,n,!1),a=sp(t,e,!1,!1)),r=(o=mi(e)).next();!r.done;r=o.next())r.value.reverse();m&&(t.verticalAlignment(e,n,!1),p=sp(t,e,!1,!0)),e.reverse(),f&&(t.verticalAlignment(e,n,!0),l=sp(t,e,!0,!0)),Nt(e),t.u(s,l,a,p),t.network.vertexes.each(function(v){var y=bt();d&&y.push(s.get(v)),f&&y.push(l.get(v)),g&&y.push(a.get(v)),m&&y.push(p.get(v)),y.sort(function(T,S){return T-S});var P=y.length;P=(y[Math.floor((P-1)/2)]+y[Math.ceil((P-1)/2)])/2,Nt(y),v.zc=P})}(this)},Ct.prototype.verticalAlignment=function(t,e,n){!function M2(t){for(var e=0;e<t.length;e++)for(var n=t[e],o=0;o<n.length;o++){var r=n[o];r.root=r,r.align=r,r.Tz=e,r.vi=o}}(t);for(var o=(t=mi(t)).next();!o.done;o=t.next())for(var r=-1,s=(o=mi(o.value)).next();!s.done;s=o.next()){s=s.value;var l=n?ki(s):zi(s),a=l.length;if(0<a){l.sort(function(g,m){return g.vi-m.vi});var p=(a-1)/2;for(a=Math.floor(p),p=Math.ceil(p);a<=p;a++)if(s.align===s){var f,d=l[a];f=n?Tn(d,s):Tn(s,d),!e.contains(f)&&r<d.vi&&(d.align=s,s.root=d.root,s.align=d.root,r=d.vi)}}}},Ct.prototype.u=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];n=-1;for(var o=bt(),r=bt(),s=1/0,l=0;4>l;l++)if(e[l]){var a=Z2(this,e[l],o,r,l);a<s&&(n=l,s=a)}for(s={},l=0;4>l;s={delta:s.delta},l++)e[l]&&(s.delta=0===l||2===l?o[n]-o[l]:r[n]-r[l],0!==s.delta&&e[l].each(function(p){return function(d){d.value+=p.delta}}(s)));Nt(o),Nt(r)},Ct.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=lp(this,!0),e=lp(this,!1),n=this.network.edges.iterator;n.next();){var o=n.value.link;null!==o&&(o.fromSpot=t,o.toSpot=e)}this.commitNodes(),this.Gu(),this.isRouting&&this.commitLinks()},Ct.prototype.commitNodes=function(){this.he=[],this.Ld=[],this.Kd=[],this.Ta=[];for(var t=0;t<=this.Ia;t++)this.he[t]=0,this.Ld[t]=0,this.Kd[t]=0,this.Ta[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;this.he[n]=Math.max(this.he[n],this.nodeMinLayerSpace(e,!0)),this.Ld[n]=Math.max(this.Ld[n],this.nodeMinLayerSpace(e,!1))}e=0,n=this.ie;for(var o=0;o<=this.Ia;o++){var r=n;0>=this.he[o]+this.Ld[o]&&(r=0),0<o&&(e+=r/2),90===this.K||0===this.K?(this.Kd[o]=e+=this.Ld[o],e+=this.he[o]):(this.Kd[o]=e+=this.he[o],e+=this.Ld[o]),o<this.Ia&&(e+=r/2),this.Ta[o]=e}for(n=e,e=this.arrangementOrigin,o=0;o<=this.Ia;o++)270===this.K?this.Kd[o]=e.y+this.Kd[o]:90===this.K?(this.Kd[o]=e.y+n-this.Kd[o],this.Ta[o]=n-this.Ta[o]):180===this.K?this.Kd[o]=e.x+this.Kd[o]:(this.Kd[o]=e.x+n-this.Kd[o],this.Ta[o]=n-this.Ta[o]);n=0!==this.ve,t.reset(),o=270===this.K||90===this.K;for(var s=1/0,l=r=1/0,a=-1/0;t.next();){var p=t.value,d=p.layer,f=0|p.column;o?(l=e.x+this.kc*f,d=this.Kd[d]):(l=this.Kd[d],d=e.y+this.kc*f),p.centerX=l,p.centerY=d,n&&isFinite(p.zc)&&(o?p.node?p.x=e.x+p.zc:p.centerX=e.x+p.zc:p.node?p.y=e.y+p.zc:p.centerY=e.y+p.zc),s=Math.min(p.x,s),r=Math.min(p.y,r),o?(l=s,a=Math.max(a,p.bounds.right)):(l=r,a=Math.max(a,p.bounds.bottom))}for(this.xw=a-l,s=e.x-s,e=e.y-r,this.Rf=new w(n&&o?0:s,n&&!o?0:e),t.reset();t.next();)(n=t.value).x+=s,n.y+=e,n.commit()},Ct.prototype.Gu=function(){for(var t=0,e=this.ie,n=0;n<=this.Ia;n++)t+=this.he[n],t+=this.Ld[n];t+=this.Ia*e,e=[],n=0!==this.ve?this.xw:this.kc*this.Ra;for(var o=this.maxLayer;0<=o;o--)e.push(270===this.K?0===o?new U(0,0,n,Math.abs(this.Ta[0])):new U(0,this.Ta[o-1],n,Math.abs(this.Ta[o-1]-this.Ta[o])):90===this.K?0===o?new U(0,this.Ta[0],n,Math.abs(this.Ta[0]-t)):new U(0,this.Ta[o],n,Math.abs(this.Ta[o-1]-this.Ta[o])):180===this.K?0===o?new U(0,0,Math.abs(this.Ta[0]),n):new U(this.Ta[o-1],0,Math.abs(this.Ta[o-1]-this.Ta[o]),n):0===o?new U(this.Ta[0],0,Math.abs(this.Ta[0]-t),n):new U(this.Ta[o],0,Math.abs(this.Ta[o-1]-this.Ta[o]),n));this.commitLayers(e,this.Rf)},Ct.prototype.commitLayers=function(){},Ct.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.uh(),e.Fj(),e.zf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.vg();for(t.reset();t.next();){var n=t.value;if(null!==(e=n.link)){e.uh();var o=e,r=o.fromNode,s=o.toNode,l=o.fromPort,a=o.toPort;if(null!==r){var p=r.findVisibleNode();null!==p&&p!==r&&(r=p,l=p.port)}null!==s&&null!==(p=s.findVisibleNode())&&p!==s&&(s=p,a=p.port);var d=e.computeSpot(!0,l);p=e.computeSpot(!1,a);var f=n.fromVertex,g=n.toVertex;if(n.valid)e.curve===ji&&4===e.pointsCount&&(f.column===g.column&&0===this.alignOption?(n=e.getLinkPoint(r,l,d,!0,!1,s,a),a=e.getLinkPoint(s,a,p,!1,!1,r,l),n.w()||n.set(r.actualBounds.center),a.w()||a.set(s.actualBounds.center),e.Fj(),e.yf(n.x,n.y),e.yf((2*n.x+a.x)/3,(2*n.y+a.y)/3),e.yf((n.x+2*a.x)/3,(n.y+2*a.y)/3),e.yf(a.x,a.y)):(n=o=!1,null!==l&&d===Fe&&(o=!0),null!==a&&p===Fe&&(n=!0),(o||n)&&(p=null,o&&((p=e.getLinkPointFromPoint(r,l,l.ga(Mt),e.i(3),!0)).w()||p.set(r.actualBounds.center),e.L(0,p.x,p.y)),r=null,n&&((r=e.getLinkPointFromPoint(s,a,a.ga(Mt),e.i(0),!1)).w()||r.set(s.actualBounds.center),e.L(3,r.x,r.y)),p&&(s=e.i(2),e.L(1,(2*p.x+s.x)/3,(2*p.y+s.y)/3)),r&&(s=e.i(1),e.L(2,(2*r.x+s.x)/3,(2*r.y+s.y)/3))))),e.zf();else if(f.layer===g.layer)e.zf();else{var m=!1,v=!1,y=this.ie,P=e.firstPickIndex+1;if(e.isOrthogonal){v=!0;var T=e.pointsCount;4<T&&e.points.removeRange(2,T-3)}else if(e.curve===ji)m=!0,4<(T=e.pointsCount)&&e.points.removeRange(2,T-3),4===T&&(P=2);else{var S=d===Fe,A=p===Fe;2<(T=e.pointsCount)&&S&&A?e.points.removeRange(1,T-2):3<T&&S&&!A?e.points.removeRange(1,T-3):3<T&&!S&&A?e.points.removeRange(2,T-2):4<T&&!S&&!A&&e.points.removeRange(2,T-3)}if(n.rev){for(;null!==g&&f!==g;){var M=T=null;for(S=g.sourceEdges.iterator;S.next()&&((A=S.value).link!==n.link||(M=A.toVertex,null!==(T=A.fromVertex).node)););if(null===T)break;if(T!==f){S=e.i(P-1).x,A=e.i(P-1).y;var Z=T.centerX,j=T.centerY;if(v)180===this.K||0===this.K?P===e.firstPickIndex+1?(e.m(P++,S,A),e.m(P++,S,j)):(null!==M?M.centerY:A)!==j&&(e.m(P++,M=this.Ta[T.layer-1]+this.Rf.x,A),e.m(P++,M,j)):P===e.firstPickIndex+1?(e.m(P++,S,A),e.m(P++,Z,A)):(null!==M?M.centerX:S)!==Z&&(e.m(P++,S,M=this.Ta[T.layer-1]+this.Rf.y),e.m(P++,Z,M));else if(P===e.firstPickIndex+1){M=Math.max(10,this.he[g.layer]);var k=Math.max(10,this.Ld[g.layer]);if(m)180===this.K?Z<=g.bounds.x?(e.m(P++,(g=g.bounds.x)-M,j),e.m(P++,g,j),e.m(P++,g+k,j)):(e.m(P++,Z-M,j),e.m(P++,Z,j),e.m(P++,Z+k,j)):90===this.K?j>=g.bounds.bottom?(e.m(P++,Z,(g=g.bounds.y+g.bounds.height)+k),e.m(P++,Z,g),e.m(P++,Z,g-M)):(e.m(P++,Z,j+k),e.m(P++,Z,j),e.m(P++,Z,j-M)):270===this.K?j<=g.bounds.y?(e.m(P++,Z,(g=g.bounds.y)-M),e.m(P++,Z,g),e.m(P++,Z,g+k)):(e.m(P++,Z,j-M),e.m(P++,Z,j),e.m(P++,Z,j+k)):0===this.K&&(Z>=g.bounds.right?(e.m(P++,(g=g.bounds.x+g.bounds.width)+k,j),e.m(P++,g,j),e.m(P++,g-M,j)):(e.m(P++,Z+k,j),e.m(P++,Z,j),e.m(P++,Z-M,j)));else{e.m(P++,S,A);var J=0;180===this.K||0===this.K?((180===this.K?Z>=g.bounds.right:Z<=g.bounds.x)&&(J=(0===this.K?-M:k)/2),e.m(P++,S+J,j)):((270===this.K?j>=g.bounds.bottom:j<=g.bounds.y)&&(J=(90===this.K?-M:k)/2),e.m(P++,Z,A+J)),e.m(P++,Z,j)}}else M=Math.max(10,this.he[T.layer]),k=Math.max(10,this.Ld[T.layer]),m?180===this.K?(e.m(P++,Z-M-y,j),e.m(P++,Math.min(Z-M+y/2,Z),j),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Math.max(Z+k-y/2,Z),j),e.m(P++,Z+k+y,j)):90===this.K?(e.m(P++,Z,j+k+y),e.m(P++,Z,Math.max(j+k-y/2,j)),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Z,Math.min(j-M+y/2,j)),e.m(P++,Z,j-M-y)):270===this.K?(e.m(P++,Z,j-M-y),e.m(P++,Z,Math.min(j-M+y/2,j)),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Z,Math.max(j+k-y/2,j)),e.m(P++,Z,j+k+y)):(e.m(P++,Z+k+y,j),e.m(P++,Math.max(Z+k-y/2,Z),j),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Math.min(Z-M+y/2,Z),j),e.m(P++,Z-M-y,j)):e.m(P++,Z,j)}g=T}(null===a||d!==Fe||v)&&(S=e.i(P-1).x,A=e.i(P-1).y,Z=e.i(P).x,j=e.i(P).y,v?(y=this.Ld[f.layer],180===this.K||0===this.K?((v=A)>=f.bounds.y&&v<=f.bounds.bottom&&(180===this.K?Z>=f.bounds.x:Z<=f.bounds.right)&&(v=v<f.bounds.y+f.bounds.height/2?f.bounds.y-this.kc/2:f.bounds.bottom+this.kc/2,e.m(P++,g=f.centerX+(180===this.K?-y:y),A),e.m(P++,g,v)),e.m(P++,Z,v)):((v=S)>=f.bounds.x&&v<=f.bounds.right&&(270===this.K?j>=f.bounds.y:j<=f.bounds.bottom)&&(v=v<f.bounds.x+f.bounds.width/2?f.bounds.x-this.kc/2:f.bounds.right+this.kc/2,e.m(P++,S,g=f.centerY+(270===this.K?-y:y)),e.m(P++,v,g)),e.m(P++,v,j)),e.m(P++,Z,j)):m?(M=Math.max(10,this.he[f.layer]),k=Math.max(10,this.Ld[f.layer]),180===this.K&&Z>=f.bounds.x?(e.L(P-2,g=f.bounds.x+f.bounds.width,A),e.L(P-1,g+k,A)):90===this.K&&j<=f.bounds.bottom?(e.L(P-2,S,g=f.bounds.y),e.L(P-1,S,g-M)):270===this.K&&j>=f.bounds.y?(e.L(P-2,S,g=f.bounds.y+f.bounds.height),e.L(P-1,S,g+k)):0===this.K&&Z<=f.bounds.right&&(e.L(P-2,g=f.bounds.x,A),e.L(P-1,g-M,A))):(M=Math.max(10,this.he[f.layer]),k=Math.max(10,this.Ld[f.layer]),v=0,180===this.K||0===this.K?((180===this.K?Z<=f.bounds.x:Z>=f.bounds.right)&&(v=(0===this.K?k:-M)/2),e.m(P++,Z+v,A)):((270===this.K?j<=f.bounds.y:j>=f.bounds.bottom)&&(v=(90===this.K?k:-M)/2),e.m(P++,S,j+v)),e.m(P++,Z,j)))}else{for(;null!==f&&f!==g;){for(M=T=null,f=f.destinationEdges.iterator;f.next()&&((S=f.value).link!==n.link||(null!==(M=S.fromVertex).node&&(M=null),null!==(T=S.toVertex).node)););if(null===T)break;T!==g&&(S=e.i(P-1).x,A=e.i(P-1).y,Z=T.centerX,j=T.centerY,v?180===this.K||0===this.K?(null!==M?M.centerY:A)!==j&&(M=this.Ta[T.layer]+this.Rf.x,P===e.firstPickIndex+1&&(M=0===this.K?Math.max(M,S):Math.min(M,S)),e.m(P++,M,A),e.m(P++,M,j)):(null!==M?M.centerX:S)!==Z&&(M=this.Ta[T.layer]+this.Rf.y,P===e.firstPickIndex+1&&(M=90===this.K?Math.max(M,A):Math.min(M,A)),e.m(P++,S,M),e.m(P++,Z,M)):(M=Math.max(10,this.he[T.layer]),k=Math.max(10,this.Ld[T.layer]),m?180===this.K?(e.m(P++,Z+k+y,j),e.m(P++,Math.max(Z+k-y/2,Z),j),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Math.min(Z-M+y/2,Z),j),e.m(P++,Z-M-y,j)):90===this.K?(e.m(P++,Z,j-M-y),e.m(P++,Z,Math.min(j-M+y/2,j)),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Z,Math.max(j+k-y/2,j)),e.m(P++,Z,j+k+y)):270===this.K?(e.m(P++,Z,j+k+y),e.m(P++,Z,Math.max(j+k-y/2,j)),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Z,Math.min(j-M+y/2,j)),e.m(P++,Z,j-M-y)):(e.m(P++,Z-M-y,j),e.m(P++,Math.min(Z-M+y/2,Z),j),e.m(P++,Z,j),e.m(P++,Z,j),e.m(P++,Math.max(Z+k-y/2,Z),j),e.m(P++,Z+k+y,j)):180===this.K?(e.m(P++,Z+k,j),e.m(P++,Z-M,j)):90===this.K?(e.m(P++,Z,j-M),e.m(P++,Z,j+k)):270===this.K?(e.m(P++,Z,j+k),e.m(P++,Z,j-M)):(e.m(P++,Z-M,j),e.m(P++,Z+k,j)))),f=T}v&&(S=e.i(P-1).x,A=e.i(P-1).y,Z=e.i(P).x,j=e.i(P).y,180===this.K||0===this.K?A!==j&&(M=0===this.K?Math.min(Math.max((Z+S)/2,this.Ta[g.layer]+this.Rf.x),Z):Math.max(Math.min((Z+S)/2,this.Ta[g.layer]+this.Rf.x),Z),e.m(P++,M,A),e.m(P++,M,j)):S!==Z&&(M=90===this.K?Math.min(Math.max((j+A)/2,this.Ta[g.layer]+this.Rf.y),j):Math.max(Math.min((j+A)/2,this.Ta[g.layer]+this.Rf.y),j),e.m(P++,S,M),e.m(P++,Z,M)))}null!==o&&m&&4<=e.pointsCount&&(null!==l&&(l=d===Fe?e.getLinkPointFromPoint(r,l,l.ga(Mt),e.i(3),!0):e.i(0),d===Fe&&(d=e.i(2),o=e.i(3),90===this.direction||270===this.direction?(e.L(1,(l.x+d.x)/2,d.y),e.L(2,o.x,(d.y+o.y)/2)):(e.L(1,d.x,(l.y+d.y)/2),e.L(2,(d.x+o.x)/2,o.y))),l.w()||l.set(r.actualBounds.center),e.L(0,l.x,l.y)),null!==a&&(r=p===Fe?e.getLinkPointFromPoint(s,a,a.ga(Mt),e.i(e.pointsCount-4),!1):e.i(e.pointsCount-1),p===Fe&&(a=e.i(e.pointsCount-3),p=e.i(e.pointsCount-4),90===this.direction||270===this.direction?(e.L(e.pointsCount-2,(r.x+a.x)/2,a.y),e.L(e.pointsCount-2,p.x,(a.y+p.y)/2)):(e.L(e.pointsCount-2,a.x,(r.y+a.y)/2),e.L(e.pointsCount-3,(a.x+p.x)/2,p.y))),r.w()||r.set(s.actualBounds.center),e.L(e.pointsCount-1,r.x,r.y))),e.zf(),n.commit()}}}this.avoidOrthogonalOverlaps()},Ct.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new H,e=this.network.edges.iterator;e.next();){var n=e.value.link;null!==n&&n.isOrthogonal&&!t.contains(n)&&t.add(n)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,n=[],t=t.iterator;t.next();){var o=t.value;if(null!==o&&o.isOrthogonal)for(var r=2;r<o.pointsCount-3;r++){var s=o.i(r),l=o.i(r+1);if(this.B(s.y,l.y)&&!this.B(s.x,l.x)){var a=new G;a.layer=Math.floor(s.y/2);var p=o.i(0),d=o.i(o.pointsCount-1);if(a.first=p.x*p.x+p.y,a.jc=d.x*d.x+d.y,a.rd=Math.min(s.x,l.x),a.Ic=Math.max(s.x,l.x),a.index=r,a.link=o,r+2<o.pointsCount){p=o.i(r-1),d=o.i(r+2);var f=0;p.y<s.y?f=d.y<s.y?3:s.x<l.x?2:1:p.y>s.y&&(f=d.y>s.y?0:l.x<s.x?2:1),a.j=f}n.push(a)}}}if(1<n.length)for(n.sort(this.Vx),t=0;t<n.length;){for(s=n[t].layer,o=t+1;o<n.length&&n[o].layer===s;)o++;if(1<o-t)for(s=t;s<o;){for(l=n[s].Ic,r=t+1;r<o&&n[r].rd<l;)l=Math.max(l,n[r].Ic),r++;if(1<(l=r-s)){for(this.zi(n,this.Js,s,s+l),f=1,a=n[s].jc,p=s;p<r;p++)(d=n[p]).jc!==a&&(f++,a=d.jc);this.zi(n,this.Ux,s,s+l);var g=1;for(a=n[s].first,p=s;p<r;p++)(d=n[p]).first!==a&&(g++,a=d.first);for(p=!0,d=g,f<g?(p=!1,d=f,a=n[s].jc,this.zi(n,this.Js,s,s+l)):a=n[s].first,f=0,g=s;g<r;g++){var m=n[g];(p?m.first:m.jc)!==a&&(f++,a=p?m.first:m.jc);var v=m.link;s=v.i(m.index),l=v.i(m.index+1);var y=this.linkSpacing*(f-(d-1)/2);e++,v.uh(),v.L(m.index,s.x,s.y+y),v.L(m.index+1,l.x,l.y+y),v.zf()}}s=r}t=o}}else{for(e=0,n=[],t=t.iterator;t.next();)if(null!==(o=t.value)&&o.isOrthogonal)for(r=2;r<o.pointsCount-3;r++)s=o.i(r),l=o.i(r+1),this.B(s.x,l.x)&&!this.B(s.y,l.y)&&((a=new G).layer=Math.floor(s.x/2),p=o.i(0),d=o.i(o.pointsCount-1),a.first=p.x+p.y*p.y,a.jc=d.x+d.y*d.y,a.rd=Math.min(s.y,l.y),a.Ic=Math.max(s.y,l.y),a.index=r,a.link=o,r+2<o.pointsCount&&(p=o.i(r-1),d=o.i(r+2),f=0,p.x<s.x?f=d.x<s.x?3:s.y<l.y?2:1:p.x>s.x&&(f=d.x>s.x?0:l.y<s.y?2:1),a.j=f),n.push(a));if(1<n.length)for(n.sort(this.Vx),t=0;t<n.length;){for(s=n[t].layer,o=t+1;o<n.length&&n[o].layer===s;)o++;if(1<o-t)for(s=t;s<o;){for(l=n[s].Ic,r=t+1;r<o&&n[r].rd<l;)l=Math.max(l,n[r].Ic),r++;if(1<(l=r-s)){for(this.zi(n,this.Js,s,s+l),f=1,a=n[s].jc,p=s;p<r;p++)(d=n[p]).jc!==a&&(f++,a=d.jc);for(this.zi(n,this.Ux,s,s+l),g=1,a=n[s].first,p=s;p<r;p++)(d=n[p]).first!==a&&(g++,a=d.first);for(p=!0,d=g,f<g?(p=!1,d=f,a=n[s].jc,this.zi(n,this.Js,s,s+l)):a=n[s].first,f=0,g=s;g<r;g++)m=n[g],(p?m.first:m.jc)!==a&&(f++,a=p?m.first:m.jc),s=(v=m.link).i(m.index),l=v.i(m.index+1),y=this.linkSpacing*(f-(d-1)/2),e++,v.uh(),v.L(m.index,s.x+y,s.y),v.L(m.index+1,l.x+y,l.y),v.zf()}s=r}t=o}}}},(x=Ct.prototype).Vx=function(t,e){return t instanceof G&&e instanceof G&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.rd<e.rd?-1:t.rd>e.rd?1:t.Ic<e.Ic?-1:t.Ic>e.Ic?1:0:0},x.Ux=function(t,e){return t instanceof G&&e instanceof G&&t!==e?t.first<e.first?-1:t.first>e.first||t.j<e.j?1:t.j>e.j||t.rd<e.rd?-1:t.rd>e.rd?1:t.Ic<e.Ic?-1:t.Ic>e.Ic?1:0:0},x.Js=function(t,e){return t instanceof G&&e instanceof G&&t!==e?t.jc<e.jc?-1:t.jc>e.jc||t.j<e.j?1:t.j>e.j||t.rd<e.rd?-1:t.rd>e.rd?1:t.Ic<e.Ic?-1:t.Ic>e.Ic?1:0:0},x.B=function(t,e){return-1<(t-=e)&&1>t},x.zi=function(t,e,n,o){var r=t.length,s=o-n;if(!(1>=s))if((0>n||n>=r-1)&&q("not in range 0 <= from < length: "+n),2===s)0<e(o=t[n],r=t[n+1])&&(t[n]=r,t[n+1]=o);else if(0===n)if(o>=r)t.sort(e);else for((n=t.slice(0,o)).sort(e),e=0;e<o;e++)t[e]=n[e];else if(o>=r)for((o=t.slice(n)).sort(e),e=n;e<r;e++)t[e]=o[e-n];else for((r=t.slice(n,o)).sort(e),e=n;e<o;e++)t[e]=r[e-n]},pt.Object.defineProperties(Ct.prototype,{layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&0<=t&&(this.ie=t,this.C())}},columnSpacing:{get:function(){return this.kc},set:function(t){this.kc!==t&&0<t&&(this.kc=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.C()):q("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Dk},set:function(t){this.Dk===t||t!==mf&&t!==up&&t!==zu||(this.Dk=t,this.C())}},layeringOption:{get:function(){return this.Zk},set:function(t){this.Zk===t||t!==Xu&&t!==ap&&t!==hp||(this.Zk=t,this.C())}},initializeOption:{get:function(){return this.Qk},set:function(t){this.Qk===t||t!==pp&&t!==c&&t!==_||(this.Qk=t,this.C())}},iterations:{get:function(){return this.bj},set:function(t){this.bj!==t&&0<=t&&(this.bj=t,this.C())}},aggressiveOption:{get:function(){return this.rk},set:function(t){this.rk===t||t!==u&&t!==h&&t!==D||(this.rk=t,this.C())}},packOption:{get:function(){return this.bg},set:function(t){this.bg!==t&&0<=t&&8>t&&(this.bg=t,this.C())}},alignOption:{get:function(){return this.ve},set:function(t){this.ve!==t&&0<=t&&16>t&&(this.ve=t,this.C())}},setsPortSpots:{get:function(){return this.sf},set:function(t){this.sf!==t&&(this.sf=t,this.C())}},linkSpacing:{get:function(){return this.Cn},set:function(t){this.Cn!==t&&0<=t&&(this.Cn=t,this.C())}},maxLayer:{get:function(){return this.Ia}},maxIndex:{get:function(){return this.Iq}},maxColumn:{get:function(){return this.Ra}},minIndexLayer:{get:function(){return this.Hn}},maxIndexLayer:{get:function(){return this.Md}}});var up=new Q(Ct,"CycleDepthFirst",0),mf=new Q(Ct,"CycleGreedy",1),zu=new Q(Ct,"CycleFromLayers",2),Xu=new Q(Ct,"LayerOptimalLinkLength",0),ap=new Q(Ct,"LayerLongestPathSink",1),hp=new Q(Ct,"LayerLongestPathSource",2),pp=new Q(Ct,"InitDepthFirstOut",0),c=new Q(Ct,"InitDepthFirstIn",1),_=new Q(Ct,"InitNaive",2),u=new Q(Ct,"AggressiveNone",0),h=new Q(Ct,"AggressiveLess",1),D=new Q(Ct,"AggressiveMore",2),C=8;function G(){this.index=this.Ic=this.rd=this.jc=this.first=this.layer=0,this.link=null,this.j=0}function _t(t){It.call(this,t)}function wt(t){fe.call(this,t),this.$n=this.bo=this.ao=this.co=null,this.Za=this.Ag=this.Ig=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.Ll=NaN,this.Dj=0,this.dv=this.ev=null}function Sn(t,e){return t.index-e.index}function Tn(t,e){if(!t.$n){for(var n=[],o=mi(t.destinationEdgesArrayAccess),r=o.next();!r.done;r=o.next())(r=r.value).valid&&n.push(r);t.$n=n}for(n=(t=mi(t.$n)).next();!n.done;n=t.next())if((n=n.value).toVertex===e)return n;q("Unable to find destination edge to given vertex")}function ki(t){if(!t.co){for(var e=[],n=mi(t.sourceEdgesArrayAccess),o=n.next();!o.done;o=n.next())(o=o.value).valid&&e.push(o.fromVertex);e.sort(Sn),t.co=e}return t.co}function zi(t){if(!t.ao){for(var e=[],n=mi(t.destinationEdgesArrayAccess),o=n.next();!o.done;o=n.next())(o=o.value).valid&&e.push(o.toVertex);e.sort(Sn),t.ao=e}return t.ao}function Ii(t){Ai.call(this,t),this.j=this.ia=this.Ha=!1,this.V=this.u=NaN,this.F=this.o=0}function at(t){Yt.call(this),this.Ub=new E,this.Wn=qm,this.ud=Vo,this.vo=Jm,this.Bq=Y2,this.$v=[],this.td=!0,this.Rb=Rm,this.$d=new ot(10,10).freeze();var e=new ia(this);this.W=new On(e),this.Y=new On(e),this.ru=[],t&&Object.assign(this,t)}function Wu(t){var e=new E;for(t=t.iterator;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function Ev(t,e){var n=999999,o=null;for(e=e.iterator;e.next();){var r=e.value;switch(t.ud){case Vo:r.sourceEdges.count<n&&(n=r.sourceEdges.count,o=r);break;case ta:r.destinationEdges.count<n&&(n=r.destinationEdges.count,o=r);break;default:q("Unhandled path value "+t.ud.toString())}}return o}function j2(t,e){if(null!==e){switch(t.ud){case Vo:if(0<e.destinationEdges.count){for(var n=new H,o=e.destinationVertexes;o.next();){var r=o.value;Bv(t,e,r)&&n.add(r)}0<n.count&&(e.children=n.Fa())}break;case ta:if(0<e.sourceEdges.count){for(n=new H,o=e.sourceVertexes;o.next();)Bv(t,e,r=o.value)&&n.add(r);0<n.count&&(e.children=n.Fa())}break;default:q("Unhandled path value"+t.ud.toString())}for(o=(n=e.children).length,r=0;r<o;r++){var s=n[r];s.initialized=!0,s.level=e.level+1,s.parent=e,t.Ub.remove(s)}for(e=0;e<o;e++)j2(t,n[e])}}function Bv(t,e,n){if(n.initialized){if(null===e)var o=!1;else{for(o=e.parent;null!==o&&o!==n;)o=o.parent;o=o===n}if(o||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function Qv(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Wo&&t.sortTreeVertexChildren(e);for(var n=0,o=e.childrenCount,r=0,s=e.children,l=s.length,a=0;a<l;a++){var p=s[a];Qv(t,p),n+=p.descendantCount+1,o=Math.max(o,p.maxChildrenCount),r=Math.max(r,p.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=o,e.maxGenerationCount=0<o?r+1:0}}function Gv(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var n=(e=e.children).length,o=0;o<n;o++)Gv(t,e[o])}}function Hv(t,e){if(null!==e){e.alignment!==Wo&&t.sortTreeVertexChildren(e);for(var n=(e=e.children).length,o=0;o<n;o++)Hv(t,e[o])}}function As(t){return t===Rr||t===Wo||t===Er||t===_r}function _f(t){return t===Rr||t===Wo}function N2(t){var e=t.parent;if(null!==e){var n=e.alignment;if(As(n)){if(_f(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return n%2==0}if(n===Er)return!0}}return!1}function Kv(t,e){if(0===e.childrenCount){var n=!1,o=0;null!==e.parent&&(o=e.parent.angle,n=As(n=e.parent.alignment));var r=N2(e);e.S.h(0,0),e.Da.h(e.width,e.height),null===e.parent||null===e.comments||(180!==o&&270!==o||n)&&!r?e.la.h(0,0):180===o&&!n||(90===o||270===o)&&r?e.la.h(e.width-2*e.focus.x,0):e.la.h(0,e.height-2*e.focus.y)}else{n=90===(o=Hn(e))||270===o;for(var s=0,l=(r=e.children).length,a=0;a<l;a++){var p=r[a];s=Math.max(s,n?p.Da.width:p.Da.height)}var d=e.alignment,f=d===zo,g=d===Xo;a=As(d);var m=Math.max(0,e.breadthLimit);p=t.computeLayerSpacing(e);var v=e.nodeSpacing,y=t.computeNodeIndent(e),P=f||g?0:y/2,T=e.rowSpacing,S=0;(f||g||e.hm||e.im&&1===e.maxGenerationCount)&&(S=Math.max(0,e.rowIndent)),f=e.width;var A=e.height,M=0,Z=0,j=0,k=0,J=0,V=0,K=0,b=0,F=0,st=0;if(a&&!_f(d)&&135<o&&r.reverse(),_f(d))if(1<l)for(var it=0;it<l;it++){var yt=r[it],Ft=yt.Da;it%2==0&&it!==l-1?F=Math.max(F,(n?Ft.width:Ft.height)+t.computeBusNodeSpacing(yt)-v):it%2!=0&&(st=Math.max(st,(n?Ft.width:Ft.height)+t.computeBusNodeSpacing(yt)-v))}else 1===l&&(F=n?r[0].Da.width:r[0].Da.height);if(a)switch(d){case Rr:case Wo:F=(Z=135>o?Vv(t,e,r,F,M,Z):zv(t,e,r,F,M,Z)).x,M=Z.width,Z=Z.height;break;case Er:for(m=0;m<l;m++)j=(P=r[m]).Da,st=0===K?0:T,n?(P.S.h(s-j.width,J+st),M=Math.max(M,j.width),Z=Math.max(Z,J+st+j.height),J+=st+j.height):(P.S.h(k+st,s-j.height),M=Math.max(M,k+st+j.width),Z=Math.max(Z,j.height),k+=st+j.width),K++;break;case _r:for(s=0;s<l;s++)P=(m=r[s]).Da,j=0===K?0:T,n?(m.S.h(v/2+e.focus.x,J+j),M=Math.max(M,P.width),Z=Math.max(Z,J+j+P.height),J+=j+P.height):(m.S.h(k+j,v/2+e.focus.y),M=Math.max(M,k+j+P.width),Z=Math.max(Z,P.height),k+=j+P.width),K++}else for(st=0;st<l;st++)yt=(it=r[st]).Da,n?(0<m&&0<K&&k+v+yt.width>m&&(k<s&&Ol(e,d,s-k,0,b,st-1),V++,K=0,b=st,j=Z,k=0,J=135<o?-Z-T:Z+T),Ft=0===K?P:v,Lm(t,it,0,J),it.S.h(k+Ft,J),M=Math.max(M,k+Ft+yt.width),Z=Math.max(Z,j+(0===V?0:T)+yt.height),k+=Ft+yt.width):(0<m&&0<K&&J+v+yt.height>m&&(J<s&&Ol(e,d,0,s-J,b,st-1),V++,K=0,b=st,j=M,J=0,k=135<o?-M-T:M+T),Ft=0===K?P:v,Lm(t,it,k,0),it.S.h(k,J+Ft),Z=Math.max(Z,J+Ft+yt.height),M=Math.max(M,j+(0===V?0:T)+yt.width),J+=Ft+yt.height),K++;switch(0<V&&(n?(Z+=Math.max(0,p),k<M&&Ol(e,d,M-k,0,b,l-1),0<S&&(g||$u(e,S,0,0,l-1),M+=S)):(M+=Math.max(0,p),J<Z&&Ol(e,d,0,Z-J,b,l-1),0<S&&(g||$u(e,0,S,0,l-1),Z+=S))),S=g=0,d){case dp:n?g+=M/2-e.focus.x-y/2:S+=Z/2-e.focus.y-y/2;break;case ea:0<V?n?g+=M/2-e.focus.x-y/2:S+=Z/2-e.focus.y-y/2:n?g+=(t=r[0].S.x+r[0].la.x)+(r[l-1].S.x+r[l-1].la.x+2*r[l-1].focus.x-t)/2-e.focus.x-y/2:S+=(t=r[0].S.y+r[0].la.y)+(r[l-1].S.y+r[l-1].la.y+2*r[l-1].focus.y-t)/2-e.focus.y-y/2;break;case zo:n?(g-=y,M+=y):(S-=y,Z+=y);break;case Xo:n?(g+=M-e.width+y,M+=y):(S+=Z-e.height+y,Z+=y);break;case Rr:case Wo:n?g+=1<l?F+v/2-e.focus.x:r[0].focus.x-e.focus.x+r[0].la.x:S+=1<l?F+v/2-e.focus.y:r[0].focus.y-e.focus.y+r[0].la.y;break;case Er:n?g+=M+v/2-e.focus.x:S+=Z+v/2-e.focus.y;break;case _r:break;default:g=(t=t.customAlignment(e,g,S,M,Z))[0],S=t[1],M=t[2],Z=t[3]}for(t=0;t<l;t++)y=r[t],n?y.S.h(y.S.x+y.la.x-g,y.S.y+(135<o?(a?-Z:-y.Da.height)+y.la.y-p:A+p+y.la.y)):y.S.h(y.S.x+(135<o?(a?-M:-y.Da.width)+y.la.x-p:f+p+y.la.x),y.S.y+y.la.y-S);n?(M=k2(e,M,g),0>g&&(g=0),135<o&&(S+=Z+p),Z=Math.max(Math.max(Z,A),Z+A+p)):(135<o&&(g+=M+p),M=Math.max(Math.max(M,f),M+f+p),Z=I2(e,Z,S),0>S&&(S=0)),e.la.h(g,S),e.Da.h(M,Z)}}function Vv(t,e,n,o,r,s){var l=n.length;if(0===l)return new U(o,0,r,s);if(1===l)return new U(o,0,r=(e=n[0]).Da.width,s=e.Da.height);for(var a=e.nodeSpacing,p=e.rowSpacing,d=90===Hn(e),f=0,g=0,m=0,v=0;v<l;v++)if(!(v%2!=0||1<l&&v===l-1)){var y=n[v],P=y.Da,T=0===f?0:p;if(d){var S=t.computeBusNodeSpacing(y)-a;y.S.h(o-(P.width+S),m+T),r=Math.max(r,P.width+S),s=Math.max(s,m+T+P.height),m+=T+P.height}else S=t.computeBusNodeSpacing(y)-a,y.S.h(g+T,o-(P.height+S)),s=Math.max(s,P.height+S),r=Math.max(r,g+T+P.width),g+=T+P.width;f++}for(f=0,y=g,v=m,d?(g=o+a,m=0):(g=0,m=o+a),P=0;P<l;P++)if(P%2!=0){S=(T=n[P]).Da;var A=0===f?0:p;if(d){var M=t.computeBusNodeSpacing(T)-a;T.S.h(g+M,m+A),r=Math.max(r,g+S.width+M),s=Math.max(s,m+A+S.height),m+=A+S.height}else M=t.computeBusNodeSpacing(T)-a,T.S.h(g+A,m+M),r=Math.max(r,g+A+S.width),s=Math.max(s,m+S.height+M),g+=A+S.width;f++}return 1<l&&l%2==1&&(l=(n=n[l-1]).Da,t=t.computeBusLastRowSpacing(n,d?Math.max(Math.abs(v),Math.abs(m)):Math.max(Math.abs(y),Math.abs(g))),d?(n.S.h(o+a/2-n.focus.x-n.la.x,s+t),d=o+a/2-n.focus.x-n.la.x,r=Math.max(r,d+l.width),0>d&&(r-=d),s=Math.max(s,Math.max(v,m)+t+l.height),0>n.S.x&&(o=Om(e,n.S.x,!1,o,a))):(n.S.h(r+t,o+a/2-n.focus.y-n.la.y),r=Math.max(r,Math.max(y,g)+t+l.width),m=o+a/2-n.focus.y-n.la.y,s=Math.max(s,m+l.height),0>m&&(s-=m),0>n.S.y&&(o=Om(e,n.S.y,!0,o,a)))),new U(o,0,r,s)}function zv(t,e,n,o,r,s){var l=n.length;if(0===l)return new U(o,0,r,s);if(1===l)return new U(o,0,r=(n=n[0]).Da.width,s=n.Da.height);for(var a=e.nodeSpacing,p=e.rowSpacing,d=270===Hn(e),f=0,g=0,m=0,v=0;v<l;v++)if(!(v%2!=0||1<l&&v===l-1)){var y=n[v],P=y.Da,T=0===f?0:p;if(d){var S=t.computeBusNodeSpacing(y)-a;y.S.h(o-(P.width+S),m-=T+P.height),r=Math.max(r,P.width+S),s=Math.max(s,Math.abs(m))}else S=t.computeBusNodeSpacing(y)-a,y.S.h(g-=T+P.width,o-(P.height+S)),s=Math.max(s,P.height+S),r=Math.max(r,Math.abs(g));f++}for(f=0,y=g,v=m,d?(g=o+a,m=0):(g=0,m=o+a),P=0;P<l;P++)if(P%2!=0){S=(T=n[P]).Da;var A=0===f?0:p;if(d){var M=t.computeBusNodeSpacing(T)-a;T.S.h(g+M,m-=A+S.height),r=Math.max(r,g+S.width+M),s=Math.max(s,Math.abs(m))}else M=t.computeBusNodeSpacing(T)-a,T.S.h(g-=A+S.width,m+M),s=Math.max(s,m+S.height+M),r=Math.max(r,Math.abs(g));f++}for(1<l&&l%2==1&&(f=(p=n[l-1]).Da,t=t.computeBusLastRowSpacing(p,d?Math.max(Math.abs(v),Math.abs(m)):Math.max(Math.abs(y),Math.abs(g))),d?(p.S.h(o+a/2-p.focus.x-p.la.x,-s-f.height-t),g=o+a/2-p.focus.x-p.la.x,r=Math.max(r,g+f.width),0>g&&(r-=g),s=Math.max(s,Math.abs(Math.min(v,m))+t+f.height),0>p.S.x&&(o=Om(e,p.S.x,!1,o,a))):(p.S.h(-r-f.width-t,o+a/2-p.focus.y-p.la.y),r=Math.max(r,Math.abs(Math.min(y,g))+t+f.width),m=o+a/2-p.focus.y-p.la.y,s=Math.max(s,m+f.height),0>m&&(s-=m),0>p.S.y&&(o=Om(e,p.S.y,!0,o,a)))),e=0;e<l;e++)a=n[e],d?a.S.h(a.S.x,a.S.y+s):a.S.h(a.S.x+r,a.S.y);return new U(o,0,r,s)}function Om(t,e,n,o,r){for(var s=(t=t.children).length,l=0;l<s;l++)n?t[l].S.h(t[l].S.x,t[l].S.y-e):t[l].S.h(t[l].S.x-e,t[l].S.y);return e=t[s-1],Math.max(o,n?e.la.y+e.focus.y-r/2:e.la.x+e.focus.x-r/2)}function k2(t,e,n){switch(t.alignment){case ea:case dp:return n+t.width>e&&(e=n+t.width),0>n&&(e-=n),e;case zo:return t.width>e?t.width:e;case Xo:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Rr:case Wo:return Math.max(t.width,Math.max(e,n+t.width)-Math.min(0,n));case Er:return t.width-t.focus.x+t.nodeSpacing/2+e;case _r:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function I2(t,e,n){switch(t.alignment){case ea:case dp:return n+t.height>e&&(e=n+t.height),0>n&&(e-=n),e;case zo:return t.height>e?t.height:e;case Xo:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Rr:case Wo:return Math.max(t.height,Math.max(e,n+t.height)-Math.min(0,n));case Er:return t.height-t.focus.y+t.nodeSpacing/2+e;case _r:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function U2(t,e,n){switch(t){case dp:case ea:e/=2,n/=2;break;case zo:n=e=0;break;case Xo:break;default:q("Unhandled alignment value "+t.toString())}return new w(e,n)}function Ol(t,e,n,o,r,s){$u(t,(e=U2(e,n,o)).x,e.y,r,s)}function $u(t,e,n,o,r){if(0!==e||0!==n)for(t=t.children;o<=r;o++){var s=t[o].S;s.x+=e,s.y+=n}}function Lm(t,e,n,o){var r=e.parent;switch(t.ud){case Vo:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===r&&e.relativePoint.h(n,o);break;case ta:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===r&&e.relativePoint.h(n,o);break;default:q("Unhandled path value "+t.ud.toString())}}function bm(t,e,n){for(var o=0;o<t.length;o++){var r=t[o];r.x+=e,r.y+=n}}function Xv(t,e,n,o,r,s,l,a){var p=Hn(e),d=90===p||270===p,f=e.nodeSpacing;e=o;var g=r;o=s;var m=l,v=n.Yo,y=n.kp;l=n.Da;var P=d?Math.max(m,l.height):Math.max(o,l.width);if((null===v||p!==Hn(n))&&(v=Ui(t,2),y=Ui(t,2),d?(v[0].h(0,0),v[1].h(0,l.height),y[0].h(l.width,0),y[1].h(y[0].x,v[1].y)):(v[0].h(0,0),v[1].h(l.width,0),y[0].h(0,l.height),y[1].h(v[1].x,y[0].y))),d){if(m=9999999,!(null===g||2>g.length||null===v||2>v.length))for(r=n=0;n<g.length&&r<v.length;){var T=v[r];p=T.x,d=T.y,p+=o;var S=s=g[n];n+1<g.length&&(S=g[n+1]);var A=T;T=A.x,A=A.y,r+1<v.length&&(T=(A=v[r+1]).x,A=A.y,T+=o);var M=m;s.y===d?M=p-s.x:s.y>d&&s.y<A?M=p+(s.y-d)/(A-d)*(T-p)-s.x:d>s.y&&d<S.y&&(M=p-(s.x+(d-s.y)/(S.y-s.y)*(S.x-s.x))),M<m&&(m=M),S.y<=s.y?n++:A<=d?r++:(S.y<=A&&n++,A<=S.y&&r++)}if(m=o-m,n=v,r=m+=f,null===e||2>e.length||null===n||2>n.length)o=null;else{for(f=Ui(t,e.length+n.length),o=s=p=0;s<n.length&&n[s].y<e[0].y;)d=n[s++],f[o++].h(d.x+r,d.y);for(;p<e.length;)d=e[p++],f[o++].h(d.x,d.y);for(p=e[e.length-1].y;s<n.length&&n[s].y<=p;)s++;for(;s<n.length&&n[s].y>p;)d=n[s++],f[o++].h(d.x+r,d.y);for(n=Ui(t,o),p=0;p<o;p++)n[p].assign(f[p]);uo(t,f),o=n}if(s=y,p=m,null===g||2>g.length||null===s||2>s.length)r=null;else{for(f=Ui(t,g.length+s.length),r=d=n=0;n<g.length&&g[n].y<s[0].y;)S=g[n++],f[r++].h(S.x,S.y);for(;d<s.length;)S=s[d++],f[r++].h(S.x+p,S.y);for(s=s[s.length-1].y;n<g.length&&g[n].y<=s;)n++;for(;n<g.length&&g[n].y>s;)p=g[n++],f[r++].h(p.x,p.y);for(s=Ui(t,r),n=0;n<r;n++)s[n].assign(f[n]);uo(t,f),r=s}return s=Math.max(0,m)+l.width,l=P,uo(t,e),uo(t,v),uo(t,g),uo(t,y),a[0]=o,a[1]=r,new U(m,0,s,l)}if(o=9999999,!(null===g||2>g.length||null===v||2>v.length))for(r=n=0;n<g.length&&r<v.length;)p=(T=v[r]).x,d=T.y,d+=m,S=s=g[n],n+1<g.length&&(S=g[n+1]),T=(A=T).x,A=A.y,r+1<v.length&&(T=(A=v[r+1]).x,A=A.y,A+=m),M=o,s.x===p?M=d-s.y:s.x>p&&s.x<T?M=d+(s.x-p)/(T-p)*(A-d)-s.y:p>s.x&&p<S.x&&(M=d-(s.y+(p-s.x)/(S.x-s.x)*(S.y-s.y))),M<o&&(o=M),S.x<=s.x?n++:T<=p?r++:(S.x<=T&&n++,T<=S.x&&r++);if(m-=o,n=v,r=m+=f,null===e||2>e.length||null===n||2>n.length)o=null;else{for(f=Ui(t,e.length+n.length),o=s=p=0;s<n.length&&n[s].x<e[0].x;)d=n[s++],f[o++].h(d.x,d.y+r);for(;p<e.length;)d=e[p++],f[o++].h(d.x,d.y);for(p=e[e.length-1].x;s<n.length&&n[s].x<=p;)s++;for(;s<n.length&&n[s].x>p;)d=n[s++],f[o++].h(d.x,d.y+r);for(n=Ui(t,o),p=0;p<o;p++)n[p].assign(f[p]);uo(t,f),o=n}if(s=y,p=m,null===g||2>g.length||null===s||2>s.length)r=null;else{for(f=Ui(t,g.length+s.length),r=d=n=0;n<g.length&&g[n].x<s[0].x;)S=g[n++],f[r++].h(S.x,S.y);for(;d<s.length;)S=s[d++],f[r++].h(S.x,S.y+p);for(s=s[s.length-1].x;n<g.length&&g[n].x<=s;)n++;for(;n<g.length&&g[n].x>s;)p=g[n++],f[r++].h(p.x,p.y);for(s=Ui(t,r),n=0;n<r;n++)s[n].assign(f[n]);uo(t,f),r=s}return s=P,l=Math.max(0,m)+l.height,uo(t,e),uo(t,v),uo(t,g),uo(t,y),a[0]=o,a[1]=r,new U(m,0,s,l)}function Ui(t,e){if(void 0!==(t=t.ru[e])&&void 0!==(t=t.pop()))return t;t=[];for(var n=0;n<e;n++)t[n]=new w;return t}function uo(t,e){var n=e.length,o=t.ru[n];void 0===o&&(t.ru[n]=o=[]),o.push(e)}function F2(t,e,n,o){if(null!==e){e.x=n,e.y=o;for(var r=(e=e.children).length,s=0;s<r;s++){var l=e[s];F2(t,l,n+l.S.x,o+l.S.y)}}}function Wv(t,e){if(null!==e){t.setPortSpots(e);for(var n=(e=e.children).length,o=0;o<n;o++)Wv(t,e[o])}}function Hn(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}Ct.className="LayeredDigraphLayout",Ct.CycleDepthFirst=up,Ct.CycleGreedy=mf,Ct.CycleFromLayers=zu,Ct.LayerOptimalLinkLength=Xu,Ct.LayerLongestPathSink=ap,Ct.LayerLongestPathSource=hp,Ct.InitDepthFirstOut=pp,Ct.InitDepthFirstIn=c,Ct.InitNaive=_,Ct.AggressiveNone=u,Ct.AggressiveLess=h,Ct.AggressiveMore=D,Ct.PackNone=0,Ct.PackExpand=1,Ct.PackStraighten=2,Ct.PackMedian=4,Ct.PackAll=15,Ct.AlignNone=0,Ct.AlignUpperLeft=1,Ct.AlignUpperRight=2,Ct.AlignLowerLeft=4,Ct.AlignLowerRight=8,Ct.AlignAll=15,G.className="SegInfo",At(_t,It),_t.prototype.createVertex=function(){return new wt(this)},_t.prototype.createEdge=function(){return new Ii(this)},_t.className="LayeredDigraphNetwork",At(wt,fe),wt.prototype.Cl=function(t){fe.prototype.Cl.call(this,t),this.bo=this.co=null},wt.prototype.Kl=function(t){fe.prototype.Kl.call(this,t),this.bo=this.co=null},wt.prototype.zl=function(t){fe.prototype.zl.call(this,t),this.$n=this.ao=null},wt.prototype.Jl=function(t){fe.prototype.Jl.call(this,t),this.$n=this.ao=null},pt.Object.defineProperties(wt.prototype,{layer:{get:function(){return this.Ig},set:function(t){this.Ig!==t&&(this.Ig=t)}},column:{get:function(){return this.Ag},set:function(t){this.Ag!==t&&(this.Ag=t)}},index:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},component:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},near:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),wt.prototype.deleteDestinationEdge=wt.prototype.Jl,wt.prototype.addDestinationEdge=wt.prototype.zl,wt.prototype.deleteSourceEdge=wt.prototype.Kl,wt.prototype.addSourceEdge=wt.prototype.Cl,wt.className="LayeredDigraphVertex",At(Ii,Ai),pt.Object.defineProperties(Ii.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},valid:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},rev:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},forest:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},portFromPos:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToPos:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},portFromColOffset:{get:function(){return this.o},set:function(t){this.o!==t&&(this.o=t)}},portToColOffset:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),Ii.className="LayeredDigraphEdge",At(at,Yt),at.prototype.cloneProtected=function(t){Yt.prototype.cloneProtected.call(this,t),t.Wn=this.Wn,t.vo=this.vo,t.Bq=this.Bq,t.td=this.td,t.Rb=this.Rb,t.$d.assign(this.$d),t.W.copyInheritedPropertiesFrom(this.W),t.Y.copyInheritedPropertiesFrom(this.Y)},at.prototype.qb=function(t){t.classType===at?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:q("Unknown enum value: "+t):Yt.prototype.qb.call(this,t)},at.prototype.createNetwork=function(){return new ia(this)},at.prototype.makeNetwork=function(t){function e(o){if(o instanceof B)return!o.isLinkLabel&&"Comment"!==o.category;if(o instanceof L){var r=o.fromNode;return null!==r&&!r.isLinkLabel&&"Comment"!==r.category&&!(null===(o=o.toNode)||o.isLinkLabel||"Comment"===o.category)}return!1}var n=this.createNetwork();return t instanceof I?(n.lg(t.nodes,!0,e),n.lg(t.links,!0,e)):n.lg(t instanceof rt?t.memberParts:t.iterator,!1,e),n},at.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==Em&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof I&&(e=t),this.ud=this.path===qm&&null!==e?e.isTreePathToChildren?Vo:ta:this.path===qm?Vo:this.path,0<this.network.vertexes.count){for(this.network.Ko(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Ub.count){for(t=new E,e=this.Ub.iterator;e.next();){var n=e.value;n instanceof B?null!==(n=this.network.ki(n))&&t.add(n):n instanceof On&&t.add(n)}this.Ub=t}for(0===this.Ub.count&&this.findRoots(),t=this.Ub.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,j2(this,e));for(e=this.network.vertexes,t=null;0<(t=Wu(e)).count;)null!==(e=Ev(this,t))&&this.Ub.add(e),e.initialized=!0,j2(this,e),e=t;for(t=this.Ub.iterator;t.next();)(e=t.value)instanceof On&&Qv(this,e);for(t=this.Ub.iterator;t.next();)(e=t.value)instanceof On&&Gv(this,e);for(t=this.Ub.iterator;t.next();)(e=t.value)instanceof On&&Hv(this,e);if(this.Cu(),this.layerStyle===Bm){for(t=[],e=this.network.vertexes.iterator;e.next();){var o=(n=e.value).parent;null===o&&(o=n),o=0===o.angle||180===o.angle;var r=t[n.level];void 0===r&&(r=0),t[n.level]=Math.max(r,o?n.width:n.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.$v=t,e=this.network.vertexes.iterator;e.next();)null===(o=(n=e.value).parent)&&(o=n),0===o.angle||180===o.angle?(180===o.angle&&(n.focusX+=t[n.level]-n.width),n.width=t[n.level]):(270===o.angle&&(n.focusY+=t[n.level]-n.height),n.height=t[n.level])}else if(this.layerStyle===J2)for(t=this.network.vertexes.iterator;t.next();){for(n=0===(e=t.value).angle||180===e.angle,o=-1,r=0;r<e.children.length;r++){var s=e.children[r];o=Math.max(o,n?s.width:s.height)}if(0<=o)for(r=0;r<e.children.length;r++)s=e.children[r],n?(180===e.angle&&(s.focusX+=o-s.width),s.width=o):(270===e.angle&&(s.focusY+=o-s.height),s.height=o)}for(t=this.Ub.iterator;t.next();)(e=t.value)instanceof On&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Ub=new E,this.isValidLayout=!0},at.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var n=e.value;switch(this.ud){case Vo:0===n.sourceEdges.count&&this.Ub.add(n);break;case ta:0===n.destinationEdges.count&&this.Ub.add(n);break;default:q("Unhandled path value "+this.ud.toString())}}0===this.Ub.count&&null!==(t=Ev(this,t))&&this.Ub.add(t)},at.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var n=t.children,o=0,r=0;r<n.length;r++)n[r]===e&&o++;if(0<o){o=Array(n.length-o);for(var s=r=0;s<n.length;s++)n[s]!==e&&(o[r++]=n[s]);t.children=o}}},at.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function t6(t,e){switch(t.vo){default:case Jm:return null!==e.parent?e.parent:t.W;case b2:return null===e.parent?t.W:null===e.parent.parent?t.Y:e.parent;case L2:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.Y:t.W;case O2:var n=!0;if(0===e.childrenCount)n=!1;else for(var o=e.children,r=o.length,s=0;s<r;s++)if(0<o[s].childrenCount){n=!1;break}return n&&null!==e.parent?t.Y:null!==e.parent?e.parent:t.W}}(this,t)),null!==t.parent&&t.parent.alignment===Wo){for(var e=t.angle,n=t.parent.children,o=0;o<n.length&&t!==n[o];)o++;o%2==0?o!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},at.prototype.assignTreeVertexValues=function(){},at.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case cp:break;case vf:t.children.reverse();break;case yf:t.children.sort(t.comparer);break;case xf:t.children.sort(t.comparer),t.children.reverse();break;default:q("Unhandled sorting value "+t.sorting.toString())}},at.prototype.Cu=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},at.prototype.addComments=function(t){var e=t.angle,n=t.parent,o=0,r=!1;null!==n&&(o=n.angle,r=As(r=n.alignment)),e=90===e||270===e,o=90===o||270===o,n=0===t.childrenCount;var s=0,l=0,a=0,p=t.commentSpacing;if(null!==t.node)for(var d=t.node.Mu();d.next();){var f=d.value;"Comment"===f.category&&f.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(f),f.Va(),f=f.measuredBounds,e&&!n||!r&&!o&&n||r&&o&&n?(s=Math.max(s,f.width),l+=f.height+Math.abs(a)):(s+=f.width+Math.abs(a),l=Math.max(l,f.height)),a=p)}null!==t.comments&&(e&&!n||!r&&!o&&n||r&&o&&n?(s+=Math.abs(t.commentMargin),l=Math.max(0,l-t.height)):(l+=Math.abs(t.commentMargin),s=Math.max(0,s-t.width)),r=U.allocAt(0,0,t.bounds.width+s,t.bounds.height+l),t.bounds=r,U.free(r))},at.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,n=t.parent,o=t.angle,r=0,s=!1;null!==n&&(r=n.angle,s=As(s=n.alignment)),o=90===o||270===o,n=90===r||270===r;for(var l=0===t.childrenCount,a=N2(t),p=0,d=t.comments,f=d.length,g=w.alloc(),m=0;m<f;m++){var v=d[m],y=v.measuredBounds;if(o&&!l||!s&&!n&&l||s&&n&&l){if(135<r&&!s||n&&a)if(0<=t.commentMargin)for(g.h(t.bounds.x-t.commentMargin-y.width,t.bounds.y+p),v.move(g),v=v.Sd();v.next();){var P=v.value;P.fromSpot=on,P.toSpot=Si}else for(g.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+p),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=Si,P.toSpot=on;else if(0<=t.commentMargin)for(g.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+p),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=Si,P.toSpot=on;else for(g.h(t.bounds.x+t.commentMargin-y.width,t.bounds.y+p),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=on,P.toSpot=Si;p=0<=t.commentSpacing?p+(y.height+t.commentSpacing):p+(t.commentSpacing-y.height)}else{if(135<r&&!s||!n&&a)if(0<=t.commentMargin)for(g.h(t.bounds.x+p,t.bounds.y-t.commentMargin-y.height),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=nn,P.toSpot=rn;else for(g.h(t.bounds.x+p,t.bounds.y+2*t.focus.y-t.commentMargin),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=rn,P.toSpot=nn;else if(0<=t.commentMargin)for(g.h(t.bounds.x+p,t.bounds.y+2*t.focus.y+t.commentMargin),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=rn,P.toSpot=nn;else for(g.h(t.bounds.x+p,t.bounds.y+t.commentMargin-y.height),v.move(g),v=v.Sd();v.next();)(P=v.value).fromSpot=nn,P.toSpot=rn;p=0<=t.commentSpacing?p+(y.width+t.commentSpacing):p+(t.commentSpacing-y.width)}}if(w.free(g),e=p-t.commentSpacing-(o?e.height:e.width),this.ud===Vo)for(t=t.destinationEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.toEndSegmentLength=0<e?e:NaN)}},at.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,n=e.length,o=0;o<n;o++)this.layoutTree(e[o]);switch(t.compaction){case Ym:Kv(this,t);break;case Pf:if(t.alignment===Wo)Kv(this,t);else if(0===t.childrenCount)n=!1,e=0,null!==(o=t.parent)&&(e=o.angle,n=As(n=o.alignment)),o=N2(t),t.S.h(0,0),t.Da.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||n)&&!o?t.la.h(0,0):180===e&&!n||(90===e||270===e)&&o?t.la.h(t.width-2*t.focus.x,0):t.la.h(0,t.height-2*t.focus.y),t.Yo=null,t.kp=null;else{var r=Hn(t);e=90===r||270===r;var s=0,l=t.children,a=l.length;for(n=0;n<a;n++)o=l[n],s=Math.max(s,e?o.Da.width:o.Da.height);var p=t.alignment;o=p===zo;var d=p===Xo,f=As(p),g=Math.max(0,t.breadthLimit);n=this.computeLayerSpacing(t);var m=t.nodeSpacing,v=this.computeNodeIndent(t),y=t.rowSpacing,P=0;(o||d||t.hm||t.im&&1===t.maxGenerationCount)&&(P=Math.max(0,t.rowIndent)),o=t.width;var T=t.height,S=0,A=0,M=0,Z=null,j=null,k=0,J=0,V=0,K=0,b=0,F=0,st=0,it=0;if(f&&!_f(p)&&135<r&&l.reverse(),_f(p))if(1<a)for(var yt=0;yt<a;yt++)yt%2==0&&yt!==a-1&&(it=Math.max(it,e?l[yt].Da.width:l[yt].Da.height));else 1===a&&(it=e?l[0].Da.width:l[0].Da.height);if(f){switch(p){case Rr:it=(A=135>r?Vv(this,t,l,it,S,A):zv(this,t,l,it,S,A)).x,S=A.width,A=A.height;break;case Er:for(Z=0;Z<a;Z++)g=(j=l[Z]).Da,M=0===F?0:y,e?(j.S.h(s-g.width,K+M),S=Math.max(S,g.width),A=Math.max(A,K+M+g.height),K+=M+g.height):(j.S.h(V+M,s-g.height),S=Math.max(S,V+M+g.width),A=Math.max(A,g.height),V+=M+g.width),F++;break;case _r:for(Z=0;Z<a;Z++)s=(j=l[Z]).Da,g=0===F?0:y,e?(j.S.h(m/2+t.focus.x,K+g),S=Math.max(S,s.width),A=Math.max(A,K+g+s.height),K+=g+s.height):(j.S.h(V+g,m/2+t.focus.y),S=Math.max(S,V+g+s.width),A=Math.max(A,s.height),V+=g+s.width),F++}Z=Ui(this,2),j=Ui(this,2),e?(Z[0].h(0,0),Z[1].h(0,A),j[0].h(S,0)):(Z[0].h(0,0),Z[1].h(S,0),j[0].h(0,A)),j[1].h(S,A)}else for(yt=0;yt<a;yt++){var Ft=l[yt],xe=Ft.Da;if(e){0<g&&0<F&&V+m+xe.width>g&&(V<s&&Ol(t,p,s-V,0,st,yt-1),b++,F=0,st=yt,M=A,V=0,K=135<r?-A-y:A+y),Lm(this,Ft,0,K);var Ae=0;if(0===F)j=Ft.kp,k=xe.width,J=xe.height,(null===(Z=Ft.Yo)||null===j||r!==Hn(Ft))&&(Z=Ui(this,2),j=Ui(this,2),Z[0].h(0,0),Z[1].h(0,J),j[0].h(k,0),j[1].h(k,J));else{var di=bt();Ae=(J=Xv(this,t,Ft,Z,j,k,J,di)).x,Z=di[0],j=di[1],k=J.width,J=J.height,Nt(di),V<xe.width&&0>Ae&&($u(t,-Ae,0,st,yt-1),bm(Z,-Ae,0),bm(j,-Ae,0),Ae=0)}Ft.S.h(Ae,K),S=Math.max(S,k),A=Math.max(A,M+(0===b?0:y)+xe.height),V=k}else 0<g&&0<F&&K+m+xe.height>g&&(K<s&&Ol(t,p,0,s-K,st,yt-1),b++,F=0,st=yt,M=S,K=0,V=135<r?-S-y:S+y),Lm(this,Ft,V,0),Ae=0,0===F?(j=Ft.kp,k=xe.width,J=xe.height,(null===(Z=Ft.Yo)||null===j||r!==Hn(Ft))&&(Z=Ui(this,2),j=Ui(this,2),Z[0].h(0,0),Z[1].h(k,0),j[0].h(0,J),j[1].h(k,J))):(Ae=(J=Xv(this,t,Ft,Z,j,k,J,di=bt())).x,Z=di[0],j=di[1],k=J.width,J=J.height,Nt(di),K<xe.height&&0>Ae&&($u(t,0,-Ae,st,yt-1),bm(Z,0,-Ae),bm(j,0,-Ae),Ae=0)),Ft.S.h(V,Ae),A=Math.max(A,J),S=Math.max(S,M+(0===b?0:y)+xe.width),K=J;F++}switch(0<b&&(e?(A+=Math.max(0,n),V<S&&Ol(t,p,S-V,0,st,a-1),0<P&&(d||$u(t,P,0,0,a-1),S+=P)):(S+=Math.max(0,n),K<A&&Ol(t,p,0,A-K,st,a-1),0<P&&(d||$u(t,0,P,0,a-1),A+=P))),P=d=0,p){case dp:e?d+=S/2-t.focus.x-v/2:P+=A/2-t.focus.y-v/2;break;case ea:0<b?e?d+=S/2-t.focus.x-v/2:P+=A/2-t.focus.y-v/2:e?d+=(it=l[0].S.x+l[0].la.x)+(l[a-1].S.x+l[a-1].la.x+2*l[a-1].focus.x-it)/2-t.focus.x-v/2:P+=(it=l[0].S.y+l[0].la.y)+(l[a-1].S.y+l[a-1].la.y+2*l[a-1].focus.y-it)/2-t.focus.y-v/2;break;case zo:e?(d-=v,S+=v):(P-=v,A+=v);break;case Xo:e?(d+=S-t.width+v,S+=v):(P+=A-t.height+v,A+=v);break;case Rr:e?d+=1<a?it+m/2-t.focus.x:l[0].focus.x-t.focus.x+l[0].la.x:P+=1<a?it+m/2-t.focus.y:l[0].focus.y-t.focus.y+l[0].la.y;break;case Er:e?d+=S+m/2-t.focus.x:P+=A+m/2-t.focus.y;break;case _r:break;default:d=(A=this.customAlignment(t,d,P,S,A))[0],P=A[1],S=A[2],A=A[3]}for(v=0;v<a;v++)it=l[v],e?it.S.h(it.S.x+it.la.x-d,it.S.y+(135<r?(f?-A:-it.Da.height)+it.la.y-n:T+n+it.la.y)):it.S.h(it.S.x+(135<r?(f?-S:-it.Da.width)+it.la.x-n:o+n+it.la.x),it.S.y+it.la.y-P);if(a=l=0,f?e?(S=k2(t,S,d),0>d&&(d=0),135<r&&(P+=A+n),A+=T+n,p===_r&&(l+=m/2+t.focus.x),a+=T+n):(135<r&&(d+=S+n),S+=o+n,A=I2(t,A,P),0>P&&(P=0),p===_r&&(a+=m/2+t.focus.y),l+=o+n):e?(null===t.comments?o>S&&(l=(S=U2(p,o-S,0)).x,a=S.y,S=o,d=0):S=k2(t,S,d),0>d&&(l-=d,d=0),135<r&&(P+=A+n),A=Math.max(Math.max(A,T),A+T+n),a+=T+n):(135<r&&(d+=S+n),S=Math.max(Math.max(S,o),S+o+n),null===t.comments?T>A&&(l=(A=U2(p,0,T-A)).x,a=A.y,A=T,P=0):A=I2(t,A,P),0>P&&(a-=P,P=0),l+=o+n),0<b)r=Ui(this,4),b=Ui(this,4),e?(r[2].h(0,T+n),r[3].h(r[2].x,A),b[2].h(S,r[2].y),b[3].h(b[2].x,r[3].y)):(r[2].h(o+n,0),r[3].h(S,r[2].y),b[2].h(r[2].x,A),b[3].h(r[3].x,b[2].y));else{for(r=Ui(this,Z.length+2),b=Ui(this,j.length+2),p=0;p<Z.length;p++)r[p+2].h((f=Z[p]).x+l,f.y+a);for(p=0;p<j.length;p++)b[p+2].h((f=j[p]).x+l,f.y+a)}e?(r[0].h(d,0),r[1].h(r[0].x,T),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),b[0].h(d+o,0),b[1].h(b[0].x,T),b[2].y<b[1].y&&(b[2].x<b[0].x?b[2].assign(b[1]):b[1].assign(b[2])),b[3].y<b[2].y&&(b[3].x<b[0].x?b[3].assign(b[2]):b[2].assign(b[3])),r[2].y-=n/2,b[2].y-=n/2):(r[0].h(0,P),r[1].h(o,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),b[0].h(0,P+T),b[1].h(o,b[0].y),b[2].x<b[1].x&&(b[2].y<b[0].y?b[2].assign(b[1]):b[1].assign(b[2])),b[3].x<b[2].x&&(b[3].y<b[0].y?b[3].assign(b[2]):b[2].assign(b[3])),r[2].x-=n/2,b[2].x-=n/2),uo(this,Z),uo(this,j),t.Yo=r,t.kp=b,t.la.h(d,P),t.Da.h(S,A)}break;default:q("Unhandled compaction value "+t.compaction.toString())}}},at.prototype.customAlignment=function(t,e,n,o,r){return[e,n,o,r]},at.prototype.computeBusNodeSpacing=function(t){return null===t.parent?0:t.parent.nodeSpacing},at.prototype.computeBusLastRowSpacing=function(t){return null===t.parent?0:t.parent.rowSpacing},at.prototype.arrangeTrees=function(){if(this.Rb===Em)for(var t=this.Ub.iterator;t.next();){var e=t.value;if(e instanceof On){var n=e.node;if(null!==n){var o=n.position;n=o.x,o=o.y,isFinite(n)||(n=0),isFinite(o)||(o=0),F2(this,e,n,o)}}}else{for(t=[],e=this.Ub.iterator;e.next();)(n=e.value)instanceof On&&t.push(n);switch(this.sorting){case cp:break;case vf:t.reverse();break;case yf:t.sort(this.comparer);break;case xf:t.sort(this.comparer),t.reverse();break;default:q("Unhandled sorting value "+this.sorting.toString())}for(e=(n=this.arrangementOrigin).x,n=n.y,o=0;o<t.length;o++){var r=t[o];switch(F2(this,r,e+r.la.x,n+r.la.y),this.Rb){case Rm:n+=r.Da.height+this.$d.height;break;case q2:e+=r.Da.width+this.$d.width;break;default:q("Unhandled arrangement value "+this.Rb.toString())}}}},at.prototype.commitLayout=function(){this.yv(),this.commitNodes(),this.Gu(),this.isRouting&&this.commitLinks()},at.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},at.prototype.Gu=function(){if(this.layerStyle===Bm){for(var t=this.$v,e=[],n=null,o=this.network.vertexes.iterator;o.next();){var r=o.value;null===n?n=r.bounds.copy():n.ed(r.bounds);var s=e[r.level];s=void 0===s?this.computeLayerSpacing(r):Math.max(s,this.computeLayerSpacing(r)),e[r.level]=s}for(o=0;o<e.length;o++)void 0===e[o]&&(e[o]=0);if(90===this.angle||270===this.angle?(n.Bc(this.nodeSpacing/2,this.layerSpacing),o=new w(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.Bc(this.layerSpacing,this.nodeSpacing/2),o=new w(-this.layerSpacing/2,-this.nodeSpacing/2)),r=[],n=90===this.angle||270===this.angle?n.width:n.height,s=0,180===this.angle||270===this.angle)for(var l=0;l<t.length;l++)s+=t[l]+e[l];for(l=0;l<t.length;l++){var a=t[l]+e[l];270===this.angle?r.push(new U(0,s-=a,n,a)):90===this.angle?(r.push(new U(0,s,n,a)),s+=a):180===this.angle?r.push(new U(s-=a,0,a,n)):(r.push(new U(s,0,a,n)),s+=a)}this.commitLayers(r,o)}},at.prototype.commitLayers=function(){},at.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},at.prototype.yv=function(){for(var t=this.Ub.iterator;t.next();){var e=t.value;e instanceof On&&Wv(this,e)}},at.prototype.setPortSpots=function(t){var e=t.alignment;if(As(e)){var n=this.ud===Vo,o=Hn(t);switch(o){case 0:var r=Si;break;case 90:r=rn;break;case 180:r=on;break;default:r=nn}var s=t.children,l=s.length;switch(e){case Rr:case Wo:for(e=0;e<l;e++){var a=s[e];if(null!==(a=(n?a.sourceEdges:a.destinationEdges).first())&&null!==(a=a.link)){var p=90===o||270===o?on:nn;if(1===l||e===l-1&&l%2==1)switch(o){case 0:p=on;break;case 90:p=nn;break;case 180:p=Si;break;default:p=rn}else e%2==0&&(p=90===o||270===o?Si:rn);n?(t.setsPortSpot&&(a.fromSpot=r),t.setsChildPortSpot&&(a.toSpot=p)):(t.setsPortSpot&&(a.fromSpot=p),t.setsChildPortSpot&&(a.toSpot=r))}}break;case Er:for(o=90===o||270===o?Si:rn,s=n?t.destinationEdges:t.sourceEdges;s.next();)null!==(l=s.value.link)&&(n?(t.setsPortSpot&&(l.fromSpot=r),t.setsChildPortSpot&&(l.toSpot=o)):(t.setsPortSpot&&(l.fromSpot=o),t.setsChildPortSpot&&(l.toSpot=r)));break;case _r:for(o=90===o||270===o?on:nn,s=n?t.destinationEdges:t.sourceEdges;s.next();)null!==(l=s.value.link)&&(n?(t.setsPortSpot&&(l.fromSpot=r),t.setsChildPortSpot&&(l.toSpot=o)):(t.setsPortSpot&&(l.fromSpot=o),t.setsChildPortSpot&&(l.toSpot=r)))}}else if(n=Hn(t),this.ud===Vo){for(r=t.destinationEdges;r.next();)if(null!==(o=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Xb())switch(n){case 0:o.fromSpot=Si;break;case 90:o.fromSpot=rn;break;case 180:o.fromSpot=on;break;default:o.fromSpot=nn}else o.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xb())switch(n){case 0:o.toSpot=on;break;case 90:o.toSpot=nn;break;case 180:o.toSpot=Si;break;default:o.toSpot=rn}else o.toSpot=t.childPortSpot}}else for(r=t.sourceEdges;r.next();)if(null!==(o=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Xb())switch(n){case 0:o.toSpot=Si;break;case 90:o.toSpot=rn;break;case 180:o.toSpot=on;break;default:o.toSpot=nn}else o.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Xb())switch(n){case 0:o.fromSpot=on;break;case 90:o.fromSpot=nn;break;case 180:o.fromSpot=Si;break;default:o.fromSpot=rn}else o.fromSpot=t.childPortSpot}},at.prototype.computeLayerSpacing=function(t){var e=Hn(t);e=90===e||270===e;var n=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var o=Math.min(1,t.layerSpacingParentOverlap);n-=e?t.height*o:t.width*o}return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n},at.prototype.computeNodeIndent=function(t){var e=Hn(t),n=t.nodeIndent;if(0<t.nodeIndentPastParent){var o=Math.min(1,t.nodeIndentPastParent);n+=90===e||270===e?t.width*o:t.height*o}return Math.max(0,n)},pt.Object.defineProperties(at.prototype,{roots:{get:function(){return this.Ub},set:function(t){this.Ub!==t&&(this.Ub=t,this.C())}},path:{get:function(){return this.Wn},set:function(t){this.Wn!==t&&(this.Wn=t,this.C())}},treeStyle:{get:function(){return this.vo},set:function(t){this.Rb===t||t!==Jm&&t!==L2&&t!==O2&&t!==b2||(this.vo=t,this.C())}},layerStyle:{get:function(){return this.Bq},set:function(t){this.Rb===t||t!==Y2&&t!==J2&&t!==Bm||(this.Bq=t,this.C())}},comments:{get:function(){return this.td},set:function(t){this.td!==t&&(this.td=t,this.C())}},arrangement:{get:function(){return this.Rb},set:function(t){this.Rb===t||t!==Rm&&t!==q2&&t!==Em||(this.Rb=t,this.C())}},arrangementSpacing:{get:function(){return this.$d},set:function(t){this.$d.D(t)||(this.$d.assign(t),this.C())}},rootDefaults:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t,this.C())}},alternateDefaults:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t,this.C())}},sorting:{get:function(){return this.W.sorting},set:function(t){this.W.sorting===t||t!==cp&&t!==vf&&t!==yf&&!xf||(this.W.sorting=t,this.C())}},comparer:{get:function(){return this.W.comparer},set:function(t){this.W.comparer!==t&&(this.W.comparer=t,this.C())}},angle:{get:function(){return this.W.angle},set:function(t){this.W.angle!==t&&(0===t||90===t||180===t||270===t?(this.W.angle=t,this.C()):q("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.W.alignment},set:function(t){this.W.alignment!==t&&(this.W.alignment=t,this.C())}},nodeIndent:{get:function(){return this.W.nodeIndent},set:function(t){this.W.nodeIndent!==t&&0<=t&&(this.W.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.W.nodeIndentPastParent},set:function(t){this.W.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.W.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.W.nodeSpacing},set:function(t){this.W.nodeSpacing!==t&&(this.W.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.W.layerSpacing},set:function(t){this.W.layerSpacing!==t&&(this.W.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.W.layerSpacingParentOverlap},set:function(t){this.W.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.W.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.W.compaction},set:function(t){this.W.compaction===t||t!==Ym&&t!==Pf||(this.W.compaction=t,this.C())}},breadthLimit:{get:function(){return this.W.breadthLimit},set:function(t){this.W.breadthLimit!==t&&0<=t&&(this.W.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.W.rowSpacing},set:function(t){this.W.rowSpacing!==t&&(this.W.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.W.rowIndent},set:function(t){this.W.rowIndent!==t&&0<=t&&(this.W.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.W.commentSpacing},set:function(t){this.W.commentSpacing!==t&&(this.W.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.W.commentMargin},set:function(t){this.W.commentMargin!==t&&(this.W.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.W.setsPortSpot},set:function(t){this.W.setsPortSpot!==t&&(this.W.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.W.portSpot},set:function(t){this.W.portSpot.D(t)||(this.W.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.W.setsChildPortSpot},set:function(t){this.W.setsChildPortSpot!==t&&(this.W.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.W.childPortSpot},set:function(t){this.W.childPortSpot.D(t)||(this.W.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(t){this.Y.sorting===t||t!==cp&&t!==vf&&t!==yf&&!xf||(this.Y.sorting=t,this.C())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(t){this.Y.comparer!==t&&(this.Y.comparer=t,this.C())}},alternateAngle:{get:function(){return this.Y.angle},set:function(t){this.Y.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.Y.angle=t,this.C())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(t){this.Y.alignment!==t&&(this.Y.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(t){this.Y.nodeIndent!==t&&0<=t&&(this.Y.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(t){this.Y.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.Y.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(t){this.Y.nodeSpacing!==t&&(this.Y.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(t){this.Y.layerSpacing!==t&&(this.Y.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(t){this.Y.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.Y.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(t){this.Y.compaction===t||t!==Ym&&t!==Pf||(this.Y.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(t){this.Y.breadthLimit!==t&&0<=t&&(this.Y.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(t){this.Y.rowSpacing!==t&&(this.Y.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(t){this.Y.rowIndent!==t&&0<=t&&(this.Y.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(t){this.Y.commentSpacing!==t&&(this.Y.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(t){this.Y.commentMargin!==t&&(this.Y.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(t){this.Y.setsPortSpot!==t&&(this.Y.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(t){this.Y.portSpot.D(t)||(this.Y.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(t){this.Y.setsChildPortSpot!==t&&(this.Y.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(t){this.Y.childPortSpot.D(t)||(this.Y.childPortSpot=t,this.C())}}});var qm=new Q(at,"PathDefault",-1),Vo=new Q(at,"PathDestination",0),ta=new Q(at,"PathSource",1),cp=new Q(at,"SortingForwards",10),vf=new Q(at,"SortingReverse",11),yf=new Q(at,"SortingAscending",12),xf=new Q(at,"SortingDescending",13),dp=new Q(at,"AlignmentCenterSubtrees",20),ea=new Q(at,"AlignmentCenterChildren",21),zo=new Q(at,"AlignmentStart",22),Xo=new Q(at,"AlignmentEnd",23),Rr=new Q(at,"AlignmentBus",24),Wo=new Q(at,"AlignmentBusBranching",25),Er=new Q(at,"AlignmentTopLeftBus",26),_r=new Q(at,"AlignmentBottomRightBus",27),Ym=new Q(at,"CompactionNone",30),Pf=new Q(at,"CompactionBlock",31),Jm=new Q(at,"StyleLayered",40),O2=new Q(at,"StyleLastParents",41),L2=new Q(at,"StyleAlternating",42),b2=new Q(at,"StyleRootOnly",43),Rm=new Q(at,"ArrangementVertical",50),q2=new Q(at,"ArrangementHorizontal",51),Em=new Q(at,"ArrangementFixedRoots",52),Y2=new Q(at,"LayerIndividual",60),J2=new Q(at,"LayerSiblings",61),Bm=new Q(at,"LayerUniform",62);function ia(t){It.call(this,t)}function On(t){fe.call(this,t),this.V=!1,this.hb=null,this.u=[],this.nb=this.Ha=this.F=this.ia=0,this.td=null,this.S=new w(0,0),this.Da=new ot(0,0),this.la=new w(0,0),this.im=this.hm=this.qA=!1,this.kp=this.Yo=null,this.nd=cp,this.hd=tf,this.Kb=0,this.Jb=ea,this.Vq=this.Uq=0,this.Wq=20,this.ie=50,this.Aq=0,this.Hp=Pf,this.Ap=0,this.nr=25,this.Gp=this.mr=10,this.Fp=20,this.xr=!0,this.dr=Oe,this.wr=!0,this.Dp=Oe}function fp(t){Ai.call(this,t),this.$t=new w(0,0)}at.className="TreeLayout",at.PathDefault=qm,at.PathDestination=Vo,at.PathSource=ta,at.SortingForwards=cp,at.SortingReverse=vf,at.SortingAscending=yf,at.SortingDescending=xf,at.AlignmentCenterSubtrees=dp,at.AlignmentCenterChildren=ea,at.AlignmentStart=zo,at.AlignmentEnd=Xo,at.AlignmentBus=Rr,at.AlignmentBusBranching=Wo,at.AlignmentTopLeftBus=Er,at.AlignmentBottomRightBus=_r,at.CompactionNone=Ym,at.CompactionBlock=Pf,at.StyleLayered=Jm,at.StyleLastParents=O2,at.StyleAlternating=L2,at.StyleRootOnly=b2,at.ArrangementVertical=Rm,at.ArrangementHorizontal=q2,at.ArrangementFixedRoots=Em,at.LayerIndividual=Y2,at.LayerSiblings=J2,at.LayerUniform=Bm,At(ia,It),ia.prototype.createVertex=function(){return new On(this)},ia.prototype.createEdge=function(){return new fp(this)},ia.className="TreeNetwork",At(On,fe),On.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.nd=t.sorting,this.hd=t.comparer,this.Kb=t.angle,this.Jb=t.alignment,this.Uq=t.nodeIndent,this.Vq=t.nodeIndentPastParent,this.Wq=t.nodeSpacing,this.ie=t.layerSpacing,this.Aq=t.layerSpacingParentOverlap,this.Hp=t.compaction,this.Ap=t.breadthLimit,this.nr=t.rowSpacing,this.mr=t.rowIndent,this.Gp=t.commentSpacing,this.Fp=t.commentMargin,this.xr=t.setsPortSpot,this.dr=t.portSpot,this.wr=t.setsChildPortSpot,this.Dp=t.childPortSpot)},pt.Object.defineProperties(On.prototype,{initialized:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t)}},parent:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},children:{get:function(){return this.u},set:function(t){if(this.u!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.u=t}}},level:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}},descendantCount:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},maxChildrenCount:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},maxGenerationCount:{get:function(){return this.nb},set:function(t){this.nb!==t&&(this.nb=t)}},comments:{get:function(){return this.td},set:function(t){if(this.td!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.td=t}}},sorting:{get:function(){return this.nd},set:function(t){this.nd!==t&&(this.nd=t)}},comparer:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this.hd=t)}},angle:{get:function(){return this.Kb},set:function(t){this.Kb!==t&&(this.Kb=t)}},alignment:{get:function(){return this.Jb},set:function(t){this.Jb!==t&&(this.Jb=t)}},nodeIndent:{get:function(){return this.Uq},set:function(t){this.Uq!==t&&(this.Uq=t)}},nodeIndentPastParent:{get:function(){return this.Vq},set:function(t){this.Vq!==t&&(this.Vq=t)}},nodeSpacing:{get:function(){return this.Wq},set:function(t){this.Wq!==t&&(this.Wq=t)}},layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&(this.ie=t)}},layerSpacingParentOverlap:{get:function(){return this.Aq},set:function(t){this.Aq!==t&&(this.Aq=t)}},compaction:{get:function(){return this.Hp},set:function(t){this.Hp!==t&&(this.Hp=t)}},breadthLimit:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(this.Ap=t)}},rowSpacing:{get:function(){return this.nr},set:function(t){this.nr!==t&&(this.nr=t)}},rowIndent:{get:function(){return this.mr},set:function(t){this.mr!==t&&(this.mr=t)}},commentSpacing:{get:function(){return this.Gp},set:function(t){this.Gp!==t&&(this.Gp=t)}},commentMargin:{get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t)}},setsPortSpot:{get:function(){return this.xr},set:function(t){this.xr!==t&&(this.xr=t)}},portSpot:{get:function(){return this.dr},set:function(t){this.dr.D(t)||(this.dr=t)}},setsChildPortSpot:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},childPortSpot:{get:function(){return this.Dp},set:function(t){this.Dp.D(t)||(this.Dp=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.Da},set:function(t){this.Da.set(t)}},subtreeOffset:{get:function(){return this.la},set:function(t){this.la.set(t)}}}),On.className="TreeVertex",At(fp,Ai),fp.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,n=null,o=null;switch(e.ud){case Vo:n=this.fromVertex,o=this.toVertex;break;case ta:n=this.toVertex,o=this.fromVertex;break;default:q("Unhandled path value "+e.ud.toString())}if(null!==n&&null!==o){var r=this.$t;if(0!==r.x||0!==r.y||n.qA){o=n.bounds;var s=Hn(n),l=e.computeLayerSpacing(n),a=n.rowSpacing;t.vg();var f,p=t.curve===ji,d=t.isOrthogonal;if(t.uh(),d||p){for(f=2;4<t.pointsCount;)t.pv(2);var g=t.i(1),m=t.i(2)}else{for(f=1;3<t.pointsCount;)t.pv(1);g=t.i(0),m=t.i(t.pointsCount-1)}var v=t.i(t.pointsCount-1);0===s?(n.alignment===Xo?(s=o.bottom+r.y,0===r.y&&g.y>v.y+n.rowIndent&&(s=Math.min(s,Math.max(g.y,s-e.computeNodeIndent(n))))):n.alignment===zo?(s=o.top+r.y,0===r.y&&g.y<v.y-n.rowIndent&&(s=Math.max(s,Math.min(g.y,s+e.computeNodeIndent(n))))):s=n.hm||n.im&&1===n.maxGenerationCount?o.top-n.la.y+r.y:o.y+o.height/2+r.y,p?(t.m(f,g.x,s),f++,t.m(f,o.right+l,s),f++,t.m(f,o.right+l+(r.x-a)/3,s),f++,t.m(f,o.right+l+2*(r.x-a)/3,s),f++,t.m(f,o.right+l+(r.x-a),s),f++,t.m(f,m.x,s)):(d&&(t.m(f,o.right+l/2,g.y),f++),t.m(f,o.right+l/2,s),f++,t.m(f,o.right+l+r.x-(d?a/2:a),s),f++,d&&t.m(f,t.i(f-1).x,m.y))):90===s?(n.alignment===Xo?(s=o.right+r.x,0===r.x&&g.x>v.x+n.rowIndent&&(s=Math.min(s,Math.max(g.x,s-e.computeNodeIndent(n))))):n.alignment===zo?(s=o.left+r.x,0===r.x&&g.x<v.x-n.rowIndent&&(s=Math.max(s,Math.min(g.x,s+e.computeNodeIndent(n))))):s=n.hm||n.im&&1===n.maxGenerationCount?o.left-n.la.x+r.x:o.x+o.width/2+r.x,p?(t.m(f,s,g.y),f++,t.m(f,s,o.bottom+l),f++,t.m(f,s,o.bottom+l+(r.y-a)/3),f++,t.m(f,s,o.bottom+l+2*(r.y-a)/3),f++,t.m(f,s,o.bottom+l+(r.y-a)),f++,t.m(f,s,m.y)):(d&&(t.m(f,g.x,o.bottom+l/2),f++),t.m(f,s,o.bottom+l/2),f++,t.m(f,s,o.bottom+l+r.y-(d?a/2:a)),f++,d&&t.m(f,m.x,t.i(f-1).y))):180===s?(n.alignment===Xo?(s=o.bottom+r.y,0===r.y&&g.y>v.y+n.rowIndent&&(s=Math.min(s,Math.max(g.y,s-e.computeNodeIndent(n))))):n.alignment===zo?(s=o.top+r.y,0===r.y&&g.y<v.y-n.rowIndent&&(s=Math.max(s,Math.min(g.y,s+e.computeNodeIndent(n))))):s=n.hm||n.im&&1===n.maxGenerationCount?o.top-n.la.y+r.y:o.y+o.height/2+r.y,p?(t.m(f,g.x,s),f++,t.m(f,o.left-l,s),f++,t.m(f,o.left-l+(r.x+a)/3,s),f++,t.m(f,o.left-l+2*(r.x+a)/3,s),f++,t.m(f,o.left-l+(r.x+a),s),f++,t.m(f,m.x,s)):(d&&(t.m(f,o.left-l/2,g.y),f++),t.m(f,o.left-l/2,s),f++,t.m(f,o.left-l+r.x+(d?a/2:a),s),f++,d&&t.m(f,t.i(f-1).x,m.y))):270===s?(n.alignment===Xo?(s=o.right+r.x,0===r.x&&g.x>v.x+n.rowIndent&&(s=Math.min(s,Math.max(g.x,s-e.computeNodeIndent(n))))):n.alignment===zo?(s=o.left+r.x,0===r.x&&g.x<v.x-n.rowIndent&&(s=Math.max(s,Math.min(g.x,s+e.computeNodeIndent(n))))):s=n.hm||n.im&&1===n.maxGenerationCount?o.left-n.la.x+r.x:o.x+o.width/2+r.x,p?(t.m(f,s,g.y),f++,t.m(f,s,o.top-l),f++,t.m(f,s,o.top-l+(r.y+a)/3),f++,t.m(f,s,o.top-l+2*(r.y+a)/3),f++,t.m(f,s,o.top-l+(r.y+a)),f++,t.m(f,s,m.y)):(d&&(t.m(f,g.x,o.top-l/2),f++),t.m(f,s,o.top-l/2),f++,t.m(f,s,o.top-l+r.y+(d?a/2:a)),f++,d&&t.m(f,m.x,t.i(f-1).y))):q("Invalid angle "+s),t.zf()}else r=o,t=this.link,o=this.network.layout,(e=Hn(n))!==Hn(r)&&(l=o.computeLayerSpacing(n),a=n.bounds,n=r.bounds,0===e&&n.left-a.right<l+1||90===e&&n.top-a.bottom<l+1||180===e&&a.left-n.right<l+1||270===e&&a.top-n.bottom<l+1||(t.vg(),n=t.curve===ji,r=t.isOrthogonal,o=As(this.fromVertex.alignment),t.uh(),0===e?(e=a.right+l/2,n?4===t.pointsCount&&(n=t.i(3).y,t.L(1,e-20,t.i(1).y),t.m(2,e-20,n),t.m(3,e,n),t.m(4,e+20,n),t.L(5,t.i(5).x,n)):r?o?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,e,t.i(2).y),t.L(3,e,t.i(3).y)):4===t.pointsCount?t.m(2,e,t.i(2).y):3===t.pointsCount?t.L(1,e,t.i(2).y):2===t.pointsCount&&t.m(1,e,t.i(1).y)):90===e?(e=a.bottom+l/2,n?4===t.pointsCount&&(n=t.i(3).x,t.L(1,t.i(1).x,e-20),t.m(2,n,e-20),t.m(3,n,e),t.m(4,n,e+20),t.L(5,n,t.i(5).y)):r?o?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,e),t.L(3,t.i(3).x,e)):4===t.pointsCount?t.m(2,t.i(2).x,e):3===t.pointsCount?t.L(1,t.i(2).x,e):2===t.pointsCount&&t.m(1,t.i(1).x,e)):180===e?(e=a.left-l/2,n?4===t.pointsCount&&(n=t.i(3).y,t.L(1,e+20,t.i(1).y),t.m(2,e+20,n),t.m(3,e,n),t.m(4,e-20,n),t.L(5,t.i(5).x,n)):r?o?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,e,t.i(2).y),t.L(3,e,t.i(3).y)):4===t.pointsCount?t.m(2,e,t.i(2).y):3===t.pointsCount?t.L(1,e,t.i(2).y):2===t.pointsCount&&t.m(1,e,t.i(1).y)):270===e&&(e=a.top-l/2,n?4===t.pointsCount&&(n=t.i(3).x,t.L(1,t.i(1).x,e+20),t.m(2,n,e+20),t.m(3,n,e),t.m(4,n,e-20),t.L(5,n,t.i(5).y)):r?o?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,e),t.L(3,t.i(3).x,e)):4===t.pointsCount?t.m(2,t.i(2).x,e):3===t.pointsCount?t.L(1,t.i(2).x,e):2===t.pointsCount&&t.m(1,t.i(1).x,e)),t.zf()))}}},pt.Object.defineProperties(fp.prototype,{fromVertex:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},toVertex:{get:function(){return this.qd},set:function(t){this.qd!==t&&(this.qd=t)}},relativePoint:{get:function(){return this.$t},set:function(t){this.$t.set(t)}}}),fp.className="TreeEdge",Vt.prototype.initializeStandardTools=function(){this.gb("Action",new vi,this.mouseDownTools),this.gb("Relinking",new sn,this.mouseDownTools),this.gb("LinkReshaping",new ce,this.mouseDownTools),this.gb("Rotating",new Ie,this.mouseDownTools),this.gb("Resizing",new $e,this.mouseDownTools),this.gb("Linking",new _i,this.mouseMoveTools),this.gb("Dragging",new zt,this.mouseMoveTools),this.gb("DragSelecting",new Wn,this.mouseMoveTools),this.gb("Panning",new $n,this.mouseMoveTools),this.gb("ContextMenu",new Ti,this.mouseUpTools),this.gb("TextEditing",new Rt,this.mouseUpTools),this.gb("ClickCreating",new Ar,this.mouseUpTools),this.gb("ClickSelecting",new Vs,this.mouseUpTools)},Qn("Horizontal",new za),Qn("Spot",new Wa),Qn("Table",new th),Qn("Viewbox",new nh),Qn("TableRow",new eh),Qn("TableColumn",new ih),Qn("Graduated",new vu),Qn("Grid",new _u),ba.add("GraphLinksModel",ve),ba.add("TreeModel",Ki);var Qm=nt.go,R2={get licenseKey(){return I.licenseKey},set licenseKey(t){I.licenseKey=t},get version(){return I.version},Group:rt,EnumValue:Q,List:H,Set:E,Map:lt,Point:w,Size:ot,Rect:U,Margin:St,Spot:$,Geometry:Y,PathFigure:Ce,PathSegment:xt,InputEvent:Ji,DiagramEvent:us,ChangedEvent:Kt,Model:z,GraphLinksModel:dt,TreeModel:si,Binding:re,Transaction:Ze,UndoManager:Xt,CommandHandler:jt,Tool:vt,DraggingTool:zt,DraggingInfo:or,DraggingOptions:ll,LinkingBaseTool:Le,LinkingTool:_i,RelinkingTool:sn,LinkReshapingTool:ce,ResizingTool:$e,RotatingTool:Ie,ClickSelectingTool:Vs,ActionTool:vi,ClickCreatingTool:Ar,HTMLInfo:ln,ContextMenuTool:Ti,DragSelectingTool:Wn,PanningTool:$n,TextEditingTool:Rt,ToolManager:Vt,Animation:Be,AnimationManager:Ri,AnimationTrigger:to,Layer:Qe,Diagram:I,Palette:Ya,Overview:eo,Brush:Pt,GraphObject:X,Panel:O,RowColumnDefinition:le,Shape:ut,TextBlock:kt,Picture:hi,Part:W,Adornment:mt,Node:B,Link:L,Placeholder:ii,Layout:Yt,LayoutNetwork:It,LayoutVertex:fe,LayoutEdge:Ai,GridLayout:we,PanelLayout:de,CircularLayout:Qt,CircularNetwork:Ul,CircularVertex:Gu,CircularEdge:ip,ForceDirectedLayout:Ne,ForceDirectedNetwork:ws,ForceDirectedVertex:Hu,ForceDirectedEdge:Ku,LayeredDigraphLayout:Ct,LayeredDigraphNetwork:_t,LayeredDigraphVertex:wt,LayeredDigraphEdge:Ii,TreeLayout:at,TreeNetwork:ia,TreeVertex:On,TreeEdge:fp};"object"==typeof Qm&&Qm.version&&Di("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Qm?"debug ":"")+"version: "+Qm.version+", replaced with version: "+R2.version),I.prototype.go=R2,nt.go=R2,"object"==typeof zn.exports&&(zn.exports=typeof global<"u"?global.go:self.go)}(),typeof global<"u"?global:self;const tt=typeof global<"u"?global.go:self.go,Zt=tt.Group,et=tt.Point,ht=tt.Size,ne=tt.Margin,se=tt.Spot,n_=tt.GraphLinksModel,o_=tt.TreeModel,r_=tt.Binding,h_=tt.Diagram,p_=tt.GraphObject,c_=tt.Panel,d_=tt.RowColumnDefinition,f_=tt.Shape,g_=tt.TextBlock,m_=tt.Node,__=tt.Placeholder,v_=tt.GridLayout}}]);
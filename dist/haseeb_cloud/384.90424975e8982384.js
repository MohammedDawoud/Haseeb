"use strict";(self.webpackChunkhaseeb_cloud=self.webpackChunkhaseeb_cloud||[]).push([[384],{9454:(F,M,d)=>{d.d(M,{A:()=>c});class c{}},6028:(F,M,d)=>{d.d(M,{U:()=>h});var c=d(2340),y=d(4650),T=d(529),P=d(9053);let h=(()=>{class v{constructor(l,t){this.http=l,this.exportationService=t,this.apiEndPoint="",this.apiEndPoint=c.N.apiEndPoint}GetAllContractsNotPaid(l){return this.http.get(`${c.N.apiEndPoint}Contract/GetAllContractsNotPaid?&FirstLoad=${l}`)}FillAllUsersSelectAll(){return this.http.get(this.apiEndPoint+"ControllingTask/FillAllUsersSelectAll")}GetAllContractsBySearch(l){return this.http.post(this.apiEndPoint+"Contract/GetAllContractsBySearch",l)}CancelContract(l){return this.http.post(this.apiEndPoint+"Contract/CancelContract",{},{params:{ContractId:l}})}DeleteDraft(l){return this.http.post(this.apiEndPoint+"Draft/DeleteDraft",{},{params:{DraftId:l}})}DeleteCustomerPayment(l){return this.http.post(this.apiEndPoint+"CustomerPayments/DeleteCustomerPayment",{},{params:{PaymentId:l}})}Connect_appendFile_Draft(l,t){return this.http.post(this.apiEndPoint+"Draft/Connect_appendFile_Draft",{},{params:{ProjectId:l,uploadedFile:t}})}SaveProjectContract(l){return this.http.post(this.apiEndPoint+"Contract/SaveProjectContract",l)}UploadProjectContractExtra(l){return this.http.post(this.apiEndPoint+"FileUpload/UploadProjectContractExtra",l)}GetAllServicesPrice(){return this.http.get(this.apiEndPoint+"Voucher/GetAllServicesPrice")}ConvertNumToString(l){return this.http.get(`${c.N.apiEndPoint}General/ConvertNumToString?Num=${l}`)}GetServicesPriceVouByParentId(l,t){return this.http.get(`${c.N.apiEndPoint}Voucher/GetServicesPriceVouByParentId?ParentId=${l}&offerid=${t}`)}GetServicesPriceByParentId(l){return this.http.get(`${c.N.apiEndPoint}Voucher/GetServicesPriceByParentId?ParentId=${l}`)}GetServicesPriceVouByParentIdAndContract(l,t){return this.http.get(`${c.N.apiEndPoint}Voucher/GetServicesPriceVouByParentIdAndContract?ParentId=${l}&ContractId=${t}`)}GetContractserviceBycontractid(l){return this.http.get(`${c.N.apiEndPoint}Contract/GetContractserviceBycontractid?Contractid=${l}`)}GetOfferservicenByid(l){return this.http.get(`${c.N.apiEndPoint}OffersPrice/GetOfferservicenByid?&OfferId=${l}`)}GetServicesPriceByServiceId(l){return this.http.get(`${c.N.apiEndPoint}Voucher/GetServicesPriceByServiceId?ServiceId=${l}`)}EditContractService(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/EditContractService",m,{headers:{"content-type":"application/json"}})}GenerateCustomerPayments(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/GenerateCustomerPayments",m,{headers:{"content-type":"application/json"}})}SaveDraftDetails(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Draft/SaveDraftDetails",m,{headers:{"content-type":"application/json"}})}SaveCustomerPayment(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"CustomerPayments/SaveCustomerPayment",m,{headers:{"content-type":"application/json"}})}GetBranchOrganization(){return this.http.get(this.apiEndPoint+"Organizations/GetBranchOrganization")}GetEmployeeJob(l){return this.http.get(`${c.N.apiEndPoint}Employee/GetEmployeeJob?EmpId=${l}`)}GetTypeOfProjct(l){return this.http.get(`${c.N.apiEndPoint}Project/GetTypeOfProjct?ProjectId=${l}`)}FillCustomerSelectWProC(){return this.http.get(this.apiEndPoint+"Project/FillCustomerSelectWProC")}FillCustomerSelectWProC3(){return this.http.get(this.apiEndPoint+"Project/FillCustomerSelectWProC3")}FillCustomerSelectWProC2(){return this.http.get(this.apiEndPoint+"Project/FillCustomerSelectWProC2")}FillEmployeeSelect(){return this.http.get(this.apiEndPoint+"Employee/FillEmployeeSelect")}FillProjectSelectByCustomerId2(l){return this.http.get(`${c.N.apiEndPoint}Project/FillProjectSelectByCustomerId2?param=${l}`)}FillAllOfferTodropdownOld(l){return this.http.get(`${c.N.apiEndPoint}OffersPrice/FillAllOfferTodropdownOld?param=${l}`)}FillAllContractserviceByConId(l){return this.http.get(`${c.N.apiEndPoint}Contract/FillAllContractserviceByConId?param=${l}`)}GetAllCustomerPayments(l){return this.http.get(`${c.N.apiEndPoint}CustomerPayments/GetAllCustomerPayments?ContractId=${l}`)}GetInvoiceIDByProjectID(l){return this.http.get(`${c.N.apiEndPoint}Voucher/GetInvoiceIDByProjectID?ProjectId=${l}`)}GenerateContractNumber(){return this.http.get(this.apiEndPoint+"Contract/GenerateContractNumber")}GenerateContractNumber2(){return this.http.get(this.apiEndPoint+"Contract/GenerateContractNumber2")}GenerateContractNumber3(){return this.http.get(this.apiEndPoint+"Contract/GenerateContractNumber3")}GenerateContractNumber4(){return this.http.get(this.apiEndPoint+"Contract/GenerateContractNumber4")}GenerateContractNumber5(){return this.http.get(this.apiEndPoint+"Contract/GenerateContractNumber5")}GenerateCustPaymentNumber(l){return this.http.get(`${c.N.apiEndPoint}CustomerPayments/GenerateCustPaymentNumber?&ContractId=${l}`)}GetProjectById(l){return this.http.get(`${c.N.apiEndPoint}Project/GetProjectById?ProjectId=${l}`)}GetEmployeeById(l){return this.http.get(`${c.N.apiEndPoint}Employee/GetEmployeeById?EmpId=${l}`)}GetCustomersByCustomerId(l){return this.http.get(`${c.N.apiEndPoint}Customer/GetCustomersByCustomerId?CustomerId=${l}`)}GetProjectDurationStr(l,t){return this.http.get(`${c.N.apiEndPoint}General/GetProjectDurationStr?start=${l}&&end=${t}`)}SaveContract(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/SaveContract",m,{headers:{"content-type":"application/json"}})}SaveContract_2(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/SaveContract_2",m,{headers:{"content-type":"application/json"}})}PostInvoiceAndPayPayment(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/PostInvoiceAndPayPayment",m,{headers:{"content-type":"application/json"}})}PostInvoiceAndPayPayment2(l){const m=JSON.stringify(l);return this.http.post(this.apiEndPoint+"Contract/PostInvoiceAndPayPayment2",m,{headers:{"content-type":"application/json"}})}UploadProjectContract(l){return this.http.post(`${this.apiEndPoint}FileUpload/UploadProjectContract`,l)}printnewcontract(l){return this.http.get(`${c.N.apiEndPoint}Contract/printnewcontract?ContractId=${l}`)}printaqsatdofaatContract(l){return this.http.get(`${c.N.apiEndPoint}Contract/printaqsatdofaatContract?ContractId=${l}`)}GetAllDraftsbyProjectsType_2(l){return this.http.get(`${c.N.apiEndPoint}Draft/GetAllDraftsbyProjectsType_2?ProjectTypeId=${l}`)}GetAllDraftsDetailsbyProjectId(l){return this.http.get(`${c.N.apiEndPoint}Draft/GetAllDraftsDetailsbyProjectId?ProjectId=${l}`)}FillProjectTypeSelect(){return this.http.get(this.apiEndPoint+"ProjectType/FillProjectTypeSelect")}FillAllDraft_Template(){return this.http.get(this.apiEndPoint+"Drafts_Templates/FillAllDraft_Template")}ConnectDraft_Templates_WithProject(l,t){return this.http.get(`${c.N.apiEndPoint}Drafts_Templates/ConnectDraft_Templates_WithProject?DraftId=${l}&ProjectTypeId=${t}`)}SaveDraft(l){return this.http.post(`${this.apiEndPoint}Drafts_Templates/SaveDraft`,l)}GetReportGrid(l){return this.http.post(`${this.apiEndPoint}Contract/GetReportGrid`,l)}}return v.\u0275fac=function(l){return new(l||v)(y.LFG(T.eN),y.LFG(P.t))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},3223:(F,M,d)=>{d.d(M,{Z:()=>kt});var c=d(671),y=d(1366),T=d(4045),P=d(1135),h=d(4006),v=d(8723),A=d(1206),t=(d(4604),d(4650)),m=d(1745),U=d(7536),J=d(7185),V=d(6028),B=d(6972),S=d(9383),w=d(6895),W=d(445),z=d(4859),j=d(8796),O=d(5612),G=d(9549),$=d(4144),E=d(1948),Z=d(6257);const H=["MergeInvoiceDataModal"];function R(i,s){1&i&&(t._uU(0),t.ALo(1,"translate")),2&i&&t.Oqu(t.lcZ(1,1,"Contract data"))}function Q(i,s){if(1&i&&(t.TgZ(0,"ng-option",66),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function K(i,s){if(1&i&&(t.TgZ(0,"ng-option",66),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Y(i,s){if(1&i&&(t.TgZ(0,"ng-option",66),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function X(i,s){if(1&i&&(t.TgZ(0,"ng-option",66),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function tt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",10)(2,"label",102),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ng-select",103),t.NdJ("change",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.offerpriceChange())}),t.ALo(6,"translate"),t.YNc(7,X,2,2,"ng-option",25),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"Offer Price"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(6,5,"Chose")),t.xp6(2),t.Q6J("ngForOf",e.LoadofferPrice)}}function et(i,s){1&i&&(t._uU(0),t.ALo(1,"translate")),2&i&&t.Oqu(t.lcZ(1,1,"Financial details"))}function ot(i,s){if(1&i&&(t.TgZ(0,"div",104)(1,"div",10)(2,"label",105),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",106)(6,"input",107),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.AsE(" ",t.lcZ(4,2,"invoiceRegistered")," ",e.ContractModalCustom.InvoiceNumber," ")}}function nt(i,s){1&i&&(t.TgZ(0,"span",119),t._uU(1,"\u0631.\u0633"),t.qZA())}function at(i,s){1&i&&(t.TgZ(0,"span",119),t._uU(1,"\u0631.\u0633"),t.qZA())}function rt(i,s){1&i&&(t.TgZ(0,"span",119),t._uU(1,"\u0631.\u0633"),t.qZA())}const g=function(){return{standalone:!0}};function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr",108)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",109),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(),u=t.MAs(296);return t.KtG(r.open(u,null,"servicesList_Contract",a.idRow))}),t.TgZ(4,"input",110),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.accountJournaltxt=n)}),t.qZA()(),t.TgZ(5,"td")(6,"input",110),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.UnitConst=n)}),t.qZA()(),t.TgZ(7,"td")(8,"input",111),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.QtyConst=n)})("keyup",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.CalculateTotal_ContractNew())}),t.qZA()(),t.TgZ(9,"td")(10,"div",112)(11,"input",113),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.Amounttxt=n)})("keyup",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.CalculateTotal_ContractNew())}),t.qZA(),t.YNc(12,nt,2,0,"span",114),t.qZA()(),t.TgZ(13,"td")(14,"div",112)(15,"input",115),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.taxAmounttxt=n)}),t.qZA(),t.YNc(16,at,2,0,"span",114),t.qZA()(),t.TgZ(17,"td")(18,"div",112)(19,"input",115),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.TotalAmounttxt=n)}),t.qZA(),t.YNc(20,rt,2,0,"span",114),t.qZA()(),t.TgZ(21,"td",112)(22,"button",116),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(),u=t.MAs(294);return t.KtG(r.open(u,a,"serviceDetails"))}),t._UZ(23,"i",117),t.qZA(),t.TgZ(24,"button",118),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return r.RemoveServicesparent(a),t.KtG(r.deleteServiceContractNew(a.idRow))}),t._UZ(25,"i",96),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.idRow),t.xp6(2),t.MGl("name","os-name",e.idRow,""),t.Q6J("ngModel",e.accountJournaltxt)("ngModelOptions",t.DdM(22,g)),t.xp6(2),t.MGl("name","os-unit",e.idRow,""),t.Q6J("ngModel",e.UnitConst)("ngModelOptions",t.DdM(23,g)),t.xp6(2),t.MGl("name","os-amount",e.idRow,""),t.Q6J("ngModel",e.QtyConst)("ngModelOptions",t.DdM(24,g)),t.xp6(3),t.MGl("name","os-price",e.idRow,""),t.Q6J("ngModel",e.Amounttxt)("ngModelOptions",t.DdM(25,g)),t.xp6(1),t.Q6J("ngIf",e.Amounttxt),t.xp6(3),t.MGl("name","os-vatTax",e.idRow,""),t.Q6J("ngModel",e.taxAmounttxt)("ngModelOptions",t.DdM(26,g)),t.xp6(1),t.Q6J("ngIf",e.taxAmounttxt),t.xp6(3),t.MGl("name","os-taxes",e.idRow,""),t.Q6J("ngModel",e.TotalAmounttxt)("ngModelOptions",t.DdM(27,g)),t.xp6(1),t.Q6J("ngIf",e.TotalAmounttxt)}}function lt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr",108)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"input",120),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.clause=n)}),t.qZA()(),t.TgZ(5,"td")(6,"button",118),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.deleteBand(a.idRow))}),t._UZ(7,"i",96),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.idRow),t.xp6(2),t.MGl("name","op-clause",e.idRow,""),t.Q6J("ngModel",e.clause)("ngModelOptions",t.DdM(4,g))}}function st(i,s){if(1&i&&(t.TgZ(0,"tr",128)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.paymentNo),t.xp6(2),t.Oqu(e.paymentDate),t.xp6(2),t.Oqu(e.paymentDateHijri),t.xp6(2),t.Oqu(e.amount),t.xp6(2),t.Oqu(e.taxAmount),t.xp6(2),t.Oqu(e.totalAmount)}}function ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",50)(1,"h3",52),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"button",121),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),a=t.MAs(298);return n.setWizardData(),t.KtG(n.open(a))}),t._UZ(5,"i",54),t.qZA()(),t.TgZ(6,"div",122)(7,"table",123)(8,"thead")(9,"tr",124)(10,"th",125),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",125),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",125),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",125),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",125),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",125),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"tbody",126),t.YNc(29,st,13,6,"tr",127),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,9,"Installments Details")," "),t.xp6(2),t.Q6J("disabled",0==e.ContractNewServices.length),t.xp6(7),t.hij(" ",t.lcZ(12,11,"batch number")," "),t.xp6(3),t.hij(" ",t.lcZ(15,13,"Batch date")," "),t.xp6(3),t.hij(" ",t.lcZ(18,15,"Batch Date (Hijri)")," "),t.xp6(3),t.hij(" ",t.lcZ(21,17,"the amount")," "),t.xp6(3),t.hij(" ",t.lcZ(24,19,"Tax")," "),t.xp6(3),t.hij(" ",t.lcZ(27,21,"Payment total")," "),t.xp6(3),t.Q6J("ngForOf",e.CustomerPaymentList)}}function dt(i,s){1&i&&(t._uU(0),t.ALo(1,"translate")),2&i&&t.Oqu(t.lcZ(1,1,"operating expenses"))}function ut(i,s){if(1&i&&(t.TgZ(0,"option",130),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("ngValue",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"select",129),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.name=n)})("change",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.emp_Change(a))}),t.TgZ(3,"option",130),t._uU(4),t.qZA(),t.YNc(5,ut,2,2,"option",131),t.qZA()(),t.TgZ(6,"td")(7,"div",112)(8,"input",132),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.duration=n)})("keyup",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.CalcDist(a))}),t.qZA(),t.TgZ(9,"select",129),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.durationType=n)})("change",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.CalcDist(a))}),t.TgZ(10,"option",133),t._uU(11,"\u0633\u0627\u0639\u0647"),t.qZA(),t.TgZ(12,"option",134),t._uU(13,"\u064a\u0648\u0645"),t.qZA(),t.TgZ(14,"option",135),t._uU(15,"\u0627\u0633\u0628\u0648\u0639"),t.qZA(),t.TgZ(16,"option",136),t._uU(17,"\u0634\u0647\u0631"),t.qZA()()()(),t.TgZ(18,"td")(19,"div",112)(20,"input",132),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.ratio=n)})("keyup",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.CalcDist(a))}),t.qZA(),t.TgZ(21,"div",137),t._uU(22,"%"),t.qZA()()(),t.TgZ(23,"td")(24,"input",138),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.salary=n)}),t.qZA()(),t.TgZ(25,"td")(26,"input",138),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.cost=n)}),t.qZA()(),t.TgZ(27,"td")(28,"button",139),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return r.deleteRow(a.idRow),t.KtG(r.CalcDist(a))}),t._UZ(29,"i",140),t.qZA()()()}if(2&i){const e=s.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(1),t.Q6J("ngValue",0),t.xp6(1),t.Oqu("\u0623\u062e\u062a\u0631"),t.xp6(1),t.Q6J("ngForOf",o.load_Employee),t.xp6(3),t.Q6J("ngModel",e.duration),t.xp6(1),t.Q6J("ngModel",e.durationType),t.xp6(11),t.Q6J("ngModel",e.ratio),t.xp6(4),t.Q6J("ngModel",e.salary),t.xp6(2),t.Q6J("ngModel",e.cost)}}function mt(i,s){1&i&&(t._uU(0),t.ALo(1,"translate")),2&i&&t.Oqu(t.lcZ(1,1,"Contract draft"))}function _t(i,s){1&i&&t._UZ(0,"i",157)}function ht(i,s){1&i&&t._UZ(0,"i",158)}function gt(i,s){1&i&&t._UZ(0,"i",158)}function Ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",162),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.MarkServiceDetails(n))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Insert")," "))}function ft(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",163),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.UnMarkServiceDetails(n))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"delete")," "))}function xt(i,s){if(1&i&&(t.TgZ(0,"div",159),t.YNc(1,Ct,3,3,"button",160),t.YNc(2,ft,3,3,"button",161),t.qZA()),2&i){const e=t.oxw().$implicit;let o,n;t.xp6(1),t.Q6J("ngIf",1!=(null!==(o=null==e?null:e.SureService)&&void 0!==o?o:0)),t.xp6(1),t.Q6J("ngIf",1==(null!==(n=null==e?null:e.SureService)&&void 0!==n?n:0))}}function vt(i,s){if(1&i&&(t.TgZ(0,"div",151)(1,"div",152),t.YNc(2,_t,1,0,"i",153),t.YNc(3,ht,1,0,"i",154),t.YNc(4,gt,1,0,"i",154),t.TgZ(5,"span",155),t._uU(6),t.qZA()(),t.YNc(7,xt,3,2,"div",156),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);let n,a;t.xp6(2),t.Q6J("ngIf",1!=(null!==(n=null==e?null:e.SureService)&&void 0!==n?n:0)&&0==o.OfferPopupAddorEdit),t.xp6(1),t.Q6J("ngIf",1==(null!==(a=null==e?null:e.SureService)&&void 0!==a?a:0)&&0==o.OfferPopupAddorEdit),t.xp6(1),t.Q6J("ngIf",1==o.OfferPopupAddorEdit),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(1),t.Q6J("ngIf",0==o.OfferPopupAddorEdit)}}function bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",141)(1,"h4",142)(2,"span",143),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._UZ(6,"i",145),t.qZA()(),t.TgZ(7,"div",146)(8,"div",147),t.NdJ("cdkDropListDropped",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.drop(n))}),t.YNc(9,vt,8,5,"div",148),t.qZA(),t.TgZ(10,"div",149)(11,"button",150),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(null==a?null:a.dismiss())}),t._uU(12),t.ALo(13,"translate"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"servicesList")),t.xp6(5),t.Q6J("cdkDropListData",e.serviceDetails),t.xp6(1),t.Q6J("ngForOf",e.serviceDetails),t.xp6(3),t.hij(" ",t.lcZ(13,6,"Back")," ")}}function yt(i,s){1&i&&(t.TgZ(0,"th",178),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ServiceName")," "))}function At(i,s){if(1&i&&(t.TgZ(0,"td",179),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.servicesName)}}function Mt(i,s){1&i&&(t.TgZ(0,"th",178),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"price")))}function Zt(i,s){if(1&i&&(t.TgZ(0,"td",179),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.amount)}}function Dt(i,s){1&i&&t._UZ(0,"tr",180)}function Tt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr",181),t.NdJ("dblclick",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit;return t.oxw().setServiceRowValue_ContractNew(a),t.KtG(r.dismiss())}),t.qZA()}}function Pt(i,s){if(1&i&&(t.TgZ(0,"tr",182)(1,"td",183),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i){t.oxw();const e=t.MAs(13);t.xp6(2),t.AsE(" ",t.lcZ(3,2,"noResult"),' "',e.value,'" ')}}function St(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",141)(1,"h4",142)(2,"span",143),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._UZ(6,"i",145),t.qZA()(),t.TgZ(7,"div",164)(8,"mat-form-field",165)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",166,167),t.NdJ("keyup",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.applyFilterServiceList_ContractNew(n))}),t.qZA()(),t.TgZ(14,"div",168)(15,"table",169),t.ynx(16,170),t.YNc(17,yt,3,3,"th",171),t.YNc(18,At,2,1,"td",172),t.BQk(),t.ynx(19,173),t.YNc(20,Mt,3,3,"th",171),t.YNc(21,Zt,2,1,"td",172),t.BQk(),t.YNc(22,Dt,1,0,"tr",174),t.YNc(23,Tt,1,0,"tr",175),t.YNc(24,Pt,4,4,"tr",176),t.qZA()(),t.TgZ(25,"div",177)(26,"button",150),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(null==a?null:a.dismiss())}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"servicesList")),t.xp6(7),t.Oqu(t.lcZ(11,8,"search")),t.xp6(5),t.Q6J("dataSource",e.serviceListDataSource_ContractNew),t.xp6(7),t.Q6J("matHeaderRowDef",e.servicesListdisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.servicesListdisplayedColumns),t.xp6(4),t.hij(" ",t.lcZ(28,10,"Back")," ")}}function wt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",141)(1,"h4",142)(2,"span",143),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._UZ(6,"i",145),t.qZA()(),t.TgZ(7,"div",146)(8,"form",null,184)(10,"div",61)(11,"div",185)(12,"div",10)(13,"label",186),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",187),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.ContractValueinfo=n)}),t.qZA()()(),t.TgZ(17,"div",185)(18,"div",10)(19,"label",22),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",188)(23,"input",189),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.PaymentStartDate=n)})("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.ChangeDate(n))}),t.qZA()()()(),t.TgZ(24,"div",185)(25,"div",10)(26,"label",22),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",188)(30,"input",190),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.PaymentStartHijriDate=n)}),t.qZA()()()(),t.TgZ(31,"div",185)(32,"div",10)(33,"label",191),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"input",192),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.AdvancePayValue=n)})("keyup",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.AdvancePayValueChange())}),t.qZA()()(),t.TgZ(37,"div",193)(38,"label",191),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"mat-radio-group",194),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.georgianOrhigri=n)}),t.TgZ(42,"mat-radio-button",195),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"mat-radio-button",196),t._uU(46),t.ALo(47,"translate"),t.qZA()()(),t.TgZ(48,"div",193)(49,"label",191),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"mat-radio-group",197),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.PeriodPay=n)}),t.TgZ(53,"mat-radio-button",195),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"mat-radio-button",196),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"mat-radio-button",198),t._uU(60),t.ALo(61,"translate"),t.qZA()()(),t.TgZ(62,"div",193)(63,"label",191),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"mat-radio-group",199),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.countwithPayment=n)}),t.TgZ(67,"mat-radio-button",195),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"mat-radio-button",196),t._uU(71),t.ALo(72,"translate"),t.qZA()()(),t.TgZ(73,"div",200)(74,"div",10)(75,"label",201),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"input",202),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.MonthlyPayVal=n)})("keyup",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.MonthlyPayValChange())}),t.qZA()()(),t.TgZ(79,"div",200)(80,"div",10)(81,"label",203),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"input",204),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.PaymentCount=n)})("keyup",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.PaymentCountChange())}),t.qZA()()(),t.TgZ(85,"div",200)(86,"div",10)(87,"label",205),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"input",206),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.WizardData.LastpayVal=n)}),t.qZA()()()()(),t.TgZ(91,"div",207)(92,"button",208),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.GenerateCustomerPayments(a))}),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"button",150),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(null==a?null:a.dismiss())}),t._uU(96),t.ALo(97,"translate"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,42,"AddInstallments")),t.xp6(11),t.hij(" ",t.lcZ(15,44,"Contract amount")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.ContractValueinfo)("ngModelOptions",t.DdM(82,g)),t.xp6(4),t.hij(" ",t.lcZ(21,46,"The beginning of the installments")," "),t.xp6(3),t.Q6J("ngModel",e.WizardData.PaymentStartDate)("ngModelOptions",t.DdM(83,g)),t.xp6(4),t.hij(" ",t.lcZ(28,48,"Start of installments (Hijri)")," "),t.xp6(3),t.Q6J("ngModel",e.WizardData.PaymentStartHijriDate)("ngModelOptions",t.DdM(84,g)),t.xp6(4),t.hij(" ",t.lcZ(35,50,"Down payment value")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.AdvancePayValue)("ngModelOptions",t.DdM(85,g)),t.xp6(3),t.hij(" ",t.lcZ(40,52,"Basis for payment")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.georgianOrhigri)("ngModelOptions",t.DdM(86,g)),t.xp6(2),t.Oqu(t.lcZ(44,54,"Georgie")),t.xp6(3),t.Oqu(t.lcZ(47,56,"Hijri")),t.xp6(4),t.hij(" ",t.lcZ(51,58,"Method of Payment")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.PeriodPay)("ngModelOptions",t.DdM(87,g)),t.xp6(2),t.Oqu(t.lcZ(55,60,"Monthly")),t.xp6(3),t.Oqu(t.lcZ(58,62,"by duration")),t.xp6(3),t.Oqu(t.lcZ(61,64,"period with the month")),t.xp6(4),t.hij(" ",t.lcZ(65,66,"Installment calculation method")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.countwithPayment)("ngModelOptions",t.DdM(88,g)),t.xp6(2),t.Oqu(t.lcZ(69,68,"Depending on the number of installments")),t.xp6(3),t.Oqu(t.lcZ(72,70,"Depending on the premium value")),t.xp6(5),t.hij(" ",t.lcZ(77,72,"monthly installment")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.MonthlyPayVal)("ngModelOptions",t.DdM(89,g))("disabled","2"!=e.WizardData.countwithPayment),t.xp6(4),t.hij(" ",t.lcZ(83,74,"number of installments")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.PaymentCount)("ngModelOptions",t.DdM(90,g))("disabled","1"!=e.WizardData.countwithPayment),t.xp6(4),t.hij(" ",t.lcZ(89,76,"latest installment")," "),t.xp6(2),t.Q6J("ngModel",e.WizardData.LastpayVal)("ngModelOptions",t.DdM(91,g)),t.xp6(3),t.hij(" ",t.lcZ(94,78,"confirem")," "),t.xp6(3),t.hij(" ",t.lcZ(97,80,"Back")," ")}}const Ft=function(){return{ar:"\u0633\u064a\u062a\u0645 \u062f\u0645\u062c \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0627\u0644\u0635\u0627\u062f\u0631\u0629 \u0645\u0633\u0628\u0642\u0627 \u0639\u0644\u064a \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0645\u0646 \u0636\u0645\u0646 \u0627\u0644\u0639\u0642\u062f \u0648 \u062a\u0631\u062d\u064a\u0644\u0647\u0627 \u0645\u0628\u0627\u0634\u0631\u0629",en:"The invoice previously issued for the project will be merged into the contract and posted directly"}};function jt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"p",83),t.TgZ(2,"div",209)(3,"button",210),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(),u=t.MAs(3);return r.ConfirmMergeInvoice(2,u),t.KtG(a.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",211),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&i&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,Ft)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}const L=function(){return{dateInputFormat:"DD/MM/YYYY"}},Ot=function(){return{ar:"\u0645\u062f\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",en:"Project Time"}},Gt=function(){return{ar:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",en:"Project Price"}},Et=function(){return{ar:"\u0645\u0635\u0627\u0631\u064a\u0641 \u0627\u0644\u062a\u0634\u063a\u064a\u0644\t\t",en:"operating expenses"}},Lt=function(){return{ar:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\t",en:"Project state"}},qt=function(i){return{"background-color":i}},q=d(4545),N=q.default,D=q.toHijri;let kt=(()=>{class i{constructor(e,o,n,a,r,u,_,x,p){this.modalService=e,this.authenticationService=o,this._sharedService=n,this._formBuilder=a,this.toast=r,this._contractService=u,this._followprojectService=_,this.dateFormatterSev=x,this.translate=p,this.userG={},this.Date1=new Date,this.closeResult="",this.contractWithInstallments=!1,this.offerServices=[],this.serviceListDataSource=new c.by,this.servicesListdisplayedColumns=["name","price"],this.serviceDetails=[],this.participants=[],this.ContractModalCustom={ContractType:null,OrgEmpJobId:null,Org_CompanyID:null,OfferSelectidFlag:!1,ContractTypeSelectId:null,InvoiceNumDiv:!1,InvoiceId:null,InvoiceNumber:null,ContSup1Div:null,ContSup2Div:null},this.ContractNewServices=[],this.modalDetailsContractNew={taxtype:2,total_amount:null,ContractAmountBefore:null,total_amount_text:null},this.serviceListDataSourceTemp_ContractNew=[],this.serviceListDataSource_ContractNew=new c.by,this.OfferPopupAddorEdit=0,this.ListDataServices=[],this.SureServiceList=[],this.bands=[],this.disableButtonSave_Contract=!1,this.selectedDateType=v.Uv.Hijri,this.installments=[{batchNumber:"asdasd",BatchDate:"asdasd",BatchDateHijri:"asdasd",amount:"asdasd",Tax:"asdasd",total:"asdasd"}],this.control=new T.LK({listVisible:!0,discardInvalid:!0,multiple:!1},[T.Fz.filesLimit(1)]),this.uploadedFiles=[],this.uploadedFile=new P.X(""),this.WizardData={ContractValueinfo:null,ContractValueinfo_H:null,PaymentStartDate:null,PaymentStartHijriDate:null,AdvancePayValue:null,georgianOrhigri:null,PeriodPay:null,countwithPayment:null,MonthlyPayVal:null,PaymentCount:null,LastpayVal:null},this.CalcData={FinalTable:{projectTime:null,projectValue:null,projectCost:null,projectStatusVal:null,projectStatusName:null}},this.employees=[],this.FollowProjData=[],this.FollowProjListData={FollowProj:null},this.FollowProjList=[],this.userG=this.authenticationService.userGlobalObj,console.log(this.userG)}ngOnInit(){console.log(this.contractAdd),this.SetContractDefData()}open(e,o,n,a){null!=a&&(this.selectedServiceRowContractNew=a),"serviceDetails"==n&&o?this.GetServicesPriceByParentId(o):"servicesList_Contract"==n&&this.GetAllServicesPrice_ContractNew(),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:n?"contract"==n||"file"==n||"contracts"==n?"md":"xl":"lg",centered:!n||"contracts"==n,backdrop:"static",keyboard:!1}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e,o){return e===y.If.ESC?"by pressing ESC":e===y.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}step1NextBtnClick_Des(){console.log({ContractNo:this.FormGroup01.controls.ContractNo.value,Date:this.FormGroup01.controls.ContractDate.value,HijriDate:this.FormGroup01.controls.ContractHijriDate.value,aaaaa:this.FormGroup01.controls.Org_CompanyName.value,bbbbb:this.FormGroup01.controls.OrgEmpId.value,eeeee:this.FormGroup01.controls.OrgEmpJob.value,Engineering_License:this.FormGroup01.controls.Engineering_License.value,Engineering_LicenseDate:this.FormGroup01.controls.Engineering_LicenseDate.value,CustomerId:this.FormGroup01.controls.ContractCustSelectId.value,ProjectId:this.FormGroup01.controls.ContractProjSelectId.value,ccccc:this.FormGroup01.controls.customerIdtxt.value,ddddd:this.FormGroup01.controls.OfferSelectid.value})}DisabledBtn(){this.FormGroup01.controls.ContractHijriDate.disable(),this.FormGroup01.controls.Org_CompanyName.disable(),this.FormGroup01.controls.OrgEmpJob.disable(),this.FormGroup01.controls.Engineering_License.disable(),this.FormGroup01.controls.Engineering_LicenseDate.disable(),this.FormGroup01.controls.customerIdtxt.disable(),this.FormGroup02.controls.InvoiceAmount.disable(),this.FormGroup02.controls.InvoiceAmountB.disable()}SetContractDefData(){this.ListDataServices=[],this.SureServiceList=[],this.ContractModalCustom.ContractType=this.contractAdd.ContractType,1==this.ContractModalCustom.ContractType||2==this.ContractModalCustom.ContractType||3==this.ContractModalCustom.ContractType?(this.ContractModalCustom.ContSup1Div=!1,this.ContractModalCustom.ContSup2Div=!1):4==this.ContractModalCustom.ContractType?(this.ContractModalCustom.ContSup1Div=!0,this.ContractModalCustom.ContSup2Div=!0):5==this.ContractModalCustom.ContractType?(this.ContractModalCustom.ContSup1Div=!1,this.ContractModalCustom.ContSup2Div=!1):(this.ContractModalCustom.ContSup1Div=!1,this.ContractModalCustom.ContSup2Div=!1,this.ContractModalCustom.ContractType=1),this.ContractModalCustom.Org_CompanyID=this.userG?.companyID,this.intialForms(this.contractAdd.CustomerId,this.contractAdd.ProjectId),null!=this.contractAdd.CustomerId&&(this.ChangeCustomerSelect_2(),this.FormGroup01.controls.ContractCustSelectId.disable()),null!=this.contractAdd.ProjectId&&(this.GetInvoiceIDByProjectID(),this.FormGroup01.controls.ContractProjSelectId.disable()),this.DisabledBtn(),this.GenerateContractNumberByType(),this.GetBranchOrganization(),this.resetContractDataList(),this.FillEmployeeSelect(),this.FillCustomerSelect()}resetContractDataList(){this.LoadEmployeeSelect=[],this.LoadCustomerSelectWProC=[],this.Loadprojects=[],this.LoadofferPrice=[],this.bands=[],this.CustomerPaymentList=[]}intialForms(e,o){const n=D(new Date);var a=new N(n._year,n._month,n._date);a._day=a._date,this.selectedHijriDate=a,this.FormGroup01=this._formBuilder.group({ContractNo:[null,[h.kI.required]],ContractDate:[new Date],ContractHijriDate:[null],Org_CompanyName:[this.userG?.companyName],OrgEmpId:[null,[h.kI.required]],OrgEmpJob:[null],Engineering_License:[null],Engineering_LicenseDate:[null],ContractCustSelectId:[e,[h.kI.required]],ContractProjSelectId:[o,[h.kI.required]],customerIdtxt:[null],OfferSelectid:[null],check:[!1]}),this.FormGroup02=this._formBuilder.group({ContractTypeSelectId:[null],InvoiceAmount:[null],InvoiceAmountB:[null]}),this.FormGroup03=this._formBuilder.group({ContractId:[null,[h.kI.required]]}),this.FormGroup04=this._formBuilder.group({})}ChangeContractHijri(e){if(null!=e){const n=new N(e.year,e.month,e.day).toGregorian();this.FormGroup01.controls.ContractDate.setValue(n)}else this.FormGroup01.controls.ContractDate.setValue(null)}ChangeContractGre(e){if(null!=e){const n=D(this.FormGroup01.controls.ContractDate.value);var o=new N(n._year,n._month,n._date);o._day=o._date,this.selectedHijriDate=o}else this.selectedHijriDate=null}GetBranchOrganization(){this._contractService.GetBranchOrganization().subscribe(e=>{this.FormGroup01.controls.Engineering_License.setValue(e.result.engineering_License),this.FormGroup01.controls.Engineering_LicenseDate.setValue(null==e.result.engineering_LicenseDate||"null"==e.result.engineering_LicenseDate?null:this._sharedService.String_TO_date(e.result.engineering_LicenseDate))})}GetEmployeeJob(){var e=this.FormGroup01.controls.OrgEmpId.value;null!=e?this._contractService.GetEmployeeJob(e).subscribe(o=>{this.ContractModalCustom.OrgEmpJobId=o.jobId,this.FormGroup01.controls.OrgEmpJob.setValue(o.jobNameAr)}):(this.ContractModalCustom.OrgEmpJobId=null,this.FormGroup01.controls.OrgEmpJob.setValue(null))}GetCustomersByCustomerId(){var e=this.FormGroup01.controls.ContractCustSelectId.value;null!=e?this._contractService.GetCustomersByCustomerId(e).subscribe(o=>{this.FormGroup01.controls.customerIdtxt.setValue(1==o.result.customerTypeId?o.result.customerNationalId:2==o.result.customerTypeId?o.result.commercialRegister:null)}):this.FormGroup01.controls.customerIdtxt.setValue(null)}FillCustomerSelect(){(1==this.ContractModalCustom.ContractType||2==this.ContractModalCustom.ContractType)&&this.FillCustomerSelectWProC()}GenerateContractNumberByType(){1==this.ContractModalCustom.ContractType?this.GenerateContractNumber():2==this.ContractModalCustom.ContractType?this.GenerateContractNumber2():3==this.ContractModalCustom.ContractType?this.GenerateContractNumber3():4==this.ContractModalCustom.ContractType?this.GenerateContractNumber4():5==this.ContractModalCustom.ContractType?this.GenerateContractNumber5():this.GenerateContractNumber()}GenerateContractNumber(){this._contractService.GenerateContractNumber().subscribe(e=>{this.FormGroup01.controls.ContractNo.setValue(e.reasonPhrase)})}GenerateContractNumber2(){this._contractService.GenerateContractNumber2().subscribe(e=>{this.FormGroup01.controls.ContractNo.setValue(e.reasonPhrase)})}GenerateContractNumber3(){this._contractService.GenerateContractNumber3().subscribe(e=>{this.FormGroup01.controls.ContractNo.setValue(e.reasonPhrase)})}GenerateContractNumber4(){this._contractService.GenerateContractNumber4().subscribe(e=>{this.FormGroup01.controls.ContractNo.setValue(e.reasonPhrase)})}GenerateContractNumber5(){this._contractService.GenerateContractNumber5().subscribe(e=>{this.FormGroup01.controls.ContractNo.setValue(e.reasonPhrase)})}FillEmployeeSelect(){this._contractService.FillEmployeeSelect().subscribe(e=>{this.LoadEmployeeSelect=e})}FillCustomerSelectWProC(){this._contractService.FillCustomerSelectWProC().subscribe(e=>{this.LoadCustomerSelectWProC=e})}FillCustomerSelectWProC3(){this._contractService.FillCustomerSelectWProC3().subscribe(e=>{this.LoadCustomerSelectWProC=e})}FillCustomerSelectWProC2(){this._contractService.FillCustomerSelectWProC2().subscribe(e=>{this.LoadCustomerSelectWProC=e})}FillProjectSelectByCustomer(){var e=this.FormGroup01.controls.ContractCustSelectId.value;null!=e?this._contractService.FillProjectSelectByCustomerId2(e).subscribe(o=>{this.Loadprojects=o}):this.Loadprojects=[]}FillAllOfferTodropdownOld(){var e=this.FormGroup01.controls.ContractCustSelectId.value;null!=e?this._contractService.FillAllOfferTodropdownOld(e).subscribe(o=>{this.LoadofferPrice=o}):this.LoadofferPrice=[]}GetInvoiceIDByProjectID(){var e=this.FormGroup01.controls.ContractProjSelectId.value;null!=e?this._contractService.GetInvoiceIDByProjectID(e).subscribe(o=>{null!=o.result?(this.ContractModalCustom.InvoiceId=o.result?.invoiceId,this.ContractModalCustom.InvoiceNumDiv=!0,this.ContractModalCustom.InvoiceNumber=o.result?.invoiceNumber,this.FormGroup02.controls.InvoiceAmount.setValue(o.result?.totalAmount),this.FormGroup02.controls.InvoiceAmountB.setValue(o.result?.amount)):(this.ContractModalCustom.InvoiceId=null,this.ContractModalCustom.InvoiceNumDiv=!1,this.ContractModalCustom.InvoiceNumber=null,this.FormGroup02.controls.InvoiceAmount.setValue(null),this.FormGroup02.controls.InvoiceAmountB.setValue(null))}):(this.ContractModalCustom.InvoiceId=null,this.ContractModalCustom.InvoiceNumDiv=!1,this.ContractModalCustom.InvoiceNumber=null,this.FormGroup02.controls.InvoiceAmount.setValue(null),this.FormGroup02.controls.InvoiceAmountB.setValue(null))}ChangeCustomerSelect(){this.Loadprojects=[],this.FormGroup01.controls.ContractProjSelectId.setValue(null),this.GetCustomersByCustomerId(),this.FillProjectSelectByCustomer(),this.FillAllOfferTodropdownOld()}ChangeCustomerSelect_2(){this.Loadprojects=[],this.GetCustomersByCustomerId(),this.FillProjectSelectByCustomer(),this.FillAllOfferTodropdownOld()}GetProjectById(){var e=this.FormGroup01.controls.ContractProjSelectId.value;null!=e&&this._contractService.GetProjectById(e).subscribe(o=>{this.GetValueCalc({projectId:o.result.projectId,projectNo:o.result.projectNo,contractValue:this.modalDetailsContractNew.total_amount,timeStr:o.result.timeStr,noOfDays:o.result.noOfDays})})}addServiceContractNew(){var e;e=this.ContractNewServices.length>0?Math.max(...this.ContractNewServices.map(o=>o.idRow)):0,this.ContractNewServices?.push({idRow:e+1,AccJournalid:null,UnitConst:null,QtyConst:null,accountJournaltxt:null,Amounttxt:null,taxAmounttxt:null,TotalAmounttxt:null,MeterPrice1:null,MeterPrice2:null,MeterPrice3:null,PackageRatio1:null,PackageRatio2:null,PackageRatio3:null})}deleteServiceContractNew(e){let o=this.ContractNewServices.findIndex(n=>n.idRow==e);this.ContractNewServices.splice(o,1),this.CalculateTotal_ContractNew()}offerpriceChange(){var n=this.FormGroup01.controls.OfferSelectid.value;null!=n&&1==this.FormGroup01.controls.check.value?(this.ContractNewServices=[],this.GetOfferservicenByOfferIdNew(n)):(this.ContractNewServices=[],this.addServiceContractNew())}setServiceRowValue_ContractNew(e){this.ContractNewServices.filter(o=>o.idRow==this.selectedServiceRowContractNew)[0].AccJournalid=e.servicesId,this.ContractNewServices.filter(o=>o.idRow==this.selectedServiceRowContractNew)[0].UnitConst=e.serviceTypeName,this.ContractNewServices.filter(o=>o.idRow==this.selectedServiceRowContractNew)[0].QtyConst=1,this.ContractNewServices.filter(o=>o.idRow==this.selectedServiceRowContractNew)[0].accountJournaltxt=e.servicesName,this.ContractNewServices.filter(o=>o.idRow==this.selectedServiceRowContractNew)[0].Amounttxt=e.amount,this.CalculateTotal_ContractNew()}setServiceRowValueNew_ContractNew(e,o,n,a){this.addServiceContractNew(),this.ContractNewServices.filter(r=>r.idRow==e)[0].AccJournalid=o.servicesId,this.ContractNewServices.filter(r=>r.idRow==e)[0].UnitConst=o.serviceTypeName,this.ContractNewServices.filter(r=>r.idRow==e)[0].QtyConst=n,this.ContractNewServices.filter(r=>r.idRow==e)[0].accountJournaltxt=o.name,this.ContractNewServices.filter(r=>r.idRow==e)[0].Amounttxt=a,this.CalculateTotal_ContractNew()}GetOfferservicenByOfferIdNew(e){this._contractService.GetOfferservicenByid(e).subscribe(o=>{o.result.length>0&&o.result.forEach(n=>{this.modalDetailsContractNew.taxtype=n.taxType,this.GetServicesPriceByServiceId_ContractNew(n)})})}GetServicesPriceByServiceId_ContractNew(e){this._contractService.GetServicesPriceByServiceId(e.serviceId).subscribe(o=>{var n;n=this.ContractNewServices.length>0?Math.max(...this.ContractNewServices.map(a=>a.idRow)):0,this.setServiceRowValueNew_ContractNew(n+1,o.result,e.serviceQty,e.serviceamountval)})}resetmodalDetailsContractNew(){this.ContractNewServices=[],this.modalDetailsContractNew={taxtype:2,total_amount:null,ContractAmountBefore:null,total_amount_text:null}}CalculateTotal_ContractNew(){this.CustomerPaymentList=[];var r=parseFloat(this.userG.orgVAT??0);this.ContractNewServices.forEach(u=>{var _=parseFloat((u.Amounttxt??0).toString()).toFixed(2),C=0,f=0,b=parseFloat((+parseFloat((+_*r).toString()).toFixed(2)/100).toString()).toFixed(2),k=parseFloat((+_-+parseFloat((+_/(r/100+1)).toString()).toFixed(2)).toString()).toFixed(2);2==this.modalDetailsContractNew.taxtype?(C=+b,f=+parseFloat((+parseFloat(_)+ +parseFloat(b)).toString()).toFixed(2)):(C=+k,parseFloat((+parseFloat(_).toFixed(2)-+k).toString()).toFixed(2),f=+parseFloat(_).toFixed(2)),this.ContractNewServices.filter(I=>I.idRow==u.idRow)[0].taxAmounttxt=parseFloat(C.toString()).toFixed(2),this.ContractNewServices.filter(I=>I.idRow==u.idRow)[0].TotalAmounttxt=parseFloat((f*u.QtyConst).toString()).toFixed(2)}),this.CalcSumTotal_ContractNew()}CalcSumTotal_ContractNew(){let e=0,o=0;this.ContractNewServices.forEach(n=>{e=+e+ +parseFloat(n.TotalAmounttxt??0).toFixed(2),o=+o+ +parseFloat(n.Amounttxt??0).toFixed(2)}),this.modalDetailsContractNew.total_amount=parseFloat(e.toString()).toFixed(2),this.modalDetailsContractNew.ContractAmountBefore=parseFloat(o.toString()).toFixed(2),this.ConvertNumToString_Contract(this.modalDetailsContractNew.total_amount)}ConvertNumToString_Contract(e){this._contractService.ConvertNumToString(e).subscribe(o=>{this.modalDetailsContractNew.total_amount_text=o?.reasonPhrase})}applyFilterServiceList_ContractNew(e){this.serviceListDataSource_ContractNew.filter=e.target.value.trim().toLowerCase()}GetAllServicesPrice_ContractNew(){this._contractService.GetAllServicesPrice().subscribe(e=>{this.serviceListDataSource_ContractNew=new c.by(e.result),this.servicesList_ContractNew=e.result,this.serviceListDataSourceTemp_ContractNew=e.result})}GetServicesPriceByParentId_Old(e){this.serviceDetails=[],null!=e.AccJournalid&&this._contractService.GetServicesPriceVouByParentId(e.AccJournalid,e.offerId).subscribe(o=>{this.serviceDetails=o.result})}GetServicesPriceByParentId(e){this.serviceDetails=[],null!=e.AccJournalid&&0==this.OfferPopupAddorEdit&&this._contractService.GetServicesPriceByParentId(e.AccJournalid).subscribe(o=>{this.serviceDetails=o.result;var n=!0;if(this.ListDataServices.length>0)for(let r of this.ListDataServices){if(0!=r.filter(u=>u.parentId==e.AccJournalid).length){n=!0;break}n=!1}else n=!1;0==n&&this.ListDataServices.push(this.serviceDetails),this.SetDetailsCheck(this.serviceDetails)})}MarkServiceDetails(e){e.SureService=1==e?.SureService?0:1,this.SureServiceList.push(e)}UnMarkServiceDetails(e){if(e.SureService=1==e?.SureService?0:1,this.SureServiceList.length>0){let o=this.SureServiceList.findIndex(n=>n.servicesId==e.servicesId);-1!=o&&this.SureServiceList.splice(o,1)}}RemoveServicesparent(e){{var o=this.ListDataServices;this.ListDataServices=[];let n=this.SureServiceList.filter(a=>a.parentId!=e.AccJournalid);o.forEach(a=>{let r=a.filter(u=>u.parentId!=e.AccJournalid);r.length>0&&this.ListDataServices.push(r)}),this.SureServiceList=n}}SetDetailsCheck(e){e.forEach(o=>{this.SureServiceList.filter(a=>a.servicesId==o.servicesId).length>0&&(o.SureService=1)})}addBand(){var e;e=this.bands.length>0?Math.max(...this.bands.map(o=>o.idRow)):0,this.bands?.push({idRow:e+1,clause:null})}deleteBand(e){let o=this.bands.findIndex(n=>n.idRow==e);this.bands.splice(o,1)}saveContractbtn(e){var o=this.FormGroup02.controls.InvoiceAmount.value??0,n=this.modalDetailsContractNew.total_amount??0;if(0!=n&&0!=this.ContractNewServices.length)if(null==this.ContractModalCustom.InvoiceId)this.ConfirmMergeInvoice(1,e);else{if(!(o<=n))return void this.toast.error(this.translate.instant("\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u062d\u0641\u0638 \u0628\u0642\u064a\u0645\u0629 \u0639\u0642\u062f \u0627\u0642\u0644 \u0645\u0646 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0627\u0644\u0645\u0628\u062f\u0623\u064a\u0629 \u0644\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0644\u062a\u064a \u062a\u0642\u062f\u0631 \u0642\u064a\u0645\u062a\u0647\u0627 : "+o.toString()),this.translate.instant("Message"));this.open(this.MergeInvoiceDataModal,null,"MergeInvoiceDataModal")}else this.toast.error(this.translate.instant("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u062e\u062f\u0645\u0629"),this.translate.instant("Message"))}ConfirmMergeInvoice(e,o){var n={ContractId:0};if(n.ContractNo=this.FormGroup01.controls.ContractNo.value,null!=this.FormGroup01.controls.ContractDate.value){n.Date=this._sharedService.date_TO_String(this.FormGroup01.controls.ContractDate.value);const p=D(this.FormGroup01.controls.ContractDate.value);n.HijriDate=this._sharedService.hijri_TO_String(p)}n.CustomerId=this.FormGroup01.controls.ContractCustSelectId.value,n.ProjectId=this.FormGroup01.controls.ContractProjSelectId.value,n.Type=this.ContractModalCustom.ContractType,n.Value=this.modalDetailsContractNew.total_amount,n.ValueText=this.modalDetailsContractNew.total_amount_text,n.TaxType=this.modalDetailsContractNew.taxtype,n.TaxesValue=null,n.TotalValue=this.modalDetailsContractNew.total_amount,n.Engineering_License=this.FormGroup01.controls.Engineering_License.value,null!=this.FormGroup01.controls.Engineering_LicenseDate.value&&(n.Engineering_LicenseDate=this._sharedService.date_TO_String(this.FormGroup01.controls.Engineering_LicenseDate.value)),n.Oper_expeValue=this.CalcData.FinalTable.projectCost;var a=[];this.bands.forEach((p,C)=>{var f={};f.SerialId=p.idRow,f.Clause=p.clause,a.push(f)}),n.OrgId=this.ContractModalCustom.Org_CompanyID,n.OrgEmpId=this.FormGroup01.controls.OrgEmpId.value,n.OrgEmpJobId=this.ContractModalCustom.OrgEmpJobId,n.ServiceId=this.ContractNewServices[0].AccJournalid;var r={valid:!0,message:""},u=[];if(this.ContractNewServices.forEach(p=>{if(null==p.AccJournalid)return r.valid=!1,void(r.message="\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062e\u062a\u0631 \u062e\u062f\u0645\u0629 \u0635\u062d\u064a\u062d\u0629");if(null==p.Amounttxt)return r.valid=!1,void(r.message="\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062e\u062a\u0631 \u0645\u0628\u0644\u063a \u0635\u062d\u064a\u062d");if(null==p.QtyConst)return r.valid=!1,void(r.message="\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062e\u062a\u0631 \u0643\u0645\u064a\u0629 \u0635\u062d\u064a\u062d\u0629");var C={};C.ServiceId=p.AccJournalid,C.ServiceQty=p.QtyConst,C.TaxType=this.modalDetailsContractNew.taxtype,C.Serviceamountval=p.Amounttxt,u.push(C)}),r.valid){n.ContractServices=u,n.CustomerPayments=this.CustomerPaymentList;var _=[],x=0;this.ListDataServices.forEach(p=>{p.filter(f=>1==f.SureService).forEach(f=>{var b={};x++,b.ServicesIdVou=0,b.ServicesId=f.servicesId,b.ParentId=f.parentId,b.SureService=f.SureService??0,b.LineNumber=x,_.push(b)})}),n.ServicesPriceOffer=_,this.disableButtonSave_Contract=!0,setTimeout(()=>{this.disableButtonSave_Contract=!1},15e3),this._contractService.SaveContract_2(n).subscribe(p=>{if(200==p.statusCode){if(console.log("result.returnedStrNeeded"),console.log(p.returnedStrNeeded),this.toast.success(this.translate.instant(p.reasonPhrase),this.translate.instant("Message")),2==e&&(this.PayPayment_F2(parseInt(this.ContractModalCustom.InvoiceId),parseInt(p.returnedStr)),this.PostInvoice_F2(parseInt(this.ContractModalCustom.InvoiceId))),this.control?.value.length>0){const C=new FormData;C.append("file",this.control?.value[0]),C.append("ContractId",p.returnedStr),C.append("ProjectId",this.FormGroup01.controls.ContractProjSelectId.value),this._contractService.UploadProjectContract(C).subscribe(f=>{})}this.FormGroup03.controls.ContractId.setValue(p.returnedStr),o.next(),this.modalService.dismissAll()}else console.log("result.returnedStrNeeded"),console.log(p.returnedStrNeeded),this.toast.error(this.translate.instant(p.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error(r.message)}PayPayment_F2(e,o){var n={};n.PaymentId=e,n.ContractId=o,this._contractService.PostInvoiceAndPayPayment2(n).subscribe(a=>{})}PostInvoice_F2(e){var o={};o.InvoiceId=e;var n=[];n.push(o),this._contractService.PostInvoiceAndPayPayment(n).subscribe(a=>{})}addServiceContractNew2(){}goToDrafts(e){this.FormGroup03.controls.ContractId.setValue(1),e.next()}resetWizardData(){this.WizardData={ContractValueinfo:null,ContractValueinfo_H:null,PaymentStartDate:new Date,PaymentStartHijriDate:null,AdvancePayValue:null,georgianOrhigri:"1",PeriodPay:"1",countwithPayment:"1",MonthlyPayVal:null,PaymentCount:null,LastpayVal:null}}gethijriformat(e){}setWizardData(){this.resetWizardData();const o=D(new Date);this.WizardData.PaymentStartHijriDate=this._sharedService.hijri_TO_String(o),this.WizardData.ContractValueinfo=this.modalDetailsContractNew.total_amount,this.WizardData.ContractValueinfo_H=this.modalDetailsContractNew.ContractAmountBefore}ChangeDate(e){if(null!=e){const o=D(e);this.WizardData.PaymentStartHijriDate=this._sharedService.hijri_TO_String(o)}else this.WizardData.PaymentStartHijriDate=null}GenerateCustomerPayments(e){if(this.CustomerPaymentList=[],null!=this.WizardData.PaymentStartDate&&null!=this.WizardData.PaymentStartHijriDate&&null!=this.WizardData.MonthlyPayVal&&null!=this.WizardData.PaymentCount){var o={};o.Date=this._sharedService.date_TO_String(this.WizardData.PaymentStartDate),o.PaymentHijriDate=this.WizardData.PaymentStartHijriDate,o.TaxType=this.modalDetailsContractNew.taxtype,o.Value=this.WizardData.ContractValueinfo,o.AdvancePayValue=this.WizardData.AdvancePayValue??0,o.PaymentsCount=this.WizardData.PaymentCount,o.LastPayValue=this.WizardData.LastpayVal??0,o.MonthlyPayValue=this.WizardData.MonthlyPayVal??0,o.GregorianHijriPay=this.WizardData.georgianOrhigri,o.PayType=this.WizardData.PaymentType,this._contractService.GenerateCustomerPayments(o).subscribe(n=>{this.CustomerPaymentList=n,e?.dismiss()})}else this.toast.error(this.translate.instant("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),this.translate.instant("Message"))}AdvancePayValueChange(){var e=this.WizardData.AdvancePayValue??0,n=this.WizardData.PaymentCount??0,a=this.WizardData.ContractValueinfo_H;if(+e<=+this.modalDetailsContractNew.total_amount)if(0!=n){var r=Math.floor((+a-+e)/+n);this.WizardData.MonthlyPayVal=parseFloat(r.toString()).toFixed(2),this.WizardData.LastpayVal=parseFloat((+a-+e-+r*+n).toString()).toFixed(2)}else this.WizardData.MonthlyPayVal=null,this.WizardData.LastpayVal=null;else this.WizardData.AdvancePayValue=null,this.WizardData.MonthlyPayVal=null,this.WizardData.LastpayVal=null}PaymentCountChange(){var e=this.FormGroup02.controls.InvoiceAmount.value??0,o=this.FormGroup02.controls.InvoiceAmountB.value??0,n=this.WizardData.AdvancePayValue??0,a=this.modalDetailsContractNew.total_amount;null!=e&&(a-=e);var r=this.WizardData.PaymentCount??0,u=this.WizardData.ContractValueinfo_H;null!=o&&(u-=o);var _=0;0!=r?(_=3==parseInt(this.modalDetailsContractNew.taxtype)?Math.floor((+a-+n)/+r):Math.floor((+u-+n)/+r),this.WizardData.MonthlyPayVal=parseFloat(_.toString()).toFixed(2),this.WizardData.LastpayVal=3==parseInt(this.modalDetailsContractNew.taxtype)?parseFloat((+a-+n-+_*+r).toString()).toFixed(2):parseFloat((+u-+n-+_*+r).toString()).toFixed(2)):(this.WizardData.MonthlyPayVal=null,this.WizardData.LastpayVal=null)}MonthlyPayValChange(){var e=this.FormGroup02.controls.InvoiceAmount.value??0,o=this.FormGroup02.controls.InvoiceAmountB.value??0,n=this.WizardData.AdvancePayValue??0,a=this.modalDetailsContractNew.total_amount;null!=e&&(a-=e);var r=this.WizardData.PaymentCount??0,u=this.WizardData.ContractValueinfo_H;null!=o&&(u-=o);var _=this.WizardData.MonthlyPayVal??0;if(+_<=+a){var x=parseFloat(_).toFixed(2);this.WizardData.PaymentCount=3==parseInt(this.modalDetailsContractNew.taxtype)?Math.floor((+a-+n)/+x):Math.floor((+u-+n)/+x),r=parseInt(this.WizardData.PaymentCount),this.WizardData.LastpayVal=3==parseInt(this.modalDetailsContractNew.taxtype)?parseFloat((+a-+n-+x*+r).toString()).toFixed(2):parseFloat((+u-+n-+x*+r).toString()).toFixed(2)}else this.WizardData.PaymentCount=null,this.WizardData.MonthlyPayVal=null,this.WizardData.LastpayVal=null}setOfferPriceChecked(e){this.offerPriceChecked=e.target.checked}addService(e){console.log(e),this.offerServices?.push({id:e+1,name:"",unit:"",amount:0,price:0,vatTax:0,taxes:0})}deleteService(e){this.offerServices?.splice(e,1)}addEmployee(){var e;e=this.employees.length>0?Math.max(...this.employees.map(n=>n.idRow)):0,this.employees.push({idRow:e+1,id:0,name:0,duration:null,durationType:4,ratio:null,salary:null,cost:null,accSalary:null}),this.FillSelectEmployee()}deleteRow(e){let o=this.employees.findIndex(n=>n.idRow==e);this.employees.splice(o,1)}GetValueCalc(e){this.RowValue=e,this.employees=[],this.CalcData.FinalTable.projectStatusName=null,this.CalcData.FinalTable.projectStatusVal=null,this.CalcData.FinalTable.projectCost=null,this.SetDistTable(),this.SetFinalTable(e.timeStr,e.contractValue)}FillSelectEmployee(){this._followprojectService.FillSelectEmployee().subscribe(e=>{this.load_Employee=e})}emp_Change(e){null==e.name?e.accSalary=null:this.GetEmployeeInfo(e)}GetEmployeeInfo(e){this._followprojectService.GetEmployeeInfo(e.name).subscribe(o=>{e.accSalary=o.salary})}CalcDist(e){var n=e.durationType,u=parseFloat((e.duration*(1==n?1:2==n?7:3==n?30:4==n?1/24:0)*e.accSalary/30).toString()).toFixed(2);e.salary=u;var x=parseFloat((e.ratio*this.RowValue.contractValue/100).toString()).toFixed(2),p=parseFloat((+parseFloat(x).toFixed(2)+ +parseFloat(u).toFixed(2)).toString()).toFixed(2);e.cost=p,this.FinalCalcDist()}FinalCalcDist(){if(0==this.employees.length)return this.CalcData.FinalTable.projectStatusName=null,this.CalcData.FinalTable.projectStatusVal=null,void(this.CalcData.FinalTable.projectCost=null);var e=0;this.employees.forEach(a=>{e=+parseFloat(e.toString()).toFixed(2)+ +parseFloat(a.cost??0).toFixed(2)}),this.CalcData.FinalTable.projectCost=parseFloat(e.toString()).toFixed(2),+parseFloat(e.toString()).toFixed(2)>+this.CalcData.FinalTable.projectValue?(this.CalcData.FinalTable.projectStatusName="\u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u062e\u0627\u0633\u0631",this.CalcData.FinalTable.projectStatusVal=0):(this.CalcData.FinalTable.projectStatusName="\u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0646\u0627\u062c\u062d",this.CalcData.FinalTable.projectStatusVal=1)}SetFinalTable(e,o){this.CalcData.FinalTable.projectTime=e,this.CalcData.FinalTable.projectValue=o}SetDistTable(){this.GetAllFollowProj()}GetAllFollowProj(){this.FollowProjData=[],this._followprojectService.GetAllFollowProj(this.RowValue.projectId).subscribe(e=>{e.forEach(o=>{this.FillSelectEmployee();var n;n=this.employees.length>0?Math.max(...this.employees.map(r=>r.idRow)):0,this.employees.push({idRow:n+1,id:o.followProjId,name:o.empId,duration:o.timeNo,durationType:o.timeType,ratio:o.empRate,salary:o.amount,cost:o.expectedCost,accSalary:o.empSalary})}),this.FollowProjData=e,this.FinalCalcDist()})}SaveFollowProj(e){var o=1;this.employees.forEach(a=>{(null==a.name||null==a.duration||null==a.durationType)&&(o=0)}),0!=o?(this.FollowProjList=[],this.employees.forEach(a=>{var r={FollowProjId:0};r.EmpId=a.name,r.ProjectId=this.RowValue.projectId,r.TimeNo=String(a.duration),r.TimeType=String(a.durationType),r.EmpRate=String(a.ratio??"0"),r.Amount=parseFloat(a.salary),r.ExpectedCost=parseFloat(a.cost),r.ConfirmRate=!1,this.FollowProjList.push(r)}),console.log("this.FollowProjList"),console.log(this.FollowProjList),this.FollowProjListData.FollowProj=this.FollowProjList,this._followprojectService.SaveFollowProj(this.FollowProjListData).subscribe(a=>{200==a.statusCode?(this.toast.success(this.translate.instant(a.reasonPhrase),this.translate.instant("Message")),e?.hide()):this.toast.error(this.translate.instant(a.reasonPhrase),this.translate.instant("Message"))})):this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}drop(e){e.previousContainer===e.container?(0,A.bA)(e.container.data,e.previousIndex,e.currentIndex):(0,A.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex);var o=this.ListDataServices;this.ListDataServices=[],o.forEach(n=>{let a=n.filter(r=>r.parentId!=this.serviceDetails[0].parentId);a.length>0&&this.ListDataServices.push(a)}),this.ListDataServices.push(this.serviceDetails)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.FF),t.Y36(m.$),t.Y36(U.F1),t.Y36(h.qu),t.Y36(J._W),t.Y36(V.U),t.Y36(B.e),t.Y36(v.KN),t.Y36(S.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-contracts-add-main"]],viewQuery:function(e,o){if(1&e&&t.Gf(H,5),2&e){let n;t.iGM(n=t.CRH())&&(o.MergeInvoiceDataModal=n.first)}},inputs:{contractAdd:"contractAdd"},decls:301,vars:220,consts:[[1,"modal-body","text-center"],[1,"content"],["linear",""],["stepper",""],[3,"stepControl"],["matStepLabel",""],[3,"formGroup"],[1,"step-content",2,"padding-bottom","11% !important"],[1,"row","align-items-end","mb-4"],[1,"col-sm-6","col-md-4","mb-0","mb-sm-3"],[1,"form-group"],["for","ContractNo",1,"text-right","col-form-label","block"],["type","text","id","ContractNo","name","ContractNo","formControlName","ContractNo","autocomplete","off"],["ContractNo",""],["for","ContractDate",1,"text-right","col-form-label","block"],["type","text","id","ContractDate","name","ContractDate","formControlName","ContractDate","bsDatepicker","","autocomplete","off",1,"form-control",3,"bsConfig","ngModelChange"],["for","ContractHijriDate",1,"text-right","col-form-label","block"],["autocomplete","off",3,"selectedDate","isRequired","hijriLabel","selectedDateType","dir","selectedDateChange"],[1,"col-sm-6","col-md-6","mb-0","mb-sm-3"],["for","Org_CompanyName",1,"text-right","col-form-label","block"],["type","text","id","Org_CompanyName","name","Org_CompanyName","formControlName","Org_CompanyName","autocomplete","off",1,"form-control"],[1,"col-sm-6","col-md-3","mb-0","mb-sm-3"],[1,"text-right","col-form-label","block"],["name","OrgEmpId","id","OrgEmpId","formControlName","OrgEmpId",1,"w-full","p-0",3,"placeholder","change"],["OrgEmpId",""],[3,"value",4,"ngFor","ngForOf"],["for","OrgEmpJob",1,"text-right","col-form-label","block"],["type","text","id","OrgEmpJob","name","OrgEmpJob","formControlName","OrgEmpJob",1,"form-control"],[1,"col-sm-6","mb-0","mb-sm-3"],["for","Engineering_License",1,"text-right","col-form-label","block"],["type","text","id","Engineering_License","name","Engineering_License","formControlName","Engineering_License",1,"form-control"],["for","Engineering_LicenseDate",1,"text-right","col-form-label","block"],["type","text","id","Engineering_LicenseDate","name","Engineering_LicenseDate","formControlName","Engineering_LicenseDate","bsDatepicker","","autocomplete","off",1,"form-control",3,"bsConfig"],["for","ContractCustSelectId",1,"text-right","col-form-label","block"],["name","ContractCustSelectId","formControlName","ContractCustSelectId",1,"w-full","p-0",3,"placeholder","change"],["for","ContractProjSelectId",1,"text-right","col-form-label","block"],["name","ContractProjSelectId","id","ContractProjSelectId","formControlName","ContractProjSelectId",1,"w-full","p-0",3,"placeholder","change"],["for","customerIdtxt",1,"text-right","col-form-label","block"],["type","text","id","customerIdtxt","name","customerIdtxt","formControlName","customerIdtxt",1,"form-control"],["for","iDNumber",1,"text-right","col-form-label","block"],[1,"form-types","checkbox","justify-start","mt-2"],[1,"checkbox-content","relative"],["type","checkbox","name","check","formControlName","check",3,"change"],[1,"absolute"],[1,"cycle"],["class","col-sm-6 col-md-3 mb-0 mb-sm-3",4,"ngIf"],[1,"d-flex","justify-end","w-100"],["mat-button","","matStepperNext","",1,"bg-base","text-white"],[1,"bg-red-100","p-1",2,"width","max-content","margin","15px auto"],[1,"step-content"],[1,"row","mb-3"],["class","col-12 mb-0 mb-sm-3",4,"ngIf"],[1,"flex","items-center","justify-start","fw-bold"],["type","button ",1,"add-btn","mx-2",3,"click"],[1,"fa","fa-plus"],[1,"editable","shadow","mb-4"],[1,"table","table-responsive","table-striped","table-bordered","text-center",2,"vertical-align","middle","font-size","14px"],[1,"bg-base","text-white",2,"line-height","30px","font-size","13px"],[2,"width","30% !important"],["style","line-height: 5px",4,"ngFor","ngForOf"],[1,"boxContainer","w-80","py-3","px-3"],[1,"row"],[1,"col-md-2"],["for","tax type","for","tax type",1,""],[1,"col-md-10"],["name","include_tax",1,"w-100",3,"placeholder","ngModel","ngModelOptions","clearable","ngModelChange","change"],[3,"value"],[1,"col-md-12"],["for","Total amount","for","Total amount",1,"text-gren"],["id","Total amount","type","number","readonly","",1,"form-control","text-center",3,"ngModel","ngModelOptions","ngModelChange"],["for","total in writing","for","total in writing",1,"text-orange"],["id","total in writing","type","text","readonly","",1,"form-control","text-center",3,"ngModel","ngModelOptions","ngModelChange"],[1,"table","editable","shadow","d-block",2,"overflow","auto"],[1,"table","table-responsive","table-striped","table-bordered","text-center",2,"vertical-align","middle","font-size","14px","min-width","max-content"],["class","row mb-3",4,"ngIf"],[1,"d-flex","w-100","justify-between","items-center"],["mat-button","","matStepperPrevious","",1,"btn","btn-outline-secondary"],["mat-button","","matStepperNext","",1,"btn","bg-base","text-white",3,"click"],[1,"table","editable","shadow"],[4,"ngFor","ngForOf"],[1,"overflow-auto"],[1,"custome-table"],[2,"display","none",3,"translate","translateParams"],[3,"translate","translateParams"],[2,"display","none"],[3,"ngStyle"],[1,"flex","justify-between","items-center","flex-wrap"],["mat-button","",1,"btn","bg-base","text-white",3,"disabled","click"],[1,"periority","my-5"],["aria-label","Select an option","name","status"],[1,"flex","flex-wrap","gap-8","items-center","my-1"],["value","1",1,"text-base"],[1,"operations","flex","gap-2"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10"],[1,"fa","fa-download"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","w-10"],[1,"fa-solid","fa-trash-can"],["value","2",1,"text-base"],["serviceDetailsModal",""],["servicesListModal_Contract",""],["addInstallmentModal",""],["MergeInvoiceDataModal",""],["for","OfferSelectid",1,"col-form-label","block"],["name","OfferSelectid","formControlName","OfferSelectid",1,"w-full","p-0",3,"placeholder","change"],[1,"col-12","mb-0","mb-sm-3"],["for","InvoiceAmount",1,"text-right","col-form-label","block"],["type","text","id","InvoiceAmount","name","InvoiceAmount","formControlName","InvoiceAmount","autocomplete","off",1,"form-control"],["type","text","id","InvoiceAmountB","name","InvoiceAmountB","formControlName","InvoiceAmountB","autocomplete","off",1,"form-control",2,"display","none"],[2,"line-height","5px"],[3,"click"],["type","text","readonly","",3,"name","ngModel","ngModelOptions","ngModelChange"],["type","text",3,"name","ngModel","ngModelOptions","ngModelChange","keyup"],[1,"flex"],["type","number",3,"name","ngModel","ngModelOptions","ngModelChange","keyup"],["style","align-self: center;",4,"ngIf"],["type","number","readonly","",3,"name","ngModel","ngModelOptions","ngModelChange"],["title","",1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","w-10",2,"margin-inline-end","6px",3,"click"],[1,"fa-solid","fa-info"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[2,"align-self","center"],["type","text","autocomplete","off",3,"name","ngModel","ngModelOptions","ngModelChange"],["type","button ",1,"add-btn","mx-2",3,"disabled","click"],[1,"overflow-auto","mt-3"],[1,"min-w-max","overflow-hidden","rounded-t-lg","table","table-bordered","table-striped"],[1,"bg-base","text-white"],[1,"uppercase","text-center"],["id","tabledetails"],["class","text-black text-center",4,"ngFor","ngForOf"],[1,"text-black","text-center"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange","keyup"],["value","4"],["value","1"],["value","2"],["value","3"],[1,"bg-neutral-200","p-2","rounded-lg","aspect-square"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"p-2","rounded-lg","text-red-500","bg-red-50",3,"click"],[1,"fa-solid","fa-trash"],[1,"modal-header","text-white","flex","justify-between","items-center",2,"background-color","var(--base-color)"],[1,"m-0"],[1,"text-2xl"],["type","button",1,"text-2xl","text-white","m-0",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"flex","gap-2","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],[1,"btn","btn-secondary",3,"click"],["cdkDrag","",1,"example-box"],[1,"col-md-11",2,"font-size","20px"],["class","fa fa-xmark text-danger",4,"ngIf"],["class","fa fa-check text-success",4,"ngIf"],[1,"text-base","mx-2"],["class","serviceBtns",4,"ngIf"],[1,"fa","fa-xmark","text-danger"],[1,"fa","fa-check","text-success"],[1,"serviceBtns"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"modal-body",2,"overflow-y","scroll","max-height","600px"],[1,"w-full"],["matInput","",3,"keyup"],["input",""],[1,"table"],["mat-table","",1,"mat-elevation-z8","table","table-responsive","table-striped","table-bordered","text-center",2,"vertical-align","middle","font-size","14px",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"dblclick",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"text-end","mt-2"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"dblclick"],[1,"mat-row"],["colspan","4",1,"mat-cell"],["form","ngForm"],[1,"col-md-6","col-lg-3","mb-3"],["for","ContractAmount",1,"text-right","col-form-label","block"],["type","number","id","ContractValueinfo","name","ContractValueinfo","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-group","timeInput"],["name","PaymentStartDate","id","PaymentStartDate","type","text","bsDatepicker","","autocomplete","off",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["name","PaymentStartHijriDate","id","PaymentStartHijriDate","type","text","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","payment",1,"text-right","col-form-label","block"],["type","number","id","AdvancePayValue","name","AdvancePayValue","autocomplete","off",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"periority","mt-4","mb-2"],["aria-label","Select an option","name","georgianOrhigri",1,"flex","gap-4",3,"ngModel","ngModelOptions","ngModelChange"],["value","1",1,"text-warning"],["value","2",1,"text-success"],["aria-label","Select an option","name","PeriodPay",1,"flex","gap-4",3,"ngModel","ngModelOptions","ngModelChange"],["value","3",1,"text-danger"],["aria-label","Select an option","name","countwithPayment",1,"flex","gap-4",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-md-6","col-lg-4","mb-3"],["for","monthlyInstallment",1,"text-right","col-form-label","block"],["type","number","id","MonthlyPayVal","name","MonthlyPayVal","autocomplete","off",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange","keyup"],["for","numberOfInstallments",1,"text-right","col-form-label","block"],["type","number","id","PaymentCount","name","PaymentCount","autocomplete","off",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange","keyup"],["for","latestInstallment",1,"text-right","col-form-label","block"],["type","number","id","LastpayVal","name","LastpayVal","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"flex","gap-2","pt-3","border-t","border-neutral-300","justify-end"],[1,"btn","bg-base","text-white",3,"click"],[1,"flex","gap-2","justify-center"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","button","mat-raised-button","","color","basic",3,"click"]],template:function(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-stepper",2,3)(4,"mat-step",4),t.YNc(5,R,2,3,"ng-template",5),t.TgZ(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",12,13),t.qZA()(),t.TgZ(16,"div",9)(17,"div",10)(18,"label",14),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"input",15),t.NdJ("ngModelChange",function(r){return o.ChangeContractGre(r)}),t.qZA()()(),t.TgZ(22,"div",9)(23,"div",10)(24,"label",16),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"hijri-gregorian-datepicker",17),t.NdJ("selectedDateChange",function(r){return o.selectedHijriDate=r})("selectedDateChange",function(r){return o.ChangeContractHijri(r)}),t.ALo(28,"translate"),t.qZA()()(),t.TgZ(29,"div",18)(30,"div",10)(31,"label",19),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",20),t.qZA()(),t.TgZ(35,"div",21)(36,"div",10)(37,"label",22),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"ng-select",23,24),t.NdJ("change",function(){return o.GetEmployeeJob()}),t.ALo(42,"translate"),t.YNc(43,Q,2,2,"ng-option",25),t.qZA()()(),t.TgZ(44,"div",21)(45,"div",10)(46,"label",26),t._uU(47),t.ALo(48,"translate"),t.qZA(),t._UZ(49,"input",27),t.qZA()(),t.TgZ(50,"div",28)(51,"div",10)(52,"label",29),t._uU(53),t.ALo(54,"translate"),t.qZA(),t._UZ(55,"input",30),t.qZA()(),t.TgZ(56,"div",28)(57,"div",10)(58,"label",31),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._UZ(61,"input",32),t.qZA()(),t.TgZ(62,"div",18)(63,"div",10)(64,"label",33),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"ng-select",34),t.NdJ("change",function(){return o.ChangeCustomerSelect()}),t.ALo(68,"translate"),t.YNc(69,K,2,2,"ng-option",25),t.qZA()()(),t.TgZ(70,"div",21)(71,"div",10)(72,"label",35),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"ng-select",36),t.NdJ("change",function(){return o.GetInvoiceIDByProjectID()}),t.ALo(76,"translate"),t.YNc(77,Y,2,2,"ng-option",25),t.qZA()()(),t.TgZ(78,"div",21)(79,"div",10)(80,"label",37),t._uU(81),t.ALo(82,"translate"),t.qZA(),t._UZ(83,"input",38),t.qZA()(),t.TgZ(84,"div",21)(85,"label",39),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"div",40)(89,"div",41)(90,"input",42),t.NdJ("change",function(r){return o.setOfferPriceChecked(r)}),t.qZA(),t.TgZ(91,"div")(92,"span",43),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"span",43),t._uU(96),t.ALo(97,"translate"),t.qZA(),t._UZ(98,"div",44),t.qZA()()()(),t.YNc(99,tt,8,7,"div",45),t.qZA()(),t.TgZ(100,"div",46)(101,"button",47),t._uU(102),t.ALo(103,"translate"),t.qZA()(),t.TgZ(104,"p",48),t._uU(105),t.ALo(106,"translate"),t.qZA()()(),t.TgZ(107,"mat-step",4)(108,"form",6),t.YNc(109,et,2,3,"ng-template",5),t.TgZ(110,"div",49)(111,"div",50),t.YNc(112,ot,7,4,"div",51),t.TgZ(113,"h3",52),t._uU(114),t.ALo(115,"translate"),t.TgZ(116,"button",53),t.NdJ("click",function(){return o.addServiceContractNew()}),t._UZ(117,"i",54),t.qZA()(),t.TgZ(118,"div",55)(119,"table",56)(120,"thead",57)(121,"tr")(122,"th"),t._uU(123),t.ALo(124,"translate"),t.qZA(),t.TgZ(125,"th",58),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"th"),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"th"),t._uU(132),t.ALo(133,"translate"),t.qZA(),t.TgZ(134,"th"),t._uU(135),t.ALo(136,"translate"),t.qZA(),t.TgZ(137,"th"),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"th"),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"th"),t._uU(144),t.ALo(145,"translate"),t.qZA()()(),t.TgZ(146,"tbody"),t.YNc(147,it,26,28,"tr",59),t.qZA()()(),t.TgZ(148,"div",60)(149,"div",61)(150,"div",62)(151,"label",63),t._uU(152),t.ALo(153,"translate"),t.qZA()(),t.TgZ(154,"div",64)(155,"ng-select",65),t.NdJ("ngModelChange",function(r){return o.modalDetailsContractNew.taxtype=r})("change",function(){return o.CalculateTotal_ContractNew()}),t.ALo(156,"translate"),t.TgZ(157,"ng-option",66),t._uU(158),t.ALo(159,"translate"),t.qZA(),t.TgZ(160,"ng-option",66),t._uU(161),t.ALo(162,"translate"),t.qZA()()()(),t.TgZ(163,"div",61)(164,"div",67)(165,"div",62)(166,"label",68),t._uU(167),t.ALo(168,"translate"),t.qZA()(),t.TgZ(169,"div",64)(170,"input",69),t.NdJ("ngModelChange",function(r){return o.modalDetailsContractNew.total_amount=r}),t.qZA()()()(),t.TgZ(171,"div",61)(172,"div",67)(173,"div",62)(174,"label",70),t._uU(175),t.ALo(176,"translate"),t.qZA()(),t.TgZ(177,"div",64)(178,"input",71),t.NdJ("ngModelChange",function(r){return o.modalDetailsContractNew.total_amount_text=r}),t.qZA()()()()()(),t.TgZ(179,"div",50)(180,"h3",52),t._uU(181),t.ALo(182,"translate"),t.TgZ(183,"button",53),t.NdJ("click",function(){return o.addBand()}),t._UZ(184,"i",54),t.qZA()(),t.TgZ(185,"div",72)(186,"table",73)(187,"thead",57)(188,"tr")(189,"th"),t._uU(190),t.ALo(191,"translate"),t.qZA(),t.TgZ(192,"th"),t._uU(193),t.ALo(194,"translate"),t.qZA(),t.TgZ(195,"th"),t._uU(196),t.ALo(197,"translate"),t.qZA()()(),t.TgZ(198,"tbody"),t.YNc(199,lt,8,5,"tr",59),t.qZA()()()(),t.YNc(200,ct,30,23,"div",74),t.qZA(),t.TgZ(201,"div",75)(202,"button",76),t._uU(203),t.ALo(204,"translate"),t.qZA(),t.TgZ(205,"button",77),t.NdJ("click",function(){return o.GetProjectById()}),t._uU(206),t.ALo(207,"translate"),t.qZA()()()(),t.TgZ(208,"mat-step",4),t.YNc(209,dt,2,3,"ng-template",5),t._UZ(210,"div",49),t.TgZ(211,"div",50)(212,"h3",52),t._uU(213),t.ALo(214,"translate"),t.TgZ(215,"button",53),t.NdJ("click",function(){return o.addEmployee()}),t._UZ(216,"i",54),t.qZA()(),t.TgZ(217,"div",78)(218,"table",56)(219,"thead",57)(220,"tr")(221,"th"),t._uU(222),t.ALo(223,"translate"),t.qZA(),t.TgZ(224,"th"),t._uU(225),t.ALo(226,"translate"),t.qZA(),t.TgZ(227,"th"),t._uU(228),t.ALo(229,"translate"),t.qZA(),t.TgZ(230,"th"),t._uU(231),t.ALo(232,"translate"),t.qZA(),t.TgZ(233,"th"),t._uU(234),t.ALo(235,"translate"),t.qZA(),t.TgZ(236,"th"),t._uU(237),t.ALo(238,"translate"),t.qZA()()(),t.TgZ(239,"tbody"),t.YNc(240,pt,30,9,"tr",79),t.qZA()()()(),t.TgZ(241,"div",50)(242,"h3",52),t._uU(243),t.ALo(244,"translate"),t.qZA(),t.TgZ(245,"div",80)(246,"table",81)(247,"thead")(248,"tr"),t._UZ(249,"td",82)(250,"td",82)(251,"td",83)(252,"td",83),t.qZA()(),t.TgZ(253,"tbody")(254,"tr")(255,"td",84),t._uU(256),t.qZA(),t.TgZ(257,"td",84),t._uU(258),t.qZA(),t.TgZ(259,"td"),t._uU(260),t.qZA(),t.TgZ(261,"td",85),t._uU(262),t.qZA()()()()()(),t.TgZ(263,"div",86)(264,"button",76),t._uU(265),t.ALo(266,"translate"),t.qZA(),t.TgZ(267,"button",87),t.NdJ("click",function(){t.CHM(n);const r=t.MAs(3);return t.KtG(o.saveContractbtn(r))}),t._uU(268),t.ALo(269,"translate"),t.qZA()()(),t.TgZ(270,"mat-step",4),t.YNc(271,mt,2,3,"ng-template",5),t.TgZ(272,"div",49)(273,"div",88)(274,"mat-radio-group",89)(275,"div",90)(276,"mat-radio-button",91),t._uU(277),t.ALo(278,"translate"),t.qZA(),t.TgZ(279,"div",92)(280,"button",93),t._UZ(281,"i",94),t.qZA(),t.TgZ(282,"button",95),t._UZ(283,"i",96),t.qZA()()(),t.TgZ(284,"div",90)(285,"mat-radio-button",97),t._uU(286),t.ALo(287,"translate"),t.qZA(),t.TgZ(288,"div",92)(289,"button",93),t._UZ(290,"i",94),t.qZA(),t.TgZ(291,"button",95),t._UZ(292,"i",96),t.qZA()()()()()()()()()(),t.YNc(293,bt,14,8,"ng-template",null,98,t.W1O),t.YNc(295,St,29,12,"ng-template",null,99,t.W1O),t.YNc(297,wt,98,92,"ng-template",null,100,t.W1O),t.YNc(299,jt,9,9,"ng-template",null,101,t.W1O)}if(2&e){const n=t.MAs(15);t.xp6(4),t.Q6J("stepControl",o.FormGroup01),t.xp6(2),t.Q6J("formGroup",o.FormGroup01),t.xp6(6),t.hij(" ",t.lcZ(13,103,"contract number")," "),t.xp6(2),t.Gre("form-control ",null==n.value?"errorInput":"",""),t.xp6(5),t.hij(" ",t.lcZ(20,105,"Date of contract")," "),t.xp6(2),t.Q6J("bsConfig",t.DdM(209,L)),t.xp6(4),t.hij(" ",t.lcZ(26,107,"Contract date (Hijri) *")," "),t.xp6(2),t.Q6J("selectedDate",o.selectedHijriDate)("isRequired",!0)("hijriLabel","Hijri")("selectedDateType",o.selectedDateType)("dir",t.lcZ(28,109,"dir")),t.xp6(5),t.hij(" ",t.lcZ(33,111,"The first party / the name of the office")," "),t.xp6(6),t.hij(" ",t.lcZ(39,113,"and represents it"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(42,115,"Chose")),t.xp6(3),t.Q6J("ngForOf",o.LoadEmployeeSelect),t.xp6(4),t.hij(" ",t.lcZ(48,117,"as")," "),t.xp6(6),t.hij(" ",t.lcZ(54,119,"engineeringLicence")," "),t.xp6(6),t.hij(" ",t.lcZ(60,121,"IssuedOn*")," "),t.xp6(2),t.Q6J("bsConfig",t.DdM(210,L)),t.xp6(4),t.hij(" ",t.lcZ(66,123,"The second party / customer")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(68,125,"Chose")),t.xp6(2),t.Q6J("ngForOf",o.LoadCustomerSelectWProC),t.xp6(4),t.hij(" ",t.lcZ(74,127,"The project"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(76,129,"Chose")),t.xp6(2),t.Q6J("ngForOf",o.Loadprojects),t.xp6(4),t.hij(" ",t.lcZ(82,131,"ID Number")," "),t.xp6(5),t.hij(" ",t.lcZ(87,133,"Activate bid services")," "),t.xp6(5),t.Gre("box ",o.offerPriceChecked?"checked":"blur",""),t.xp6(2),t.Oqu(t.lcZ(94,135,"Yes")),t.xp6(3),t.Oqu(t.lcZ(97,137,"No")),t.xp6(3),t.Q6J("ngIf",o.offerPriceChecked),t.xp6(3),t.hij(" ",t.lcZ(103,139,"Next")," "),t.xp6(3),t.hij(" ",t.lcZ(106,141,"The second party: only clients who have projects appear")," "),t.xp6(2),t.Q6J("stepControl",o.FormGroup02),t.xp6(1),t.Q6J("formGroup",o.FormGroup02),t.xp6(4),t.Q6J("ngIf",o.ContractModalCustom.InvoiceNumDiv),t.xp6(2),t.hij(" ",t.lcZ(115,143,"services")," "),t.xp6(9),t.Oqu(t.lcZ(124,145,"ServiceNo")),t.xp6(3),t.Oqu(t.lcZ(127,147,"ServiceName")),t.xp6(3),t.Oqu(t.lcZ(130,149,"Unit")),t.xp6(3),t.Oqu(t.lcZ(133,151,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(136,153,"price")),t.xp6(3),t.Oqu(t.lcZ(139,155,"VATTax")),t.xp6(3),t.Oqu(t.lcZ(142,157,"netTax")),t.xp6(3),t.Oqu(t.lcZ(145,159,"action")),t.xp6(3),t.Q6J("ngForOf",o.ContractNewServices),t.xp6(5),t.hij(" ",t.lcZ(153,161,"tax type")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(156,163,"Chose")),t.Q6J("ngModel",o.modalDetailsContractNew.taxtype)("ngModelOptions",t.DdM(211,g))("clearable",!1),t.xp6(2),t.Q6J("value",2),t.xp6(1),t.Oqu(t.lcZ(159,165,"Excluding tax")),t.xp6(2),t.Q6J("value",3),t.xp6(1),t.Oqu(t.lcZ(162,167,"Taxes included")),t.xp6(6),t.hij(" ",t.lcZ(168,169,"Total amount")," "),t.xp6(3),t.Q6J("ngModel",o.modalDetailsContractNew.total_amount)("ngModelOptions",t.DdM(212,g)),t.xp6(5),t.hij(" ",t.lcZ(176,171,"total in writing")," "),t.xp6(3),t.Q6J("ngModel",o.modalDetailsContractNew.total_amount_text)("ngModelOptions",t.DdM(213,g)),t.xp6(3),t.hij(" ",t.lcZ(182,173,"Add a new item")," "),t.xp6(9),t.Oqu(t.lcZ(191,175,"no")),t.xp6(3),t.Oqu(t.lcZ(194,177,"clause")),t.xp6(3),t.Oqu(t.lcZ(197,179,"action")),t.xp6(3),t.Q6J("ngForOf",o.bands),t.xp6(1),t.Q6J("ngIf",2==(null==o.ContractModalCustom?null:o.ContractModalCustom.ContractType)),t.xp6(3),t.hij(" ",t.lcZ(204,181,"Previous")," "),t.xp6(3),t.hij(" ",t.lcZ(207,183,"Next")," "),t.xp6(2),t.Q6J("stepControl",o.FormGroup03),t.xp6(5),t.hij(" ",t.lcZ(214,185,"Add participant")," "),t.xp6(9),t.Oqu(t.lcZ(223,187,"EmployeeName")),t.xp6(3),t.Oqu(t.lcZ(226,189,"Duration")),t.xp6(3),t.Oqu(t.lcZ(229,191,"Employee percentage")),t.xp6(3),t.Oqu(t.lcZ(232,193,"employee salary")),t.xp6(3),t.Oqu(t.lcZ(235,195,"expected cost")),t.xp6(3),t.Oqu(t.lcZ(238,197,"operations")),t.xp6(3),t.Q6J("ngForOf",o.employees),t.xp6(3),t.hij(" ",t.lcZ(244,199,"Through the data and preliminary reading of the project")," "),t.xp6(6),t.Q6J("translate","name")("translateParams",t.DdM(214,Ot)),t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(215,Gt)),t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(216,Et)),t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(217,Lt)),t.xp6(4),t.Oqu(o.CalcData.FinalTable.projectTime),t.xp6(2),t.Oqu(o.CalcData.FinalTable.projectValue),t.xp6(2),t.Oqu(o.CalcData.FinalTable.projectCost),t.xp6(1),t.Q6J("ngStyle",t.VKq(218,qt,0==o.CalcData.FinalTable.projectStatusVal?"#ea9b9b":"#73c7af")),t.xp6(1),t.Oqu(o.CalcData.FinalTable.projectStatusName),t.xp6(3),t.hij(" ",t.lcZ(266,201,"Previous")," "),t.xp6(2),t.Q6J("disabled",o.disableButtonSave_Contract),t.xp6(1),t.hij(" ",t.lcZ(269,203,"confirem")," "),t.xp6(2),t.Q6J("stepControl",o.FormGroup04),t.xp6(7),t.Oqu(t.lcZ(278,205,"File Name")),t.xp6(9),t.Oqu(t.lcZ(287,207,"File Name"))}},dependencies:[w.sg,w.O5,w.PC,h._Y,h.YN,h.Kr,h.Fj,h.wV,h.Wl,h.EJ,h.JJ,h.JL,h.On,h.F,h.sg,h.u,S.Pi,W.Lv,z.lW,j.w9,j.jq,O.Np,O.Y5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,G.KE,G.hX,$.Nt,v.g4,E.VQ,E.U0,Z.C0,Z.VY,Z.Vq,Z.Ic,Z.fd,A.Wj,A.Zt,S.X$],styles:['.customer-contracts{padding-bottom:30px}.customer-contracts .inputType:focus{border:1 px solid grey!important;outline:none!important;border-radius:5px}.customer-contracts .inputType{border:1px solid rgb(206,212,218)!important;border-radius:5px}.customer-contracts .form-group input{color:var(--gray-color)}.customer-contracts .form-group input::placeholder{color:var(--gray-color);font-size:14px}.customer-contracts .form-group i{inset-inline-start:14px;top:50%;transform:translateY(-50%);color:var(--gray-color)}.customer-contracts .btns{margin-top:15px}.customer-contracts .btns button{padding:0 10px!important;min-width:max-content;min-height:max-content;margin:0 3px;border-radius:5px;font-size:14px;letter-spacing:.5px;height:40px;width:auto}::ng-deep .mat-paginator{width:100%}.stats{margin-bottom:0!important}.stats .stat{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;line-height:1.7em;margin-bottom:25px}.stats .stat i{font-size:40px;margin-bottom:10px;color:var(--base-color)}.stats .stat span.num{font-size:20px;font-weight:500;margin-bottom:5px}.stats .stat span.status{font-size:20px;font-weight:700;margin-bottom:0;color:var(--base-color)}.table .statusCell{min-width:250px;height:50px}.table .statusCell .from,.table .statusCell .to{display:flex;flex-direction:column;height:100%;align-items:start;justify-content:space-between}.table .statusCell .status{min-width:150px;height:25px;background-color:#b40000;border-radius:25px;display:flex;align-items:center;justify-content:center;color:#fff;padding:5px 0;font-size:13px}.endProject label{display:block;margin-bottom:20px}.endProject ::ng-deep .mat-radio-button{margin-inline-end:15px}.add-btn{width:32px;height:24px;border-radius:50%;background:var(--base-color);color:#fff;display:flex;align-items:center;justify-content:center;font-size:13px;margin-inline-start:20px}.bg-red-100{background-color:rgb(254 226 226/var(--tw-bg-opacity))!important}.bg-red-100:hover{background-color:rgb(239 68 68/var(--tw-bg-opacity))!important;color:#fff!important}.mat-progress-bar{height:15px}::ng-deep .mat-progress-bar-fill :after{background-color:var(--base-color)!important}.checkbox .checkbox-content input.inputType{border:1px solid red!important}.checkbox .checkbox-content .box span{color:#444;font-size:9px;font-weight:700;letter-spacing:unset;word-wrap:break-word;top:50%;transform:translateY(-50%);max-width:50%}textarea{border:1px solid #ccc;padding:15px}textarea:focus-visible{outline:none}::ng-deep .datatable-row-wrapper{padding:7px 0}::ng-deep .datatable-header-cell,::ng-deep .datatable-body-cell{display:flex!important;align-items:center;justify-content:center;text-align:center}::ng-deep .actions{width:100px;display:flex;justify-content:space-evenly}::ng-deep .actions i{font-size:18px;cursor:pointer}.statusCell{min-width:250px;height:50px}.statusCell .from,.statusCell .to{display:flex;flex-direction:column;height:100%;align-items:start;justify-content:space-between}.statusCell .status{min-width:150px;height:25px;background-color:#b40000;border-radius:25px;display:flex;align-items:center;justify-content:center;color:#fff;padding:5px 0;font-size:13px}.child{display:none}.child.show{position:absolute;width:max-content;inset:unset!important;transform:unset!important;right:unset!important;left:unset!important;inset-inline-end:25px!important;background:#fff;padding:10px;border-radius:5px;box-shadow:0 0 1px 1px #ccc;z-index:50;display:flex}.child button{margin:0 3px}.btnSuccess,.marginTop{margin-top:36px!important}.offers-price{padding-bottom:30px}.offers-price .form-group input{color:var(--gray-color)}.offers-price .form-group input::placeholder{color:var(--gray-color);font-size:14px}.offers-price .form-group i{inset-inline-start:14px;top:50%;transform:translateY(-50%);color:var(--gray-color)}.offers-price .btns{margin-top:15px}.offers-price .btns button{padding:0 10px!important;min-width:max-content;min-height:max-content;margin:0 3px;border-radius:5px;font-size:14px;letter-spacing:.5px;height:40px}.offers-price .timeLine{margin-block:50px 25px}.offers-price .timeLine ul{width:100%;margin:0;display:flex;align-items:center;justify-content:space-between;position:relative;flex-wrap:wrap}@media (max-width: 575px){.offers-price .timeLine ul{flex-direction:column;justify-content:center;align-items:center}}.offers-price .timeLine ul:after{content:"";position:absolute;width:94%;height:5px;background-color:var(--base-color);inset-inline-end:3%;top:14px;z-index:1}@media (max-width: 575px){.offers-price .timeLine ul:after{display:none}}.offers-price .timeLine ul li{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:25px}.offers-price .timeLine ul li span:first-of-type{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;background-color:var(--gray-bg-color);color:#000;margin-bottom:10px;font-size:13px;box-shadow:0 0 1px 1px #afafaf}.offers-price .timeLine ul li span:last-of-type{color:var(--base-color);font-size:14px;font-weight:700}::ng-deep .mat-paginator-container{justify-content:space-between!important;padding:15px 10px 0!important}::ng-deep .mat-paginator-range-actions{direction:inherit!important}::ng-deep .mat-paginator-range-label{direction:initial}.modal-form{max-height:65vh;overflow:auto;padding:.5rem}.modal-form>div{display:grid;gap:1rem}@media (min-width: 768px){.modal-form>div{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1024px){.modal-form>div{grid-template-columns:repeat(4,minmax(0,1fr))}}.modal-form hr{margin-top:.75rem;margin-bottom:.75rem}.checkbox{display:flex;align-items:center;justify-content:center;margin:0}.checkbox .checkbox-content{width:60px;height:30px;border-radius:50px}.checkbox .checkbox-content input{position:absolute;width:100%;height:100%;top:50%;transform:translateY(-50%);opacity:0;z-index:2;cursor:pointer;inset-inline-start:0}.checkbox .checkbox-content .box{display:flex;align-items:center;width:100%;height:100%;border-radius:50px;background-color:var(--gray-bg-color);cursor:pointer;position:absolute;z-index:1;transition:all .4s ease-in-out;box-shadow:0 0 1px 1px #e3e3e3;filter:none!important}.checkbox .checkbox-content .box span{color:#444;font-size:9px;font-weight:700;letter-spacing:unset;top:50%;transform:translateY(-50%)}.checkbox .checkbox-content .box span:first-of-type{left:4px}.checkbox .checkbox-content .box span:last-of-type{right:4px}.checkbox .checkbox-content .box .cycle{width:26px;height:26px;margin:0 2px;border-radius:50%;transition:all .4s ease-in-out;background:var(--base-color)}.checkbox .checkbox-content .box .cycle:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:700;letter-spacing:1px}.checkbox .checkbox-content .box.checked .cycle{transform:translate(-110%)!important}.checkbox .checkbox-content .box.blur .cycle{transform:translate(-10%)!important}.checkbox p{margin-bottom:10px;letter-spacing:1px}.area-btn{font-size:14px!important;letter-spacing:.5px}.editable input:not([type=checkbox]){width:100%;height:100%;background:transparent;text-align:center;appearance:none;-webkit-appearance:none}.editable input:not([type=checkbox]):focus-visible{outline:none}.add-btn{width:30px;height:30px;border-radius:50%;background:var(--base-color);color:#fff;display:flex;align-items:center;justify-content:center;font-size:18px}.percent{top:50%;transform:translateY(-50%);inset-inline-end:30px;font-weight:600;font-size:16px}.service_item_details li{display:flex;align-items:center;font-size:20px;padding:10px 15px}.service_item_details li:nth-of-type(odd){background:#f3f3f3}.service_item_details li span{font-size:21px;text-transform:capitalize}.box{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.box div{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.box div label{min-width:160px;text-align:start;padding:5px 16px}.box div input{width:100%;text-align:center}.box div input:focus-visible{outline:none}.priceOffer{margin-bottom:43px!important}.priceOfferInput{bottom:10px!important}.boxContainer{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 20px}.boxContainer div{display:flex;margin-bottom:5px}.boxContainer div input:focus-visible{outline:none}::ng-deep .ng-select.ng-select-single .ng-select-container .ng-value-container,::ng-deep .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{overflow:visible!important}::ng-deep .ngb-dp-header{direction:initial}::ng-deep .track-projects .dropdown-menu{min-width:274px;width:max-content;direction:initial}::ng-deep .requiredInput{display:none!important}::ng-deep .input-group .btn{display:none!important}::ng-deep ngb-dp-header{direction:initial}::ng-deep .ngb-dp-week{min-width:280px}::ng-deep .ngb-dp-day,::ng-deep .ngb-dp-weekday,::ng-deep .ngb-dp-week-number{flex:1;color:var(--base-color)!important}.box-info{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px;padding-top:20px}.box-info div{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px;gap:8px}.box-info div .ng-select{text-align:center}.box-info div label{min-width:140px;text-align:center}.box-info div input{width:100%;text-align:center}.box-info div input:focus-visible{outline:none}.ng-select,.form-control{width:100%}.errorInput{border-color:red}.errorInput::placeholder{color:red}.errorInput .ng-placeholder{color:red}.offerPrice-service_item_details li{display:flex;align-items:center;font-size:20px;padding:10px 15px}.offerPrice-service_item_details li:nth-of-type(odd){background:#f3f3f3}.offerPrice-service_item_details li span{font-size:21px;text-transform:capitalize}.example-list{max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.example-box{padding:6px 4px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.example-box.cdk-drag-disabled{background:#ccc;cursor:not-allowed;-webkit-user-select:none;user-select:none}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box:last-child{border:none}.example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}\n'],encapsulation:2}),i})()}}]);